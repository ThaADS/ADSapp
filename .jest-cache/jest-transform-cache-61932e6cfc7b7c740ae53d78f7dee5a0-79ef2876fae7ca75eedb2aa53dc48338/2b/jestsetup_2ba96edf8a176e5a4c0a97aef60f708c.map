{"version":3,"sources":["C:\\Ai Projecten\\ADSapp\\jest.setup.js"],"sourcesContent":["import '@testing-library/jest-dom'\n\n// =============================================================================\n// Console Mocking (suppress expected warnings in tests)\n// =============================================================================\n\nconst originalError = console.error\nconst originalWarn = console.warn\n\nbeforeAll(() => {\n  console.error = (...args) => {\n    if (\n      typeof args[0] === 'string' &&\n      (args[0].includes('Warning: ReactDOM.render') ||\n        args[0].includes('Warning: useLayoutEffect') ||\n        args[0].includes('Not implemented: HTMLFormElement.prototype.submit'))\n    ) {\n      return\n    }\n    originalError.call(console, ...args)\n  }\n\n  console.warn = (...args) => {\n    if (\n      typeof args[0] === 'string' &&\n      args[0].includes('Warning: An update to')\n    ) {\n      return\n    }\n    originalWarn.call(console, ...args)\n  }\n})\n\nafterAll(() => {\n  console.error = originalError\n  console.warn = originalWarn\n})\n\n// =============================================================================\n// Test Cleanup\n// =============================================================================\n\nafterEach(() => {\n  jest.clearAllMocks()\n})\n\n// =============================================================================\n// Next.js Mocking\n// =============================================================================\n\n// Mock Next.js router\njest.mock('next/navigation', () => ({\n  useRouter: () => ({\n    push: jest.fn(),\n    replace: jest.fn(),\n    prefetch: jest.fn(),\n    back: jest.fn(),\n    forward: jest.fn(),\n    refresh: jest.fn(),\n  }),\n  useSearchParams: () => ({\n    get: jest.fn(),\n  }),\n  usePathname: () => '/dashboard',\n}))\n\n// Mock Supabase client\njest.mock('@/lib/supabase/client', () => ({\n  createClient: () => ({\n    auth: {\n      getUser: jest.fn().mockResolvedValue({ data: { user: null }, error: null }),\n      signOut: jest.fn().mockResolvedValue({ error: null }),\n    },\n    from: jest.fn(() => ({\n      select: jest.fn().mockReturnThis(),\n      insert: jest.fn().mockReturnThis(),\n      update: jest.fn().mockReturnThis(),\n      delete: jest.fn().mockReturnThis(),\n      eq: jest.fn().mockReturnThis(),\n      single: jest.fn().mockResolvedValue({ data: null, error: null }),\n    })),\n  }),\n}))\n\n// Mock Supabase server client\njest.mock('@/lib/supabase/server', () => ({\n  createClient: () => ({\n    auth: {\n      getUser: jest.fn().mockResolvedValue({ data: { user: null }, error: null }),\n    },\n    from: jest.fn(() => ({\n      select: jest.fn().mockReturnThis(),\n      insert: jest.fn().mockReturnThis(),\n      update: jest.fn().mockReturnThis(),\n      delete: jest.fn().mockReturnThis(),\n      eq: jest.fn().mockReturnThis(),\n      single: jest.fn().mockResolvedValue({ data: null, error: null }),\n    })),\n  }),\n}))\n\n// Mock window.location\nObject.defineProperty(window, 'location', {\n  value: {\n    href: '',\n    assign: jest.fn(),\n    replace: jest.fn(),\n    reload: jest.fn(),\n  },\n  writable: true,\n})\n\n// =============================================================================\n// Next.js Web API Mocking (Request/Response for API tests)\n// =============================================================================\n\n// Mock fetch API globally\nglobal.fetch = jest.fn(() =>\n  Promise.resolve({\n    ok: true,\n    json: async () => ({}),\n    text: async () => '',\n    status: 200,\n    statusText: 'OK',\n    headers: new Headers(),\n  })\n)\n\n// Mock Request and Response for Next.js API routes\nif (typeof Request === 'undefined') {\n  global.Request = class Request {\n    constructor(input, init) {\n      this.url = typeof input === 'string' ? input : input.url\n      this.method = init?.method || 'GET'\n      this.headers = new Headers(init?.headers || {})\n      this.body = init?.body || null\n      this._bodyInit = init?.body\n    }\n\n    async json() {\n      return this._bodyInit ? JSON.parse(this._bodyInit) : {}\n    }\n\n    async text() {\n      return this._bodyInit || ''\n    }\n\n    clone() {\n      return new Request(this.url, {\n        method: this.method,\n        headers: this.headers,\n        body: this._bodyInit,\n      })\n    }\n  }\n}\n\nif (typeof Response === 'undefined') {\n  global.Response = class Response {\n    constructor(body, init) {\n      this.body = body\n      this.status = init?.status || 200\n      this.statusText = init?.statusText || 'OK'\n      this.headers = new Headers(init?.headers || {})\n      this.ok = this.status >= 200 && this.status < 300\n    }\n\n    async json() {\n      return typeof this.body === 'string' ? JSON.parse(this.body) : this.body\n    }\n\n    async text() {\n      return typeof this.body === 'string' ? this.body : JSON.stringify(this.body)\n    }\n\n    clone() {\n      return new Response(this.body, {\n        status: this.status,\n        statusText: this.statusText,\n        headers: this.headers,\n      })\n    }\n\n    static json(data, init) {\n      return new Response(JSON.stringify(data), {\n        ...init,\n        headers: {\n          'Content-Type': 'application/json',\n          ...init?.headers,\n        },\n      })\n    }\n  }\n}\n\nif (typeof Headers === 'undefined') {\n  global.Headers = class Headers {\n    constructor(init) {\n      this._headers = {}\n      if (init) {\n        Object.entries(init).forEach(([key, value]) => {\n          this._headers[key.toLowerCase()] = value\n        })\n      }\n    }\n\n    get(name) {\n      return this._headers[name.toLowerCase()] || null\n    }\n\n    set(name, value) {\n      this._headers[name.toLowerCase()] = value\n    }\n\n    has(name) {\n      return name.toLowerCase() in this._headers\n    }\n\n    delete(name) {\n      delete this._headers[name.toLowerCase()]\n    }\n\n    entries() {\n      return Object.entries(this._headers)\n    }\n\n    keys() {\n      return Object.keys(this._headers)\n    }\n\n    values() {\n      return Object.values(this._headers)\n    }\n\n    forEach(callback) {\n      Object.entries(this._headers).forEach(([key, value]) => callback(value, key, this))\n    }\n  }\n}"],"names":["jest","mock","useRouter","push","fn","replace","prefetch","back","forward","refresh","useSearchParams","get","usePathname","createClient","auth","getUser","mockResolvedValue","data","user","error","signOut","from","select","mockReturnThis","insert","update","delete","eq","single","originalError","console","originalWarn","warn","beforeAll","args","includes","call","afterAll","afterEach","clearAllMocks","Object","defineProperty","window","value","href","assign","reload","writable","global","fetch","Promise","resolve","ok","json","text","status","statusText","headers","Headers","Request","input","init","url","method","body","_bodyInit","JSON","parse","clone","Response","stringify","_headers","entries","forEach","key","toLowerCase","name","set","has","keys","values","callback"],"mappings":"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"}