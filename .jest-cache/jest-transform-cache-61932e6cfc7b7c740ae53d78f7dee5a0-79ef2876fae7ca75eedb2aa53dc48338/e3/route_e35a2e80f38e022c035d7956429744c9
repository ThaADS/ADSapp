2ea912fb1cf85d5084acfa6855599771
"use strict";

/* istanbul ignore next */
function cov_zywa989km() {
  var path = "C:\\Ai Projecten\\ADSapp\\src\\app\\api\\templates\\sync\\route.ts";
  var hash = "2047368d85fc94e369c5d6842bcdfe1b983eda55";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Ai Projecten\\ADSapp\\src\\app\\api\\templates\\sync\\route.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "2": {
        start: {
          line: 6,
          column: 24
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "3": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 18,
          column: 3
        }
      },
      "4": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 19
        }
      },
      "5": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 20
        }
      },
      "6": {
        start: {
          line: 19,
          column: 16
        },
        end: {
          line: 19,
          column: 38
        }
      },
      "7": {
        start: {
          line: 20,
          column: 18
        },
        end: {
          line: 20,
          column: 54
        }
      },
      "8": {
        start: {
          line: 21,
          column: 24
        },
        end: {
          line: 21,
          column: 75
        }
      },
      "9": {
        start: {
          line: 22,
          column: 17
        },
        end: {
          line: 22,
          column: 59
        }
      },
      "10": {
        start: {
          line: 24,
          column: 4
        },
        end: {
          line: 133,
          column: 5
        }
      },
      "11": {
        start: {
          line: 25,
          column: 21
        },
        end: {
          line: 25,
          column: 68
        }
      },
      "12": {
        start: {
          line: 26,
          column: 24
        },
        end: {
          line: 26,
          column: 73
        }
      },
      "13": {
        start: {
          line: 27,
          column: 25
        },
        end: {
          line: 27,
          column: 59
        }
      },
      "14": {
        start: {
          line: 29,
          column: 30
        },
        end: {
          line: 29,
          column: 171
        }
      },
      "15": {
        start: {
          line: 30,
          column: 8
        },
        end: {
          line: 36,
          column: 9
        }
      },
      "16": {
        start: {
          line: 31,
          column: 12
        },
        end: {
          line: 35,
          column: 15
        }
      },
      "17": {
        start: {
          line: 37,
          column: 31
        },
        end: {
          line: 37,
          column: 100
        }
      },
      "18": {
        start: {
          line: 39,
          column: 34
        },
        end: {
          line: 39,
          column: 101
        }
      },
      "19": {
        start: {
          line: 41,
          column: 44
        },
        end: {
          line: 41,
          column: 183
        }
      },
      "20": {
        start: {
          line: 42,
          column: 36
        },
        end: {
          line: 45,
          column: 15
        }
      },
      "21": {
        start: {
          line: 42,
          column: 79
        },
        end: {
          line: 45,
          column: 13
        }
      },
      "22": {
        start: {
          line: 46,
          column: 24
        },
        end: {
          line: 51,
          column: 9
        }
      },
      "23": {
        start: {
          line: 53,
          column: 8
        },
        end: {
          line: 102,
          column: 9
        }
      },
      "24": {
        start: {
          line: 54,
          column: 12
        },
        end: {
          line: 101,
          column: 13
        }
      },
      "25": {
        start: {
          line: 55,
          column: 41
        },
        end: {
          line: 55,
          column: 85
        }
      },
      "26": {
        start: {
          line: 56,
          column: 37
        },
        end: {
          line: 66,
          column: 17
        }
      },
      "27": {
        start: {
          line: 67,
          column: 16
        },
        end: {
          line: 88,
          column: 17
        }
      },
      "28": {
        start: {
          line: 69,
          column: 61
        },
        end: {
          line: 72,
          column: 70
        }
      },
      "29": {
        start: {
          line: 73,
          column: 20
        },
        end: {
          line: 75,
          column: 21
        }
      },
      "30": {
        start: {
          line: 74,
          column: 24
        },
        end: {
          line: 74,
          column: 36
        }
      },
      "31": {
        start: {
          line: 76,
          column: 20
        },
        end: {
          line: 76,
          column: 58
        }
      },
      "32": {
        start: {
          line: 79,
          column: 57
        },
        end: {
          line: 83,
          column: 40
        }
      },
      "33": {
        start: {
          line: 84,
          column: 20
        },
        end: {
          line: 86,
          column: 21
        }
      },
      "34": {
        start: {
          line: 85,
          column: 24
        },
        end: {
          line: 85,
          column: 36
        }
      },
      "35": {
        start: {
          line: 87,
          column: 20
        },
        end: {
          line: 87,
          column: 54
        }
      },
      "36": {
        start: {
          line: 89,
          column: 16
        },
        end: {
          line: 93,
          column: 19
        }
      },
      "37": {
        start: {
          line: 95,
          column: 16
        },
        end: {
          line: 95,
          column: 87
        }
      },
      "38": {
        start: {
          line: 96,
          column: 16
        },
        end: {
          line: 100,
          column: 19
        }
      },
      "39": {
        start: {
          line: 104,
          column: 36
        },
        end: {
          line: 104,
          column: 77
        }
      },
      "40": {
        start: {
          line: 104,
          column: 71
        },
        end: {
          line: 104,
          column: 75
        }
      },
      "41": {
        start: {
          line: 105,
          column: 33
        },
        end: {
          line: 105,
          column: 146
        }
      },
      "42": {
        start: {
          line: 105,
          column: 71
        },
        end: {
          line: 105,
          column: 145
        }
      },
      "43": {
        start: {
          line: 107,
          column: 8
        },
        end: {
          line: 113,
          column: 9
        }
      },
      "44": {
        start: {
          line: 108,
          column: 12
        },
        end: {
          line: 112,
          column: 44
        }
      },
      "45": {
        start: {
          line: 114,
          column: 8
        },
        end: {
          line: 129,
          column: 11
        }
      },
      "46": {
        start: {
          line: 124,
          column: 57
        },
        end: {
          line: 128,
          column: 17
        }
      },
      "47": {
        start: {
          line: 131,
          column: 8
        },
        end: {
          line: 131,
          column: 53
        }
      },
      "48": {
        start: {
          line: 132,
          column: 8
        },
        end: {
          line: 132,
          column: 57
        }
      },
      "49": {
        start: {
          line: 136,
          column: 4
        },
        end: {
          line: 208,
          column: 5
        }
      },
      "50": {
        start: {
          line: 137,
          column: 21
        },
        end: {
          line: 137,
          column: 68
        }
      },
      "51": {
        start: {
          line: 138,
          column: 24
        },
        end: {
          line: 138,
          column: 73
        }
      },
      "52": {
        start: {
          line: 139,
          column: 25
        },
        end: {
          line: 139,
          column: 59
        }
      },
      "53": {
        start: {
          line: 141,
          column: 30
        },
        end: {
          line: 141,
          column: 148
        }
      },
      "54": {
        start: {
          line: 142,
          column: 8
        },
        end: {
          line: 148,
          column: 9
        }
      },
      "55": {
        start: {
          line: 143,
          column: 12
        },
        end: {
          line: 147,
          column: 15
        }
      },
      "56": {
        start: {
          line: 149,
          column: 31
        },
        end: {
          line: 149,
          column: 100
        }
      },
      "57": {
        start: {
          line: 151,
          column: 34
        },
        end: {
          line: 151,
          column: 101
        }
      },
      "58": {
        start: {
          line: 153,
          column: 38
        },
        end: {
          line: 153,
          column: 177
        }
      },
      "59": {
        start: {
          line: 154,
          column: 27
        },
        end: {
          line: 164,
          column: 9
        }
      },
      "60": {
        start: {
          line: 165,
          column: 30
        },
        end: {
          line: 168,
          column: 15
        }
      },
      "61": {
        start: {
          line: 165,
          column: 67
        },
        end: {
          line: 168,
          column: 13
        }
      },
      "62": {
        start: {
          line: 170,
          column: 8
        },
        end: {
          line: 188,
          column: 9
        }
      },
      "63": {
        start: {
          line: 171,
          column: 31
        },
        end: {
          line: 171,
          column: 69
        }
      },
      "64": {
        start: {
          line: 172,
          column: 12
        },
        end: {
          line: 187,
          column: 13
        }
      },
      "65": {
        start: {
          line: 173,
          column: 16
        },
        end: {
          line: 177,
          column: 19
        }
      },
      "66": {
        start: {
          line: 178,
          column: 16
        },
        end: {
          line: 178,
          column: 44
        }
      },
      "67": {
        start: {
          line: 179,
          column: 19
        },
        end: {
          line: 187,
          column: 13
        }
      },
      "68": {
        start: {
          line: 180,
          column: 16
        },
        end: {
          line: 185,
          column: 19
        }
      },
      "69": {
        start: {
          line: 186,
          column: 16
        },
        end: {
          line: 186,
          column: 44
        }
      },
      "70": {
        start: {
          line: 190,
          column: 36
        },
        end: {
          line: 190,
          column: 77
        }
      },
      "71": {
        start: {
          line: 190,
          column: 71
        },
        end: {
          line: 190,
          column: 75
        }
      },
      "72": {
        start: {
          line: 191,
          column: 8
        },
        end: {
          line: 200,
          column: 9
        }
      },
      "73": {
        start: {
          line: 192,
          column: 12
        },
        end: {
          line: 199,
          column: 13
        }
      },
      "74": {
        start: {
          line: 193,
          column: 16
        },
        end: {
          line: 197,
          column: 19
        }
      },
      "75": {
        start: {
          line: 198,
          column: 16
        },
        end: {
          line: 198,
          column: 44
        }
      },
      "76": {
        start: {
          line: 201,
          column: 8
        },
        end: {
          line: 204,
          column: 11
        }
      },
      "77": {
        start: {
          line: 206,
          column: 8
        },
        end: {
          line: 206,
          column: 60
        }
      },
      "78": {
        start: {
          line: 207,
          column: 8
        },
        end: {
          line: 207,
          column: 57
        }
      },
      "79": {
        start: {
          line: 211,
          column: 4
        },
        end: {
          line: 222,
          column: 5
        }
      },
      "80": {
        start: {
          line: 213,
          column: 27
        },
        end: {
          line: 213,
          column: 60
        }
      },
      "81": {
        start: {
          line: 214,
          column: 30
        },
        end: {
          line: 214,
          column: 69
        }
      },
      "82": {
        start: {
          line: 214,
          column: 51
        },
        end: {
          line: 214,
          column: 68
        }
      },
      "83": {
        start: {
          line: 215,
          column: 8
        },
        end: {
          line: 217,
          column: 9
        }
      },
      "84": {
        start: {
          line: 216,
          column: 12
        },
        end: {
          line: 216,
          column: 38
        }
      },
      "85": {
        start: {
          line: 218,
          column: 8
        },
        end: {
          line: 218,
          column: 60
        }
      },
      "86": {
        start: {
          line: 220,
          column: 8
        },
        end: {
          line: 220,
          column: 67
        }
      },
      "87": {
        start: {
          line: 221,
          column: 8
        },
        end: {
          line: 221,
          column: 35
        }
      },
      "88": {
        start: {
          line: 225,
          column: 4
        },
        end: {
          line: 246,
          column: 5
        }
      },
      "89": {
        start: {
          line: 226,
          column: 26
        },
        end: {
          line: 226,
          column: 28
        }
      },
      "90": {
        start: {
          line: 227,
          column: 27
        },
        end: {
          line: 227,
          column: 60
        }
      },
      "91": {
        start: {
          line: 228,
          column: 8
        },
        end: {
          line: 241,
          column: 9
        }
      },
      "92": {
        start: {
          line: 229,
          column: 12
        },
        end: {
          line: 240,
          column: 13
        }
      },
      "93": {
        start: {
          line: 231,
          column: 33
        },
        end: {
          line: 231,
          column: 53
        }
      },
      "94": {
        start: {
          line: 232,
          column: 32
        },
        end: {
          line: 232,
          column: 70
        }
      },
      "95": {
        start: {
          line: 233,
          column: 16
        },
        end: {
          line: 239,
          column: 19
        }
      },
      "96": {
        start: {
          line: 234,
          column: 20
        },
        end: {
          line: 238,
          column: 23
        }
      },
      "97": {
        start: {
          line: 242,
          column: 8
        },
        end: {
          line: 242,
          column: 25
        }
      },
      "98": {
        start: {
          line: 244,
          column: 8
        },
        end: {
          line: 244,
          column: 69
        }
      },
      "99": {
        start: {
          line: 245,
          column: 8
        },
        end: {
          line: 245,
          column: 18
        }
      },
      "100": {
        start: {
          line: 249,
          column: 21
        },
        end: {
          line: 251,
          column: 24
        }
      },
      "101": {
        start: {
          line: 252,
          column: 4
        },
        end: {
          line: 252,
          column: 36
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 16
          }
        },
        loc: {
          start: {
            line: 5,
            column: 30
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 5
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 4
          },
          end: {
            line: 12,
            column: 5
          }
        },
        loc: {
          start: {
            line: 12,
            column: 15
          },
          end: {
            line: 14,
            column: 5
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 16
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "3": {
        name: "POST",
        decl: {
          start: {
            line: 23,
            column: 15
          },
          end: {
            line: 23,
            column: 19
          }
        },
        loc: {
          start: {
            line: 23,
            column: 29
          },
          end: {
            line: 134,
            column: 1
          }
        },
        line: 23
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 42,
            column: 74
          },
          end: {
            line: 42,
            column: 75
          }
        },
        loc: {
          start: {
            line: 42,
            column: 79
          },
          end: {
            line: 45,
            column: 13
          }
        },
        line: 42
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 104,
            column: 66
          },
          end: {
            line: 104,
            column: 67
          }
        },
        loc: {
          start: {
            line: 104,
            column: 71
          },
          end: {
            line: 104,
            column: 75
          }
        },
        line: 104
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 105,
            column: 66
          },
          end: {
            line: 105,
            column: 67
          }
        },
        loc: {
          start: {
            line: 105,
            column: 71
          },
          end: {
            line: 105,
            column: 145
          }
        },
        line: 105
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 124,
            column: 51
          },
          end: {
            line: 124,
            column: 52
          }
        },
        loc: {
          start: {
            line: 124,
            column: 57
          },
          end: {
            line: 128,
            column: 17
          }
        },
        line: 124
      },
      "8": {
        name: "GET",
        decl: {
          start: {
            line: 135,
            column: 15
          },
          end: {
            line: 135,
            column: 18
          }
        },
        loc: {
          start: {
            line: 135,
            column: 28
          },
          end: {
            line: 209,
            column: 1
          }
        },
        line: 135
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 165,
            column: 62
          },
          end: {
            line: 165,
            column: 63
          }
        },
        loc: {
          start: {
            line: 165,
            column: 67
          },
          end: {
            line: 168,
            column: 13
          }
        },
        line: 165
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 190,
            column: 66
          },
          end: {
            line: 190,
            column: 67
          }
        },
        loc: {
          start: {
            line: 190,
            column: 71
          },
          end: {
            line: 190,
            column: 75
          }
        },
        line: 190
      },
      "11": {
        name: "extractTemplateContent",
        decl: {
          start: {
            line: 210,
            column: 9
          },
          end: {
            line: 210,
            column: 31
          }
        },
        loc: {
          start: {
            line: 210,
            column: 50
          },
          end: {
            line: 223,
            column: 1
          }
        },
        line: 210
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 214,
            column: 46
          },
          end: {
            line: 214,
            column: 47
          }
        },
        loc: {
          start: {
            line: 214,
            column: 51
          },
          end: {
            line: 214,
            column: 68
          }
        },
        line: 214
      },
      "13": {
        name: "extractTemplateVariables",
        decl: {
          start: {
            line: 224,
            column: 9
          },
          end: {
            line: 224,
            column: 33
          }
        },
        loc: {
          start: {
            line: 224,
            column: 52
          },
          end: {
            line: 247,
            column: 1
          }
        },
        line: 224
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 233,
            column: 32
          },
          end: {
            line: 233,
            column: 33
          }
        },
        loc: {
          start: {
            line: 233,
            column: 48
          },
          end: {
            line: 239,
            column: 17
          }
        },
        line: 233
      },
      "15": {
        name: "getLastSyncTime",
        decl: {
          start: {
            line: 248,
            column: 15
          },
          end: {
            line: 248,
            column: 30
          }
        },
        loc: {
          start: {
            line: 248,
            column: 57
          },
          end: {
            line: 253,
            column: 1
          }
        },
        line: 248
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 30,
            column: 8
          },
          end: {
            line: 36,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 30,
            column: 8
          },
          end: {
            line: 36,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 30
      },
      "1": {
        loc: {
          start: {
            line: 30,
            column: 12
          },
          end: {
            line: 30,
            column: 77
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 30,
            column: 12
          },
          end: {
            line: 30,
            column: 46
          }
        }, {
          start: {
            line: 30,
            column: 50
          },
          end: {
            line: 30,
            column: 77
          }
        }],
        line: 30
      },
      "2": {
        loc: {
          start: {
            line: 42,
            column: 45
          },
          end: {
            line: 42,
            column: 68
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 42,
            column: 45
          },
          end: {
            line: 42,
            column: 62
          }
        }, {
          start: {
            line: 42,
            column: 66
          },
          end: {
            line: 42,
            column: 68
          }
        }],
        line: 42
      },
      "3": {
        loc: {
          start: {
            line: 59,
            column: 30
          },
          end: {
            line: 59,
            column: 68
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 59,
            column: 30
          },
          end: {
            line: 59,
            column: 55
          }
        }, {
          start: {
            line: 59,
            column: 59
          },
          end: {
            line: 59,
            column: 68
          }
        }],
        line: 59
      },
      "4": {
        loc: {
          start: {
            line: 67,
            column: 16
          },
          end: {
            line: 88,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 67,
            column: 16
          },
          end: {
            line: 88,
            column: 17
          }
        }, {
          start: {
            line: 77,
            column: 23
          },
          end: {
            line: 88,
            column: 17
          }
        }],
        line: 67
      },
      "5": {
        loc: {
          start: {
            line: 73,
            column: 20
          },
          end: {
            line: 75,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 73,
            column: 20
          },
          end: {
            line: 75,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 73
      },
      "6": {
        loc: {
          start: {
            line: 84,
            column: 20
          },
          end: {
            line: 86,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 84,
            column: 20
          },
          end: {
            line: 86,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 84
      },
      "7": {
        loc: {
          start: {
            line: 105,
            column: 34
          },
          end: {
            line: 105,
            column: 57
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 105,
            column: 34
          },
          end: {
            line: 105,
            column: 51
          }
        }, {
          start: {
            line: 105,
            column: 55
          },
          end: {
            line: 105,
            column: 57
          }
        }],
        line: 105
      },
      "8": {
        loc: {
          start: {
            line: 105,
            column: 71
          },
          end: {
            line: 105,
            column: 145
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 105,
            column: 71
          },
          end: {
            line: 105,
            column: 93
          }
        }, {
          start: {
            line: 105,
            column: 97
          },
          end: {
            line: 105,
            column: 145
          }
        }],
        line: 105
      },
      "9": {
        loc: {
          start: {
            line: 142,
            column: 8
          },
          end: {
            line: 148,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 142,
            column: 8
          },
          end: {
            line: 148,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 142
      },
      "10": {
        loc: {
          start: {
            line: 156,
            column: 31
          },
          end: {
            line: 156,
            column: 55
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 156,
            column: 31
          },
          end: {
            line: 156,
            column: 50
          }
        }, {
          start: {
            line: 156,
            column: 54
          },
          end: {
            line: 156,
            column: 55
          }
        }],
        line: 156
      },
      "11": {
        loc: {
          start: {
            line: 165,
            column: 39
          },
          end: {
            line: 165,
            column: 56
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 165,
            column: 39
          },
          end: {
            line: 165,
            column: 50
          }
        }, {
          start: {
            line: 165,
            column: 54
          },
          end: {
            line: 165,
            column: 56
          }
        }],
        line: 165
      },
      "12": {
        loc: {
          start: {
            line: 172,
            column: 12
          },
          end: {
            line: 187,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 172,
            column: 12
          },
          end: {
            line: 187,
            column: 13
          }
        }, {
          start: {
            line: 179,
            column: 19
          },
          end: {
            line: 187,
            column: 13
          }
        }],
        line: 172
      },
      "13": {
        loc: {
          start: {
            line: 179,
            column: 19
          },
          end: {
            line: 187,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 179,
            column: 19
          },
          end: {
            line: 187,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 179
      },
      "14": {
        loc: {
          start: {
            line: 191,
            column: 33
          },
          end: {
            line: 191,
            column: 50
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 191,
            column: 33
          },
          end: {
            line: 191,
            column: 44
          }
        }, {
          start: {
            line: 191,
            column: 48
          },
          end: {
            line: 191,
            column: 50
          }
        }],
        line: 191
      },
      "15": {
        loc: {
          start: {
            line: 192,
            column: 12
          },
          end: {
            line: 199,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 192,
            column: 12
          },
          end: {
            line: 199,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 192
      },
      "16": {
        loc: {
          start: {
            line: 192,
            column: 16
          },
          end: {
            line: 192,
            column: 108
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 192,
            column: 16
          },
          end: {
            line: 192,
            column: 47
          }
        }, {
          start: {
            line: 192,
            column: 51
          },
          end: {
            line: 192,
            column: 108
          }
        }],
        line: 192
      },
      "17": {
        loc: {
          start: {
            line: 213,
            column: 27
          },
          end: {
            line: 213,
            column: 60
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 213,
            column: 27
          },
          end: {
            line: 213,
            column: 54
          }
        }, {
          start: {
            line: 213,
            column: 58
          },
          end: {
            line: 213,
            column: 60
          }
        }],
        line: 213
      },
      "18": {
        loc: {
          start: {
            line: 215,
            column: 8
          },
          end: {
            line: 217,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 215,
            column: 8
          },
          end: {
            line: 217,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 215
      },
      "19": {
        loc: {
          start: {
            line: 215,
            column: 12
          },
          end: {
            line: 215,
            column: 47
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 215,
            column: 12
          },
          end: {
            line: 215,
            column: 25
          }
        }, {
          start: {
            line: 215,
            column: 29
          },
          end: {
            line: 215,
            column: 47
          }
        }],
        line: 215
      },
      "20": {
        loc: {
          start: {
            line: 218,
            column: 15
          },
          end: {
            line: 218,
            column: 59
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 218,
            column: 15
          },
          end: {
            line: 218,
            column: 36
          }
        }, {
          start: {
            line: 218,
            column: 40
          },
          end: {
            line: 218,
            column: 59
          }
        }],
        line: 218
      },
      "21": {
        loc: {
          start: {
            line: 227,
            column: 27
          },
          end: {
            line: 227,
            column: 60
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 227,
            column: 27
          },
          end: {
            line: 227,
            column: 54
          }
        }, {
          start: {
            line: 227,
            column: 58
          },
          end: {
            line: 227,
            column: 60
          }
        }],
        line: 227
      },
      "22": {
        loc: {
          start: {
            line: 229,
            column: 12
          },
          end: {
            line: 240,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 229,
            column: 12
          },
          end: {
            line: 240,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 229
      },
      "23": {
        loc: {
          start: {
            line: 229,
            column: 16
          },
          end: {
            line: 229,
            column: 64
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 229,
            column: 16
          },
          end: {
            line: 229,
            column: 33
          }
        }, {
          start: {
            line: 229,
            column: 37
          },
          end: {
            line: 229,
            column: 64
          }
        }],
        line: 229
      },
      "24": {
        loc: {
          start: {
            line: 231,
            column: 33
          },
          end: {
            line: 231,
            column: 53
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 231,
            column: 33
          },
          end: {
            line: 231,
            column: 47
          }
        }, {
          start: {
            line: 231,
            column: 51
          },
          end: {
            line: 231,
            column: 53
          }
        }],
        line: 231
      },
      "25": {
        loc: {
          start: {
            line: 232,
            column: 32
          },
          end: {
            line: 232,
            column: 70
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 232,
            column: 32
          },
          end: {
            line: 232,
            column: 64
          }
        }, {
          start: {
            line: 232,
            column: 68
          },
          end: {
            line: 232,
            column: 70
          }
        }],
        line: 232
      },
      "26": {
        loc: {
          start: {
            line: 237,
            column: 33
          },
          end: {
            line: 237,
            column: 78
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 237,
            column: 33
          },
          end: {
            line: 237,
            column: 72
          }
        }, {
          start: {
            line: 237,
            column: 76
          },
          end: {
            line: 237,
            column: 78
          }
        }],
        line: 237
      },
      "27": {
        loc: {
          start: {
            line: 252,
            column: 11
          },
          end: {
            line: 252,
            column: 35
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 252,
            column: 11
          },
          end: {
            line: 252,
            column: 27
          }
        }, {
          start: {
            line: 252,
            column: 31
          },
          end: {
            line: 252,
            column: 35
          }
        }],
        line: 252
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0],
      "26": [0, 0],
      "27": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Ai Projecten\\ADSapp\\src\\app\\api\\templates\\sync\\route.ts"],
      sourcesContent: ["import { NextRequest, NextResponse } from 'next/server'\nimport { requireAuthenticatedUser, getUserOrganization, createErrorResponse, createSuccessResponse } from '@/lib/api-utils'\nimport { getWhatsAppClient } from '@/lib/whatsapp/enhanced-client'\nimport { createClient } from '@/lib/supabase/server'\n\nexport async function POST(request: NextRequest) {\n  try {\n    const user = await requireAuthenticatedUser()\n    const profile = await getUserOrganization(user.id)\n\n    const supabase = await createClient()\n\n    // Get organization's WhatsApp configuration\n    const { data: org } = await supabase\n      .from('organizations')\n      .select('whatsapp_business_account_id, whatsapp_access_token')\n      .eq('id', profile.organization_id)\n      .single()\n\n    if (!org?.whatsapp_business_account_id || !org?.whatsapp_access_token) {\n      return NextResponse.json(\n        { error: 'WhatsApp Business Account not configured' },\n        { status: 400 }\n      )\n    }\n\n    const whatsappClient = await getWhatsAppClient(profile.organization_id)\n\n    // Get templates from WhatsApp\n    const whatsappTemplates = await whatsappClient.getTemplates(org.whatsapp_business_account_id)\n\n    // Get existing templates from database\n    const { data: existingTemplates } = await supabase\n      .from('message_templates')\n      .select('*')\n      .eq('organization_id', profile.organization_id)\n      .not('whatsapp_template_id', 'is', null)\n\n    const existingTemplateMap = new Map(\n      (existingTemplates || []).map(t => [t.whatsapp_template_id, t])\n    )\n\n    const results = {\n      synced: [],\n      created: [],\n      updated: [],\n      errors: []\n    }\n\n    // Process each WhatsApp template\n    for (const whatsappTemplate of whatsappTemplates) {\n      try {\n        const existingTemplate = existingTemplateMap.get(whatsappTemplate.id)\n\n        const templateData = {\n          name: whatsappTemplate.name,\n          content: extractTemplateContent(whatsappTemplate),\n          category: whatsappTemplate.category || 'general',\n          variables: extractTemplateVariables(whatsappTemplate),\n          whatsapp_template_id: whatsappTemplate.id,\n          whatsapp_template_name: whatsappTemplate.name,\n          whatsapp_status: whatsappTemplate.status,\n          whatsapp_template_data: whatsappTemplate,\n          is_active: whatsappTemplate.status === 'APPROVED'\n        }\n\n        if (existingTemplate) {\n          // Update existing template\n          const { data: updatedTemplate, error } = await supabase\n            .from('message_templates')\n            .update({\n              ...templateData,\n              updated_at: new Date().toISOString()\n            })\n            .eq('id', existingTemplate.id)\n            .select()\n            .single()\n\n          if (error) {\n            throw error\n          }\n\n          results.updated.push(updatedTemplate)\n        } else {\n          // Create new template\n          const { data: newTemplate, error } = await supabase\n            .from('message_templates')\n            .insert({\n              organization_id: profile.organization_id,\n              created_by: user.id,\n              ...templateData\n            })\n            .select()\n            .single()\n\n          if (error) {\n            throw error\n          }\n\n          results.created.push(newTemplate)\n        }\n\n        results.synced.push({\n          id: whatsappTemplate.id,\n          name: whatsappTemplate.name,\n          status: whatsappTemplate.status\n        })\n\n      } catch (error) {\n        console.error(`Error syncing template ${whatsappTemplate.id}:`, error)\n        results.errors.push({\n          templateId: whatsappTemplate.id,\n          templateName: whatsappTemplate.name,\n          error: error.message\n        })\n      }\n    }\n\n    // Check for templates that were deleted from WhatsApp\n    const whatsappTemplateIds = new Set(whatsappTemplates.map(t => t.id))\n    const deletedTemplates = (existingTemplates || []).filter(\n      t => t.whatsapp_template_id && !whatsappTemplateIds.has(t.whatsapp_template_id)\n    )\n\n    // Mark deleted templates as inactive\n    for (const deletedTemplate of deletedTemplates) {\n      await supabase\n        .from('message_templates')\n        .update({\n          is_active: false,\n          whatsapp_status: 'deleted',\n          updated_at: new Date().toISOString()\n        })\n        .eq('id', deletedTemplate.id)\n    }\n\n    return createSuccessResponse({\n      summary: {\n        totalWhatsAppTemplates: whatsappTemplates.length,\n        synced: results.synced.length,\n        created: results.created.length,\n        updated: results.updated.length,\n        deleted: deletedTemplates.length,\n        errors: results.errors.length\n      },\n      details: results,\n      deletedTemplates: deletedTemplates.map(t => ({\n        id: t.id,\n        name: t.name,\n        whatsappTemplateId: t.whatsapp_template_id\n      }))\n    })\n\n  } catch (error) {\n    console.error('Template sync error:', error)\n    return createErrorResponse(error)\n  }\n}\n\nexport async function GET(request: NextRequest) {\n  try {\n    const user = await requireAuthenticatedUser()\n    const profile = await getUserOrganization(user.id)\n\n    const supabase = await createClient()\n\n    // Get organization's WhatsApp configuration\n    const { data: org } = await supabase\n      .from('organizations')\n      .select('whatsapp_business_account_id')\n      .eq('id', profile.organization_id)\n      .single()\n\n    if (!org?.whatsapp_business_account_id) {\n      return NextResponse.json(\n        { error: 'WhatsApp Business Account not configured' },\n        { status: 400 }\n      )\n    }\n\n    const whatsappClient = await getWhatsAppClient(profile.organization_id)\n\n    // Get templates from WhatsApp (for comparison)\n    const whatsappTemplates = await whatsappClient.getTemplates(org.whatsapp_business_account_id)\n\n    // Get existing templates from database\n    const { data: dbTemplates } = await supabase\n      .from('message_templates')\n      .select('*')\n      .eq('organization_id', profile.organization_id)\n      .not('whatsapp_template_id', 'is', null)\n\n    const syncStatus = {\n      whatsappTemplates: whatsappTemplates.length,\n      databaseTemplates: dbTemplates?.length || 0,\n      needsSync: false,\n      syncDetails: {\n        newInWhatsApp: [],\n        updatedInWhatsApp: [],\n        deletedFromWhatsApp: [],\n        outOfSync: []\n      }\n    }\n\n    const dbTemplateMap = new Map(\n      (dbTemplates || []).map(t => [t.whatsapp_template_id, t])\n    )\n\n    // Check for new templates in WhatsApp\n    for (const whatsappTemplate of whatsappTemplates) {\n      const dbTemplate = dbTemplateMap.get(whatsappTemplate.id)\n\n      if (!dbTemplate) {\n        syncStatus.syncDetails.newInWhatsApp.push({\n          id: whatsappTemplate.id,\n          name: whatsappTemplate.name,\n          status: whatsappTemplate.status\n        })\n        syncStatus.needsSync = true\n      } else if (dbTemplate.whatsapp_status !== whatsappTemplate.status) {\n        syncStatus.syncDetails.updatedInWhatsApp.push({\n          id: whatsappTemplate.id,\n          name: whatsappTemplate.name,\n          oldStatus: dbTemplate.whatsapp_status,\n          newStatus: whatsappTemplate.status\n        })\n        syncStatus.needsSync = true\n      }\n    }\n\n    // Check for deleted templates\n    const whatsappTemplateIds = new Set(whatsappTemplates.map(t => t.id))\n    for (const dbTemplate of dbTemplates || []) {\n      if (dbTemplate.whatsapp_template_id && !whatsappTemplateIds.has(dbTemplate.whatsapp_template_id)) {\n        syncStatus.syncDetails.deletedFromWhatsApp.push({\n          id: dbTemplate.id,\n          name: dbTemplate.name,\n          whatsappTemplateId: dbTemplate.whatsapp_template_id\n        })\n        syncStatus.needsSync = true\n      }\n    }\n\n    return createSuccessResponse({\n      lastSyncAt: await getLastSyncTime(supabase, profile.organization_id),\n      syncStatus\n    })\n\n  } catch (error) {\n    console.error('Template sync status error:', error)\n    return createErrorResponse(error)\n  }\n}\n\nfunction extractTemplateContent(whatsappTemplate: any): string {\n  try {\n    // Extract content from WhatsApp template structure\n    const components = whatsappTemplate.components || []\n    const bodyComponent = components.find(c => c.type === 'BODY')\n\n    if (bodyComponent && bodyComponent.text) {\n      return bodyComponent.text\n    }\n\n    return whatsappTemplate.name || 'WhatsApp Template'\n  } catch (error) {\n    console.error('Error extracting template content:', error)\n    return 'WhatsApp Template'\n  }\n}\n\nfunction extractTemplateVariables(whatsappTemplate: any): Array<{ name: string; type: string; example?: string }> {\n  try {\n    const variables = []\n    const components = whatsappTemplate.components || []\n\n    for (const component of components) {\n      if (component.example && component.example.body_text) {\n        // Extract variables from body text examples\n        const bodyText = component.text || ''\n        const matches = bodyText.match(/\\{\\{(\\d+)\\}\\}/g) || []\n\n        matches.forEach((match, index) => {\n          variables.push({\n            name: `var${index + 1}`,\n            type: 'text',\n            example: component.example.body_text[0]?.[index] || ''\n          })\n        })\n      }\n    }\n\n    return variables\n  } catch (error) {\n    console.error('Error extracting template variables:', error)\n    return []\n  }\n}\n\nasync function getLastSyncTime(supabase: any, organizationId: string): Promise<string | null> {\n  const { data } = await supabase\n    .from('message_templates')\n    .select('updated_at')\n    .eq('organization_id', organizationId)\n    .not('whatsapp_template_id', 'is', null)\n    .order('updated_at', { ascending: false })\n    .limit(1)\n    .single()\n\n  return data?.updated_at || null\n}"],
      names: ["GET", "POST", "request", "user", "requireAuthenticatedUser", "profile", "getUserOrganization", "id", "supabase", "createClient", "data", "org", "from", "select", "eq", "organization_id", "single", "whatsapp_business_account_id", "whatsapp_access_token", "NextResponse", "json", "error", "status", "whatsappClient", "getWhatsAppClient", "whatsappTemplates", "getTemplates", "existingTemplates", "not", "existingTemplateMap", "Map", "map", "t", "whatsapp_template_id", "results", "synced", "created", "updated", "errors", "whatsappTemplate", "existingTemplate", "get", "templateData", "name", "content", "extractTemplateContent", "category", "variables", "extractTemplateVariables", "whatsapp_template_name", "whatsapp_status", "whatsapp_template_data", "is_active", "updatedTemplate", "update", "updated_at", "Date", "toISOString", "push", "newTemplate", "insert", "created_by", "console", "templateId", "templateName", "message", "whatsappTemplateIds", "Set", "deletedTemplates", "filter", "has", "deletedTemplate", "createSuccessResponse", "summary", "totalWhatsAppTemplates", "length", "deleted", "details", "whatsappTemplateId", "createErrorResponse", "dbTemplates", "syncStatus", "databaseTemplates", "needsSync", "syncDetails", "newInWhatsApp", "updatedInWhatsApp", "deletedFromWhatsApp", "outOfSync", "dbTemplateMap", "dbTemplate", "oldStatus", "newStatus", "lastSyncAt", "getLastSyncTime", "components", "bodyComponent", "find", "c", "type", "text", "component", "example", "body_text", "bodyText", "matches", "match", "forEach", "index", "organizationId", "order", "ascending", "limit"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "2047368d85fc94e369c5d6842bcdfe1b983eda55"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_zywa989km = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_zywa989km();
cov_zywa989km().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_zywa989km().f[0]++;
  cov_zywa989km().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_zywa989km().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_zywa989km().s[3]++;
_export(exports, {
  get GET() {
    /* istanbul ignore next */
    cov_zywa989km().f[1]++;
    cov_zywa989km().s[4]++;
    return GET;
  },
  get POST() {
    /* istanbul ignore next */
    cov_zywa989km().f[2]++;
    cov_zywa989km().s[5]++;
    return POST;
  }
});
const _server =
/* istanbul ignore next */
(cov_zywa989km().s[6]++, require("next/server"));
const _apiutils =
/* istanbul ignore next */
(cov_zywa989km().s[7]++, require("../../../../lib/api-utils"));
const _enhancedclient =
/* istanbul ignore next */
(cov_zywa989km().s[8]++, require("../../../../lib/whatsapp/enhanced-client"));
const _server1 =
/* istanbul ignore next */
(cov_zywa989km().s[9]++, require("../../../../lib/supabase/server"));
async function POST(request) {
  /* istanbul ignore next */
  cov_zywa989km().f[3]++;
  cov_zywa989km().s[10]++;
  try {
    const user =
    /* istanbul ignore next */
    (cov_zywa989km().s[11]++, await (0, _apiutils.requireAuthenticatedUser)());
    const profile =
    /* istanbul ignore next */
    (cov_zywa989km().s[12]++, await (0, _apiutils.getUserOrganization)(user.id));
    const supabase =
    /* istanbul ignore next */
    (cov_zywa989km().s[13]++, await (0, _server1.createClient)());
    // Get organization's WhatsApp configuration
    const {
      data: org
    } =
    /* istanbul ignore next */
    (cov_zywa989km().s[14]++, await supabase.from('organizations').select('whatsapp_business_account_id, whatsapp_access_token').eq('id', profile.organization_id).single());
    /* istanbul ignore next */
    cov_zywa989km().s[15]++;
    if (
    /* istanbul ignore next */
    (cov_zywa989km().b[1][0]++, !org?.whatsapp_business_account_id) ||
    /* istanbul ignore next */
    (cov_zywa989km().b[1][1]++, !org?.whatsapp_access_token)) {
      /* istanbul ignore next */
      cov_zywa989km().b[0][0]++;
      cov_zywa989km().s[16]++;
      return _server.NextResponse.json({
        error: 'WhatsApp Business Account not configured'
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_zywa989km().b[0][1]++;
    }
    const whatsappClient =
    /* istanbul ignore next */
    (cov_zywa989km().s[17]++, await (0, _enhancedclient.getWhatsAppClient)(profile.organization_id));
    // Get templates from WhatsApp
    const whatsappTemplates =
    /* istanbul ignore next */
    (cov_zywa989km().s[18]++, await whatsappClient.getTemplates(org.whatsapp_business_account_id));
    // Get existing templates from database
    const {
      data: existingTemplates
    } =
    /* istanbul ignore next */
    (cov_zywa989km().s[19]++, await supabase.from('message_templates').select('*').eq('organization_id', profile.organization_id).not('whatsapp_template_id', 'is', null));
    const existingTemplateMap =
    /* istanbul ignore next */
    (cov_zywa989km().s[20]++, new Map((
    /* istanbul ignore next */
    (cov_zywa989km().b[2][0]++, existingTemplates) ||
    /* istanbul ignore next */
    (cov_zywa989km().b[2][1]++, [])).map(t => {
      /* istanbul ignore next */
      cov_zywa989km().f[4]++;
      cov_zywa989km().s[21]++;
      return [t.whatsapp_template_id, t];
    })));
    const results =
    /* istanbul ignore next */
    (cov_zywa989km().s[22]++, {
      synced: [],
      created: [],
      updated: [],
      errors: []
    });
    // Process each WhatsApp template
    /* istanbul ignore next */
    cov_zywa989km().s[23]++;
    for (const whatsappTemplate of whatsappTemplates) {
      /* istanbul ignore next */
      cov_zywa989km().s[24]++;
      try {
        const existingTemplate =
        /* istanbul ignore next */
        (cov_zywa989km().s[25]++, existingTemplateMap.get(whatsappTemplate.id));
        const templateData =
        /* istanbul ignore next */
        (cov_zywa989km().s[26]++, {
          name: whatsappTemplate.name,
          content: extractTemplateContent(whatsappTemplate),
          category:
          /* istanbul ignore next */
          (cov_zywa989km().b[3][0]++, whatsappTemplate.category) ||
          /* istanbul ignore next */
          (cov_zywa989km().b[3][1]++, 'general'),
          variables: extractTemplateVariables(whatsappTemplate),
          whatsapp_template_id: whatsappTemplate.id,
          whatsapp_template_name: whatsappTemplate.name,
          whatsapp_status: whatsappTemplate.status,
          whatsapp_template_data: whatsappTemplate,
          is_active: whatsappTemplate.status === 'APPROVED'
        });
        /* istanbul ignore next */
        cov_zywa989km().s[27]++;
        if (existingTemplate) {
          /* istanbul ignore next */
          cov_zywa989km().b[4][0]++;
          // Update existing template
          const {
            data: updatedTemplate,
            error
          } =
          /* istanbul ignore next */
          (cov_zywa989km().s[28]++, await supabase.from('message_templates').update({
            ...templateData,
            updated_at: new Date().toISOString()
          }).eq('id', existingTemplate.id).select().single());
          /* istanbul ignore next */
          cov_zywa989km().s[29]++;
          if (error) {
            /* istanbul ignore next */
            cov_zywa989km().b[5][0]++;
            cov_zywa989km().s[30]++;
            throw error;
          } else
          /* istanbul ignore next */
          {
            cov_zywa989km().b[5][1]++;
          }
          cov_zywa989km().s[31]++;
          results.updated.push(updatedTemplate);
        } else {
          /* istanbul ignore next */
          cov_zywa989km().b[4][1]++;
          // Create new template
          const {
            data: newTemplate,
            error
          } =
          /* istanbul ignore next */
          (cov_zywa989km().s[32]++, await supabase.from('message_templates').insert({
            organization_id: profile.organization_id,
            created_by: user.id,
            ...templateData
          }).select().single());
          /* istanbul ignore next */
          cov_zywa989km().s[33]++;
          if (error) {
            /* istanbul ignore next */
            cov_zywa989km().b[6][0]++;
            cov_zywa989km().s[34]++;
            throw error;
          } else
          /* istanbul ignore next */
          {
            cov_zywa989km().b[6][1]++;
          }
          cov_zywa989km().s[35]++;
          results.created.push(newTemplate);
        }
        /* istanbul ignore next */
        cov_zywa989km().s[36]++;
        results.synced.push({
          id: whatsappTemplate.id,
          name: whatsappTemplate.name,
          status: whatsappTemplate.status
        });
      } catch (error) {
        /* istanbul ignore next */
        cov_zywa989km().s[37]++;
        console.error(`Error syncing template ${whatsappTemplate.id}:`, error);
        /* istanbul ignore next */
        cov_zywa989km().s[38]++;
        results.errors.push({
          templateId: whatsappTemplate.id,
          templateName: whatsappTemplate.name,
          error: error.message
        });
      }
    }
    // Check for templates that were deleted from WhatsApp
    const whatsappTemplateIds =
    /* istanbul ignore next */
    (cov_zywa989km().s[39]++, new Set(whatsappTemplates.map(t => {
      /* istanbul ignore next */
      cov_zywa989km().f[5]++;
      cov_zywa989km().s[40]++;
      return t.id;
    })));
    const deletedTemplates =
    /* istanbul ignore next */
    (cov_zywa989km().s[41]++, (
    /* istanbul ignore next */
    (cov_zywa989km().b[7][0]++, existingTemplates) ||
    /* istanbul ignore next */
    (cov_zywa989km().b[7][1]++, [])).filter(t => {
      /* istanbul ignore next */
      cov_zywa989km().f[6]++;
      cov_zywa989km().s[42]++;
      return /* istanbul ignore next */(cov_zywa989km().b[8][0]++, t.whatsapp_template_id) &&
      /* istanbul ignore next */
      (cov_zywa989km().b[8][1]++, !whatsappTemplateIds.has(t.whatsapp_template_id));
    }));
    // Mark deleted templates as inactive
    /* istanbul ignore next */
    cov_zywa989km().s[43]++;
    for (const deletedTemplate of deletedTemplates) {
      /* istanbul ignore next */
      cov_zywa989km().s[44]++;
      await supabase.from('message_templates').update({
        is_active: false,
        whatsapp_status: 'deleted',
        updated_at: new Date().toISOString()
      }).eq('id', deletedTemplate.id);
    }
    /* istanbul ignore next */
    cov_zywa989km().s[45]++;
    return (0, _apiutils.createSuccessResponse)({
      summary: {
        totalWhatsAppTemplates: whatsappTemplates.length,
        synced: results.synced.length,
        created: results.created.length,
        updated: results.updated.length,
        deleted: deletedTemplates.length,
        errors: results.errors.length
      },
      details: results,
      deletedTemplates: deletedTemplates.map(t => {
        /* istanbul ignore next */
        cov_zywa989km().f[7]++;
        cov_zywa989km().s[46]++;
        return {
          id: t.id,
          name: t.name,
          whatsappTemplateId: t.whatsapp_template_id
        };
      })
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_zywa989km().s[47]++;
    console.error('Template sync error:', error);
    /* istanbul ignore next */
    cov_zywa989km().s[48]++;
    return (0, _apiutils.createErrorResponse)(error);
  }
}
async function GET(request) {
  /* istanbul ignore next */
  cov_zywa989km().f[8]++;
  cov_zywa989km().s[49]++;
  try {
    const user =
    /* istanbul ignore next */
    (cov_zywa989km().s[50]++, await (0, _apiutils.requireAuthenticatedUser)());
    const profile =
    /* istanbul ignore next */
    (cov_zywa989km().s[51]++, await (0, _apiutils.getUserOrganization)(user.id));
    const supabase =
    /* istanbul ignore next */
    (cov_zywa989km().s[52]++, await (0, _server1.createClient)());
    // Get organization's WhatsApp configuration
    const {
      data: org
    } =
    /* istanbul ignore next */
    (cov_zywa989km().s[53]++, await supabase.from('organizations').select('whatsapp_business_account_id').eq('id', profile.organization_id).single());
    /* istanbul ignore next */
    cov_zywa989km().s[54]++;
    if (!org?.whatsapp_business_account_id) {
      /* istanbul ignore next */
      cov_zywa989km().b[9][0]++;
      cov_zywa989km().s[55]++;
      return _server.NextResponse.json({
        error: 'WhatsApp Business Account not configured'
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_zywa989km().b[9][1]++;
    }
    const whatsappClient =
    /* istanbul ignore next */
    (cov_zywa989km().s[56]++, await (0, _enhancedclient.getWhatsAppClient)(profile.organization_id));
    // Get templates from WhatsApp (for comparison)
    const whatsappTemplates =
    /* istanbul ignore next */
    (cov_zywa989km().s[57]++, await whatsappClient.getTemplates(org.whatsapp_business_account_id));
    // Get existing templates from database
    const {
      data: dbTemplates
    } =
    /* istanbul ignore next */
    (cov_zywa989km().s[58]++, await supabase.from('message_templates').select('*').eq('organization_id', profile.organization_id).not('whatsapp_template_id', 'is', null));
    const syncStatus =
    /* istanbul ignore next */
    (cov_zywa989km().s[59]++, {
      whatsappTemplates: whatsappTemplates.length,
      databaseTemplates:
      /* istanbul ignore next */
      (cov_zywa989km().b[10][0]++, dbTemplates?.length) ||
      /* istanbul ignore next */
      (cov_zywa989km().b[10][1]++, 0),
      needsSync: false,
      syncDetails: {
        newInWhatsApp: [],
        updatedInWhatsApp: [],
        deletedFromWhatsApp: [],
        outOfSync: []
      }
    });
    const dbTemplateMap =
    /* istanbul ignore next */
    (cov_zywa989km().s[60]++, new Map((
    /* istanbul ignore next */
    (cov_zywa989km().b[11][0]++, dbTemplates) ||
    /* istanbul ignore next */
    (cov_zywa989km().b[11][1]++, [])).map(t => {
      /* istanbul ignore next */
      cov_zywa989km().f[9]++;
      cov_zywa989km().s[61]++;
      return [t.whatsapp_template_id, t];
    })));
    // Check for new templates in WhatsApp
    /* istanbul ignore next */
    cov_zywa989km().s[62]++;
    for (const whatsappTemplate of whatsappTemplates) {
      const dbTemplate =
      /* istanbul ignore next */
      (cov_zywa989km().s[63]++, dbTemplateMap.get(whatsappTemplate.id));
      /* istanbul ignore next */
      cov_zywa989km().s[64]++;
      if (!dbTemplate) {
        /* istanbul ignore next */
        cov_zywa989km().b[12][0]++;
        cov_zywa989km().s[65]++;
        syncStatus.syncDetails.newInWhatsApp.push({
          id: whatsappTemplate.id,
          name: whatsappTemplate.name,
          status: whatsappTemplate.status
        });
        /* istanbul ignore next */
        cov_zywa989km().s[66]++;
        syncStatus.needsSync = true;
      } else {
        /* istanbul ignore next */
        cov_zywa989km().b[12][1]++;
        cov_zywa989km().s[67]++;
        if (dbTemplate.whatsapp_status !== whatsappTemplate.status) {
          /* istanbul ignore next */
          cov_zywa989km().b[13][0]++;
          cov_zywa989km().s[68]++;
          syncStatus.syncDetails.updatedInWhatsApp.push({
            id: whatsappTemplate.id,
            name: whatsappTemplate.name,
            oldStatus: dbTemplate.whatsapp_status,
            newStatus: whatsappTemplate.status
          });
          /* istanbul ignore next */
          cov_zywa989km().s[69]++;
          syncStatus.needsSync = true;
        } else
        /* istanbul ignore next */
        {
          cov_zywa989km().b[13][1]++;
        }
      }
    }
    // Check for deleted templates
    const whatsappTemplateIds =
    /* istanbul ignore next */
    (cov_zywa989km().s[70]++, new Set(whatsappTemplates.map(t => {
      /* istanbul ignore next */
      cov_zywa989km().f[10]++;
      cov_zywa989km().s[71]++;
      return t.id;
    })));
    /* istanbul ignore next */
    cov_zywa989km().s[72]++;
    for (const dbTemplate of
    /* istanbul ignore next */
    (cov_zywa989km().b[14][0]++, dbTemplates) ||
    /* istanbul ignore next */
    (cov_zywa989km().b[14][1]++, [])) {
      /* istanbul ignore next */
      cov_zywa989km().s[73]++;
      if (
      /* istanbul ignore next */
      (cov_zywa989km().b[16][0]++, dbTemplate.whatsapp_template_id) &&
      /* istanbul ignore next */
      (cov_zywa989km().b[16][1]++, !whatsappTemplateIds.has(dbTemplate.whatsapp_template_id))) {
        /* istanbul ignore next */
        cov_zywa989km().b[15][0]++;
        cov_zywa989km().s[74]++;
        syncStatus.syncDetails.deletedFromWhatsApp.push({
          id: dbTemplate.id,
          name: dbTemplate.name,
          whatsappTemplateId: dbTemplate.whatsapp_template_id
        });
        /* istanbul ignore next */
        cov_zywa989km().s[75]++;
        syncStatus.needsSync = true;
      } else
      /* istanbul ignore next */
      {
        cov_zywa989km().b[15][1]++;
      }
    }
    /* istanbul ignore next */
    cov_zywa989km().s[76]++;
    return (0, _apiutils.createSuccessResponse)({
      lastSyncAt: await getLastSyncTime(supabase, profile.organization_id),
      syncStatus
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_zywa989km().s[77]++;
    console.error('Template sync status error:', error);
    /* istanbul ignore next */
    cov_zywa989km().s[78]++;
    return (0, _apiutils.createErrorResponse)(error);
  }
}
function extractTemplateContent(whatsappTemplate) {
  /* istanbul ignore next */
  cov_zywa989km().f[11]++;
  cov_zywa989km().s[79]++;
  try {
    // Extract content from WhatsApp template structure
    const components =
    /* istanbul ignore next */
    (cov_zywa989km().s[80]++,
    /* istanbul ignore next */
    (cov_zywa989km().b[17][0]++, whatsappTemplate.components) ||
    /* istanbul ignore next */
    (cov_zywa989km().b[17][1]++, []));
    const bodyComponent =
    /* istanbul ignore next */
    (cov_zywa989km().s[81]++, components.find(c => {
      /* istanbul ignore next */
      cov_zywa989km().f[12]++;
      cov_zywa989km().s[82]++;
      return c.type === 'BODY';
    }));
    /* istanbul ignore next */
    cov_zywa989km().s[83]++;
    if (
    /* istanbul ignore next */
    (cov_zywa989km().b[19][0]++, bodyComponent) &&
    /* istanbul ignore next */
    (cov_zywa989km().b[19][1]++, bodyComponent.text)) {
      /* istanbul ignore next */
      cov_zywa989km().b[18][0]++;
      cov_zywa989km().s[84]++;
      return bodyComponent.text;
    } else
    /* istanbul ignore next */
    {
      cov_zywa989km().b[18][1]++;
    }
    cov_zywa989km().s[85]++;
    return /* istanbul ignore next */(cov_zywa989km().b[20][0]++, whatsappTemplate.name) ||
    /* istanbul ignore next */
    (cov_zywa989km().b[20][1]++, 'WhatsApp Template');
  } catch (error) {
    /* istanbul ignore next */
    cov_zywa989km().s[86]++;
    console.error('Error extracting template content:', error);
    /* istanbul ignore next */
    cov_zywa989km().s[87]++;
    return 'WhatsApp Template';
  }
}
function extractTemplateVariables(whatsappTemplate) {
  /* istanbul ignore next */
  cov_zywa989km().f[13]++;
  cov_zywa989km().s[88]++;
  try {
    const variables =
    /* istanbul ignore next */
    (cov_zywa989km().s[89]++, []);
    const components =
    /* istanbul ignore next */
    (cov_zywa989km().s[90]++,
    /* istanbul ignore next */
    (cov_zywa989km().b[21][0]++, whatsappTemplate.components) ||
    /* istanbul ignore next */
    (cov_zywa989km().b[21][1]++, []));
    /* istanbul ignore next */
    cov_zywa989km().s[91]++;
    for (const component of components) {
      /* istanbul ignore next */
      cov_zywa989km().s[92]++;
      if (
      /* istanbul ignore next */
      (cov_zywa989km().b[23][0]++, component.example) &&
      /* istanbul ignore next */
      (cov_zywa989km().b[23][1]++, component.example.body_text)) {
        /* istanbul ignore next */
        cov_zywa989km().b[22][0]++;
        // Extract variables from body text examples
        const bodyText =
        /* istanbul ignore next */
        (cov_zywa989km().s[93]++,
        /* istanbul ignore next */
        (cov_zywa989km().b[24][0]++, component.text) ||
        /* istanbul ignore next */
        (cov_zywa989km().b[24][1]++, ''));
        const matches =
        /* istanbul ignore next */
        (cov_zywa989km().s[94]++,
        /* istanbul ignore next */
        (cov_zywa989km().b[25][0]++, bodyText.match(/\{\{(\d+)\}\}/g)) ||
        /* istanbul ignore next */
        (cov_zywa989km().b[25][1]++, []));
        /* istanbul ignore next */
        cov_zywa989km().s[95]++;
        matches.forEach((match, index) => {
          /* istanbul ignore next */
          cov_zywa989km().f[14]++;
          cov_zywa989km().s[96]++;
          variables.push({
            name: `var${index + 1}`,
            type: 'text',
            example:
            /* istanbul ignore next */
            (cov_zywa989km().b[26][0]++, component.example.body_text[0]?.[index]) ||
            /* istanbul ignore next */
            (cov_zywa989km().b[26][1]++, '')
          });
        });
      } else
      /* istanbul ignore next */
      {
        cov_zywa989km().b[22][1]++;
      }
    }
    /* istanbul ignore next */
    cov_zywa989km().s[97]++;
    return variables;
  } catch (error) {
    /* istanbul ignore next */
    cov_zywa989km().s[98]++;
    console.error('Error extracting template variables:', error);
    /* istanbul ignore next */
    cov_zywa989km().s[99]++;
    return [];
  }
}
async function getLastSyncTime(supabase, organizationId) {
  /* istanbul ignore next */
  cov_zywa989km().f[15]++;
  const {
    data
  } =
  /* istanbul ignore next */
  (cov_zywa989km().s[100]++, await supabase.from('message_templates').select('updated_at').eq('organization_id', organizationId).not('whatsapp_template_id', 'is', null).order('updated_at', {
    ascending: false
  }).limit(1).single());
  /* istanbul ignore next */
  cov_zywa989km().s[101]++;
  return /* istanbul ignore next */(cov_zywa989km().b[27][0]++, data?.updated_at) ||
  /* istanbul ignore next */
  (cov_zywa989km().b[27][1]++, null);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJHRVQiLCJjb3Zfenl3YTk4OWttIiwiZiIsInMiLCJQT1NUIiwicmVxdWVzdCIsInVzZXIiLCJfYXBpdXRpbHMiLCJyZXF1aXJlQXV0aGVudGljYXRlZFVzZXIiLCJwcm9maWxlIiwiZ2V0VXNlck9yZ2FuaXphdGlvbiIsImlkIiwic3VwYWJhc2UiLCJfc2VydmVyMSIsImNyZWF0ZUNsaWVudCIsImRhdGEiLCJvcmciLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJvcmdhbml6YXRpb25faWQiLCJzaW5nbGUiLCJiIiwid2hhdHNhcHBfYnVzaW5lc3NfYWNjb3VudF9pZCIsIndoYXRzYXBwX2FjY2Vzc190b2tlbiIsIl9zZXJ2ZXIiLCJOZXh0UmVzcG9uc2UiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJ3aGF0c2FwcENsaWVudCIsIl9lbmhhbmNlZGNsaWVudCIsImdldFdoYXRzQXBwQ2xpZW50Iiwid2hhdHNhcHBUZW1wbGF0ZXMiLCJnZXRUZW1wbGF0ZXMiLCJleGlzdGluZ1RlbXBsYXRlcyIsIm5vdCIsImV4aXN0aW5nVGVtcGxhdGVNYXAiLCJNYXAiLCJtYXAiLCJ0Iiwid2hhdHNhcHBfdGVtcGxhdGVfaWQiLCJyZXN1bHRzIiwic3luY2VkIiwiY3JlYXRlZCIsInVwZGF0ZWQiLCJlcnJvcnMiLCJ3aGF0c2FwcFRlbXBsYXRlIiwiZXhpc3RpbmdUZW1wbGF0ZSIsImdldCIsInRlbXBsYXRlRGF0YSIsIm5hbWUiLCJjb250ZW50IiwiZXh0cmFjdFRlbXBsYXRlQ29udGVudCIsImNhdGVnb3J5IiwidmFyaWFibGVzIiwiZXh0cmFjdFRlbXBsYXRlVmFyaWFibGVzIiwid2hhdHNhcHBfdGVtcGxhdGVfbmFtZSIsIndoYXRzYXBwX3N0YXR1cyIsIndoYXRzYXBwX3RlbXBsYXRlX2RhdGEiLCJpc19hY3RpdmUiLCJ1cGRhdGVkVGVtcGxhdGUiLCJ1cGRhdGUiLCJ1cGRhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwicHVzaCIsIm5ld1RlbXBsYXRlIiwiaW5zZXJ0IiwiY3JlYXRlZF9ieSIsImNvbnNvbGUiLCJ0ZW1wbGF0ZUlkIiwidGVtcGxhdGVOYW1lIiwibWVzc2FnZSIsIndoYXRzYXBwVGVtcGxhdGVJZHMiLCJTZXQiLCJkZWxldGVkVGVtcGxhdGVzIiwiZmlsdGVyIiwiaGFzIiwiZGVsZXRlZFRlbXBsYXRlIiwiY3JlYXRlU3VjY2Vzc1Jlc3BvbnNlIiwic3VtbWFyeSIsInRvdGFsV2hhdHNBcHBUZW1wbGF0ZXMiLCJsZW5ndGgiLCJkZWxldGVkIiwiZGV0YWlscyIsIndoYXRzYXBwVGVtcGxhdGVJZCIsImNyZWF0ZUVycm9yUmVzcG9uc2UiLCJkYlRlbXBsYXRlcyIsInN5bmNTdGF0dXMiLCJkYXRhYmFzZVRlbXBsYXRlcyIsIm5lZWRzU3luYyIsInN5bmNEZXRhaWxzIiwibmV3SW5XaGF0c0FwcCIsInVwZGF0ZWRJbldoYXRzQXBwIiwiZGVsZXRlZEZyb21XaGF0c0FwcCIsIm91dE9mU3luYyIsImRiVGVtcGxhdGVNYXAiLCJkYlRlbXBsYXRlIiwib2xkU3RhdHVzIiwibmV3U3RhdHVzIiwibGFzdFN5bmNBdCIsImdldExhc3RTeW5jVGltZSIsImNvbXBvbmVudHMiLCJib2R5Q29tcG9uZW50IiwiZmluZCIsImMiLCJ0eXBlIiwidGV4dCIsImNvbXBvbmVudCIsImV4YW1wbGUiLCJib2R5X3RleHQiLCJib2R5VGV4dCIsIm1hdGNoZXMiLCJtYXRjaCIsImZvckVhY2giLCJpbmRleCIsIm9yZ2FuaXphdGlvbklkIiwib3JkZXIiLCJhc2NlbmRpbmciLCJsaW1pdCJdLCJzb3VyY2VzIjpbIkM6XFxBaSBQcm9qZWN0ZW5cXEFEU2FwcFxcc3JjXFxhcHBcXGFwaVxcdGVtcGxhdGVzXFxzeW5jXFxyb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyByZXF1aXJlQXV0aGVudGljYXRlZFVzZXIsIGdldFVzZXJPcmdhbml6YXRpb24sIGNyZWF0ZUVycm9yUmVzcG9uc2UsIGNyZWF0ZVN1Y2Nlc3NSZXNwb25zZSB9IGZyb20gJ0AvbGliL2FwaS11dGlscydcbmltcG9ydCB7IGdldFdoYXRzQXBwQ2xpZW50IH0gZnJvbSAnQC9saWIvd2hhdHNhcHAvZW5oYW5jZWQtY2xpZW50J1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQC9saWIvc3VwYWJhc2Uvc2VydmVyJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCByZXF1aXJlQXV0aGVudGljYXRlZFVzZXIoKVxuICAgIGNvbnN0IHByb2ZpbGUgPSBhd2FpdCBnZXRVc2VyT3JnYW5pemF0aW9uKHVzZXIuaWQpXG5cbiAgICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpXG5cbiAgICAvLyBHZXQgb3JnYW5pemF0aW9uJ3MgV2hhdHNBcHAgY29uZmlndXJhdGlvblxuICAgIGNvbnN0IHsgZGF0YTogb3JnIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ29yZ2FuaXphdGlvbnMnKVxuICAgICAgLnNlbGVjdCgnd2hhdHNhcHBfYnVzaW5lc3NfYWNjb3VudF9pZCwgd2hhdHNhcHBfYWNjZXNzX3Rva2VuJylcbiAgICAgIC5lcSgnaWQnLCBwcm9maWxlLm9yZ2FuaXphdGlvbl9pZClcbiAgICAgIC5zaW5nbGUoKVxuXG4gICAgaWYgKCFvcmc/LndoYXRzYXBwX2J1c2luZXNzX2FjY291bnRfaWQgfHwgIW9yZz8ud2hhdHNhcHBfYWNjZXNzX3Rva2VuKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdXaGF0c0FwcCBCdXNpbmVzcyBBY2NvdW50IG5vdCBjb25maWd1cmVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICBjb25zdCB3aGF0c2FwcENsaWVudCA9IGF3YWl0IGdldFdoYXRzQXBwQ2xpZW50KHByb2ZpbGUub3JnYW5pemF0aW9uX2lkKVxuXG4gICAgLy8gR2V0IHRlbXBsYXRlcyBmcm9tIFdoYXRzQXBwXG4gICAgY29uc3Qgd2hhdHNhcHBUZW1wbGF0ZXMgPSBhd2FpdCB3aGF0c2FwcENsaWVudC5nZXRUZW1wbGF0ZXMob3JnLndoYXRzYXBwX2J1c2luZXNzX2FjY291bnRfaWQpXG5cbiAgICAvLyBHZXQgZXhpc3RpbmcgdGVtcGxhdGVzIGZyb20gZGF0YWJhc2VcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nVGVtcGxhdGVzIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ21lc3NhZ2VfdGVtcGxhdGVzJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLmVxKCdvcmdhbml6YXRpb25faWQnLCBwcm9maWxlLm9yZ2FuaXphdGlvbl9pZClcbiAgICAgIC5ub3QoJ3doYXRzYXBwX3RlbXBsYXRlX2lkJywgJ2lzJywgbnVsbClcblxuICAgIGNvbnN0IGV4aXN0aW5nVGVtcGxhdGVNYXAgPSBuZXcgTWFwKFxuICAgICAgKGV4aXN0aW5nVGVtcGxhdGVzIHx8IFtdKS5tYXAodCA9PiBbdC53aGF0c2FwcF90ZW1wbGF0ZV9pZCwgdF0pXG4gICAgKVxuXG4gICAgY29uc3QgcmVzdWx0cyA9IHtcbiAgICAgIHN5bmNlZDogW10sXG4gICAgICBjcmVhdGVkOiBbXSxcbiAgICAgIHVwZGF0ZWQ6IFtdLFxuICAgICAgZXJyb3JzOiBbXVxuICAgIH1cblxuICAgIC8vIFByb2Nlc3MgZWFjaCBXaGF0c0FwcCB0ZW1wbGF0ZVxuICAgIGZvciAoY29uc3Qgd2hhdHNhcHBUZW1wbGF0ZSBvZiB3aGF0c2FwcFRlbXBsYXRlcykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdUZW1wbGF0ZSA9IGV4aXN0aW5nVGVtcGxhdGVNYXAuZ2V0KHdoYXRzYXBwVGVtcGxhdGUuaWQpXG5cbiAgICAgICAgY29uc3QgdGVtcGxhdGVEYXRhID0ge1xuICAgICAgICAgIG5hbWU6IHdoYXRzYXBwVGVtcGxhdGUubmFtZSxcbiAgICAgICAgICBjb250ZW50OiBleHRyYWN0VGVtcGxhdGVDb250ZW50KHdoYXRzYXBwVGVtcGxhdGUpLFxuICAgICAgICAgIGNhdGVnb3J5OiB3aGF0c2FwcFRlbXBsYXRlLmNhdGVnb3J5IHx8ICdnZW5lcmFsJyxcbiAgICAgICAgICB2YXJpYWJsZXM6IGV4dHJhY3RUZW1wbGF0ZVZhcmlhYmxlcyh3aGF0c2FwcFRlbXBsYXRlKSxcbiAgICAgICAgICB3aGF0c2FwcF90ZW1wbGF0ZV9pZDogd2hhdHNhcHBUZW1wbGF0ZS5pZCxcbiAgICAgICAgICB3aGF0c2FwcF90ZW1wbGF0ZV9uYW1lOiB3aGF0c2FwcFRlbXBsYXRlLm5hbWUsXG4gICAgICAgICAgd2hhdHNhcHBfc3RhdHVzOiB3aGF0c2FwcFRlbXBsYXRlLnN0YXR1cyxcbiAgICAgICAgICB3aGF0c2FwcF90ZW1wbGF0ZV9kYXRhOiB3aGF0c2FwcFRlbXBsYXRlLFxuICAgICAgICAgIGlzX2FjdGl2ZTogd2hhdHNhcHBUZW1wbGF0ZS5zdGF0dXMgPT09ICdBUFBST1ZFRCdcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChleGlzdGluZ1RlbXBsYXRlKSB7XG4gICAgICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIHRlbXBsYXRlXG4gICAgICAgICAgY29uc3QgeyBkYXRhOiB1cGRhdGVkVGVtcGxhdGUsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgLmZyb20oJ21lc3NhZ2VfdGVtcGxhdGVzJylcbiAgICAgICAgICAgIC51cGRhdGUoe1xuICAgICAgICAgICAgICAuLi50ZW1wbGF0ZURhdGEsXG4gICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5lcSgnaWQnLCBleGlzdGluZ1RlbXBsYXRlLmlkKVxuICAgICAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgICAgICAuc2luZ2xlKClcblxuICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3JcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXN1bHRzLnVwZGF0ZWQucHVzaCh1cGRhdGVkVGVtcGxhdGUpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQ3JlYXRlIG5ldyB0ZW1wbGF0ZVxuICAgICAgICAgIGNvbnN0IHsgZGF0YTogbmV3VGVtcGxhdGUsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgLmZyb20oJ21lc3NhZ2VfdGVtcGxhdGVzJylcbiAgICAgICAgICAgIC5pbnNlcnQoe1xuICAgICAgICAgICAgICBvcmdhbml6YXRpb25faWQ6IHByb2ZpbGUub3JnYW5pemF0aW9uX2lkLFxuICAgICAgICAgICAgICBjcmVhdGVkX2J5OiB1c2VyLmlkLFxuICAgICAgICAgICAgICAuLi50ZW1wbGF0ZURhdGFcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAgIC5zaW5nbGUoKVxuXG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlc3VsdHMuY3JlYXRlZC5wdXNoKG5ld1RlbXBsYXRlKVxuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0cy5zeW5jZWQucHVzaCh7XG4gICAgICAgICAgaWQ6IHdoYXRzYXBwVGVtcGxhdGUuaWQsXG4gICAgICAgICAgbmFtZTogd2hhdHNhcHBUZW1wbGF0ZS5uYW1lLFxuICAgICAgICAgIHN0YXR1czogd2hhdHNhcHBUZW1wbGF0ZS5zdGF0dXNcbiAgICAgICAgfSlcblxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3Igc3luY2luZyB0ZW1wbGF0ZSAke3doYXRzYXBwVGVtcGxhdGUuaWR9OmAsIGVycm9yKVxuICAgICAgICByZXN1bHRzLmVycm9ycy5wdXNoKHtcbiAgICAgICAgICB0ZW1wbGF0ZUlkOiB3aGF0c2FwcFRlbXBsYXRlLmlkLFxuICAgICAgICAgIHRlbXBsYXRlTmFtZTogd2hhdHNhcHBUZW1wbGF0ZS5uYW1lLFxuICAgICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIHRlbXBsYXRlcyB0aGF0IHdlcmUgZGVsZXRlZCBmcm9tIFdoYXRzQXBwXG4gICAgY29uc3Qgd2hhdHNhcHBUZW1wbGF0ZUlkcyA9IG5ldyBTZXQod2hhdHNhcHBUZW1wbGF0ZXMubWFwKHQgPT4gdC5pZCkpXG4gICAgY29uc3QgZGVsZXRlZFRlbXBsYXRlcyA9IChleGlzdGluZ1RlbXBsYXRlcyB8fCBbXSkuZmlsdGVyKFxuICAgICAgdCA9PiB0LndoYXRzYXBwX3RlbXBsYXRlX2lkICYmICF3aGF0c2FwcFRlbXBsYXRlSWRzLmhhcyh0LndoYXRzYXBwX3RlbXBsYXRlX2lkKVxuICAgIClcblxuICAgIC8vIE1hcmsgZGVsZXRlZCB0ZW1wbGF0ZXMgYXMgaW5hY3RpdmVcbiAgICBmb3IgKGNvbnN0IGRlbGV0ZWRUZW1wbGF0ZSBvZiBkZWxldGVkVGVtcGxhdGVzKSB7XG4gICAgICBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnbWVzc2FnZV90ZW1wbGF0ZXMnKVxuICAgICAgICAudXBkYXRlKHtcbiAgICAgICAgICBpc19hY3RpdmU6IGZhbHNlLFxuICAgICAgICAgIHdoYXRzYXBwX3N0YXR1czogJ2RlbGV0ZWQnLFxuICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9KVxuICAgICAgICAuZXEoJ2lkJywgZGVsZXRlZFRlbXBsYXRlLmlkKVxuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVTdWNjZXNzUmVzcG9uc2Uoe1xuICAgICAgc3VtbWFyeToge1xuICAgICAgICB0b3RhbFdoYXRzQXBwVGVtcGxhdGVzOiB3aGF0c2FwcFRlbXBsYXRlcy5sZW5ndGgsXG4gICAgICAgIHN5bmNlZDogcmVzdWx0cy5zeW5jZWQubGVuZ3RoLFxuICAgICAgICBjcmVhdGVkOiByZXN1bHRzLmNyZWF0ZWQubGVuZ3RoLFxuICAgICAgICB1cGRhdGVkOiByZXN1bHRzLnVwZGF0ZWQubGVuZ3RoLFxuICAgICAgICBkZWxldGVkOiBkZWxldGVkVGVtcGxhdGVzLmxlbmd0aCxcbiAgICAgICAgZXJyb3JzOiByZXN1bHRzLmVycm9ycy5sZW5ndGhcbiAgICAgIH0sXG4gICAgICBkZXRhaWxzOiByZXN1bHRzLFxuICAgICAgZGVsZXRlZFRlbXBsYXRlczogZGVsZXRlZFRlbXBsYXRlcy5tYXAodCA9PiAoe1xuICAgICAgICBpZDogdC5pZCxcbiAgICAgICAgbmFtZTogdC5uYW1lLFxuICAgICAgICB3aGF0c2FwcFRlbXBsYXRlSWQ6IHQud2hhdHNhcHBfdGVtcGxhdGVfaWRcbiAgICAgIH0pKVxuICAgIH0pXG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdUZW1wbGF0ZSBzeW5jIGVycm9yOicsIGVycm9yKVxuICAgIHJldHVybiBjcmVhdGVFcnJvclJlc3BvbnNlKGVycm9yKVxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgcmVxdWlyZUF1dGhlbnRpY2F0ZWRVc2VyKClcbiAgICBjb25zdCBwcm9maWxlID0gYXdhaXQgZ2V0VXNlck9yZ2FuaXphdGlvbih1c2VyLmlkKVxuXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKVxuXG4gICAgLy8gR2V0IG9yZ2FuaXphdGlvbidzIFdoYXRzQXBwIGNvbmZpZ3VyYXRpb25cbiAgICBjb25zdCB7IGRhdGE6IG9yZyB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdvcmdhbml6YXRpb25zJylcbiAgICAgIC5zZWxlY3QoJ3doYXRzYXBwX2J1c2luZXNzX2FjY291bnRfaWQnKVxuICAgICAgLmVxKCdpZCcsIHByb2ZpbGUub3JnYW5pemF0aW9uX2lkKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICBpZiAoIW9yZz8ud2hhdHNhcHBfYnVzaW5lc3NfYWNjb3VudF9pZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnV2hhdHNBcHAgQnVzaW5lc3MgQWNjb3VudCBub3QgY29uZmlndXJlZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc3Qgd2hhdHNhcHBDbGllbnQgPSBhd2FpdCBnZXRXaGF0c0FwcENsaWVudChwcm9maWxlLm9yZ2FuaXphdGlvbl9pZClcblxuICAgIC8vIEdldCB0ZW1wbGF0ZXMgZnJvbSBXaGF0c0FwcCAoZm9yIGNvbXBhcmlzb24pXG4gICAgY29uc3Qgd2hhdHNhcHBUZW1wbGF0ZXMgPSBhd2FpdCB3aGF0c2FwcENsaWVudC5nZXRUZW1wbGF0ZXMob3JnLndoYXRzYXBwX2J1c2luZXNzX2FjY291bnRfaWQpXG5cbiAgICAvLyBHZXQgZXhpc3RpbmcgdGVtcGxhdGVzIGZyb20gZGF0YWJhc2VcbiAgICBjb25zdCB7IGRhdGE6IGRiVGVtcGxhdGVzIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ21lc3NhZ2VfdGVtcGxhdGVzJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLmVxKCdvcmdhbml6YXRpb25faWQnLCBwcm9maWxlLm9yZ2FuaXphdGlvbl9pZClcbiAgICAgIC5ub3QoJ3doYXRzYXBwX3RlbXBsYXRlX2lkJywgJ2lzJywgbnVsbClcblxuICAgIGNvbnN0IHN5bmNTdGF0dXMgPSB7XG4gICAgICB3aGF0c2FwcFRlbXBsYXRlczogd2hhdHNhcHBUZW1wbGF0ZXMubGVuZ3RoLFxuICAgICAgZGF0YWJhc2VUZW1wbGF0ZXM6IGRiVGVtcGxhdGVzPy5sZW5ndGggfHwgMCxcbiAgICAgIG5lZWRzU3luYzogZmFsc2UsXG4gICAgICBzeW5jRGV0YWlsczoge1xuICAgICAgICBuZXdJbldoYXRzQXBwOiBbXSxcbiAgICAgICAgdXBkYXRlZEluV2hhdHNBcHA6IFtdLFxuICAgICAgICBkZWxldGVkRnJvbVdoYXRzQXBwOiBbXSxcbiAgICAgICAgb3V0T2ZTeW5jOiBbXVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGRiVGVtcGxhdGVNYXAgPSBuZXcgTWFwKFxuICAgICAgKGRiVGVtcGxhdGVzIHx8IFtdKS5tYXAodCA9PiBbdC53aGF0c2FwcF90ZW1wbGF0ZV9pZCwgdF0pXG4gICAgKVxuXG4gICAgLy8gQ2hlY2sgZm9yIG5ldyB0ZW1wbGF0ZXMgaW4gV2hhdHNBcHBcbiAgICBmb3IgKGNvbnN0IHdoYXRzYXBwVGVtcGxhdGUgb2Ygd2hhdHNhcHBUZW1wbGF0ZXMpIHtcbiAgICAgIGNvbnN0IGRiVGVtcGxhdGUgPSBkYlRlbXBsYXRlTWFwLmdldCh3aGF0c2FwcFRlbXBsYXRlLmlkKVxuXG4gICAgICBpZiAoIWRiVGVtcGxhdGUpIHtcbiAgICAgICAgc3luY1N0YXR1cy5zeW5jRGV0YWlscy5uZXdJbldoYXRzQXBwLnB1c2goe1xuICAgICAgICAgIGlkOiB3aGF0c2FwcFRlbXBsYXRlLmlkLFxuICAgICAgICAgIG5hbWU6IHdoYXRzYXBwVGVtcGxhdGUubmFtZSxcbiAgICAgICAgICBzdGF0dXM6IHdoYXRzYXBwVGVtcGxhdGUuc3RhdHVzXG4gICAgICAgIH0pXG4gICAgICAgIHN5bmNTdGF0dXMubmVlZHNTeW5jID0gdHJ1ZVxuICAgICAgfSBlbHNlIGlmIChkYlRlbXBsYXRlLndoYXRzYXBwX3N0YXR1cyAhPT0gd2hhdHNhcHBUZW1wbGF0ZS5zdGF0dXMpIHtcbiAgICAgICAgc3luY1N0YXR1cy5zeW5jRGV0YWlscy51cGRhdGVkSW5XaGF0c0FwcC5wdXNoKHtcbiAgICAgICAgICBpZDogd2hhdHNhcHBUZW1wbGF0ZS5pZCxcbiAgICAgICAgICBuYW1lOiB3aGF0c2FwcFRlbXBsYXRlLm5hbWUsXG4gICAgICAgICAgb2xkU3RhdHVzOiBkYlRlbXBsYXRlLndoYXRzYXBwX3N0YXR1cyxcbiAgICAgICAgICBuZXdTdGF0dXM6IHdoYXRzYXBwVGVtcGxhdGUuc3RhdHVzXG4gICAgICAgIH0pXG4gICAgICAgIHN5bmNTdGF0dXMubmVlZHNTeW5jID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBkZWxldGVkIHRlbXBsYXRlc1xuICAgIGNvbnN0IHdoYXRzYXBwVGVtcGxhdGVJZHMgPSBuZXcgU2V0KHdoYXRzYXBwVGVtcGxhdGVzLm1hcCh0ID0+IHQuaWQpKVxuICAgIGZvciAoY29uc3QgZGJUZW1wbGF0ZSBvZiBkYlRlbXBsYXRlcyB8fCBbXSkge1xuICAgICAgaWYgKGRiVGVtcGxhdGUud2hhdHNhcHBfdGVtcGxhdGVfaWQgJiYgIXdoYXRzYXBwVGVtcGxhdGVJZHMuaGFzKGRiVGVtcGxhdGUud2hhdHNhcHBfdGVtcGxhdGVfaWQpKSB7XG4gICAgICAgIHN5bmNTdGF0dXMuc3luY0RldGFpbHMuZGVsZXRlZEZyb21XaGF0c0FwcC5wdXNoKHtcbiAgICAgICAgICBpZDogZGJUZW1wbGF0ZS5pZCxcbiAgICAgICAgICBuYW1lOiBkYlRlbXBsYXRlLm5hbWUsXG4gICAgICAgICAgd2hhdHNhcHBUZW1wbGF0ZUlkOiBkYlRlbXBsYXRlLndoYXRzYXBwX3RlbXBsYXRlX2lkXG4gICAgICAgIH0pXG4gICAgICAgIHN5bmNTdGF0dXMubmVlZHNTeW5jID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVTdWNjZXNzUmVzcG9uc2Uoe1xuICAgICAgbGFzdFN5bmNBdDogYXdhaXQgZ2V0TGFzdFN5bmNUaW1lKHN1cGFiYXNlLCBwcm9maWxlLm9yZ2FuaXphdGlvbl9pZCksXG4gICAgICBzeW5jU3RhdHVzXG4gICAgfSlcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1RlbXBsYXRlIHN5bmMgc3RhdHVzIGVycm9yOicsIGVycm9yKVxuICAgIHJldHVybiBjcmVhdGVFcnJvclJlc3BvbnNlKGVycm9yKVxuICB9XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RUZW1wbGF0ZUNvbnRlbnQod2hhdHNhcHBUZW1wbGF0ZTogYW55KTogc3RyaW5nIHtcbiAgdHJ5IHtcbiAgICAvLyBFeHRyYWN0IGNvbnRlbnQgZnJvbSBXaGF0c0FwcCB0ZW1wbGF0ZSBzdHJ1Y3R1cmVcbiAgICBjb25zdCBjb21wb25lbnRzID0gd2hhdHNhcHBUZW1wbGF0ZS5jb21wb25lbnRzIHx8IFtdXG4gICAgY29uc3QgYm9keUNvbXBvbmVudCA9IGNvbXBvbmVudHMuZmluZChjID0+IGMudHlwZSA9PT0gJ0JPRFknKVxuXG4gICAgaWYgKGJvZHlDb21wb25lbnQgJiYgYm9keUNvbXBvbmVudC50ZXh0KSB7XG4gICAgICByZXR1cm4gYm9keUNvbXBvbmVudC50ZXh0XG4gICAgfVxuXG4gICAgcmV0dXJuIHdoYXRzYXBwVGVtcGxhdGUubmFtZSB8fCAnV2hhdHNBcHAgVGVtcGxhdGUnXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZXh0cmFjdGluZyB0ZW1wbGF0ZSBjb250ZW50OicsIGVycm9yKVxuICAgIHJldHVybiAnV2hhdHNBcHAgVGVtcGxhdGUnXG4gIH1cbn1cblxuZnVuY3Rpb24gZXh0cmFjdFRlbXBsYXRlVmFyaWFibGVzKHdoYXRzYXBwVGVtcGxhdGU6IGFueSk6IEFycmF5PHsgbmFtZTogc3RyaW5nOyB0eXBlOiBzdHJpbmc7IGV4YW1wbGU/OiBzdHJpbmcgfT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHZhcmlhYmxlcyA9IFtdXG4gICAgY29uc3QgY29tcG9uZW50cyA9IHdoYXRzYXBwVGVtcGxhdGUuY29tcG9uZW50cyB8fCBbXVxuXG4gICAgZm9yIChjb25zdCBjb21wb25lbnQgb2YgY29tcG9uZW50cykge1xuICAgICAgaWYgKGNvbXBvbmVudC5leGFtcGxlICYmIGNvbXBvbmVudC5leGFtcGxlLmJvZHlfdGV4dCkge1xuICAgICAgICAvLyBFeHRyYWN0IHZhcmlhYmxlcyBmcm9tIGJvZHkgdGV4dCBleGFtcGxlc1xuICAgICAgICBjb25zdCBib2R5VGV4dCA9IGNvbXBvbmVudC50ZXh0IHx8ICcnXG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBib2R5VGV4dC5tYXRjaCgvXFx7XFx7KFxcZCspXFx9XFx9L2cpIHx8IFtdXG5cbiAgICAgICAgbWF0Y2hlcy5mb3JFYWNoKChtYXRjaCwgaW5kZXgpID0+IHtcbiAgICAgICAgICB2YXJpYWJsZXMucHVzaCh7XG4gICAgICAgICAgICBuYW1lOiBgdmFyJHtpbmRleCArIDF9YCxcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgIGV4YW1wbGU6IGNvbXBvbmVudC5leGFtcGxlLmJvZHlfdGV4dFswXT8uW2luZGV4XSB8fCAnJ1xuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhcmlhYmxlc1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGV4dHJhY3RpbmcgdGVtcGxhdGUgdmFyaWFibGVzOicsIGVycm9yKVxuICAgIHJldHVybiBbXVxuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldExhc3RTeW5jVGltZShzdXBhYmFzZTogYW55LCBvcmdhbml6YXRpb25JZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XG4gIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgnbWVzc2FnZV90ZW1wbGF0ZXMnKVxuICAgIC5zZWxlY3QoJ3VwZGF0ZWRfYXQnKVxuICAgIC5lcSgnb3JnYW5pemF0aW9uX2lkJywgb3JnYW5pemF0aW9uSWQpXG4gICAgLm5vdCgnd2hhdHNhcHBfdGVtcGxhdGVfaWQnLCAnaXMnLCBudWxsKVxuICAgIC5vcmRlcigndXBkYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuICAgIC5saW1pdCgxKVxuICAgIC5zaW5nbGUoKVxuXG4gIHJldHVybiBkYXRhPy51cGRhdGVkX2F0IHx8IG51bGxcbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O01BK0pzQkEsSUFBQTtJQUFBO0lBQUFDLGFBQUEsR0FBQUMsQ0FBQTtJQUFBRCxhQUFBLEdBQUFFLENB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