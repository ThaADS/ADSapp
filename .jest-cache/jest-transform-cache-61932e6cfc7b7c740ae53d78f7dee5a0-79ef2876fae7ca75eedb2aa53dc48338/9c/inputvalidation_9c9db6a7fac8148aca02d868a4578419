9803b9ffabcf55a922998b30cc8fee55
/**
 * Input Validation Library for SQL Injection Prevention
 *
 * Provides comprehensive validation and sanitization functions for all user inputs
 * that will be used in database queries. This library follows a whitelist-first
 * approach and ensures that all inputs meet strict security criteria before
 * being passed to RPC functions or database queries.
 *
 * Security Standards:
 * - OWASP Top 10 Compliance
 * - Parameterized query enforcement
 * - Strict type validation
 * - Whitelist-based validation
 * - Maximum length enforcement
 * - Special character escaping
 *
 * @module input-validation
 */ // ============================================================================
// TYPE DEFINITIONS
// ============================================================================
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get InputValidator () {
        return InputValidator;
    },
    get ValidationErrorCodes () {
        return ValidationErrorCodes;
    },
    get containsSQLInjection () {
        return containsSQLInjection;
    },
    get containsXSS () {
        return containsXSS;
    },
    get createValidator () {
        return createValidator;
    },
    get default () {
        return _default;
    },
    get escapeRegex () {
        return escapeRegex;
    },
    get sanitizeArray () {
        return sanitizeArray;
    },
    get sanitizeJSON () {
        return sanitizeJSON;
    },
    get sanitizeSearchQuery () {
        return sanitizeSearchQuery;
    },
    get sanitizeText () {
        return sanitizeText;
    },
    get validateDate () {
        return validateDate;
    },
    get validateEmail () {
        return validateEmail;
    },
    get validateEnum () {
        return validateEnum;
    },
    get validateInteger () {
        return validateInteger;
    },
    get validateJSON () {
        return validateJSON;
    },
    get validateParameters () {
        return validateParameters;
    },
    get validatePattern () {
        return validatePattern;
    },
    get validatePhoneNumber () {
        return validatePhoneNumber;
    },
    get validateSchema () {
        return validateSchema;
    },
    get validateText () {
        return validateText;
    },
    get validateURL () {
        return validateURL;
    },
    get validateUUID () {
        return validateUUID;
    }
});
const ValidationErrorCodes = {
    INVALID_TYPE: 'INVALID_TYPE',
    INVALID_FORMAT: 'INVALID_FORMAT',
    INVALID_LENGTH: 'INVALID_LENGTH',
    INVALID_VALUE: 'INVALID_VALUE',
    NULL_NOT_ALLOWED: 'NULL_NOT_ALLOWED',
    SQL_INJECTION_DETECTED: 'SQL_INJECTION_DETECTED',
    XSS_DETECTED: 'XSS_DETECTED',
    INVALID_UUID: 'INVALID_UUID',
    INVALID_EMAIL: 'INVALID_EMAIL',
    INVALID_PHONE: 'INVALID_PHONE',
    INVALID_URL: 'INVALID_URL',
    INVALID_JSON: 'INVALID_JSON'
};
// ============================================================================
// REGEX PATTERNS
// ============================================================================
const PATTERNS = {
    // UUID v4 strict format
    UUID: /^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,
    // Email validation (RFC 5322 simplified)
    EMAIL: /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,
    // Phone number (international format)
    PHONE: /^\+?[1-9]\d{1,14}$/,
    // URL validation
    URL: /^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)$/,
    // Alphanumeric with common safe characters
    ALPHANUMERIC_SAFE: /^[a-zA-Z0-9\s\-\_\.]+$/,
    // Text without SQL injection patterns
    SAFE_TEXT: /^[^';\"\\]+$/,
    // Integer
    INTEGER: /^-?\d+$/,
    // Decimal/Float
    DECIMAL: /^-?\d+(\.\d+)?$/,
    // Date ISO 8601
    ISO_DATE: /^\d{4}-\d{2}-\d{2}$/,
    // DateTime ISO 8601
    ISO_DATETIME: /^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?Z?$/
};
// Common SQL injection patterns to detect and block
const SQL_INJECTION_PATTERNS = [
    /(\b(SELECT|INSERT|UPDATE|DELETE|DROP|CREATE|ALTER|EXEC|EXECUTE|UNION|SCRIPT)\b)/i,
    /(--|\/\*|\*\/|;|'|")/,
    /(\bOR\b|\bAND\b)\s+['"]?\d+['"]?\s*=\s*['"]?\d+['"]?/i,
    /\b(WAITFOR|DELAY|SLEEP|BENCHMARK)\b/i,
    /xp_cmdshell|sp_executesql/i,
    /\b(INTO\s+OUTFILE|INTO\s+DUMPFILE)\b/i
];
// Common XSS patterns to detect and block
const XSS_PATTERNS = [
    /<script[^>]*>.*?<\/script>/gi,
    /javascript:/gi,
    /on\w+\s*=\s*["'][^"']*["']/gi,
    /<iframe[^>]*>/gi,
    /<embed[^>]*>/gi,
    /<object[^>]*>/gi
];
function validateUUID(value, options = {}) {
    // Handle null values
    if (value === null || value === undefined) {
        if (options.allowNull) {
            return {
                isValid: true,
                sanitizedValue: null
            };
        }
        return {
            isValid: false,
            error: 'UUID cannot be null',
            errorCode: ValidationErrorCodes.NULL_NOT_ALLOWED
        };
    }
    // Must be a string
    if (typeof value !== 'string') {
        return {
            isValid: false,
            error: 'UUID must be a string',
            errorCode: ValidationErrorCodes.INVALID_TYPE
        };
    }
    // Trim whitespace
    const trimmed = value.trim();
    // Validate UUID format
    if (!PATTERNS.UUID.test(trimmed)) {
        return {
            isValid: false,
            error: 'Invalid UUID format',
            errorCode: ValidationErrorCodes.INVALID_UUID
        };
    }
    return {
        isValid: true,
        sanitizedValue: trimmed.toLowerCase()
    };
}
function validateEmail(value, options = {}) {
    if (value === null || value === undefined) {
        if (options.allowNull) {
            return {
                isValid: true,
                sanitizedValue: null
            };
        }
        return {
            isValid: false,
            error: 'Email cannot be null',
            errorCode: ValidationErrorCodes.NULL_NOT_ALLOWED
        };
    }
    if (typeof value !== 'string') {
        return {
            isValid: false,
            error: 'Email must be a string',
            errorCode: ValidationErrorCodes.INVALID_TYPE
        };
    }
    const trimmed = value.trim().toLowerCase();
    // Length check
    if (trimmed.length === 0 || trimmed.length > 254) {
        return {
            isValid: false,
            error: 'Email length must be between 1 and 254 characters',
            errorCode: ValidationErrorCodes.INVALID_LENGTH
        };
    }
    // Format validation
    if (!PATTERNS.EMAIL.test(trimmed)) {
        return {
            isValid: false,
            error: 'Invalid email format',
            errorCode: ValidationErrorCodes.INVALID_EMAIL
        };
    }
    // Check for SQL injection patterns
    if (containsSQLInjection(trimmed)) {
        return {
            isValid: false,
            error: 'Email contains invalid characters',
            errorCode: ValidationErrorCodes.SQL_INJECTION_DETECTED
        };
    }
    return {
        isValid: true,
        sanitizedValue: trimmed
    };
}
function validatePhoneNumber(value, options = {}) {
    if (value === null || value === undefined) {
        if (options.allowNull) {
            return {
                isValid: true,
                sanitizedValue: null
            };
        }
        return {
            isValid: false,
            error: 'Phone number cannot be null',
            errorCode: ValidationErrorCodes.NULL_NOT_ALLOWED
        };
    }
    if (typeof value !== 'string') {
        return {
            isValid: false,
            error: 'Phone number must be a string',
            errorCode: ValidationErrorCodes.INVALID_TYPE
        };
    }
    // Remove common formatting characters
    const cleaned = value.replace(/[\s\-\(\)\.]/g, '');
    // Validate format
    if (!PATTERNS.PHONE.test(cleaned)) {
        return {
            isValid: false,
            error: 'Invalid phone number format',
            errorCode: ValidationErrorCodes.INVALID_PHONE
        };
    }
    return {
        isValid: true,
        sanitizedValue: cleaned
    };
}
function validateText(value, options = {}) {
    if (value === null || value === undefined) {
        if (options.allowNull) {
            return {
                isValid: true,
                sanitizedValue: null
            };
        }
        return {
            isValid: false,
            error: 'Text cannot be null',
            errorCode: ValidationErrorCodes.NULL_NOT_ALLOWED
        };
    }
    if (typeof value !== 'string') {
        return {
            isValid: false,
            error: 'Text must be a string',
            errorCode: ValidationErrorCodes.INVALID_TYPE
        };
    }
    const trimmed = value.trim();
    // Length validation
    const maxLength = options.maxLength || 10000;
    const minLength = options.minLength || 0;
    if (trimmed.length < minLength || trimmed.length > maxLength) {
        return {
            isValid: false,
            error: `Text length must be between ${minLength} and ${maxLength} characters`,
            errorCode: ValidationErrorCodes.INVALID_LENGTH
        };
    }
    // SQL injection check
    if (containsSQLInjection(trimmed)) {
        return {
            isValid: false,
            error: 'Text contains potentially unsafe characters',
            errorCode: ValidationErrorCodes.SQL_INJECTION_DETECTED
        };
    }
    // XSS check
    if (containsXSS(trimmed)) {
        return {
            isValid: false,
            error: 'Text contains potentially unsafe HTML/JavaScript',
            errorCode: ValidationErrorCodes.XSS_DETECTED
        };
    }
    // Custom pattern validation
    if (options.pattern && !options.pattern.test(trimmed)) {
        return {
            isValid: false,
            error: 'Text does not match required pattern',
            errorCode: ValidationErrorCodes.INVALID_FORMAT
        };
    }
    return {
        isValid: true,
        sanitizedValue: sanitizeText(trimmed)
    };
}
function validateInteger(value, options = {}) {
    if (value === null || value === undefined) {
        if (options.allowNull) {
            return {
                isValid: true,
                sanitizedValue: null
            };
        }
        return {
            isValid: false,
            error: 'Integer cannot be null',
            errorCode: ValidationErrorCodes.NULL_NOT_ALLOWED
        };
    }
    let numValue;
    if (typeof value === 'number') {
        numValue = value;
    } else if (typeof value === 'string') {
        if (!PATTERNS.INTEGER.test(value.trim())) {
            return {
                isValid: false,
                error: 'Invalid integer format',
                errorCode: ValidationErrorCodes.INVALID_FORMAT
            };
        }
        numValue = parseInt(value.trim(), 10);
    } else {
        return {
            isValid: false,
            error: 'Integer must be a number or numeric string',
            errorCode: ValidationErrorCodes.INVALID_TYPE
        };
    }
    // Check if parsing resulted in a valid integer
    if (!Number.isInteger(numValue) || isNaN(numValue)) {
        return {
            isValid: false,
            error: 'Invalid integer value',
            errorCode: ValidationErrorCodes.INVALID_VALUE
        };
    }
    return {
        isValid: true,
        sanitizedValue: numValue
    };
}
function validateJSON(value, options = {}) {
    if (value === null || value === undefined) {
        if (options.allowNull) {
            return {
                isValid: true,
                sanitizedValue: null
            };
        }
        return {
            isValid: false,
            error: 'JSON cannot be null',
            errorCode: ValidationErrorCodes.NULL_NOT_ALLOWED
        };
    }
    // If already an object, validate it
    if (typeof value === 'object') {
        try {
            // Sanitize the object
            const sanitized = sanitizeJSON(value);
            return {
                isValid: true,
                sanitizedValue: sanitized
            };
        } catch (error) {
            return {
                isValid: false,
                error: 'Invalid JSON structure',
                errorCode: ValidationErrorCodes.INVALID_JSON
            };
        }
    }
    // If string, try to parse it
    if (typeof value === 'string') {
        try {
            const parsed = JSON.parse(value);
            const sanitized = sanitizeJSON(parsed);
            return {
                isValid: true,
                sanitizedValue: sanitized
            };
        } catch (error) {
            return {
                isValid: false,
                error: 'Invalid JSON format',
                errorCode: ValidationErrorCodes.INVALID_JSON
            };
        }
    }
    return {
        isValid: false,
        error: 'JSON must be an object or valid JSON string',
        errorCode: ValidationErrorCodes.INVALID_TYPE
    };
}
function validateDate(value, options = {}) {
    if (value === null || value === undefined) {
        if (options.allowNull) {
            return {
                isValid: true,
                sanitizedValue: null
            };
        }
        return {
            isValid: false,
            error: 'Date cannot be null',
            errorCode: ValidationErrorCodes.NULL_NOT_ALLOWED
        };
    }
    if (typeof value !== 'string') {
        return {
            isValid: false,
            error: 'Date must be a string',
            errorCode: ValidationErrorCodes.INVALID_TYPE
        };
    }
    const trimmed = value.trim();
    // Validate ISO date format
    if (!PATTERNS.ISO_DATE.test(trimmed) && !PATTERNS.ISO_DATETIME.test(trimmed)) {
        return {
            isValid: false,
            error: 'Invalid date format (use ISO 8601: YYYY-MM-DD or YYYY-MM-DDTHH:mm:ss.sssZ)',
            errorCode: ValidationErrorCodes.INVALID_FORMAT
        };
    }
    // Validate that it's a valid date
    const date = new Date(trimmed);
    if (isNaN(date.getTime())) {
        return {
            isValid: false,
            error: 'Invalid date value',
            errorCode: ValidationErrorCodes.INVALID_VALUE
        };
    }
    return {
        isValid: true,
        sanitizedValue: trimmed
    };
}
function validateEnum(value, allowedValues, options = {}) {
    if (value === null || value === undefined) {
        if (options.allowNull) {
            return {
                isValid: true,
                sanitizedValue: null
            };
        }
        return {
            isValid: false,
            error: 'Enum value cannot be null',
            errorCode: ValidationErrorCodes.NULL_NOT_ALLOWED
        };
    }
    if (typeof value !== 'string') {
        return {
            isValid: false,
            error: 'Enum value must be a string',
            errorCode: ValidationErrorCodes.INVALID_TYPE
        };
    }
    const trimmed = value.trim();
    if (!allowedValues.includes(trimmed)) {
        return {
            isValid: false,
            error: `Value must be one of: ${allowedValues.join(', ')}`,
            errorCode: ValidationErrorCodes.INVALID_VALUE
        };
    }
    return {
        isValid: true,
        sanitizedValue: trimmed
    };
}
function validateURL(value, options = {}) {
    if (value === null || value === undefined) {
        if (options.allowNull) {
            return {
                isValid: true,
                sanitizedValue: null
            };
        }
        return {
            isValid: false,
            error: 'URL cannot be null',
            errorCode: ValidationErrorCodes.NULL_NOT_ALLOWED
        };
    }
    if (typeof value !== 'string') {
        return {
            isValid: false,
            error: 'URL must be a string',
            errorCode: ValidationErrorCodes.INVALID_TYPE
        };
    }
    const trimmed = value.trim();
    // Length check
    if (trimmed.length === 0 || trimmed.length > 2048) {
        return {
            isValid: false,
            error: 'URL length must be between 1 and 2048 characters',
            errorCode: ValidationErrorCodes.INVALID_LENGTH
        };
    }
    // Format validation
    if (!PATTERNS.URL.test(trimmed)) {
        return {
            isValid: false,
            error: 'Invalid URL format',
            errorCode: ValidationErrorCodes.INVALID_URL
        };
    }
    // Additional security checks
    try {
        const url = new URL(trimmed);
        // Block dangerous protocols
        if (![
            'http:',
            'https:'
        ].includes(url.protocol)) {
            return {
                isValid: false,
                error: 'Only HTTP and HTTPS protocols are allowed',
                errorCode: ValidationErrorCodes.INVALID_URL
            };
        }
        return {
            isValid: true,
            sanitizedValue: trimmed
        };
    } catch (error) {
        return {
            isValid: false,
            error: 'Invalid URL format',
            errorCode: ValidationErrorCodes.INVALID_URL
        };
    }
}
function sanitizeSearchQuery(query, maxLength = 100) {
    if (!query || typeof query !== 'string') {
        return '';
    }
    // Trim and limit length
    let sanitized = query.trim().substring(0, maxLength);
    // Remove SQL injection patterns
    sanitized = sanitized.replace(/[';\\]/g, '') // Remove quotes and backslashes
    .replace(/--/g, '') // Remove SQL comments
    .replace(/\/\*/g, '') // Remove block comments
    .replace(/\*\//g, '').replace(/\bOR\b/gi, '') // Remove OR keyword
    .replace(/\bAND\b/gi, '') // Remove AND keyword
    .replace(/\bUNION\b/gi, '') // Remove UNION
    .replace(/\bSELECT\b/gi, '') // Remove SELECT
    .replace(/\bDROP\b/gi, '') // Remove DROP
    .replace(/\bDELETE\b/gi, '') // Remove DELETE
    .replace(/\bINSERT\b/gi, '') // Remove INSERT
    .replace(/\bUPDATE\b/gi, ''); // Remove UPDATE
    // Remove control characters
    sanitized = sanitized.replace(/[\x00-\x1F\x7F]/g, '');
    // Escape regex special characters for safe pattern matching
    sanitized = sanitized.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
    return sanitized;
}
function escapeRegex(value) {
    if (typeof value !== 'string') {
        return '';
    }
    // Escape all regex special characters
    return value.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
}
function validatePattern(value, pattern, errorMessage, options = {}) {
    if (value === null || value === undefined) {
        if (options.allowNull) {
            return {
                isValid: true,
                sanitizedValue: null
            };
        }
        return {
            isValid: false,
            error: 'Value cannot be null',
            errorCode: ValidationErrorCodes.NULL_NOT_ALLOWED
        };
    }
    if (typeof value !== 'string') {
        return {
            isValid: false,
            error: 'Value must be a string',
            errorCode: ValidationErrorCodes.INVALID_TYPE
        };
    }
    const trimmed = value.trim();
    // Check length constraints if provided
    const maxLength = options.maxLength || 10000;
    const minLength = options.minLength || 0;
    if (trimmed.length < minLength || trimmed.length > maxLength) {
        return {
            isValid: false,
            error: `Length must be between ${minLength} and ${maxLength} characters`,
            errorCode: ValidationErrorCodes.INVALID_LENGTH
        };
    }
    if (!pattern.test(trimmed)) {
        return {
            isValid: false,
            error: errorMessage || 'Value does not match required pattern',
            errorCode: ValidationErrorCodes.INVALID_FORMAT
        };
    }
    return {
        isValid: true,
        sanitizedValue: trimmed
    };
}
function sanitizeText(value) {
    return value.replace(/'/g, "''") // Escape single quotes for SQL
    .replace(/\\/g, '\\\\') // Escape backslashes
    .replace(/\0/g, '') // Remove null bytes
    .replace(/\n/g, ' ') // Replace newlines with spaces
    .replace(/\r/g, ' ') // Replace carriage returns with spaces
    .replace(/\t/g, ' ') // Replace tabs with spaces
    .replace(/[\x00-\x1F\x7F]/g, ''); // Remove control characters
}
function sanitizeJSON(obj, depth = 0) {
    // Prevent deep recursion attacks
    if (depth > 10) {
        throw new Error('JSON nesting depth exceeded');
    }
    if (obj === null || obj === undefined) {
        return obj;
    }
    if (Array.isArray(obj)) {
        return obj.map((item)=>sanitizeJSON(item, depth + 1));
    }
    if (typeof obj === 'object') {
        const sanitized = {};
        for (const [key, value] of Object.entries(obj)){
            // Sanitize key
            const sanitizedKey = sanitizeText(key);
            // Sanitize value
            if (typeof value === 'string') {
                sanitized[sanitizedKey] = sanitizeText(value);
            } else if (typeof value === 'object') {
                sanitized[sanitizedKey] = sanitizeJSON(value, depth + 1);
            } else {
                sanitized[sanitizedKey] = value;
            }
        }
        return sanitized;
    }
    if (typeof obj === 'string') {
        return sanitizeText(obj);
    }
    return obj;
}
function sanitizeArray(values, validator) {
    return values.map((value)=>{
        const result = validator(value);
        return result.isValid ? result.sanitizedValue : null;
    }).filter((value)=>value !== null);
}
function containsSQLInjection(value) {
    return SQL_INJECTION_PATTERNS.some((pattern)=>pattern.test(value));
}
function containsXSS(value) {
    return XSS_PATTERNS.some((pattern)=>pattern.test(value));
}
function validateParameters(params, validators) {
    const sanitizedParams = {};
    const errors = {};
    let isValid = true;
    for (const [key, value] of Object.entries(params)){
        const validator = validators[key];
        if (!validator) {
            // If no validator specified, pass through the value
            sanitizedParams[key] = value;
            continue;
        }
        const result = validator(value);
        if (result.isValid) {
            sanitizedParams[key] = result.sanitizedValue;
        } else {
            isValid = false;
            errors[key] = result.error || 'Validation failed';
        }
    }
    return {
        isValid,
        sanitizedParams,
        errors
    };
}
function createValidator(validatorFn, defaultOptions = {}) {
    return (value)=>validatorFn(value, defaultOptions);
}
function validateSchema(data, schema) {
    const sanitizedData = {};
    const errors = {};
    let isValid = true;
    // Check required fields
    for (const [key, config] of Object.entries(schema)){
        const value = data[key];
        if (config.required && (value === null || value === undefined)) {
            isValid = false;
            errors[key] = `${key} is required`;
            continue;
        }
        if (value === undefined) {
            continue; // Skip optional fields that aren't provided
        }
        const result = config.validator(value, config.options);
        if (result.isValid) {
            sanitizedData[key] = result.sanitizedValue;
        } else {
            isValid = false;
            errors[key] = result.error || 'Validation failed';
        }
    }
    return {
        isValid,
        sanitizedData,
        errors
    };
}
const InputValidator = {
    validateUUID,
    validateEmail,
    validatePhoneNumber,
    validateText,
    validateInteger,
    validateJSON,
    validateDate,
    validateEnum,
    validateURL,
    validatePattern,
    sanitizeText,
    sanitizeJSON,
    sanitizeArray,
    sanitizeSearchQuery,
    escapeRegex,
    containsSQLInjection,
    containsXSS,
    validateParameters,
    validateSchema,
    createValidator,
    ValidationErrorCodes
};
const _default = InputValidator;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxBaSBQcm9qZWN0ZW5cXEFEU2FwcFxcc3JjXFxsaWJcXHNlY3VyaXR5XFxpbnB1dC12YWxpZGF0aW9uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogSW5wdXQgVmFsaWRhdGlvbiBMaWJyYXJ5IGZvciBTUUwgSW5qZWN0aW9uIFByZXZlbnRpb25cbiAqXG4gKiBQcm92aWRlcyBjb21wcmVoZW5zaXZlIHZhbGlkYXRpb24gYW5kIHNhbml0aXphdGlvbiBmdW5jdGlvbnMgZm9yIGFsbCB1c2VyIGlucHV0c1xuICogdGhhdCB3aWxsIGJlIHVzZWQgaW4gZGF0YWJhc2UgcXVlcmllcy4gVGhpcyBsaWJyYXJ5IGZvbGxvd3MgYSB3aGl0ZWxpc3QtZmlyc3RcbiAqIGFwcHJvYWNoIGFuZCBlbnN1cmVzIHRoYXQgYWxsIGlucHV0cyBtZWV0IHN0cmljdCBzZWN1cml0eSBjcml0ZXJpYSBiZWZvcmVcbiAqIGJlaW5nIHBhc3NlZCB0byBSUEMgZnVuY3Rpb25zIG9yIGRhdGFiYXNlIHF1ZXJpZXMuXG4gKlxuICogU2VjdXJpdHkgU3RhbmRhcmRzOlxuICogLSBPV0FTUCBUb3AgMTAgQ29tcGxpYW5jZVxuICogLSBQYXJhbWV0ZXJpemVkIHF1ZXJ5IGVuZm9yY2VtZW50XG4gKiAtIFN0cmljdCB0eXBlIHZhbGlkYXRpb25cbiAqIC0gV2hpdGVsaXN0LWJhc2VkIHZhbGlkYXRpb25cbiAqIC0gTWF4aW11bSBsZW5ndGggZW5mb3JjZW1lbnRcbiAqIC0gU3BlY2lhbCBjaGFyYWN0ZXIgZXNjYXBpbmdcbiAqXG4gKiBAbW9kdWxlIGlucHV0LXZhbGlkYXRpb25cbiAqL1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBUWVBFIERFRklOSVRJT05TXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmFsaWRhdGlvblJlc3VsdCB7XG4gIGlzVmFsaWQ6IGJvb2xlYW47XG4gIHNhbml0aXplZFZhbHVlPzogYW55O1xuICBlcnJvcj86IHN0cmluZztcbiAgZXJyb3JDb2RlPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZhbGlkYXRpb25PcHRpb25zIHtcbiAgYWxsb3dOdWxsPzogYm9vbGVhbjtcbiAgbWF4TGVuZ3RoPzogbnVtYmVyO1xuICBtaW5MZW5ndGg/OiBudW1iZXI7XG4gIHBhdHRlcm4/OiBSZWdFeHA7XG4gIGFsbG93ZWRWYWx1ZXM/OiBhbnlbXTtcbiAgY3VzdG9tVmFsaWRhdG9yPzogKHZhbHVlOiBhbnkpID0+IGJvb2xlYW47XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFZBTElEQVRJT04gRVJST1IgQ09ERVNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGNvbnN0IFZhbGlkYXRpb25FcnJvckNvZGVzID0ge1xuICBJTlZBTElEX1RZUEU6ICdJTlZBTElEX1RZUEUnLFxuICBJTlZBTElEX0ZPUk1BVDogJ0lOVkFMSURfRk9STUFUJyxcbiAgSU5WQUxJRF9MRU5HVEg6ICdJTlZBTElEX0xFTkdUSCcsXG4gIElOVkFMSURfVkFMVUU6ICdJTlZBTElEX1ZBTFVFJyxcbiAgTlVMTF9OT1RfQUxMT1dFRDogJ05VTExfTk9UX0FMTE9XRUQnLFxuICBTUUxfSU5KRUNUSU9OX0RFVEVDVEVEOiAnU1FMX0lOSkVDVElPTl9ERVRFQ1RFRCcsXG4gIFhTU19ERVRFQ1RFRDogJ1hTU19ERVRFQ1RFRCcsXG4gIElOVkFMSURfVVVJRDogJ0lOVkFMSURfVVVJRCcsXG4gIElOVkFMSURfRU1BSUw6ICdJTlZBTElEX0VNQUlMJyxcbiAgSU5WQUxJRF9QSE9ORTogJ0lOVkFMSURfUEhPTkUnLFxuICBJTlZBTElEX1VSTDogJ0lOVkFMSURfVVJMJyxcbiAgSU5WQUxJRF9KU09OOiAnSU5WQUxJRF9KU09OJyxcbn0gYXMgY29uc3Q7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFJFR0VYIFBBVFRFUk5TXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmNvbnN0IFBBVFRFUk5TID0ge1xuICAvLyBVVUlEIHY0IHN0cmljdCBmb3JtYXRcbiAgVVVJRDogL15bMC05YS1mXXs4fS1bMC05YS1mXXs0fS00WzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9JC9pLFxuXG4gIC8vIEVtYWlsIHZhbGlkYXRpb24gKFJGQyA1MzIyIHNpbXBsaWZpZWQpXG4gIEVNQUlMOiAvXlthLXpBLVowLTkuISMkJSYnKisvPT9eX2B7fH1+LV0rQFthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykqJC8sXG5cbiAgLy8gUGhvbmUgbnVtYmVyIChpbnRlcm5hdGlvbmFsIGZvcm1hdClcbiAgUEhPTkU6IC9eXFwrP1sxLTldXFxkezEsMTR9JC8sXG5cbiAgLy8gVVJMIHZhbGlkYXRpb25cbiAgVVJMOiAvXmh0dHBzPzpcXC9cXC8od3d3XFwuKT9bLWEtekEtWjAtOUA6JS5fXFwrfiM9XXsxLDI1Nn1cXC5bYS16QS1aMC05KCldezEsNn1cXGIoWy1hLXpBLVowLTkoKUA6JV9cXCsufiM/Ji8vPV0qKSQvLFxuXG4gIC8vIEFscGhhbnVtZXJpYyB3aXRoIGNvbW1vbiBzYWZlIGNoYXJhY3RlcnNcbiAgQUxQSEFOVU1FUklDX1NBRkU6IC9eW2EtekEtWjAtOVxcc1xcLVxcX1xcLl0rJC8sXG5cbiAgLy8gVGV4dCB3aXRob3V0IFNRTCBpbmplY3Rpb24gcGF0dGVybnNcbiAgU0FGRV9URVhUOiAvXlteJztcXFwiXFxcXF0rJC8sXG5cbiAgLy8gSW50ZWdlclxuICBJTlRFR0VSOiAvXi0/XFxkKyQvLFxuXG4gIC8vIERlY2ltYWwvRmxvYXRcbiAgREVDSU1BTDogL14tP1xcZCsoXFwuXFxkKyk/JC8sXG5cbiAgLy8gRGF0ZSBJU08gODYwMVxuICBJU09fREFURTogL15cXGR7NH0tXFxkezJ9LVxcZHsyfSQvLFxuXG4gIC8vIERhdGVUaW1lIElTTyA4NjAxXG4gIElTT19EQVRFVElNRTogL15cXGR7NH0tXFxkezJ9LVxcZHsyfVRcXGR7Mn06XFxkezJ9OlxcZHsyfShcXC5cXGR7M30pP1o/JC8sXG59O1xuXG4vLyBDb21tb24gU1FMIGluamVjdGlvbiBwYXR0ZXJucyB0byBkZXRlY3QgYW5kIGJsb2NrXG5jb25zdCBTUUxfSU5KRUNUSU9OX1BBVFRFUk5TID0gW1xuICAvKFxcYihTRUxFQ1R8SU5TRVJUfFVQREFURXxERUxFVEV8RFJPUHxDUkVBVEV8QUxURVJ8RVhFQ3xFWEVDVVRFfFVOSU9OfFNDUklQVClcXGIpL2ksXG4gIC8oLS18XFwvXFwqfFxcKlxcL3w7fCd8XCIpLyxcbiAgLyhcXGJPUlxcYnxcXGJBTkRcXGIpXFxzK1snXCJdP1xcZCtbJ1wiXT9cXHMqPVxccypbJ1wiXT9cXGQrWydcIl0/L2ksXG4gIC9cXGIoV0FJVEZPUnxERUxBWXxTTEVFUHxCRU5DSE1BUkspXFxiL2ksXG4gIC94cF9jbWRzaGVsbHxzcF9leGVjdXRlc3FsL2ksXG4gIC9cXGIoSU5UT1xccytPVVRGSUxFfElOVE9cXHMrRFVNUEZJTEUpXFxiL2ksXG5dO1xuXG4vLyBDb21tb24gWFNTIHBhdHRlcm5zIHRvIGRldGVjdCBhbmQgYmxvY2tcbmNvbnN0IFhTU19QQVRURVJOUyA9IFtcbiAgLzxzY3JpcHRbXj5dKj4uKj88XFwvc2NyaXB0Pi9naSxcbiAgL2phdmFzY3JpcHQ6L2dpLFxuICAvb25cXHcrXFxzKj1cXHMqW1wiJ11bXlwiJ10qW1wiJ10vZ2ksXG4gIC88aWZyYW1lW14+XSo+L2dpLFxuICAvPGVtYmVkW14+XSo+L2dpLFxuICAvPG9iamVjdFtePl0qPi9naSxcbl07XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIENPUkUgVkFMSURBVElPTiBGVU5DVElPTlNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBWYWxpZGF0ZXMgYW5kIHNhbml0aXplcyBhIFVVSUQgdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlVVVJRCh2YWx1ZTogYW55LCBvcHRpb25zOiBWYWxpZGF0aW9uT3B0aW9ucyA9IHt9KTogVmFsaWRhdGlvblJlc3VsdCB7XG4gIC8vIEhhbmRsZSBudWxsIHZhbHVlc1xuICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChvcHRpb25zLmFsbG93TnVsbCkge1xuICAgICAgcmV0dXJuIHsgaXNWYWxpZDogdHJ1ZSwgc2FuaXRpemVkVmFsdWU6IG51bGwgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdVVUlEIGNhbm5vdCBiZSBudWxsJyxcbiAgICAgIGVycm9yQ29kZTogVmFsaWRhdGlvbkVycm9yQ29kZXMuTlVMTF9OT1RfQUxMT1dFRCxcbiAgICB9O1xuICB9XG5cbiAgLy8gTXVzdCBiZSBhIHN0cmluZ1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB7XG4gICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgIGVycm9yOiAnVVVJRCBtdXN0IGJlIGEgc3RyaW5nJyxcbiAgICAgIGVycm9yQ29kZTogVmFsaWRhdGlvbkVycm9yQ29kZXMuSU5WQUxJRF9UWVBFLFxuICAgIH07XG4gIH1cblxuICAvLyBUcmltIHdoaXRlc3BhY2VcbiAgY29uc3QgdHJpbW1lZCA9IHZhbHVlLnRyaW0oKTtcblxuICAvLyBWYWxpZGF0ZSBVVUlEIGZvcm1hdFxuICBpZiAoIVBBVFRFUk5TLlVVSUQudGVzdCh0cmltbWVkKSkge1xuICAgIHJldHVybiB7XG4gICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgIGVycm9yOiAnSW52YWxpZCBVVUlEIGZvcm1hdCcsXG4gICAgICBlcnJvckNvZGU6IFZhbGlkYXRpb25FcnJvckNvZGVzLklOVkFMSURfVVVJRCxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpc1ZhbGlkOiB0cnVlLFxuICAgIHNhbml0aXplZFZhbHVlOiB0cmltbWVkLnRvTG93ZXJDYXNlKCksIC8vIE5vcm1hbGl6ZSB0byBsb3dlcmNhc2VcbiAgfTtcbn1cblxuLyoqXG4gKiBWYWxpZGF0ZXMgYW5kIHNhbml0aXplcyBhbiBlbWFpbCBhZGRyZXNzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUVtYWlsKHZhbHVlOiBhbnksIG9wdGlvbnM6IFZhbGlkYXRpb25PcHRpb25zID0ge30pOiBWYWxpZGF0aW9uUmVzdWx0IHtcbiAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAob3B0aW9ucy5hbGxvd051bGwpIHtcbiAgICAgIHJldHVybiB7IGlzVmFsaWQ6IHRydWUsIHNhbml0aXplZFZhbHVlOiBudWxsIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgIGVycm9yOiAnRW1haWwgY2Fubm90IGJlIG51bGwnLFxuICAgICAgZXJyb3JDb2RlOiBWYWxpZGF0aW9uRXJyb3JDb2Rlcy5OVUxMX05PVF9BTExPV0VELFxuICAgIH07XG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB7XG4gICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgIGVycm9yOiAnRW1haWwgbXVzdCBiZSBhIHN0cmluZycsXG4gICAgICBlcnJvckNvZGU6IFZhbGlkYXRpb25FcnJvckNvZGVzLklOVkFMSURfVFlQRSxcbiAgICB9O1xuICB9XG5cbiAgY29uc3QgdHJpbW1lZCA9IHZhbHVlLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuXG4gIC8vIExlbmd0aCBjaGVja1xuICBpZiAodHJpbW1lZC5sZW5ndGggPT09IDAgfHwgdHJpbW1lZC5sZW5ndGggPiAyNTQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICBlcnJvcjogJ0VtYWlsIGxlbmd0aCBtdXN0IGJlIGJldHdlZW4gMSBhbmQgMjU0IGNoYXJhY3RlcnMnLFxuICAgICAgZXJyb3JDb2RlOiBWYWxpZGF0aW9uRXJyb3JDb2Rlcy5JTlZBTElEX0xFTkdUSCxcbiAgICB9O1xuICB9XG5cbiAgLy8gRm9ybWF0IHZhbGlkYXRpb25cbiAgaWYgKCFQQVRURVJOUy5FTUFJTC50ZXN0KHRyaW1tZWQpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdJbnZhbGlkIGVtYWlsIGZvcm1hdCcsXG4gICAgICBlcnJvckNvZGU6IFZhbGlkYXRpb25FcnJvckNvZGVzLklOVkFMSURfRU1BSUwsXG4gICAgfTtcbiAgfVxuXG4gIC8vIENoZWNrIGZvciBTUUwgaW5qZWN0aW9uIHBhdHRlcm5zXG4gIGlmIChjb250YWluc1NRTEluamVjdGlvbih0cmltbWVkKSkge1xuICAgIHJldHVybiB7XG4gICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgIGVycm9yOiAnRW1haWwgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzJyxcbiAgICAgIGVycm9yQ29kZTogVmFsaWRhdGlvbkVycm9yQ29kZXMuU1FMX0lOSkVDVElPTl9ERVRFQ1RFRCxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpc1ZhbGlkOiB0cnVlLFxuICAgIHNhbml0aXplZFZhbHVlOiB0cmltbWVkLFxuICB9O1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyBhbmQgc2FuaXRpemVzIGEgcGhvbmUgbnVtYmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVBob25lTnVtYmVyKHZhbHVlOiBhbnksIG9wdGlvbnM6IFZhbGlkYXRpb25PcHRpb25zID0ge30pOiBWYWxpZGF0aW9uUmVzdWx0IHtcbiAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAob3B0aW9ucy5hbGxvd051bGwpIHtcbiAgICAgIHJldHVybiB7IGlzVmFsaWQ6IHRydWUsIHNhbml0aXplZFZhbHVlOiBudWxsIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgIGVycm9yOiAnUGhvbmUgbnVtYmVyIGNhbm5vdCBiZSBudWxsJyxcbiAgICAgIGVycm9yQ29kZTogVmFsaWRhdGlvbkVycm9yQ29kZXMuTlVMTF9OT1RfQUxMT1dFRCxcbiAgICB9O1xuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICBlcnJvcjogJ1Bob25lIG51bWJlciBtdXN0IGJlIGEgc3RyaW5nJyxcbiAgICAgIGVycm9yQ29kZTogVmFsaWRhdGlvbkVycm9yQ29kZXMuSU5WQUxJRF9UWVBFLFxuICAgIH07XG4gIH1cblxuICAvLyBSZW1vdmUgY29tbW9uIGZvcm1hdHRpbmcgY2hhcmFjdGVyc1xuICBjb25zdCBjbGVhbmVkID0gdmFsdWUucmVwbGFjZSgvW1xcc1xcLVxcKFxcKVxcLl0vZywgJycpO1xuXG4gIC8vIFZhbGlkYXRlIGZvcm1hdFxuICBpZiAoIVBBVFRFUk5TLlBIT05FLnRlc3QoY2xlYW5lZCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICBlcnJvcjogJ0ludmFsaWQgcGhvbmUgbnVtYmVyIGZvcm1hdCcsXG4gICAgICBlcnJvckNvZGU6IFZhbGlkYXRpb25FcnJvckNvZGVzLklOVkFMSURfUEhPTkUsXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgaXNWYWxpZDogdHJ1ZSxcbiAgICBzYW5pdGl6ZWRWYWx1ZTogY2xlYW5lZCxcbiAgfTtcbn1cblxuLyoqXG4gKiBWYWxpZGF0ZXMgYW5kIHNhbml0aXplcyB0ZXh0IGlucHV0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVRleHQodmFsdWU6IGFueSwgb3B0aW9uczogVmFsaWRhdGlvbk9wdGlvbnMgPSB7fSk6IFZhbGlkYXRpb25SZXN1bHQge1xuICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChvcHRpb25zLmFsbG93TnVsbCkge1xuICAgICAgcmV0dXJuIHsgaXNWYWxpZDogdHJ1ZSwgc2FuaXRpemVkVmFsdWU6IG51bGwgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdUZXh0IGNhbm5vdCBiZSBudWxsJyxcbiAgICAgIGVycm9yQ29kZTogVmFsaWRhdGlvbkVycm9yQ29kZXMuTlVMTF9OT1RfQUxMT1dFRCxcbiAgICB9O1xuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICBlcnJvcjogJ1RleHQgbXVzdCBiZSBhIHN0cmluZycsXG4gICAgICBlcnJvckNvZGU6IFZhbGlkYXRpb25FcnJvckNvZGVzLklOVkFMSURfVFlQRSxcbiAgICB9O1xuICB9XG5cbiAgY29uc3QgdHJpbW1lZCA9IHZhbHVlLnRyaW0oKTtcblxuICAvLyBMZW5ndGggdmFsaWRhdGlvblxuICBjb25zdCBtYXhMZW5ndGggPSBvcHRpb25zLm1heExlbmd0aCB8fCAxMDAwMDtcbiAgY29uc3QgbWluTGVuZ3RoID0gb3B0aW9ucy5taW5MZW5ndGggfHwgMDtcblxuICBpZiAodHJpbW1lZC5sZW5ndGggPCBtaW5MZW5ndGggfHwgdHJpbW1lZC5sZW5ndGggPiBtYXhMZW5ndGgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICBlcnJvcjogYFRleHQgbGVuZ3RoIG11c3QgYmUgYmV0d2VlbiAke21pbkxlbmd0aH0gYW5kICR7bWF4TGVuZ3RofSBjaGFyYWN0ZXJzYCxcbiAgICAgIGVycm9yQ29kZTogVmFsaWRhdGlvbkVycm9yQ29kZXMuSU5WQUxJRF9MRU5HVEgsXG4gICAgfTtcbiAgfVxuXG4gIC8vIFNRTCBpbmplY3Rpb24gY2hlY2tcbiAgaWYgKGNvbnRhaW5zU1FMSW5qZWN0aW9uKHRyaW1tZWQpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdUZXh0IGNvbnRhaW5zIHBvdGVudGlhbGx5IHVuc2FmZSBjaGFyYWN0ZXJzJyxcbiAgICAgIGVycm9yQ29kZTogVmFsaWRhdGlvbkVycm9yQ29kZXMuU1FMX0lOSkVDVElPTl9ERVRFQ1RFRCxcbiAgICB9O1xuICB9XG5cbiAgLy8gWFNTIGNoZWNrXG4gIGlmIChjb250YWluc1hTUyh0cmltbWVkKSkge1xuICAgIHJldHVybiB7XG4gICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgIGVycm9yOiAnVGV4dCBjb250YWlucyBwb3RlbnRpYWxseSB1bnNhZmUgSFRNTC9KYXZhU2NyaXB0JyxcbiAgICAgIGVycm9yQ29kZTogVmFsaWRhdGlvbkVycm9yQ29kZXMuWFNTX0RFVEVDVEVELFxuICAgIH07XG4gIH1cblxuICAvLyBDdXN0b20gcGF0dGVybiB2YWxpZGF0aW9uXG4gIGlmIChvcHRpb25zLnBhdHRlcm4gJiYgIW9wdGlvbnMucGF0dGVybi50ZXN0KHRyaW1tZWQpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdUZXh0IGRvZXMgbm90IG1hdGNoIHJlcXVpcmVkIHBhdHRlcm4nLFxuICAgICAgZXJyb3JDb2RlOiBWYWxpZGF0aW9uRXJyb3JDb2Rlcy5JTlZBTElEX0ZPUk1BVCxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpc1ZhbGlkOiB0cnVlLFxuICAgIHNhbml0aXplZFZhbHVlOiBzYW5pdGl6ZVRleHQodHJpbW1lZCksXG4gIH07XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIGFuZCBzYW5pdGl6ZXMgYW4gaW50ZWdlclxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVJbnRlZ2VyKHZhbHVlOiBhbnksIG9wdGlvbnM6IFZhbGlkYXRpb25PcHRpb25zID0ge30pOiBWYWxpZGF0aW9uUmVzdWx0IHtcbiAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAob3B0aW9ucy5hbGxvd051bGwpIHtcbiAgICAgIHJldHVybiB7IGlzVmFsaWQ6IHRydWUsIHNhbml0aXplZFZhbHVlOiBudWxsIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgIGVycm9yOiAnSW50ZWdlciBjYW5ub3QgYmUgbnVsbCcsXG4gICAgICBlcnJvckNvZGU6IFZhbGlkYXRpb25FcnJvckNvZGVzLk5VTExfTk9UX0FMTE9XRUQsXG4gICAgfTtcbiAgfVxuXG4gIGxldCBudW1WYWx1ZTogbnVtYmVyO1xuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgbnVtVmFsdWUgPSB2YWx1ZTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKCFQQVRURVJOUy5JTlRFR0VSLnRlc3QodmFsdWUudHJpbSgpKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnSW52YWxpZCBpbnRlZ2VyIGZvcm1hdCcsXG4gICAgICAgIGVycm9yQ29kZTogVmFsaWRhdGlvbkVycm9yQ29kZXMuSU5WQUxJRF9GT1JNQVQsXG4gICAgICB9O1xuICAgIH1cbiAgICBudW1WYWx1ZSA9IHBhcnNlSW50KHZhbHVlLnRyaW0oKSwgMTApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7XG4gICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgIGVycm9yOiAnSW50ZWdlciBtdXN0IGJlIGEgbnVtYmVyIG9yIG51bWVyaWMgc3RyaW5nJyxcbiAgICAgIGVycm9yQ29kZTogVmFsaWRhdGlvbkVycm9yQ29kZXMuSU5WQUxJRF9UWVBFLFxuICAgIH07XG4gIH1cblxuICAvLyBDaGVjayBpZiBwYXJzaW5nIHJlc3VsdGVkIGluIGEgdmFsaWQgaW50ZWdlclxuICBpZiAoIU51bWJlci5pc0ludGVnZXIobnVtVmFsdWUpIHx8IGlzTmFOKG51bVZhbHVlKSkge1xuICAgIHJldHVybiB7XG4gICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgIGVycm9yOiAnSW52YWxpZCBpbnRlZ2VyIHZhbHVlJyxcbiAgICAgIGVycm9yQ29kZTogVmFsaWRhdGlvbkVycm9yQ29kZXMuSU5WQUxJRF9WQUxVRSxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpc1ZhbGlkOiB0cnVlLFxuICAgIHNhbml0aXplZFZhbHVlOiBudW1WYWx1ZSxcbiAgfTtcbn1cblxuLyoqXG4gKiBWYWxpZGF0ZXMgYW5kIHNhbml0aXplcyBKU09OIGRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlSlNPTih2YWx1ZTogYW55LCBvcHRpb25zOiBWYWxpZGF0aW9uT3B0aW9ucyA9IHt9KTogVmFsaWRhdGlvblJlc3VsdCB7XG4gIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKG9wdGlvbnMuYWxsb3dOdWxsKSB7XG4gICAgICByZXR1cm4geyBpc1ZhbGlkOiB0cnVlLCBzYW5pdGl6ZWRWYWx1ZTogbnVsbCB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICBlcnJvcjogJ0pTT04gY2Fubm90IGJlIG51bGwnLFxuICAgICAgZXJyb3JDb2RlOiBWYWxpZGF0aW9uRXJyb3JDb2Rlcy5OVUxMX05PVF9BTExPV0VELFxuICAgIH07XG4gIH1cblxuICAvLyBJZiBhbHJlYWR5IGFuIG9iamVjdCwgdmFsaWRhdGUgaXRcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICB0cnkge1xuICAgICAgLy8gU2FuaXRpemUgdGhlIG9iamVjdFxuICAgICAgY29uc3Qgc2FuaXRpemVkID0gc2FuaXRpemVKU09OKHZhbHVlKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzVmFsaWQ6IHRydWUsXG4gICAgICAgIHNhbml0aXplZFZhbHVlOiBzYW5pdGl6ZWQsXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdJbnZhbGlkIEpTT04gc3RydWN0dXJlJyxcbiAgICAgICAgZXJyb3JDb2RlOiBWYWxpZGF0aW9uRXJyb3JDb2Rlcy5JTlZBTElEX0pTT04sXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIElmIHN0cmluZywgdHJ5IHRvIHBhcnNlIGl0XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgY29uc3Qgc2FuaXRpemVkID0gc2FuaXRpemVKU09OKHBhcnNlZCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpc1ZhbGlkOiB0cnVlLFxuICAgICAgICBzYW5pdGl6ZWRWYWx1ZTogc2FuaXRpemVkLFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnSW52YWxpZCBKU09OIGZvcm1hdCcsXG4gICAgICAgIGVycm9yQ29kZTogVmFsaWRhdGlvbkVycm9yQ29kZXMuSU5WQUxJRF9KU09OLFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgIGVycm9yOiAnSlNPTiBtdXN0IGJlIGFuIG9iamVjdCBvciB2YWxpZCBKU09OIHN0cmluZycsXG4gICAgZXJyb3JDb2RlOiBWYWxpZGF0aW9uRXJyb3JDb2Rlcy5JTlZBTElEX1RZUEUsXG4gIH07XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIGEgZGF0ZSBzdHJpbmcgKElTTyA4NjAxIGZvcm1hdClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlRGF0ZSh2YWx1ZTogYW55LCBvcHRpb25zOiBWYWxpZGF0aW9uT3B0aW9ucyA9IHt9KTogVmFsaWRhdGlvblJlc3VsdCB7XG4gIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKG9wdGlvbnMuYWxsb3dOdWxsKSB7XG4gICAgICByZXR1cm4geyBpc1ZhbGlkOiB0cnVlLCBzYW5pdGl6ZWRWYWx1ZTogbnVsbCB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICBlcnJvcjogJ0RhdGUgY2Fubm90IGJlIG51bGwnLFxuICAgICAgZXJyb3JDb2RlOiBWYWxpZGF0aW9uRXJyb3JDb2Rlcy5OVUxMX05PVF9BTExPV0VELFxuICAgIH07XG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB7XG4gICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgIGVycm9yOiAnRGF0ZSBtdXN0IGJlIGEgc3RyaW5nJyxcbiAgICAgIGVycm9yQ29kZTogVmFsaWRhdGlvbkVycm9yQ29kZXMuSU5WQUxJRF9UWVBFLFxuICAgIH07XG4gIH1cblxuICBjb25zdCB0cmltbWVkID0gdmFsdWUudHJpbSgpO1xuXG4gIC8vIFZhbGlkYXRlIElTTyBkYXRlIGZvcm1hdFxuICBpZiAoIVBBVFRFUk5TLklTT19EQVRFLnRlc3QodHJpbW1lZCkgJiYgIVBBVFRFUk5TLklTT19EQVRFVElNRS50ZXN0KHRyaW1tZWQpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdJbnZhbGlkIGRhdGUgZm9ybWF0ICh1c2UgSVNPIDg2MDE6IFlZWVktTU0tREQgb3IgWVlZWS1NTS1ERFRISDptbTpzcy5zc3NaKScsXG4gICAgICBlcnJvckNvZGU6IFZhbGlkYXRpb25FcnJvckNvZGVzLklOVkFMSURfRk9STUFULFxuICAgIH07XG4gIH1cblxuICAvLyBWYWxpZGF0ZSB0aGF0IGl0J3MgYSB2YWxpZCBkYXRlXG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0cmltbWVkKTtcbiAgaWYgKGlzTmFOKGRhdGUuZ2V0VGltZSgpKSkge1xuICAgIHJldHVybiB7XG4gICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgIGVycm9yOiAnSW52YWxpZCBkYXRlIHZhbHVlJyxcbiAgICAgIGVycm9yQ29kZTogVmFsaWRhdGlvbkVycm9yQ29kZXMuSU5WQUxJRF9WQUxVRSxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpc1ZhbGlkOiB0cnVlLFxuICAgIHNhbml0aXplZFZhbHVlOiB0cmltbWVkLFxuICB9O1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyBhbiBlbnVtIHZhbHVlIGFnYWluc3QgYWxsb3dlZCB2YWx1ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlRW51bTxUIGV4dGVuZHMgc3RyaW5nPihcbiAgdmFsdWU6IGFueSxcbiAgYWxsb3dlZFZhbHVlczogVFtdLFxuICBvcHRpb25zOiBWYWxpZGF0aW9uT3B0aW9ucyA9IHt9XG4pOiBWYWxpZGF0aW9uUmVzdWx0IHtcbiAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAob3B0aW9ucy5hbGxvd051bGwpIHtcbiAgICAgIHJldHVybiB7IGlzVmFsaWQ6IHRydWUsIHNhbml0aXplZFZhbHVlOiBudWxsIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgIGVycm9yOiAnRW51bSB2YWx1ZSBjYW5ub3QgYmUgbnVsbCcsXG4gICAgICBlcnJvckNvZGU6IFZhbGlkYXRpb25FcnJvckNvZGVzLk5VTExfTk9UX0FMTE9XRUQsXG4gICAgfTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdFbnVtIHZhbHVlIG11c3QgYmUgYSBzdHJpbmcnLFxuICAgICAgZXJyb3JDb2RlOiBWYWxpZGF0aW9uRXJyb3JDb2Rlcy5JTlZBTElEX1RZUEUsXG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IHRyaW1tZWQgPSB2YWx1ZS50cmltKCk7XG5cbiAgaWYgKCFhbGxvd2VkVmFsdWVzLmluY2x1ZGVzKHRyaW1tZWQgYXMgVCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICBlcnJvcjogYFZhbHVlIG11c3QgYmUgb25lIG9mOiAke2FsbG93ZWRWYWx1ZXMuam9pbignLCAnKX1gLFxuICAgICAgZXJyb3JDb2RlOiBWYWxpZGF0aW9uRXJyb3JDb2Rlcy5JTlZBTElEX1ZBTFVFLFxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGlzVmFsaWQ6IHRydWUsXG4gICAgc2FuaXRpemVkVmFsdWU6IHRyaW1tZWQsXG4gIH07XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIGFuZCBzYW5pdGl6ZXMgYSBVUkxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlVVJMKHZhbHVlOiBhbnksIG9wdGlvbnM6IFZhbGlkYXRpb25PcHRpb25zID0ge30pOiBWYWxpZGF0aW9uUmVzdWx0IHtcbiAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAob3B0aW9ucy5hbGxvd051bGwpIHtcbiAgICAgIHJldHVybiB7IGlzVmFsaWQ6IHRydWUsIHNhbml0aXplZFZhbHVlOiBudWxsIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgIGVycm9yOiAnVVJMIGNhbm5vdCBiZSBudWxsJyxcbiAgICAgIGVycm9yQ29kZTogVmFsaWRhdGlvbkVycm9yQ29kZXMuTlVMTF9OT1RfQUxMT1dFRCxcbiAgICB9O1xuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICBlcnJvcjogJ1VSTCBtdXN0IGJlIGEgc3RyaW5nJyxcbiAgICAgIGVycm9yQ29kZTogVmFsaWRhdGlvbkVycm9yQ29kZXMuSU5WQUxJRF9UWVBFLFxuICAgIH07XG4gIH1cblxuICBjb25zdCB0cmltbWVkID0gdmFsdWUudHJpbSgpO1xuXG4gIC8vIExlbmd0aCBjaGVja1xuICBpZiAodHJpbW1lZC5sZW5ndGggPT09IDAgfHwgdHJpbW1lZC5sZW5ndGggPiAyMDQ4KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdVUkwgbGVuZ3RoIG11c3QgYmUgYmV0d2VlbiAxIGFuZCAyMDQ4IGNoYXJhY3RlcnMnLFxuICAgICAgZXJyb3JDb2RlOiBWYWxpZGF0aW9uRXJyb3JDb2Rlcy5JTlZBTElEX0xFTkdUSCxcbiAgICB9O1xuICB9XG5cbiAgLy8gRm9ybWF0IHZhbGlkYXRpb25cbiAgaWYgKCFQQVRURVJOUy5VUkwudGVzdCh0cmltbWVkKSkge1xuICAgIHJldHVybiB7XG4gICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgIGVycm9yOiAnSW52YWxpZCBVUkwgZm9ybWF0JyxcbiAgICAgIGVycm9yQ29kZTogVmFsaWRhdGlvbkVycm9yQ29kZXMuSU5WQUxJRF9VUkwsXG4gICAgfTtcbiAgfVxuXG4gIC8vIEFkZGl0aW9uYWwgc2VjdXJpdHkgY2hlY2tzXG4gIHRyeSB7XG4gICAgY29uc3QgdXJsID0gbmV3IFVSTCh0cmltbWVkKTtcblxuICAgIC8vIEJsb2NrIGRhbmdlcm91cyBwcm90b2NvbHNcbiAgICBpZiAoIVsnaHR0cDonLCAnaHR0cHM6J10uaW5jbHVkZXModXJsLnByb3RvY29sKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnT25seSBIVFRQIGFuZCBIVFRQUyBwcm90b2NvbHMgYXJlIGFsbG93ZWQnLFxuICAgICAgICBlcnJvckNvZGU6IFZhbGlkYXRpb25FcnJvckNvZGVzLklOVkFMSURfVVJMLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgaXNWYWxpZDogdHJ1ZSxcbiAgICAgIHNhbml0aXplZFZhbHVlOiB0cmltbWVkLFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdJbnZhbGlkIFVSTCBmb3JtYXQnLFxuICAgICAgZXJyb3JDb2RlOiBWYWxpZGF0aW9uRXJyb3JDb2Rlcy5JTlZBTElEX1VSTCxcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogU2FuaXRpemVzIGEgc2VhcmNoIHF1ZXJ5IGZvciBmdWxsLXRleHQgc2VhcmNoXG4gKiBQcmV2ZW50cyBTUUwgaW5qZWN0aW9uIGFuZCByZWdleCBET1MgYXR0YWNrc1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2FuaXRpemVTZWFyY2hRdWVyeShxdWVyeTogc3RyaW5nLCBtYXhMZW5ndGg6IG51bWJlciA9IDEwMCk6IHN0cmluZyB7XG4gIGlmICghcXVlcnkgfHwgdHlwZW9mIHF1ZXJ5ICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIC8vIFRyaW0gYW5kIGxpbWl0IGxlbmd0aFxuICBsZXQgc2FuaXRpemVkID0gcXVlcnkudHJpbSgpLnN1YnN0cmluZygwLCBtYXhMZW5ndGgpO1xuXG4gIC8vIFJlbW92ZSBTUUwgaW5qZWN0aW9uIHBhdHRlcm5zXG4gIHNhbml0aXplZCA9IHNhbml0aXplZFxuICAgIC5yZXBsYWNlKC9bJztcXFxcXS9nLCAnJykgLy8gUmVtb3ZlIHF1b3RlcyBhbmQgYmFja3NsYXNoZXNcbiAgICAucmVwbGFjZSgvLS0vZywgJycpIC8vIFJlbW92ZSBTUUwgY29tbWVudHNcbiAgICAucmVwbGFjZSgvXFwvXFwqL2csICcnKSAvLyBSZW1vdmUgYmxvY2sgY29tbWVudHNcbiAgICAucmVwbGFjZSgvXFwqXFwvL2csICcnKVxuICAgIC5yZXBsYWNlKC9cXGJPUlxcYi9naSwgJycpIC8vIFJlbW92ZSBPUiBrZXl3b3JkXG4gICAgLnJlcGxhY2UoL1xcYkFORFxcYi9naSwgJycpIC8vIFJlbW92ZSBBTkQga2V5d29yZFxuICAgIC5yZXBsYWNlKC9cXGJVTklPTlxcYi9naSwgJycpIC8vIFJlbW92ZSBVTklPTlxuICAgIC5yZXBsYWNlKC9cXGJTRUxFQ1RcXGIvZ2ksICcnKSAvLyBSZW1vdmUgU0VMRUNUXG4gICAgLnJlcGxhY2UoL1xcYkRST1BcXGIvZ2ksICcnKSAvLyBSZW1vdmUgRFJPUFxuICAgIC5yZXBsYWNlKC9cXGJERUxFVEVcXGIvZ2ksICcnKSAvLyBSZW1vdmUgREVMRVRFXG4gICAgLnJlcGxhY2UoL1xcYklOU0VSVFxcYi9naSwgJycpIC8vIFJlbW92ZSBJTlNFUlRcbiAgICAucmVwbGFjZSgvXFxiVVBEQVRFXFxiL2dpLCAnJyk7IC8vIFJlbW92ZSBVUERBVEVcblxuICAvLyBSZW1vdmUgY29udHJvbCBjaGFyYWN0ZXJzXG4gIHNhbml0aXplZCA9IHNhbml0aXplZC5yZXBsYWNlKC9bXFx4MDAtXFx4MUZcXHg3Rl0vZywgJycpO1xuXG4gIC8vIEVzY2FwZSByZWdleCBzcGVjaWFsIGNoYXJhY3RlcnMgZm9yIHNhZmUgcGF0dGVybiBtYXRjaGluZ1xuICBzYW5pdGl6ZWQgPSBzYW5pdGl6ZWQucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csICdcXFxcJCYnKTtcblxuICByZXR1cm4gc2FuaXRpemVkO1xufVxuXG4vKipcbiAqIEVzY2FwZXMgcmVnZXggc3BlY2lhbCBjaGFyYWN0ZXJzIHRvIHByZXZlbnQgUmVEb1MgYXR0YWNrc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlUmVnZXgodmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgLy8gRXNjYXBlIGFsbCByZWdleCBzcGVjaWFsIGNoYXJhY3RlcnNcbiAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLCAnXFxcXCQmJyk7XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIGEgc3RyaW5nIGlucHV0IGFnYWluc3QgYSBjdXN0b20gcmVnZXggcGF0dGVyblxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVQYXR0ZXJuKFxuICB2YWx1ZTogYW55LFxuICBwYXR0ZXJuOiBSZWdFeHAsXG4gIGVycm9yTWVzc2FnZT86IHN0cmluZyxcbiAgb3B0aW9uczogVmFsaWRhdGlvbk9wdGlvbnMgPSB7fVxuKTogVmFsaWRhdGlvblJlc3VsdCB7XG4gIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKG9wdGlvbnMuYWxsb3dOdWxsKSB7XG4gICAgICByZXR1cm4geyBpc1ZhbGlkOiB0cnVlLCBzYW5pdGl6ZWRWYWx1ZTogbnVsbCB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICBlcnJvcjogJ1ZhbHVlIGNhbm5vdCBiZSBudWxsJyxcbiAgICAgIGVycm9yQ29kZTogVmFsaWRhdGlvbkVycm9yQ29kZXMuTlVMTF9OT1RfQUxMT1dFRCxcbiAgICB9O1xuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICBlcnJvcjogJ1ZhbHVlIG11c3QgYmUgYSBzdHJpbmcnLFxuICAgICAgZXJyb3JDb2RlOiBWYWxpZGF0aW9uRXJyb3JDb2Rlcy5JTlZBTElEX1RZUEUsXG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IHRyaW1tZWQgPSB2YWx1ZS50cmltKCk7XG5cbiAgLy8gQ2hlY2sgbGVuZ3RoIGNvbnN0cmFpbnRzIGlmIHByb3ZpZGVkXG4gIGNvbnN0IG1heExlbmd0aCA9IG9wdGlvbnMubWF4TGVuZ3RoIHx8IDEwMDAwO1xuICBjb25zdCBtaW5MZW5ndGggPSBvcHRpb25zLm1pbkxlbmd0aCB8fCAwO1xuXG4gIGlmICh0cmltbWVkLmxlbmd0aCA8IG1pbkxlbmd0aCB8fCB0cmltbWVkLmxlbmd0aCA+IG1heExlbmd0aCkge1xuICAgIHJldHVybiB7XG4gICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgIGVycm9yOiBgTGVuZ3RoIG11c3QgYmUgYmV0d2VlbiAke21pbkxlbmd0aH0gYW5kICR7bWF4TGVuZ3RofSBjaGFyYWN0ZXJzYCxcbiAgICAgIGVycm9yQ29kZTogVmFsaWRhdGlvbkVycm9yQ29kZXMuSU5WQUxJRF9MRU5HVEgsXG4gICAgfTtcbiAgfVxuXG4gIGlmICghcGF0dGVybi50ZXN0KHRyaW1tZWQpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgZXJyb3I6IGVycm9yTWVzc2FnZSB8fCAnVmFsdWUgZG9lcyBub3QgbWF0Y2ggcmVxdWlyZWQgcGF0dGVybicsXG4gICAgICBlcnJvckNvZGU6IFZhbGlkYXRpb25FcnJvckNvZGVzLklOVkFMSURfRk9STUFULFxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGlzVmFsaWQ6IHRydWUsXG4gICAgc2FuaXRpemVkVmFsdWU6IHRyaW1tZWQsXG4gIH07XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNBTklUSVpBVElPTiBGVU5DVElPTlNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBTYW5pdGl6ZXMgdGV4dCBieSBlc2NhcGluZyBzcGVjaWFsIGNoYXJhY3RlcnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplVGV4dCh2YWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIHZhbHVlXG4gICAgLnJlcGxhY2UoLycvZywgXCInJ1wiKSAgLy8gRXNjYXBlIHNpbmdsZSBxdW90ZXMgZm9yIFNRTFxuICAgIC5yZXBsYWNlKC9cXFxcL2csICdcXFxcXFxcXCcpICAvLyBFc2NhcGUgYmFja3NsYXNoZXNcbiAgICAucmVwbGFjZSgvXFwwL2csICcnKSAgLy8gUmVtb3ZlIG51bGwgYnl0ZXNcbiAgICAucmVwbGFjZSgvXFxuL2csICcgJykgIC8vIFJlcGxhY2UgbmV3bGluZXMgd2l0aCBzcGFjZXNcbiAgICAucmVwbGFjZSgvXFxyL2csICcgJykgIC8vIFJlcGxhY2UgY2FycmlhZ2UgcmV0dXJucyB3aXRoIHNwYWNlc1xuICAgIC5yZXBsYWNlKC9cXHQvZywgJyAnKSAgLy8gUmVwbGFjZSB0YWJzIHdpdGggc3BhY2VzXG4gICAgLnJlcGxhY2UoL1tcXHgwMC1cXHgxRlxceDdGXS9nLCAnJyk7ICAvLyBSZW1vdmUgY29udHJvbCBjaGFyYWN0ZXJzXG59XG5cbi8qKlxuICogU2FuaXRpemVzIEpTT04gZGF0YSByZWN1cnNpdmVseVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2FuaXRpemVKU09OKG9iajogYW55LCBkZXB0aDogbnVtYmVyID0gMCk6IGFueSB7XG4gIC8vIFByZXZlbnQgZGVlcCByZWN1cnNpb24gYXR0YWNrc1xuICBpZiAoZGVwdGggPiAxMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSlNPTiBuZXN0aW5nIGRlcHRoIGV4Y2VlZGVkJyk7XG4gIH1cblxuICBpZiAob2JqID09PSBudWxsIHx8IG9iaiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICByZXR1cm4gb2JqLm1hcChpdGVtID0+IHNhbml0aXplSlNPTihpdGVtLCBkZXB0aCArIDEpKTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IHNhbml0aXplZDogYW55ID0ge307XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMob2JqKSkge1xuICAgICAgLy8gU2FuaXRpemUga2V5XG4gICAgICBjb25zdCBzYW5pdGl6ZWRLZXkgPSBzYW5pdGl6ZVRleHQoa2V5KTtcblxuICAgICAgLy8gU2FuaXRpemUgdmFsdWVcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHNhbml0aXplZFtzYW5pdGl6ZWRLZXldID0gc2FuaXRpemVUZXh0KHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICBzYW5pdGl6ZWRbc2FuaXRpemVkS2V5XSA9IHNhbml0aXplSlNPTih2YWx1ZSwgZGVwdGggKyAxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNhbml0aXplZFtzYW5pdGl6ZWRLZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzYW5pdGl6ZWQ7XG4gIH1cblxuICBpZiAodHlwZW9mIG9iaiA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gc2FuaXRpemVUZXh0KG9iaik7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIFNhbml0aXplcyBhbiBhcnJheSBvZiB2YWx1ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplQXJyYXk8VD4odmFsdWVzOiBUW10sIHZhbGlkYXRvcjogKHZhbHVlOiBUKSA9PiBWYWxpZGF0aW9uUmVzdWx0KTogVFtdIHtcbiAgcmV0dXJuIHZhbHVlc1xuICAgIC5tYXAodmFsdWUgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdG9yKHZhbHVlKTtcbiAgICAgIHJldHVybiByZXN1bHQuaXNWYWxpZCA/IHJlc3VsdC5zYW5pdGl6ZWRWYWx1ZSA6IG51bGw7XG4gICAgfSlcbiAgICAuZmlsdGVyKHZhbHVlID0+IHZhbHVlICE9PSBudWxsKTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gREVURUNUSU9OIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIHN0cmluZyBjb250YWlucyBTUUwgaW5qZWN0aW9uIHBhdHRlcm5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc1NRTEluamVjdGlvbih2YWx1ZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiBTUUxfSU5KRUNUSU9OX1BBVFRFUk5TLnNvbWUocGF0dGVybiA9PiBwYXR0ZXJuLnRlc3QodmFsdWUpKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBzdHJpbmcgY29udGFpbnMgWFNTIHBhdHRlcm5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc1hTUyh2YWx1ZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiBYU1NfUEFUVEVSTlMuc29tZShwYXR0ZXJuID0+IHBhdHRlcm4udGVzdCh2YWx1ZSkpO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBVVElMSVRZIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIFZhbGlkYXRlcyBtdWx0aXBsZSBwYXJhbWV0ZXJzIGF0IG9uY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUGFyYW1ldGVycyhcbiAgcGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuICB2YWxpZGF0b3JzOiBSZWNvcmQ8c3RyaW5nLCAodmFsdWU6IGFueSwgb3B0aW9ucz86IFZhbGlkYXRpb25PcHRpb25zKSA9PiBWYWxpZGF0aW9uUmVzdWx0PlxuKTogeyBpc1ZhbGlkOiBib29sZWFuOyBzYW5pdGl6ZWRQYXJhbXM6IFJlY29yZDxzdHJpbmcsIGFueT47IGVycm9yczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB9IHtcbiAgY29uc3Qgc2FuaXRpemVkUGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gIGNvbnN0IGVycm9yczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICBsZXQgaXNWYWxpZCA9IHRydWU7XG5cbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocGFyYW1zKSkge1xuICAgIGNvbnN0IHZhbGlkYXRvciA9IHZhbGlkYXRvcnNba2V5XTtcbiAgICBpZiAoIXZhbGlkYXRvcikge1xuICAgICAgLy8gSWYgbm8gdmFsaWRhdG9yIHNwZWNpZmllZCwgcGFzcyB0aHJvdWdoIHRoZSB2YWx1ZVxuICAgICAgc2FuaXRpemVkUGFyYW1zW2tleV0gPSB2YWx1ZTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRvcih2YWx1ZSk7XG4gICAgaWYgKHJlc3VsdC5pc1ZhbGlkKSB7XG4gICAgICBzYW5pdGl6ZWRQYXJhbXNba2V5XSA9IHJlc3VsdC5zYW5pdGl6ZWRWYWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaXNWYWxpZCA9IGZhbHNlO1xuICAgICAgZXJyb3JzW2tleV0gPSByZXN1bHQuZXJyb3IgfHwgJ1ZhbGlkYXRpb24gZmFpbGVkJztcbiAgICB9XG4gIH1cblxuICByZXR1cm4geyBpc1ZhbGlkLCBzYW5pdGl6ZWRQYXJhbXMsIGVycm9ycyB9O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB2YWxpZGF0b3IgZnVuY3Rpb24gd2l0aCBkZWZhdWx0IG9wdGlvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVZhbGlkYXRvcihcbiAgdmFsaWRhdG9yRm46ICh2YWx1ZTogYW55LCBvcHRpb25zOiBWYWxpZGF0aW9uT3B0aW9ucykgPT4gVmFsaWRhdGlvblJlc3VsdCxcbiAgZGVmYXVsdE9wdGlvbnM6IFZhbGlkYXRpb25PcHRpb25zID0ge31cbik6ICh2YWx1ZTogYW55KSA9PiBWYWxpZGF0aW9uUmVzdWx0IHtcbiAgcmV0dXJuICh2YWx1ZTogYW55KSA9PiB2YWxpZGF0b3JGbih2YWx1ZSwgZGVmYXVsdE9wdGlvbnMpO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyBhbiBvYmplY3QgYWdhaW5zdCBhIHNjaGVtYVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZhbGlkYXRpb25TY2hlbWEge1xuICBba2V5OiBzdHJpbmddOiB7XG4gICAgdmFsaWRhdG9yOiAodmFsdWU6IGFueSwgb3B0aW9ucz86IFZhbGlkYXRpb25PcHRpb25zKSA9PiBWYWxpZGF0aW9uUmVzdWx0O1xuICAgIHJlcXVpcmVkPzogYm9vbGVhbjtcbiAgICBvcHRpb25zPzogVmFsaWRhdGlvbk9wdGlvbnM7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVNjaGVtYShcbiAgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PixcbiAgc2NoZW1hOiBWYWxpZGF0aW9uU2NoZW1hXG4pOiB7IGlzVmFsaWQ6IGJvb2xlYW47IHNhbml0aXplZERhdGE6IFJlY29yZDxzdHJpbmcsIGFueT47IGVycm9yczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB9IHtcbiAgY29uc3Qgc2FuaXRpemVkRGF0YTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICBjb25zdCBlcnJvcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgbGV0IGlzVmFsaWQgPSB0cnVlO1xuXG4gIC8vIENoZWNrIHJlcXVpcmVkIGZpZWxkc1xuICBmb3IgKGNvbnN0IFtrZXksIGNvbmZpZ10gb2YgT2JqZWN0LmVudHJpZXMoc2NoZW1hKSkge1xuICAgIGNvbnN0IHZhbHVlID0gZGF0YVtrZXldO1xuXG4gICAgaWYgKGNvbmZpZy5yZXF1aXJlZCAmJiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgIGlzVmFsaWQgPSBmYWxzZTtcbiAgICAgIGVycm9yc1trZXldID0gYCR7a2V5fSBpcyByZXF1aXJlZGA7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29udGludWU7IC8vIFNraXAgb3B0aW9uYWwgZmllbGRzIHRoYXQgYXJlbid0IHByb3ZpZGVkXG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gY29uZmlnLnZhbGlkYXRvcih2YWx1ZSwgY29uZmlnLm9wdGlvbnMpO1xuICAgIGlmIChyZXN1bHQuaXNWYWxpZCkge1xuICAgICAgc2FuaXRpemVkRGF0YVtrZXldID0gcmVzdWx0LnNhbml0aXplZFZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICBlcnJvcnNba2V5XSA9IHJlc3VsdC5lcnJvciB8fCAnVmFsaWRhdGlvbiBmYWlsZWQnO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7IGlzVmFsaWQsIHNhbml0aXplZERhdGEsIGVycm9ycyB9O1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBFWFBPUlRTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBjb25zdCBJbnB1dFZhbGlkYXRvciA9IHtcbiAgdmFsaWRhdGVVVUlELFxuICB2YWxpZGF0ZUVtYWlsLFxuICB2YWxpZGF0ZVBob25lTnVtYmVyLFxuICB2YWxpZGF0ZVRleHQsXG4gIHZhbGlkYXRlSW50ZWdlcixcbiAgdmFsaWRhdGVKU09OLFxuICB2YWxpZGF0ZURhdGUsXG4gIHZhbGlkYXRlRW51bSxcbiAgdmFsaWRhdGVVUkwsXG4gIHZhbGlkYXRlUGF0dGVybixcbiAgc2FuaXRpemVUZXh0LFxuICBzYW5pdGl6ZUpTT04sXG4gIHNhbml0aXplQXJyYXksXG4gIHNhbml0aXplU2VhcmNoUXVlcnksXG4gIGVzY2FwZVJlZ2V4LFxuICBjb250YWluc1NRTEluamVjdGlvbixcbiAgY29udGFpbnNYU1MsXG4gIHZhbGlkYXRlUGFyYW1ldGVycyxcbiAgdmFsaWRhdGVTY2hlbWEsXG4gIGNyZWF0ZVZhbGlkYXRvcixcbiAgVmFsaWRhdGlvbkVycm9yQ29kZXMsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBJbnB1dFZhbGlkYXRvcjtcbiJdLCJuYW1lcyI6WyJJbnB1dFZhbGlkYXRvciIsIlZhbGlkYXRpb25FcnJvckNvZGVzIiwiY29udGFpbnNTUUxJbmplY3Rpb24iLCJjb250YWluc1hTUyIsImNyZWF0ZVZhbGlkYXRvciIsImVzY2FwZVJlZ2V4Iiwic2FuaXRpemVBcnJheSIsInNhbml0aXplSlNPTiIsInNhbml0aXplU2VhcmNoUXVlcnkiLCJzYW5pdGl6ZVRleHQiLCJ2YWxpZGF0ZURhdGUiLCJ2YWxpZGF0ZUVtYWlsIiwidmFsaWRhdGVFbnVtIiwidmFsaWRhdGVJbnRlZ2VyIiwidmFsaWRhdGVKU09OIiwidmFsaWRhdGVQYXJhbWV0ZXJzIiwidmFsaWRhdGVQYXR0ZXJuIiwidmFsaWRhdGVQaG9uZU51bWJlciIsInZhbGlkYXRlU2NoZW1hIiwidmFsaWRhdGVUZXh0IiwidmFsaWRhdGVVUkwiLCJ2YWxpZGF0ZVVVSUQiLCJJTlZBTElEX1RZUEUiLCJJTlZBTElEX0ZPUk1BVCIsIklOVkFMSURfTEVOR1RIIiwiSU5WQUxJRF9WQUxVRSIsIk5VTExfTk9UX0FMTE9XRUQiLCJTUUxfSU5KRUNUSU9OX0RFVEVDVEVEIiwiWFNTX0RFVEVDVEVEIiwiSU5WQUxJRF9VVUlEIiwiSU5WQUxJRF9FTUFJTCIsIklOVkFMSURfUEhPTkUiLCJJTlZBTElEX1VSTCIsIklOVkFMSURfSlNPTiIsIlBBVFRFUk5TIiwiVVVJRCIsIkVNQUlMIiwiUEhPTkUiLCJVUkwiLCJBTFBIQU5VTUVSSUNfU0FGRSIsIlNBRkVfVEVYVCIsIklOVEVHRVIiLCJERUNJTUFMIiwiSVNPX0RBVEUiLCJJU09fREFURVRJTUUiLCJTUUxfSU5KRUNUSU9OX1BBVFRFUk5TIiwiWFNTX1BBVFRFUk5TIiwidmFsdWUiLCJvcHRpb25zIiwidW5kZWZpbmVkIiwiYWxsb3dOdWxsIiwiaXNWYWxpZCIsInNhbml0aXplZFZhbHVlIiwiZXJyb3IiLCJlcnJvckNvZGUiLCJ0cmltbWVkIiwidHJpbSIsInRlc3QiLCJ0b0xvd2VyQ2FzZSIsImxlbmd0aCIsImNsZWFuZWQiLCJyZXBsYWNlIiwibWF4TGVuZ3RoIiwibWluTGVuZ3RoIiwicGF0dGVybiIsIm51bVZhbHVlIiwicGFyc2VJbnQiLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJpc05hTiIsInNhbml0aXplZCIsInBhcnNlZCIsIkpTT04iLCJwYXJzZSIsImRhdGUiLCJEYXRlIiwiZ2V0VGltZSIsImFsbG93ZWRWYWx1ZXMiLCJpbmNsdWRlcyIsImpvaW4iLCJ1cmwiLCJwcm90b2NvbCIsInF1ZXJ5Iiwic3Vic3RyaW5nIiwiZXJyb3JNZXNzYWdlIiwib2JqIiwiZGVwdGgiLCJFcnJvciIsIkFycmF5IiwiaXNBcnJheSIsIm1hcCIsIml0ZW0iLCJrZXkiLCJPYmplY3QiLCJlbnRyaWVzIiwic2FuaXRpemVkS2V5IiwidmFsdWVzIiwidmFsaWRhdG9yIiwicmVzdWx0IiwiZmlsdGVyIiwic29tZSIsInBhcmFtcyIsInZhbGlkYXRvcnMiLCJzYW5pdGl6ZWRQYXJhbXMiLCJlcnJvcnMiLCJ2YWxpZGF0b3JGbiIsImRlZmF1bHRPcHRpb25zIiwiZGF0YSIsInNjaGVtYSIsInNhbml0aXplZERhdGEiLCJjb25maWciLCJyZXF1aXJlZCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBaUJDLEdBRUQsK0VBQStFO0FBQy9FLG1CQUFtQjtBQUNuQiwrRUFBK0U7Ozs7Ozs7Ozs7OztRQW8yQmxFQTtlQUFBQTs7UUE5MEJBQztlQUFBQTs7UUFxdUJHQztlQUFBQTs7UUFPQUM7ZUFBQUE7O1FBMENBQztlQUFBQTs7UUFnRmhCO2VBQUE7O1FBalJnQkM7ZUFBQUE7O1FBZ0lBQztlQUFBQTs7UUExQ0FDO2VBQUFBOztRQXpIQUM7ZUFBQUE7O1FBMkdBQztlQUFBQTs7UUE5UUFDO2VBQUFBOztRQXRSQUM7ZUFBQUE7O1FBd1VBQztlQUFBQTs7UUEvSkFDO2VBQUFBOztRQW1EQUM7ZUFBQUE7O1FBa2FBQztlQUFBQTs7UUF0SkFDO2VBQUFBOztRQTlhQUM7ZUFBQUE7O1FBcW5CQUM7ZUFBQUE7O1FBNWtCQUM7ZUFBQUE7O1FBZ1JBQztlQUFBQTs7UUE5WkFDO2VBQUFBOzs7QUE5RVQsTUFBTXBCLHVCQUF1QjtJQUNsQ3FCLGNBQWM7SUFDZEMsZ0JBQWdCO0lBQ2hCQyxnQkFBZ0I7SUFDaEJDLGVBQWU7SUFDZkMsa0JBQWtCO0lBQ2xCQyx3QkFBd0I7SUFDeEJDLGNBQWM7SUFDZEMsY0FB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