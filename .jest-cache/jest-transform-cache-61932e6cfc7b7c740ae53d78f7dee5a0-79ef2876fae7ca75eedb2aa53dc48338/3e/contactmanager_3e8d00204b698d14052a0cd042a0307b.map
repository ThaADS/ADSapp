{"version":3,"sources":["C:\\Ai Projecten\\ADSapp\\src\\components\\contacts\\contact-manager.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useMemo, useCallback, useRef } from 'react';\nimport {\n  MagnifyingGlassIcon,\n  FunnelIcon,\n  UserPlusIcon,\n  UserGroupIcon,\n  PhoneIcon,\n  EnvelopeIcon,\n  MapPinIcon,\n  TagIcon,\n  CalendarIcon,\n  EllipsisVerticalIcon,\n  PencilIcon,\n  TrashIcon,\n  DocumentArrowDownIcon,\n  DocumentArrowUpIcon,\n  StarIcon,\n  ChatBubbleLeftRightIcon,\n  ClockIcon,\n  BuildingOfficeIcon,\n  GlobeAltIcon,\n  ExclamationTriangleIcon,\n  CheckCircleIcon,\n  XMarkIcon,\n  ArrowPathIcon,\n  EyeIcon,\n  ShareIcon,\n  Bars3Icon,\n  TableCellsIcon\n} from '@heroicons/react/24/outline';\nimport { StarIcon as StarIconSolid } from '@heroicons/react/24/solid';\n\n// Contact interface\ninterface Contact {\n  id: string;\n  firstName: string;\n  lastName: string;\n  phone: string;\n  email?: string;\n  avatar?: string;\n  company?: string;\n  position?: string;\n  location?: string;\n  website?: string;\n  metadata?: Record<string, unknown>;\n  tags: string[];\n  status: 'active' | 'inactive' | 'blocked';\n  isStarred: boolean;\n  lastContact: string;\n  addedDate: string;\n  totalMessages: number;\n  customFields: Record<string, unknown>;\n  notes: string;\n  source: 'manual' | 'import' | 'whatsapp' | 'api';\n  assignedTo?: string;\n}\n\n// Filter options\ninterface FilterOptions {\n  search: string;\n  status: string;\n  tags: string[];\n  dateRange: string;\n  source: string;\n  assignedTo: string;\n  isStarred: boolean | null;\n}\n\n// Sample contacts data\nconst SAMPLE_CONTACTS: Contact[] = [\n  {\n    id: '1',\n    firstName: 'John',\n    lastName: 'Smith',\n    email: 'john.smith@example.com',\n    phone: '+1234567890',\n    company: 'Tech Corp',\n    position: 'CEO',\n    location: 'New York, NY',\n    website: 'https://techcorp.com',\n    tags: ['vip', 'potential-client'],\n    status: 'active',\n    isStarred: true,\n    lastContact: '2024-01-25',\n    addedDate: '2024-01-15',\n    totalMessages: 24,\n    customFields: { budget: '$50,000', interest: 'Enterprise' },\n    notes: 'Interested in enterprise solution. Follow up next week.',\n    source: 'whatsapp',\n    assignedTo: 'Alice Johnson'\n  },\n  {\n    id: '2',\n    firstName: 'Sarah',\n    lastName: 'Johnson',\n    email: 'sarah.j@business.com',\n    phone: '+1987654321',\n    company: 'Business Solutions',\n    position: 'Marketing Director',\n    location: 'Los Angeles, CA',\n    tags: ['marketing', 'active-lead'],\n    status: 'active',\n    isStarred: false,\n    lastContact: '2024-01-24',\n    addedDate: '2024-01-10',\n    totalMessages: 12,\n    customFields: { budget: '$25,000', interest: 'Marketing Tools' },\n    notes: 'Needs marketing automation features.',\n    source: 'manual',\n    assignedTo: 'Bob Wilson'\n  },\n  {\n    id: '3',\n    firstName: 'Mike',\n    lastName: 'Chen',\n    phone: '+1555123456',\n    company: 'Startup Inc',\n    position: 'Founder',\n    location: 'San Francisco, CA',\n    tags: ['startup', 'tech'],\n    status: 'inactive',\n    isStarred: false,\n    lastContact: '2024-01-20',\n    addedDate: '2024-01-05',\n    totalMessages: 8,\n    customFields: { budget: '$10,000', interest: 'Basic Plan' },\n    notes: 'Small startup, price sensitive.',\n    source: 'import',\n    assignedTo: 'Charlie Brown'\n  }\n];\n\n// Available tags\nconst AVAILABLE_TAGS = [\n  { id: 'vip', label: 'VIP', color: 'bg-purple-100 text-purple-800' },\n  { id: 'potential-client', label: 'Potential Client', color: 'bg-blue-100 text-blue-800' },\n  { id: 'active-lead', label: 'Active Lead', color: 'bg-green-100 text-green-800' },\n  { id: 'marketing', label: 'Marketing', color: 'bg-orange-100 text-orange-800' },\n  { id: 'startup', label: 'Startup', color: 'bg-pink-100 text-pink-800' },\n  { id: 'tech', label: 'Tech', color: 'bg-indigo-100 text-indigo-800' },\n  { id: 'enterprise', label: 'Enterprise', color: 'bg-gray-100 text-gray-800' }\n];\n\n// Team members for assignment\nconst TEAM_MEMBERS = [\n  { id: 'alice', name: 'Alice Johnson' },\n  { id: 'bob', name: 'Bob Wilson' },\n  { id: 'charlie', name: 'Charlie Brown' },\n  { id: 'diana', name: 'Diana Prince' }\n];\n\ninterface ContactManagerProps {\n  organizationId: string;\n}\n\nexport default function ContactManager({ organizationId }: ContactManagerProps) {\n  const [contacts, setContacts] = useState<Contact[]>(SAMPLE_CONTACTS);\n  const [selectedContacts, setSelectedContacts] = useState<string[]>([]);\n  const [viewMode, setViewMode] = useState<'grid' | 'table'>('table');\n  const [showFilters, setShowFilters] = useState(false);\n  const [showImportModal, setShowImportModal] = useState(false);\n  const [showContactModal, setShowContactModal] = useState(false);\n  const [editingContact, setEditingContact] = useState<Contact | null>(null);\n  const [filters, setFilters] = useState<FilterOptions>({\n    search: '',\n    status: 'all',\n    tags: [],\n    dateRange: 'all',\n    source: 'all',\n    assignedTo: 'all',\n    isStarred: null\n  });\n\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  // Filter contacts based on current filters\n  const filteredContacts = useMemo(() => {\n    return contacts.filter(contact => {\n      // Search filter\n      const searchTerm = filters.search.toLowerCase();\n      const matchesSearch = !searchTerm ||\n        contact.firstName.toLowerCase().includes(searchTerm) ||\n        contact.lastName.toLowerCase().includes(searchTerm) ||\n        contact.email?.toLowerCase().includes(searchTerm) ||\n        contact.phone.includes(searchTerm) ||\n        contact.company?.toLowerCase().includes(searchTerm);\n\n      // Status filter\n      const matchesStatus = filters.status === 'all' || contact.status === filters.status;\n\n      // Tags filter\n      const matchesTags = filters.tags.length === 0 ||\n        filters.tags.some(tag => contact.tags.includes(tag));\n\n      // Starred filter\n      const matchesStarred = filters.isStarred === null || contact.isStarred === filters.isStarred;\n\n      // Source filter\n      const matchesSource = filters.source === 'all' || contact.source === filters.source;\n\n      // Assigned to filter\n      const matchesAssignment = filters.assignedTo === 'all' || contact.assignedTo === filters.assignedTo;\n\n      // Date range filter (simplified)\n      const matchesDateRange = filters.dateRange === 'all'; // Implement date logic as needed\n\n      return matchesSearch && matchesStatus && matchesTags && matchesStarred &&\n             matchesSource && matchesAssignment && matchesDateRange;\n    });\n  }, [contacts, filters]);\n\n  // Handle contact selection\n  const toggleContactSelection = useCallback((contactId: string) => {\n    setSelectedContacts(prev =>\n      prev.includes(contactId)\n        ? prev.filter(id => id !== contactId)\n        : [...prev, contactId]\n    );\n  }, []);\n\n  // Select all contacts\n  const toggleSelectAll = useCallback(() => {\n    setSelectedContacts(prev =>\n      prev.length === filteredContacts.length\n        ? []\n        : filteredContacts.map(c => c.id)\n    );\n  }, [filteredContacts]);\n\n  // Star/Unstar contact\n  const toggleStar = useCallback((contactId: string) => {\n    setContacts(prev => prev.map(contact =>\n      contact.id === contactId\n        ? { ...contact, isStarred: !contact.isStarred }\n        : contact\n    ));\n  }, []);\n\n  // Delete contacts\n  const deleteContacts = useCallback((contactIds: string[]) => {\n    if (confirm(`Are you sure you want to delete ${contactIds.length} contact(s)?`)) {\n      setContacts(prev => prev.filter(contact => !contactIds.includes(contact.id)));\n      setSelectedContacts([]);\n    }\n  }, []);\n\n  // Export contacts\n  const exportContacts = useCallback((format: 'csv' | 'excel') => {\n    // Simulate export functionality\n    const contactsToExport = selectedContacts.length > 0\n      ? contacts.filter(c => selectedContacts.includes(c.id))\n      : filteredContacts;\n\n    \n    // In real implementation, generate and download file\n    alert(`Exported ${contactsToExport.length} contacts as ${format.toUpperCase()}`);\n  }, [contacts, selectedContacts, filteredContacts]);\n\n  // Import contacts\n  const handleImport = useCallback((file: File) => {\n    // Simulate import functionality\n    \n    // In real implementation, parse file and add contacts\n    setShowImportModal(false);\n    alert('Contacts imported successfully!');\n  }, []);\n\n  // Contact card component for grid view\n  const ContactCard: React.FC<{ contact: Contact }> = ({ contact }) => (\n    <div className=\"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow\">\n      <div className=\"flex items-start justify-between mb-3\">\n        <div className=\"flex items-center space-x-3\">\n          <input\n            type=\"checkbox\"\n            title={`Select contact ${contact.firstName} ${contact.lastName}`}\n            checked={selectedContacts.includes(contact.id)}\n            onChange={() => toggleContactSelection(contact.id)}\n            className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n          />\n          <div className=\"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center\">\n            {contact.avatar ? (\n              <img src={contact.avatar} alt=\"\" className=\"w-10 h-10 rounded-full\" />\n            ) : (\n              <span className=\"text-sm font-medium text-gray-600\">\n                {contact.firstName[0]}{contact.lastName[0]}\n              </span>\n            )}\n          </div>\n        </div>\n        <div className=\"flex items-center space-x-1\">\n          <button\n            type=\"button\"\n            onClick={() => toggleStar(contact.id)}\n            className=\"text-gray-400 hover:text-yellow-500\"\n            aria-label=\"Star contact\"\n          >\n            {contact.isStarred ? (\n              <StarIconSolid className=\"w-4 h-4 text-yellow-500\" />\n            ) : (\n              <StarIcon className=\"w-4 h-4\" />\n            )}\n          </button>\n          <button type=\"button\" className=\"text-gray-400 hover:text-gray-600\" aria-label=\"More options\">\n            <EllipsisVerticalIcon className=\"w-4 h-4\" />\n          </button>\n        </div>\n      </div>\n\n      <div className=\"mb-3\">\n        <h3 className=\"font-medium text-gray-900\">\n          {contact.firstName} {contact.lastName}\n        </h3>\n        {contact.position && contact.company && (\n          <p className=\"text-sm text-gray-600\">\n            {contact.position} at {contact.company}\n          </p>\n        )}\n      </div>\n\n      <div className=\"space-y-2 text-sm text-gray-600 mb-3\">\n        {contact.phone && (\n          <div className=\"flex items-center\">\n            <PhoneIcon className=\"w-4 h-4 mr-2\" />\n            {contact.phone}\n          </div>\n        )}\n        {contact.email && (\n          <div className=\"flex items-center\">\n            <EnvelopeIcon className=\"w-4 h-4 mr-2\" />\n            {contact.email}\n          </div>\n        )}\n        {contact.location && (\n          <div className=\"flex items-center\">\n            <MapPinIcon className=\"w-4 h-4 mr-2\" />\n            {contact.location}\n          </div>\n        )}\n      </div>\n\n      <div className=\"flex flex-wrap gap-1 mb-3\">\n        {contact.tags.slice(0, 3).map(tagId => {\n          const tag = AVAILABLE_TAGS.find(t => t.id === tagId);\n          return tag ? (\n            <span key={tagId} className={`px-2 py-1 text-xs rounded-full ${tag.color}`}>\n              {tag.label}\n            </span>\n          ) : null;\n        })}\n        {contact.tags.length > 3 && (\n          <span className=\"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-full\">\n            +{contact.tags.length - 3}\n          </span>\n        )}\n      </div>\n\n      <div className=\"flex items-center justify-between text-xs text-gray-500\">\n        <span>{contact.totalMessages} messages</span>\n        <span>Last: {contact.lastContact}</span>\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"h-screen flex flex-col bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-4\">\n              <h1 className=\"text-2xl font-bold text-gray-900\">Contacts</h1>\n              <span className=\"text-sm text-gray-500\">\n                {filteredContacts.length} of {contacts.length} contacts\n              </span>\n            </div>\n\n            <div className=\"flex items-center space-x-3\">\n              {/* View Toggle */}\n              <div className=\"flex border border-gray-300 rounded-lg\">\n                <button\n                  type=\"button\"\n                  onClick={() => setViewMode('table')}\n                  className={`p-2 ${viewMode === 'table' ? 'bg-blue-50 text-blue-600' : 'text-gray-600'}`}\n                  aria-label=\"Table view\"\n                >\n                  <TableCellsIcon className=\"w-4 h-4\" />\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => setViewMode('grid')}\n                  className={`p-2 ${viewMode === 'grid' ? 'bg-blue-50 text-blue-600' : 'text-gray-600'}`}\n                  aria-label=\"Grid view\"\n                >\n                  <Bars3Icon className=\"w-4 h-4\" />\n                </button>\n              </div>\n\n              <button\n                type=\"button\"\n                onClick={() => setShowImportModal(true)}\n                className=\"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50\"\n              >\n                <DocumentArrowUpIcon className=\"w-4 h-4 mr-2\" />\n                Import\n              </button>\n\n              <button\n                type=\"button\"\n                onClick={() => exportContacts('csv')}\n                className=\"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50\"\n              >\n                <DocumentArrowDownIcon className=\"w-4 h-4 mr-2\" />\n                Export\n              </button>\n\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setEditingContact(null);\n                  setShowContactModal(true);\n                }}\n                className=\"flex items-center px-3 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700\"\n              >\n                <UserPlusIcon className=\"w-4 h-4 mr-2\" />\n                Add Contact\n              </button>\n            </div>\n          </div>\n\n          {/* Search and Filters */}\n          <div className=\"mt-4 flex items-center space-x-4\">\n            <div className=\"flex-1 relative\">\n              <MagnifyingGlassIcon className=\"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search contacts...\"\n                value={filters.search}\n                onChange={(e) => setFilters(prev => ({ ...prev, search: e.target.value }))}\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n\n            <button\n              type=\"button\"\n              onClick={() => setShowFilters(!showFilters)}\n              className={`flex items-center px-3 py-2 text-sm font-medium rounded-lg ${\n                showFilters ? 'bg-blue-100 text-blue-700' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n              }`}\n            >\n              <FunnelIcon className=\"w-4 h-4 mr-2\" />\n              Filters\n            </button>\n\n            {selectedContacts.length > 0 && (\n              <div className=\"flex items-center space-x-2\">\n                <span className=\"text-sm text-gray-600\">\n                  {selectedContacts.length} selected\n                </span>\n                <button\n                  type=\"button\"\n                  onClick={() => deleteContacts(selectedContacts)}\n                  className=\"text-red-600 hover:text-red-700\"\n                  aria-label=\"Delete selected contacts\"\n                >\n                  <TrashIcon className=\"w-4 h-4\" />\n                </button>\n              </div>\n            )}\n          </div>\n\n          {/* Filter Panel */}\n          {showFilters && (\n            <div className=\"mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Status</label>\n                  <select\n                    title=\"Filter by contact status\"\n                    value={filters.status}\n                    onChange={(e) => setFilters(prev => ({ ...prev, status: e.target.value }))}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md text-sm\"\n                  >\n                    <option value=\"all\">All Statuses</option>\n                    <option value=\"active\">Active</option>\n                    <option value=\"inactive\">Inactive</option>\n                    <option value=\"blocked\">Blocked</option>\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Source</label>\n                  <select\n                    title=\"Filter by contact source\"\n                    value={filters.source}\n                    onChange={(e) => setFilters(prev => ({ ...prev, source: e.target.value }))}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md text-sm\"\n                  >\n                    <option value=\"all\">All Sources</option>\n                    <option value=\"whatsapp\">WhatsApp</option>\n                    <option value=\"manual\">Manual</option>\n                    <option value=\"import\">Import</option>\n                    <option value=\"api\">API</option>\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Assigned To</label>\n                  <select\n                    title=\"Filter by assigned team member\"\n                    value={filters.assignedTo}\n                    onChange={(e) => setFilters(prev => ({ ...prev, assignedTo: e.target.value }))}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md text-sm\"\n                  >\n                    <option value=\"all\">All Team Members</option>\n                    {TEAM_MEMBERS.map(member => (\n                      <option key={member.id} value={member.name}>{member.name}</option>\n                    ))}\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Tags</label>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {AVAILABLE_TAGS.slice(0, 4).map(tag => (\n                      <button\n                        type=\"button\"\n                        key={tag.id}\n                        onClick={() => {\n                          setFilters(prev => ({\n                            ...prev,\n                            tags: prev.tags.includes(tag.id)\n                              ? prev.tags.filter(t => t !== tag.id)\n                              : [...prev.tags, tag.id]\n                          }));\n                        }}\n                        className={`px-2 py-1 text-xs rounded-full transition-colors ${\n                          filters.tags.includes(tag.id)\n                            ? tag.color\n                            : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n                        }`}\n                      >\n                        {tag.label}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"mt-4 flex items-center justify-between\">\n                <div className=\"flex items-center space-x-4\">\n                  <label className=\"flex items-center\">\n                    <input\n                      type=\"checkbox\"\n                      checked={filters.isStarred === true}\n                      onChange={(e) => setFilters(prev => ({\n                        ...prev,\n                        isStarred: e.target.checked ? true : null\n                      }))}\n                      className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                    />\n                    <span className=\"ml-2 text-sm text-gray-700\">Starred only</span>\n                  </label>\n                </div>\n\n                <button\n                  type=\"button\"\n                  onClick={() => setFilters({\n                    search: '',\n                    status: 'all',\n                    tags: [],\n                    dateRange: 'all',\n                    source: 'all',\n                    assignedTo: 'all',\n                    isStarred: null\n                  })}\n                  className=\"text-sm text-blue-600 hover:text-blue-700\"\n                >\n                  Clear Filters\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 overflow-hidden\">\n        {viewMode === 'table' ? (\n          /* Table View */\n          <div className=\"h-full overflow-y-auto\">\n            <table className=\"w-full\">\n              <thead className=\"bg-gray-50 sticky top-0\">\n                <tr>\n                  <th className=\"w-12 px-6 py-3\">\n                    <input\n                      type=\"checkbox\"\n                      title=\"Select all contacts\"\n                      checked={selectedContacts.length === filteredContacts.length && filteredContacts.length > 0}\n                      onChange={toggleSelectAll}\n                      className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                    />\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Contact\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Company\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Contact Info\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Tags\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Status\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Last Contact\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Actions\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {filteredContacts.map(contact => (\n                  <tr key={contact.id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4\">\n                      <input\n                        type=\"checkbox\"\n                        title={`Select ${contact.firstName} ${contact.lastName}`}\n                        checked={selectedContacts.includes(contact.id)}\n                        onChange={() => toggleContactSelection(contact.id)}\n                        className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                      />\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex items-center\">\n                        <div className=\"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center mr-3\">\n                          {contact.avatar ? (\n                            <img src={contact.avatar} alt=\"\" className=\"w-8 h-8 rounded-full\" />\n                          ) : (\n                            <span className=\"text-xs font-medium text-gray-600\">\n                              {contact.firstName[0]}{contact.lastName[0]}\n                            </span>\n                          )}\n                        </div>\n                        <div>\n                          <div className=\"flex items-center\">\n                            <span className=\"text-sm font-medium text-gray-900\">\n                              {contact.firstName} {contact.lastName}\n                            </span>\n                            {contact.isStarred && (\n                              <StarIconSolid className=\"w-4 h-4 text-yellow-500 ml-1\" />\n                            )}\n                          </div>\n                          {contact.position && (\n                            <div className=\"text-sm text-gray-500\">{contact.position}</div>\n                          )}\n                        </div>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 text-sm text-gray-900\">\n                      {contact.company || '-'}\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"text-sm text-gray-900\">{contact.phone}</div>\n                      {contact.email && (\n                        <div className=\"text-sm text-gray-500\">{contact.email}</div>\n                      )}\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex flex-wrap gap-1\">\n                        {contact.tags.slice(0, 2).map(tagId => {\n                          const tag = AVAILABLE_TAGS.find(t => t.id === tagId);\n                          return tag ? (\n                            <span key={tagId} className={`px-2 py-1 text-xs rounded-full ${tag.color}`}>\n                              {tag.label}\n                            </span>\n                          ) : null;\n                        })}\n                        {contact.tags.length > 2 && (\n                          <span className=\"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-full\">\n                            +{contact.tags.length - 2}\n                          </span>\n                        )}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\n                        contact.status === 'active' ? 'bg-green-100 text-green-800' :\n                        contact.status === 'inactive' ? 'bg-gray-100 text-gray-800' :\n                        'bg-red-100 text-red-800'\n                      }`}>\n                        {contact.status}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 text-sm text-gray-500\">\n                      {contact.lastContact}\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex items-center space-x-2\">\n                        <button\n                          type=\"button\"\n                          onClick={() => toggleStar(contact.id)}\n                          className=\"text-gray-400 hover:text-yellow-500\"\n                          aria-label=\"Star contact\"\n                        >\n                          {contact.isStarred ? (\n                            <StarIconSolid className=\"w-4 h-4 text-yellow-500\" />\n                          ) : (\n                            <StarIcon className=\"w-4 h-4\" />\n                          )}\n                        </button>\n                        <button\n                          type=\"button\"\n                          onClick={() => {\n                            setEditingContact(contact);\n                            setShowContactModal(true);\n                          }}\n                          className=\"text-gray-400 hover:text-blue-600\"\n                          aria-label=\"Edit contact\"\n                        >\n                          <PencilIcon className=\"w-4 h-4\" />\n                        </button>\n                        <button\n                          type=\"button\"\n                          onClick={() => deleteContacts([contact.id])}\n                          className=\"text-gray-400 hover:text-red-600\"\n                          aria-label=\"Delete contact\"\n                        >\n                          <TrashIcon className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n\n            {filteredContacts.length === 0 && (\n              <div className=\"text-center py-12\">\n                <UserGroupIcon className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No contacts found</h3>\n                <p className=\"text-gray-500 mb-4\">\n                  {filters.search || filters.status !== 'all' || filters.tags.length > 0\n                    ? 'Try adjusting your filters'\n                    : 'Get started by adding your first contact'\n                  }\n                </p>\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setEditingContact(null);\n                    setShowContactModal(true);\n                  }}\n                  className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700\"\n                >\n                  Add Contact\n                </button>\n              </div>\n            )}\n          </div>\n        ) : (\n          /* Grid View */\n          <div className=\"p-6 overflow-y-auto\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n              {filteredContacts.map(contact => (\n                <ContactCard key={contact.id} contact={contact} />\n              ))}\n            </div>\n\n            {filteredContacts.length === 0 && (\n              <div className=\"text-center py-12\">\n                <UserGroupIcon className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No contacts found</h3>\n                <p className=\"text-gray-500 mb-4\">\n                  {filters.search || filters.status !== 'all' || filters.tags.length > 0\n                    ? 'Try adjusting your filters'\n                    : 'Get started by adding your first contact'\n                  }\n                </p>\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setEditingContact(null);\n                    setShowContactModal(true);\n                  }}\n                  className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700\"\n                >\n                  Add Contact\n                </button>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Import Modal */}\n      {showImportModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full mx-4\">\n            <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n              <h2 className=\"text-lg font-medium text-gray-900\">Import Contacts</h2>\n              <button\n                type=\"button\"\n                onClick={() => setShowImportModal(false)}\n                className=\"text-gray-400 hover:text-gray-600\"\n                aria-label=\"Close import modal\"\n              >\n                <XMarkIcon className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            <div className=\"p-6\">\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Select File\n                  </label>\n                  <input\n                    ref={fileInputRef}\n                    type=\"file\"\n                    title=\"Select CSV or Excel file to import contacts\"\n                    accept=\".csv,.xlsx,.xls\"\n                    onChange={(e) => {\n                      const file = e.target.files?.[0];\n                      if (file) {\n                        handleImport(file);\n                      }\n                    }}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    Supported formats: CSV, Excel (.xlsx, .xls)\n                  </p>\n                </div>\n\n                <div className=\"border-t border-gray-200 pt-4\">\n                  <h4 className=\"text-sm font-medium text-gray-900 mb-2\">Required Columns</h4>\n                  <ul className=\"text-xs text-gray-600 space-y-1\">\n                    <li>• first_name (required)</li>\n                    <li>• last_name (required)</li>\n                    <li>• phone (required)</li>\n                    <li>• email (optional)</li>\n                    <li>• company (optional)</li>\n                    <li>• position (optional)</li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"flex justify-end space-x-3 p-6 border-t border-gray-200\">\n              <button\n                type=\"button\"\n                onClick={() => setShowImportModal(false)}\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Contact Modal (Add/Edit) - Simplified placeholder */}\n      {showContactModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\n            <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n              <h2 className=\"text-lg font-medium text-gray-900\">\n                {editingContact ? 'Edit Contact' : 'Add New Contact'}\n              </h2>\n              <button\n                type=\"button\"\n                onClick={() => setShowContactModal(false)}\n                className=\"text-gray-400 hover:text-gray-600\"\n                aria-label=\"Close contact modal\"\n              >\n                <XMarkIcon className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            <div className=\"p-6\">\n              <p className=\"text-gray-600\">Contact form would be implemented here...</p>\n            </div>\n\n            <div className=\"flex justify-end space-x-3 p-6 border-t border-gray-200\">\n              <button\n                type=\"button\"\n                onClick={() => setShowContactModal(false)}\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => {\n                  // Save logic would go here\n                  setShowContactModal(false);\n                }}\n                className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700\"\n              >\n                {editingContact ? 'Save Changes' : 'Add Contact'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}"],"names":["ContactManager","SAMPLE_CONTACTS","id","firstName","lastName","email","phone","company","position","location","website","tags","status","isStarred","lastContact","addedDate","totalMessages","customFields","budget","interest","notes","source","assignedTo","AVAILABLE_TAGS","label","color","TEAM_MEMBERS","name","organizationId","contacts","setContacts","useState","selectedContacts","setSelectedContacts","viewMode","setViewMode","showFilters","setShowFilters","showImportModal","setShowImportModal","showContactModal","setShowContactModal","editingContact","setEditingContact","filters","setFilters","search","dateRange","fileInputRef","useRef","filteredContacts","useMemo","filter","contact","searchTerm","toLowerCase","matchesSearch","includes","matchesStatus","matchesTags","length","some","tag","matchesStarred","matchesSource","matchesAssignment","matchesDateRange","toggleContactSelection","useCallback","contactId","prev","toggleSelectAll","map","c","toggleStar","deleteContacts","contactIds","confirm","exportContacts","format","contactsToExport","alert","toUpperCase","handleImport","file","ContactCard","div","className","input","type","title","checked","onChange","avatar","img","src","alt","span","button","onClick","aria-label","StarIconSolid","StarIcon","EllipsisVerticalIcon","h3","p","PhoneIcon","EnvelopeIcon","MapPinIcon","slice","tagId","find","t","h1","TableCellsIcon","Bars3Icon","DocumentArrowUpIcon","DocumentArrowDownIcon","UserPlusIcon","MagnifyingGlassIcon","placeholder","value","e","target","FunnelIcon","TrashIcon","select","option","member","table","thead","tr","th","tbody","td","PencilIcon","UserGroupIcon","h2","XMarkIcon","ref","accept","files","h4","ul","li"],"mappings":"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"}