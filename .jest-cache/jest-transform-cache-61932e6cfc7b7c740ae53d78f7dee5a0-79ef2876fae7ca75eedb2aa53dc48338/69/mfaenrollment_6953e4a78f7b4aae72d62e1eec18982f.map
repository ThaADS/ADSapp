{"version":3,"names":["MFAEnrollment","onComplete","onCancel","cov_1sy6wy4uv4","f","step","setStep","s","_react","useState","loading","setLoading","error","setError","enrollmentData","setEnrollmentData","verificationToken","setVerificationToken","backupCodesSaved","setBackupCodesSaved","handleStartEnrollment","response","fetch","method","headers","data","json","ok","b","Error","err","message","handleContinueToVerification","handleVerifyToken","test","body","JSON","stringify","token","handleDownloadBackupCodes","content","backupCodes","join","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","_jsxruntime","jsxs","className","jsx","map","onClick","disabled","_image","default","src","qrCode","alt","width","height","code","index","checked","onChange","e","target","htmlFor","id","inputMode","maxLength","value","replace","placeholder","autoComplete","length"],"sources":["C:\\Ai Projecten\\ADSapp\\src\\components\\auth\\mfa-enrollment.tsx"],"sourcesContent":["'use client';\n\n/**\n * MFA Enrollment Component\n *\n * 3-step wizard for MFA enrollment:\n * 1. Generate QR code and backup codes\n * 2. Scan QR code with authenticator app\n * 3. Verify TOTP token to complete enrollment\n */\n\nimport { useState } from 'react';\nimport Image from 'next/image';\n\ninterface MFAEnrollmentProps {\n  onComplete?: () => void;\n  onCancel?: () => void;\n}\n\ninterface EnrollmentData {\n  qrCode: string;\n  backupCodes: string[];\n}\n\nexport default function MFAEnrollment({ onComplete, onCancel }: MFAEnrollmentProps) {\n  const [step, setStep] = useState<1 | 2 | 3>(1);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [enrollmentData, setEnrollmentData] = useState<EnrollmentData | null>(null);\n  const [verificationToken, setVerificationToken] = useState('');\n  const [backupCodesSaved, setBackupCodesSaved] = useState(false);\n\n  // Step 1: Generate QR code and backup codes\n  const handleStartEnrollment = async () => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const response = await fetch('/api/auth/mfa/enroll', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.error || 'Failed to generate enrollment data');\n      }\n\n      setEnrollmentData(data.data);\n      setStep(2);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'An error occurred');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Step 2: User scans QR code and saves backup codes\n  const handleContinueToVerification = () => {\n    if (!backupCodesSaved) {\n      setError('Please confirm that you have saved your backup codes securely');\n      return;\n    }\n    setStep(3);\n  };\n\n  // Step 3: Verify TOTP token\n  const handleVerifyToken = async () => {\n    if (!/^\\d{6}$/.test(verificationToken)) {\n      setError('Verification code must be 6 digits');\n      return;\n    }\n\n    setLoading(true);\n    setError(null);\n\n    try {\n      const response = await fetch('/api/auth/mfa/verify', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ token: verificationToken }),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.error || 'Invalid verification code');\n      }\n\n      // Success!\n      onComplete?.();\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Verification failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Download backup codes as text file\n  const handleDownloadBackupCodes = () => {\n    if (!enrollmentData) return;\n\n    const content = `ADSapp MFA Backup Codes\\n\\n${enrollmentData.backupCodes.join('\\n')}\\n\\nKeep these codes in a safe place. Each code can only be used once.`;\n    const blob = new Blob([content], { type: 'text/plain' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'adsapp-backup-codes.txt';\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  return (\n    <div className=\"max-w-2xl mx-auto p-6 bg-white rounded-lg shadow-md\">\n      {/* Progress indicator */}\n      <div className=\"mb-8\">\n        <div className=\"flex items-center justify-between mb-2\">\n          {[1, 2, 3].map((s) => (\n            <div\n              key={s}\n              className={`flex-1 h-2 rounded-full ${\n                s <= step ? 'bg-blue-600' : 'bg-gray-200'\n              } ${s < 3 ? 'mr-2' : ''}`}\n            />\n          ))}\n        </div>\n        <div className=\"text-sm text-gray-600 text-center\">\n          Step {step} of 3: {step === 1 ? 'Start' : step === 2 ? 'Scan QR Code' : 'Verify'}\n        </div>\n      </div>\n\n      {/* Error message */}\n      {error && (\n        <div className=\"mb-4 p-4 bg-red-50 border border-red-200 rounded-md text-red-700\">\n          {error}\n        </div>\n      )}\n\n      {/* Step 1: Introduction */}\n      {step === 1 && (\n        <div className=\"space-y-6\">\n          <div>\n            <h2 className=\"text-2xl font-bold mb-2\">Enable Two-Factor Authentication</h2>\n            <p className=\"text-gray-600\">\n              Add an extra layer of security to your account by requiring a verification code from your\n              authenticator app when you sign in.\n            </p>\n          </div>\n\n          <div className=\"bg-blue-50 p-4 rounded-md\">\n            <h3 className=\"font-semibold mb-2\">You'll need:</h3>\n            <ul className=\"list-disc list-inside space-y-1 text-sm text-gray-700\">\n              <li>An authenticator app (Google Authenticator, Authy, 1Password, etc.)</li>\n              <li>A secure place to store backup codes</li>\n              <li>5 minutes to complete setup</li>\n            </ul>\n          </div>\n\n          <div className=\"flex gap-3\">\n            <button\n              onClick={handleStartEnrollment}\n              disabled={loading}\n              className=\"flex-1 bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium\"\n            >\n              {loading ? 'Generating...' : 'Get Started'}\n            </button>\n            {onCancel && (\n              <button\n                onClick={onCancel}\n                disabled={loading}\n                className=\"px-6 py-3 border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50\"\n              >\n                Cancel\n              </button>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Step 2: Scan QR Code */}\n      {step === 2 && enrollmentData && (\n        <div className=\"space-y-6\">\n          <div>\n            <h2 className=\"text-2xl font-bold mb-2\">Scan QR Code</h2>\n            <p className=\"text-gray-600\">\n              Open your authenticator app and scan this QR code to add your ADSapp account.\n            </p>\n          </div>\n\n          {/* QR Code */}\n          <div className=\"flex justify-center p-6 bg-gray-50 rounded-lg\">\n            <Image\n              src={enrollmentData.qrCode}\n              alt=\"MFA QR Code\"\n              width={256}\n              height={256}\n              className=\"border-4 border-white shadow-lg\"\n            />\n          </div>\n\n          {/* Backup Codes */}\n          <div className=\"bg-yellow-50 border border-yellow-200 rounded-md p-4\">\n            <h3 className=\"font-semibold text-yellow-900 mb-2\">⚠️ Save Your Backup Codes</h3>\n            <p className=\"text-sm text-yellow-800 mb-3\">\n              These codes can be used if you lose access to your authenticator app. Each code can only be\n              used once.\n            </p>\n            <div className=\"bg-white p-3 rounded border border-yellow-300 mb-3\">\n              <div className=\"grid grid-cols-2 gap-2 font-mono text-sm\">\n                {enrollmentData.backupCodes.map((code, index) => (\n                  <div key={index} className=\"text-gray-700\">\n                    {code}\n                  </div>\n                ))}\n              </div>\n            </div>\n            <div className=\"flex gap-2\">\n              <button\n                onClick={handleDownloadBackupCodes}\n                className=\"flex-1 bg-yellow-100 text-yellow-900 px-4 py-2 rounded-md hover:bg-yellow-200 text-sm font-medium\"\n              >\n                Download Codes\n              </button>\n              <label className=\"flex items-center gap-2 flex-1 bg-yellow-100 px-4 py-2 rounded-md cursor-pointer hover:bg-yellow-200\">\n                <input\n                  type=\"checkbox\"\n                  checked={backupCodesSaved}\n                  onChange={(e) => setBackupCodesSaved(e.target.checked)}\n                  className=\"w-4 h-4\"\n                />\n                <span className=\"text-sm font-medium text-yellow-900\">I've saved these codes</span>\n              </label>\n            </div>\n          </div>\n\n          <div className=\"flex gap-3\">\n            <button\n              onClick={handleContinueToVerification}\n              disabled={loading || !backupCodesSaved}\n              className=\"flex-1 bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium\"\n            >\n              Continue to Verification\n            </button>\n            <button\n              onClick={() => setStep(1)}\n              disabled={loading}\n              className=\"px-6 py-3 border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50\"\n            >\n              Back\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Step 3: Verify Token */}\n      {step === 3 && (\n        <div className=\"space-y-6\">\n          <div>\n            <h2 className=\"text-2xl font-bold mb-2\">Verify Your Setup</h2>\n            <p className=\"text-gray-600\">\n              Enter the 6-digit code from your authenticator app to complete setup.\n            </p>\n          </div>\n\n          <div>\n            <label htmlFor=\"token\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Verification Code\n            </label>\n            <input\n              id=\"token\"\n              type=\"text\"\n              inputMode=\"numeric\"\n              maxLength={6}\n              value={verificationToken}\n              onChange={(e) => setVerificationToken(e.target.value.replace(/\\D/g, ''))}\n              placeholder=\"000000\"\n              className=\"w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center text-2xl font-mono tracking-widest\"\n              autoComplete=\"off\"\n            />\n            <p className=\"mt-2 text-sm text-gray-500\">\n              The code changes every 30 seconds. Enter the current code from your app.\n            </p>\n          </div>\n\n          <div className=\"flex gap-3\">\n            <button\n              onClick={handleVerifyToken}\n              disabled={loading || verificationToken.length !== 6}\n              className=\"flex-1 bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium\"\n            >\n              {loading ? 'Verifying...' : 'Verify and Enable MFA'}\n            </button>\n            <button\n              onClick={() => setStep(2)}\n              disabled={loading}\n              className=\"px-6 py-3 border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50\"\n            >\n              Back\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}