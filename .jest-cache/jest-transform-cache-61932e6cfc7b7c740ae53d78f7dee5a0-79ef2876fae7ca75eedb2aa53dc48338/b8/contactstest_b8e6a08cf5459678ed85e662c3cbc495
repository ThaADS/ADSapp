d2f8fa83db015f9953037a8a17afc270
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _globals = require("@jest/globals");
const _react = require("@testing-library/react");
const _userevent = /*#__PURE__*/ _interop_require_default(require("@testing-library/user-event"));
const _contactmanager = /*#__PURE__*/ _interop_require_default(require("../../src/components/contacts/contact-manager"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
(0, _globals.describe)('Contact Components', ()=>{
    const defaultProps = {
        organizationId: 'org-123'
    };
    (0, _globals.beforeEach)(()=>{
        _globals.jest.clearAllMocks();
        // Mock window.confirm
        global.confirm = _globals.jest.fn(()=>true);
        global.alert = _globals.jest.fn();
    });
    (0, _globals.describe)('ContactManager - Contact List Display', ()=>{
        (0, _globals.it)('should render contact list with sample data', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            (0, _globals.expect)(_react.screen.getByText(/john smith/i)).toBeInTheDocument();
            (0, _globals.expect)(_react.screen.getByText(/sarah johnson/i)).toBeInTheDocument();
            (0, _globals.expect)(_react.screen.getByText(/mike chen/i)).toBeInTheDocument();
        });
        (0, _globals.it)('should display contact count and filtered count', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            (0, _globals.expect)(_react.screen.getByText(/of \d+ contacts/i)).toBeInTheDocument();
        });
        (0, _globals.it)('should show contact details in table view', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            (0, _globals.expect)(_react.screen.getByText(/tech corp/i)).toBeInTheDocument();
            (0, _globals.expect)(_react.screen.getByText(/\+1234567890/)).toBeInTheDocument();
            (0, _globals.expect)(_react.screen.getByText(/ceo/i)).toBeInTheDocument();
        });
        (0, _globals.it)('should support pagination through large contact lists', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            // Table should be scrollable for many contacts
            const tableContainer = document.querySelector('.overflow-y-auto');
            (0, _globals.expect)(tableContainer).toBeInTheDocument();
        });
    });
    (0, _globals.describe)('ContactManager - Search Functionality', ()=>{
        (0, _globals.it)('should filter contacts by name search', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            const searchInput = _react.screen.getByPlaceholderText(/search contacts/i);
            await user.type(searchInput, 'John');
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText(/john smith/i)).toBeInTheDocument();
                (0, _globals.expect)(_react.screen.queryByText(/mike chen/i)).not.toBeInTheDocument();
            });
        });
        (0, _globals.it)('should filter contacts by email search', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            const searchInput = _react.screen.getByPlaceholderText(/search contacts/i);
            await user.type(searchInput, 'john.smith@example.com');
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText(/john smith/i)).toBeInTheDocument();
            });
        });
        (0, _globals.it)('should filter contacts by phone search', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            const searchInput = _react.screen.getByPlaceholderText(/search contacts/i);
            await user.type(searchInput, '+1234567890');
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText(/john smith/i)).toBeInTheDocument();
            });
        });
        (0, _globals.it)('should show no results message when search has no matches', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            const searchInput = _react.screen.getByPlaceholderText(/search contacts/i);
            await user.type(searchInput, 'NonexistentName12345');
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText(/no contacts found/i)).toBeInTheDocument();
            });
        });
    });
    (0, _globals.describe)('ContactManager - Filters', ()=>{
        (0, _globals.it)('should toggle filter panel on button click', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            const filterButton = _react.screen.getByRole('button', {
                name: /filters/i
            });
            await user.click(filterButton);
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByTitle(/filter by contact status/i)).toBeInTheDocument();
            });
        });
        (0, _globals.it)('should filter by contact status', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            const filterButton = _react.screen.getByRole('button', {
                name: /filters/i
            });
            await user.click(filterButton);
            const statusFilter = _react.screen.getByTitle(/filter by contact status/i);
            await user.selectOptions(statusFilter, 'active');
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText(/john smith/i)).toBeInTheDocument();
                (0, _globals.expect)(_react.screen.queryByText(/mike chen/i)).not.toBeInTheDocument();
            });
        });
        (0, _globals.it)('should filter by contact source', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            const filterButton = _react.screen.getByRole('button', {
                name: /filters/i
            });
            await user.click(filterButton);
            const sourceFilter = _react.screen.getByTitle(/filter by contact source/i);
            await user.selectOptions(sourceFilter, 'whatsapp');
            await (0, _react.waitFor)(()=>{
                // John Smith is from WhatsApp source
                (0, _globals.expect)(_react.screen.getByText(/john smith/i)).toBeInTheDocument();
            });
        });
        (0, _globals.it)('should filter by tags', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            const filterButton = _react.screen.getByRole('button', {
                name: /filters/i
            });
            await user.click(filterButton);
            // Click on VIP tag
            const vipTag = _react.screen.getByRole('button', {
                name: /vip/i
            });
            await user.click(vipTag);
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText(/john smith/i)).toBeInTheDocument();
            });
        });
        (0, _globals.it)('should filter starred contacts only', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            const filterButton = _react.screen.getByRole('button', {
                name: /filters/i
            });
            await user.click(filterButton);
            const starredCheckbox = _react.screen.getByText(/starred only/i).previousElementSibling;
            await user.click(starredCheckbox);
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText(/john smith/i)).toBeInTheDocument();
            });
        });
        (0, _globals.it)('should clear all filters on clear button click', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            const filterButton = _react.screen.getByRole('button', {
                name: /filters/i
            });
            await user.click(filterButton);
            const statusFilter = _react.screen.getByTitle(/filter by contact status/i);
            await user.selectOptions(statusFilter, 'active');
            const clearButton = _react.screen.getByText(/clear filters/i);
            await user.click(clearButton);
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(statusFilter).toHaveValue('all');
            });
        });
    });
    (0, _globals.describe)('ContactManager - Contact Selection', ()=>{
        (0, _globals.it)('should select individual contacts', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            const checkboxes = _react.screen.getAllByRole('checkbox');
            const firstContactCheckbox = checkboxes.find((cb)=>cb.getAttribute('title')?.includes('Select contact'));
            if (firstContactCheckbox) {
                await user.click(firstContactCheckbox);
                await (0, _react.waitFor)(()=>{
                    (0, _globals.expect)(_react.screen.getByText(/1 selected/i)).toBeInTheDocument();
                });
            }
        });
        (0, _globals.it)('should select all contacts with master checkbox', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            const selectAllCheckbox = _react.screen.getByTitle(/select all contacts/i);
            await user.click(selectAllCheckbox);
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText(/3 selected/i)).toBeInTheDocument();
            });
        });
        (0, _globals.it)('should deselect all when clicking select all again', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            const selectAllCheckbox = _react.screen.getByTitle(/select all contacts/i);
            await user.click(selectAllCheckbox);
            await user.click(selectAllCheckbox);
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.queryByText(/selected/i)).not.toBeInTheDocument();
            });
        });
    });
    (0, _globals.describe)('ContactManager - Contact Actions', ()=>{
        (0, _globals.it)('should star and unstar contacts', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            const starButtons = _react.screen.getAllByLabelText(/star contact/i);
            await user.click(starButtons[0]);
            // Star action is executed (visual change in component)
            (0, _globals.expect)(starButtons[0]).toBeInTheDocument();
        });
        (0, _globals.it)('should delete single contact with confirmation', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            const deleteButtons = _react.screen.getAllByLabelText(/delete contact/i);
            await user.click(deleteButtons[0]);
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(global.confirm).toHaveBeenCalled();
            });
        });
        (0, _globals.it)('should delete multiple selected contacts', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            const selectAllCheckbox = _react.screen.getByTitle(/select all contacts/i);
            await user.click(selectAllCheckbox);
            const deleteSelectedButton = _react.screen.getByLabelText(/delete selected contacts/i);
            await user.click(deleteSelectedButton);
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(global.confirm).toHaveBeenCalledWith(_globals.expect.stringContaining('3 contact'));
            });
        });
        (0, _globals.it)('should open edit modal when edit button is clicked', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            const editButtons = _react.screen.getAllByLabelText(/edit contact/i);
            await user.click(editButtons[0]);
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText(/edit contact/i)).toBeInTheDocument();
            });
        });
        (0, _globals.it)('should open add contact modal', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            const addButton = _react.screen.getByRole('button', {
                name: /add contact/i
            });
            await user.click(addButton);
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText(/add new contact/i)).toBeInTheDocument();
            });
        });
    });
    (0, _globals.describe)('ContactManager - Import/Export', ()=>{
        (0, _globals.it)('should open import modal', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            const importButton = _react.screen.getByRole('button', {
                name: /import/i
            });
            await user.click(importButton);
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText(/import contacts/i)).toBeInTheDocument();
            });
        });
        (0, _globals.it)('should show import file input and requirements', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            const importButton = _react.screen.getByRole('button', {
                name: /import/i
            });
            await user.click(importButton);
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText(/required columns/i)).toBeInTheDocument();
                (0, _globals.expect)(_react.screen.getByText(/first_name \(required\)/i)).toBeInTheDocument();
            });
        });
        (0, _globals.it)('should export contacts on export button click', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            const exportButton = _react.screen.getByRole('button', {
                name: /export/i
            });
            await user.click(exportButton);
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(global.alert).toHaveBeenCalledWith(_globals.expect.stringContaining('Exported'));
            });
        });
    });
    (0, _globals.describe)('ContactManager - View Modes', ()=>{
        (0, _globals.it)('should switch to grid view', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            const gridViewButton = _react.screen.getByLabelText(/grid view/i);
            await user.click(gridViewButton);
            await (0, _react.waitFor)(()=>{
                const gridContainer = document.querySelector('.grid.grid-cols-1');
                (0, _globals.expect)(gridContainer).toBeInTheDocument();
            });
        });
        (0, _globals.it)('should switch back to table view', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            const gridViewButton = _react.screen.getByLabelText(/grid view/i);
            await user.click(gridViewButton);
            const tableViewButton = _react.screen.getByLabelText(/table view/i);
            await user.click(tableViewButton);
            await (0, _react.waitFor)(()=>{
                const table = document.querySelector('table');
                (0, _globals.expect)(table).toBeInTheDocument();
            });
        });
    });
    (0, _globals.describe)('ContactManager - Accessibility', ()=>{
        (0, _globals.it)('should have proper ARIA labels for all buttons', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            (0, _globals.expect)(_react.screen.getByLabelText(/table view/i)).toBeInTheDocument();
            (0, _globals.expect)(_react.screen.getByLabelText(/grid view/i)).toBeInTheDocument();
            // Star contact buttons are multiple, use getAllByLabelText
            (0, _globals.expect)(_react.screen.getAllByLabelText(/star contact/i).length).toBeGreaterThan(0);
        });
        (0, _globals.it)('should support keyboard navigation through contacts', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            await user.tab();
            // Should be able to navigate through interactive elements
            const activeElement = document.activeElement;
            // Verify we can tab through the interface (any focusable element is acceptable)
            (0, _globals.expect)(activeElement?.tagName).toMatch(/BUTTON|INPUT|SELECT|TEXTAREA/i);
        });
        (0, _globals.it)('should have accessible table headers', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_contactmanager.default, {
                ...defaultProps
            }));
            (0, _globals.expect)(_react.screen.getByText(/contact info/i)).toBeInTheDocument();
            (0, _globals.expect)(_react.screen.getByText(/last contact/i)).toBeInTheDocument();
            (0, _globals.expect)(_react.screen.getByText(/actions/i)).toBeInTheDocument();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxBaSBQcm9qZWN0ZW5cXEFEU2FwcFxcdGVzdHNcXGNvbXBvbmVudHNcXGNvbnRhY3RzLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlc2NyaWJlLCBpdCwgZXhwZWN0LCBqZXN0LCBiZWZvcmVFYWNoIH0gZnJvbSAnQGplc3QvZ2xvYmFscyc7XG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgZmlyZUV2ZW50LCB3YWl0Rm9yLCB3aXRoaW4gfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB1c2VyRXZlbnQgZnJvbSAnQHRlc3RpbmctbGlicmFyeS91c2VyLWV2ZW50JztcbmltcG9ydCBDb250YWN0TWFuYWdlciBmcm9tICdAL2NvbXBvbmVudHMvY29udGFjdHMvY29udGFjdC1tYW5hZ2VyJztcblxuZGVzY3JpYmUoJ0NvbnRhY3QgQ29tcG9uZW50cycsICgpID0+IHtcbiAgY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICAgIG9yZ2FuaXphdGlvbklkOiAnb3JnLTEyMycsXG4gIH07XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gICAgLy8gTW9jayB3aW5kb3cuY29uZmlybVxuICAgIGdsb2JhbC5jb25maXJtID0gamVzdC5mbigoKSA9PiB0cnVlKTtcbiAgICBnbG9iYWwuYWxlcnQgPSBqZXN0LmZuKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb250YWN0TWFuYWdlciAtIENvbnRhY3QgTGlzdCBEaXNwbGF5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmVuZGVyIGNvbnRhY3QgbGlzdCB3aXRoIHNhbXBsZSBkYXRhJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxDb250YWN0TWFuYWdlciB7Li4uZGVmYXVsdFByb3BzfSAvPik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9qb2huIHNtaXRoL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL3NhcmFoIGpvaG5zb24vaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvbWlrZSBjaGVuL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkaXNwbGF5IGNvbnRhY3QgY291bnQgYW5kIGZpbHRlcmVkIGNvdW50JywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxDb250YWN0TWFuYWdlciB7Li4uZGVmYXVsdFByb3BzfSAvPik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9vZiBcXGQrIGNvbnRhY3RzL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzaG93IGNvbnRhY3QgZGV0YWlscyBpbiB0YWJsZSB2aWV3JywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxDb250YWN0TWFuYWdlciB7Li4uZGVmYXVsdFByb3BzfSAvPik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC90ZWNoIGNvcnAvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvXFwrMTIzNDU2Nzg5MC8pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL2Nlby9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc3VwcG9ydCBwYWdpbmF0aW9uIHRocm91Z2ggbGFyZ2UgY29udGFjdCBsaXN0cycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Q29udGFjdE1hbmFnZXIgey4uLmRlZmF1bHRQcm9wc30gLz4pO1xuXG4gICAgICAvLyBUYWJsZSBzaG91bGQgYmUgc2Nyb2xsYWJsZSBmb3IgbWFueSBjb250YWN0c1xuICAgICAgY29uc3QgdGFibGVDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3ZlcmZsb3cteS1hdXRvJyk7XG4gICAgICBleHBlY3QodGFibGVDb250YWluZXIpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb250YWN0TWFuYWdlciAtIFNlYXJjaCBGdW5jdGlvbmFsaXR5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZmlsdGVyIGNvbnRhY3RzIGJ5IG5hbWUgc2VhcmNoJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgcmVuZGVyKDxDb250YWN0TWFuYWdlciB7Li4uZGVmYXVsdFByb3BzfSAvPik7XG5cbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KC9zZWFyY2ggY29udGFjdHMvaSk7XG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2VhcmNoSW5wdXQsICdKb2huJyk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvam9obiBzbWl0aC9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgvbWlrZSBjaGVuL2kpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmaWx0ZXIgY29udGFjdHMgYnkgZW1haWwgc2VhcmNoJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgcmVuZGVyKDxDb250YWN0TWFuYWdlciB7Li4uZGVmYXVsdFByb3BzfSAvPik7XG5cbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KC9zZWFyY2ggY29udGFjdHMvaSk7XG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2VhcmNoSW5wdXQsICdqb2huLnNtaXRoQGV4YW1wbGUuY29tJyk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvam9obiBzbWl0aC9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmaWx0ZXIgY29udGFjdHMgYnkgcGhvbmUgc2VhcmNoJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgcmVuZGVyKDxDb250YWN0TWFuYWdlciB7Li4uZGVmYXVsdFByb3BzfSAvPik7XG5cbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KC9zZWFyY2ggY29udGFjdHMvaSk7XG4gICAgICBhd2FpdCB1c2VyLnR5cGUoc2VhcmNoSW5wdXQsICcrMTIzNDU2Nzg5MCcpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL2pvaG4gc21pdGgvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2hvdyBubyByZXN1bHRzIG1lc3NhZ2Ugd2hlbiBzZWFyY2ggaGFzIG5vIG1hdGNoZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICByZW5kZXIoPENvbnRhY3RNYW5hZ2VyIHsuLi5kZWZhdWx0UHJvcHN9IC8+KTtcblxuICAgICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoL3NlYXJjaCBjb250YWN0cy9pKTtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShzZWFyY2hJbnB1dCwgJ05vbmV4aXN0ZW50TmFtZTEyMzQ1Jyk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvbm8gY29udGFjdHMgZm91bmQvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NvbnRhY3RNYW5hZ2VyIC0gRmlsdGVycycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHRvZ2dsZSBmaWx0ZXIgcGFuZWwgb24gYnV0dG9uIGNsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgcmVuZGVyKDxDb250YWN0TWFuYWdlciB7Li4uZGVmYXVsdFByb3BzfSAvPik7XG5cbiAgICAgIGNvbnN0IGZpbHRlckJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2ZpbHRlcnMvaSB9KTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soZmlsdGVyQnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUaXRsZSgvZmlsdGVyIGJ5IGNvbnRhY3Qgc3RhdHVzL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZpbHRlciBieSBjb250YWN0IHN0YXR1cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIHJlbmRlcig8Q29udGFjdE1hbmFnZXIgey4uLmRlZmF1bHRQcm9wc30gLz4pO1xuXG4gICAgICBjb25zdCBmaWx0ZXJCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9maWx0ZXJzL2kgfSk7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKGZpbHRlckJ1dHRvbik7XG5cbiAgICAgIGNvbnN0IHN0YXR1c0ZpbHRlciA9IHNjcmVlbi5nZXRCeVRpdGxlKC9maWx0ZXIgYnkgY29udGFjdCBzdGF0dXMvaSk7XG4gICAgICBhd2FpdCB1c2VyLnNlbGVjdE9wdGlvbnMoc3RhdHVzRmlsdGVyLCAnYWN0aXZlJyk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvam9obiBzbWl0aC9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgvbWlrZSBjaGVuL2kpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmaWx0ZXIgYnkgY29udGFjdCBzb3VyY2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICByZW5kZXIoPENvbnRhY3RNYW5hZ2VyIHsuLi5kZWZhdWx0UHJvcHN9IC8+KTtcblxuICAgICAgY29uc3QgZmlsdGVyQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvZmlsdGVycy9pIH0pO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhmaWx0ZXJCdXR0b24pO1xuXG4gICAgICBjb25zdCBzb3VyY2VGaWx0ZXIgPSBzY3JlZW4uZ2V0QnlUaXRsZSgvZmlsdGVyIGJ5IGNvbnRhY3Qgc291cmNlL2kpO1xuICAgICAgYXdhaXQgdXNlci5zZWxlY3RPcHRpb25zKHNvdXJjZUZpbHRlciwgJ3doYXRzYXBwJyk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICAvLyBKb2huIFNtaXRoIGlzIGZyb20gV2hhdHNBcHAgc291cmNlXG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9qb2huIHNtaXRoL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZpbHRlciBieSB0YWdzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgcmVuZGVyKDxDb250YWN0TWFuYWdlciB7Li4uZGVmYXVsdFByb3BzfSAvPik7XG5cbiAgICAgIGNvbnN0IGZpbHRlckJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2ZpbHRlcnMvaSB9KTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soZmlsdGVyQnV0dG9uKTtcblxuICAgICAgLy8gQ2xpY2sgb24gVklQIHRhZ1xuICAgICAgY29uc3QgdmlwVGFnID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvdmlwL2kgfSk7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHZpcFRhZyk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvam9obiBzbWl0aC9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmaWx0ZXIgc3RhcnJlZCBjb250YWN0cyBvbmx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgcmVuZGVyKDxDb250YWN0TWFuYWdlciB7Li4uZGVmYXVsdFByb3BzfSAvPik7XG5cbiAgICAgIGNvbnN0IGZpbHRlckJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2ZpbHRlcnMvaSB9KTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soZmlsdGVyQnV0dG9uKTtcblxuICAgICAgY29uc3Qgc3RhcnJlZENoZWNrYm94ID0gc2NyZWVuLmdldEJ5VGV4dCgvc3RhcnJlZCBvbmx5L2kpLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc3RhcnJlZENoZWNrYm94KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9qb2huIHNtaXRoL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNsZWFyIGFsbCBmaWx0ZXJzIG9uIGNsZWFyIGJ1dHRvbiBjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIHJlbmRlcig8Q29udGFjdE1hbmFnZXIgey4uLmRlZmF1bHRQcm9wc30gLz4pO1xuXG4gICAgICBjb25zdCBmaWx0ZXJCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9maWx0ZXJzL2kgfSk7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKGZpbHRlckJ1dHRvbik7XG5cbiAgICAgIGNvbnN0IHN0YXR1c0ZpbHRlciA9IHNjcmVlbi5nZXRCeVRpdGxlKC9maWx0ZXIgYnkgY29udGFjdCBzdGF0dXMvaSk7XG4gICAgICBhd2FpdCB1c2VyLnNlbGVjdE9wdGlvbnMoc3RhdHVzRmlsdGVyLCAnYWN0aXZlJyk7XG5cbiAgICAgIGNvbnN0IGNsZWFyQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgvY2xlYXIgZmlsdGVycy9pKTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soY2xlYXJCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHN0YXR1c0ZpbHRlcikudG9IYXZlVmFsdWUoJ2FsbCcpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb250YWN0TWFuYWdlciAtIENvbnRhY3QgU2VsZWN0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgc2VsZWN0IGluZGl2aWR1YWwgY29udGFjdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICByZW5kZXIoPENvbnRhY3RNYW5hZ2VyIHsuLi5kZWZhdWx0UHJvcHN9IC8+KTtcblxuICAgICAgY29uc3QgY2hlY2tib3hlcyA9IHNjcmVlbi5nZXRBbGxCeVJvbGUoJ2NoZWNrYm94Jyk7XG4gICAgICBjb25zdCBmaXJzdENvbnRhY3RDaGVja2JveCA9IGNoZWNrYm94ZXMuZmluZChjYiA9PiBjYi5nZXRBdHRyaWJ1dGUoJ3RpdGxlJyk/LmluY2x1ZGVzKCdTZWxlY3QgY29udGFjdCcpKTtcblxuICAgICAgaWYgKGZpcnN0Q29udGFjdENoZWNrYm94KSB7XG4gICAgICAgIGF3YWl0IHVzZXIuY2xpY2soZmlyc3RDb250YWN0Q2hlY2tib3gpO1xuXG4gICAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC8xIHNlbGVjdGVkL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2VsZWN0IGFsbCBjb250YWN0cyB3aXRoIG1hc3RlciBjaGVja2JveCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIHJlbmRlcig8Q29udGFjdE1hbmFnZXIgey4uLmRlZmF1bHRQcm9wc30gLz4pO1xuXG4gICAgICBjb25zdCBzZWxlY3RBbGxDaGVja2JveCA9IHNjcmVlbi5nZXRCeVRpdGxlKC9zZWxlY3QgYWxsIGNvbnRhY3RzL2kpO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhzZWxlY3RBbGxDaGVja2JveCk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvMyBzZWxlY3RlZC9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkZXNlbGVjdCBhbGwgd2hlbiBjbGlja2luZyBzZWxlY3QgYWxsIGFnYWluJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgcmVuZGVyKDxDb250YWN0TWFuYWdlciB7Li4uZGVmYXVsdFByb3BzfSAvPik7XG5cbiAgICAgIGNvbnN0IHNlbGVjdEFsbENoZWNrYm94ID0gc2NyZWVuLmdldEJ5VGl0bGUoL3NlbGVjdCBhbGwgY29udGFjdHMvaSk7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHNlbGVjdEFsbENoZWNrYm94KTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soc2VsZWN0QWxsQ2hlY2tib3gpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgvc2VsZWN0ZWQvaSkpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb250YWN0TWFuYWdlciAtIENvbnRhY3QgQWN0aW9ucycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHN0YXIgYW5kIHVuc3RhciBjb250YWN0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIHJlbmRlcig8Q29udGFjdE1hbmFnZXIgey4uLmRlZmF1bHRQcm9wc30gLz4pO1xuXG4gICAgICBjb25zdCBzdGFyQnV0dG9ucyA9IHNjcmVlbi5nZXRBbGxCeUxhYmVsVGV4dCgvc3RhciBjb250YWN0L2kpO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhzdGFyQnV0dG9uc1swXSk7XG5cbiAgICAgIC8vIFN0YXIgYWN0aW9uIGlzIGV4ZWN1dGVkICh2aXN1YWwgY2hhbmdlIGluIGNvbXBvbmVudClcbiAgICAgIGV4cGVjdChzdGFyQnV0dG9uc1swXSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZGVsZXRlIHNpbmdsZSBjb250YWN0IHdpdGggY29uZmlybWF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgcmVuZGVyKDxDb250YWN0TWFuYWdlciB7Li4uZGVmYXVsdFByb3BzfSAvPik7XG5cbiAgICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbnMgPSBzY3JlZW4uZ2V0QWxsQnlMYWJlbFRleHQoL2RlbGV0ZSBjb250YWN0L2kpO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhkZWxldGVCdXR0b25zWzBdKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChnbG9iYWwuY29uZmlybSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRlbGV0ZSBtdWx0aXBsZSBzZWxlY3RlZCBjb250YWN0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIHJlbmRlcig8Q29udGFjdE1hbmFnZXIgey4uLmRlZmF1bHRQcm9wc30gLz4pO1xuXG4gICAgICBjb25zdCBzZWxlY3RBbGxDaGVja2JveCA9IHNjcmVlbi5nZXRCeVRpdGxlKC9zZWxlY3QgYWxsIGNvbnRhY3RzL2kpO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhzZWxlY3RBbGxDaGVja2JveCk7XG5cbiAgICAgIGNvbnN0IGRlbGV0ZVNlbGVjdGVkQnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9kZWxldGUgc2VsZWN0ZWQgY29udGFjdHMvaSk7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKGRlbGV0ZVNlbGVjdGVkQnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChnbG9iYWwuY29uZmlybSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJzMgY29udGFjdCcpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBvcGVuIGVkaXQgbW9kYWwgd2hlbiBlZGl0IGJ1dHRvbiBpcyBjbGlja2VkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgcmVuZGVyKDxDb250YWN0TWFuYWdlciB7Li4uZGVmYXVsdFByb3BzfSAvPik7XG5cbiAgICAgIGNvbnN0IGVkaXRCdXR0b25zID0gc2NyZWVuLmdldEFsbEJ5TGFiZWxUZXh0KC9lZGl0IGNvbnRhY3QvaSk7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKGVkaXRCdXR0b25zWzBdKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9lZGl0IGNvbnRhY3QvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgb3BlbiBhZGQgY29udGFjdCBtb2RhbCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIHJlbmRlcig8Q29udGFjdE1hbmFnZXIgey4uLmRlZmF1bHRQcm9wc30gLz4pO1xuXG4gICAgICBjb25zdCBhZGRCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9hZGQgY29udGFjdC9pIH0pO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhhZGRCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL2FkZCBuZXcgY29udGFjdC9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ29udGFjdE1hbmFnZXIgLSBJbXBvcnQvRXhwb3J0JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgb3BlbiBpbXBvcnQgbW9kYWwnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICByZW5kZXIoPENvbnRhY3RNYW5hZ2VyIHsuLi5kZWZhdWx0UHJvcHN9IC8+KTtcblxuICAgICAgY29uc3QgaW1wb3J0QnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvaW1wb3J0L2kgfSk7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKGltcG9ydEJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvaW1wb3J0IGNvbnRhY3RzL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNob3cgaW1wb3J0IGZpbGUgaW5wdXQgYW5kIHJlcXVpcmVtZW50cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIHJlbmRlcig8Q29udGFjdE1hbmFnZXIgey4uLmRlZmF1bHRQcm9wc30gLz4pO1xuXG4gICAgICBjb25zdCBpbXBvcnRCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9pbXBvcnQvaSB9KTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soaW1wb3J0QnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9yZXF1aXJlZCBjb2x1bW5zL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvZmlyc3RfbmFtZSBcXChyZXF1aXJlZFxcKS9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBleHBvcnQgY29udGFjdHMgb24gZXhwb3J0IGJ1dHRvbiBjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIHJlbmRlcig8Q29udGFjdE1hbmFnZXIgey4uLmRlZmF1bHRQcm9wc30gLz4pO1xuXG4gICAgICBjb25zdCBleHBvcnRCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9leHBvcnQvaSB9KTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soZXhwb3J0QnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChnbG9iYWwuYWxlcnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdFeHBvcnRlZCcpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ29udGFjdE1hbmFnZXIgLSBWaWV3IE1vZGVzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgc3dpdGNoIHRvIGdyaWQgdmlldycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIHJlbmRlcig8Q29udGFjdE1hbmFnZXIgey4uLmRlZmF1bHRQcm9wc30gLz4pO1xuXG4gICAgICBjb25zdCBncmlkVmlld0J1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvZ3JpZCB2aWV3L2kpO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhncmlkVmlld0J1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBncmlkQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdyaWQuZ3JpZC1jb2xzLTEnKTtcbiAgICAgICAgZXhwZWN0KGdyaWRDb250YWluZXIpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc3dpdGNoIGJhY2sgdG8gdGFibGUgdmlldycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIHJlbmRlcig8Q29udGFjdE1hbmFnZXIgey4uLmRlZmF1bHRQcm9wc30gLz4pO1xuXG4gICAgICBjb25zdCBncmlkVmlld0J1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvZ3JpZCB2aWV3L2kpO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhncmlkVmlld0J1dHRvbik7XG5cbiAgICAgIGNvbnN0IHRhYmxlVmlld0J1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvdGFibGUgdmlldy9pKTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2sodGFibGVWaWV3QnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndGFibGUnKTtcbiAgICAgICAgZXhwZWN0KHRhYmxlKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb250YWN0TWFuYWdlciAtIEFjY2Vzc2liaWxpdHknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYXZlIHByb3BlciBBUklBIGxhYmVscyBmb3IgYWxsIGJ1dHRvbnMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPENvbnRhY3RNYW5hZ2VyIHsuLi5kZWZhdWx0UHJvcHN9IC8+KTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvdGFibGUgdmlldy9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL2dyaWQgdmlldy9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIC8vIFN0YXIgY29udGFjdCBidXR0b25zIGFyZSBtdWx0aXBsZSwgdXNlIGdldEFsbEJ5TGFiZWxUZXh0XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEFsbEJ5TGFiZWxUZXh0KC9zdGFyIGNvbnRhY3QvaSkubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHN1cHBvcnQga2V5Ym9hcmQgbmF2aWdhdGlvbiB0aHJvdWdoIGNvbnRhY3RzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgcmVuZGVyKDxDb250YWN0TWFuYWdlciB7Li4uZGVmYXVsdFByb3BzfSAvPik7XG5cbiAgICAgIGF3YWl0IHVzZXIudGFiKCk7XG5cbiAgICAgIC8vIFNob3VsZCBiZSBhYmxlIHRvIG5hdmlnYXRlIHRocm91Z2ggaW50ZXJhY3RpdmUgZWxlbWVudHNcbiAgICAgIGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgLy8gVmVyaWZ5IHdlIGNhbiB0YWIgdGhyb3VnaCB0aGUgaW50ZXJmYWNlIChhbnkgZm9jdXNhYmxlIGVsZW1lbnQgaXMgYWNjZXB0YWJsZSlcbiAgICAgIGV4cGVjdChhY3RpdmVFbGVtZW50Py50YWdOYW1lKS50b01hdGNoKC9CVVRUT058SU5QVVR8U0VMRUNUfFRFWFRBUkVBL2kpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIGFjY2Vzc2libGUgdGFibGUgaGVhZGVycycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8Q29udGFjdE1hbmFnZXIgey4uLmRlZmF1bHRQcm9wc30gLz4pO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvY29udGFjdCBpbmZvL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL2xhc3QgY29udGFjdC9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9hY3Rpb25zL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImRlc2NyaWJlIiwiZGVmYXVsdFByb3BzIiwib3JnYW5pemF0aW9uSWQiLCJiZWZvcmVFYWNoIiwiamVzdCIsImNsZWFyQWxsTW9ja3MiLCJnbG9iYWwiLCJjb25maXJtIiwiZm4iLCJhbGVydCIsIml0IiwicmVuZGVyIiwiQ29udGFjdE1hbmFnZXIiLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVRleHQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsInRhYmxlQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidXNlciIsInVzZXJFdmVudCIsInNldHVwIiwic2VhcmNoSW5wdXQiLCJnZXRCeVBsYWNlaG9sZGVyVGV4dCIsInR5cGUiLCJ3YWl0Rm9yIiwicXVlcnlCeVRleHQiLCJub3QiLCJmaWx0ZXJCdXR0b24iLCJnZXRCeVJvbGUiLCJuYW1lIiwiY2xpY2siLCJnZXRCeVRpdGxlIiwic3RhdHVzRmlsdGVyIiwic2VsZWN0T3B0aW9ucyIsInNvdXJjZUZpbHRlciIsInZpcFRhZyIsInN0YXJyZWRDaGVja2JveCIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJjbGVhckJ1dHRvbiIsInRvSGF2ZVZhbHVlIiwiY2hlY2tib3hlcyIsImdldEFsbEJ5Um9sZSIsImZpcnN0Q29udGFjdENoZWNrYm94IiwiZmluZCIsImNiIiwiZ2V0QXR0cmlidXRlIiwiaW5jbHVkZXMiLCJzZWxlY3RBbGxDaGVja2JveCIsInN0YXJCdXR0b25zIiwiZ2V0QWxsQnlMYWJlbFRleHQiLCJkZWxldGVCdXR0b25zIiwidG9IYXZlQmVlbkNhbGxlZCIsImRlbGV0ZVNlbGVjdGVkQnV0dG9uIiwiZ2V0QnlMYWJlbFRleHQiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInN0cmluZ0NvbnRhaW5pbmciLCJlZGl0QnV0dG9ucyIsImFkZEJ1dHRvbiIsImltcG9ydEJ1dHRvbiIsImV4cG9ydEJ1dHRvbiIsImdyaWRWaWV3QnV0dG9uIiwiZ3JpZENvbnRhaW5lciIsInRhYmxlVmlld0J1dHRvbiIsInRhYmxlIiwibGVuZ3RoIiwidG9CZUdyZWF0ZXJUaGFuIiwidGFiIiwiYWN0aXZlRWxlbWVudCIsInRhZ05hbWUiLCJ0b01hdGNoIl0sIm1hcHBpbmdzIjoiOzs7Ozt5QkFBdUQ7dUJBQ0k7a0VBQ3JDO3VFQUNLOzs7Ozs7QUFFM0JBLElBQUFBLGlCQUFRLEVBQUMsc0JBQXNCO0lBQzdCLE1BQU1DLGVBQWU7UUFDbkJDLGdCQUFnQjtJQUNsQjtJQUVBQyxJQUFBQSxtQkFBVSxFQUFDO1FBQ1RDLGFBQUksQ0FBQ0MsYUFBYTtRQUNsQixzQkFBc0I7UUFDdEJDLE9BQU9DLE9BQU8sR0FBR0gsYUFBSSxDQUFDSSxFQUFFLENBQUMsSUFBTTtRQUMvQkYsT0FBT0csS0FBSyxHQUFHTCxhQUFJLENBQUNJLEVBQUU7SUFDeEI7SUFFQVIsSUFBQUEsaUJBQVEsRUFBQyx5Q0FBeUM7UUFDaERVLElBQUFBLFdBQUUsRUFBQywrQ0FBK0M7WUFDaERDLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLHVCQUFjO2dCQUFFLEdBQUdYLFlBQVk7O1lBRXZDWSxJQUFBQSxlQUFNLEVBQUNDLGFBQU0sQ0FBQ0MsU0FBUyxDQUFDLGdCQUFnQkMsaUJBQWlCO1lBQ3pESCxJQUFBQSxlQUFNLEVBQUNDLGFBQU0sQ0FBQ0MsU0FBUyxDQUFDLG1CQUFtQkMsaUJBQWlCO1lBQzVESCxJQUFBQSxlQUFNLEVBQUNDLGFBQU0sQ0FBQ0MsU0FBUyxDQUFDLGVBQWVDLGlCQUFpQjtRQUMxRDtRQUVBTixJQUFBQSxXQUFFLEVBQUMsbURBQW1EO1lBQ3BEQyxJQUFBQSxhQUFNLGdCQUFDLHFCQUFDQyx1QkFBYztnQkFBRSxHQUFHWCxZQUFZOztZQUV2Q1ksSUFBQUEsZUFBTSxFQUFDQyxhQUFNLENBQUNDLFNBQVMsQ0FBQyxxQkFBcUJDLGlCQUFpQjtRQUNoRTtRQUVBTixJQUFBQSxXQUFFLEVBQUMsNkNBQTZDO1lBQzlDQyxJQUFBQSxhQUFNLGdCQUFDLHFCQUFD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