{"version":3,"names":["cov_1uzch16yaw","actualCoverage","s","ProfileSettings","profile","f","formData","setFormData","_react","useState","full_name","b","phone","loading","setLoading","message","setMessage","error","setError","handleSubmit","e","preventDefault","supabase","_client","createClient","from","update","updated_at","Date","toISOString","eq","id","err","handleChange","target","name","value","_jsxruntime","jsxs","className","jsx","avatar_url","src","alt","_outline","UserIcon","EnvelopeIcon","email","organization","onSubmit","htmlFor","type","onChange","placeholder","disabled","href"],"sources":["C:\\Ai Projecten\\ADSapp\\src\\components\\dashboard\\profile-settings.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { createClient } from '@/lib/supabase/client'\nimport { UserIcon, EnvelopeIcon, PhoneIcon } from '@heroicons/react/24/outline'\n\ninterface Profile {\n  id: string\n  email?: string\n  full_name?: string\n  phone?: string\n  avatar_url?: string\n  organization?: {\n    name: string\n    slug: string\n  }\n}\n\ninterface ProfileSettingsProps {\n  profile: Profile\n}\n\nexport function ProfileSettings({ profile }: ProfileSettingsProps) {\n  const [formData, setFormData] = useState({\n    full_name: profile.full_name || '',\n    phone: profile.phone || '',\n  })\n  const [loading, setLoading] = useState(false)\n  const [message, setMessage] = useState('')\n  const [error, setError] = useState('')\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setLoading(true)\n    setError('')\n    setMessage('')\n\n    try {\n      const supabase = createClient()\n      const { error } = await supabase\n        .from('profiles')\n        .update({\n          full_name: formData.full_name,\n          phone: formData.phone,\n          updated_at: new Date().toISOString(),\n        })\n        .eq('id', profile.id)\n\n      if (error) {\n        setError(error.message)\n      } else {\n        setMessage('Profile updated successfully!')\n      }\n    } catch (err) {\n      setError('An unexpected error occurred')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    })\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Profile Overview */}\n      <div className=\"bg-white shadow rounded-lg\">\n        <div className=\"px-4 py-5 sm:p-6\">\n          <div className=\"flex items-center space-x-5\">\n            <div className=\"flex-shrink-0\">\n              <div className=\"h-20 w-20 rounded-full bg-gray-300 flex items-center justify-center\">\n                {profile.avatar_url ? (\n                  <img\n                    className=\"h-20 w-20 rounded-full\"\n                    src={profile.avatar_url}\n                    alt={profile.full_name || 'Profile'}\n                  />\n                ) : (\n                  <UserIcon className=\"h-8 w-8 text-gray-600\" />\n                )}\n              </div>\n            </div>\n            <div className=\"flex-1 min-w-0\">\n              <h2 className=\"text-2xl font-bold text-gray-900 sm:truncate\">\n                {profile.full_name || 'No name set'}\n              </h2>\n              <div className=\"mt-1 flex flex-col sm:flex-row sm:flex-wrap sm:mt-0 sm:space-x-6\">\n                <div className=\"mt-2 flex items-center text-sm text-gray-500\">\n                  <EnvelopeIcon className=\"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400\" />\n                  {profile.email}\n                </div>\n                {profile.organization && (\n                  <div className=\"mt-2 flex items-center text-sm text-gray-500\">\n                    <UserIcon className=\"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400\" />\n                    {profile.organization.name}\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Edit Profile Form */}\n      <div className=\"bg-white shadow rounded-lg\">\n        <div className=\"px-4 py-5 sm:p-6\">\n          <h3 className=\"text-lg leading-6 font-medium text-gray-900 mb-4\">\n            Personal Information\n          </h3>\n          \n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2\">\n              <div>\n                <label htmlFor=\"full_name\" className=\"block text-sm font-medium text-gray-700\">\n                  Full Name\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"full_name\"\n                  id=\"full_name\"\n                  value={formData.full_name}\n                  onChange={handleChange}\n                  className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm\"\n                  placeholder=\"Enter your full name\"\n                />\n              </div>\n\n              <div>\n                <label htmlFor=\"phone\" className=\"block text-sm font-medium text-gray-700\">\n                  Phone Number\n                </label>\n                <input\n                  type=\"tel\"\n                  name=\"phone\"\n                  id=\"phone\"\n                  value={formData.phone}\n                  onChange={handleChange}\n                  className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm\"\n                  placeholder=\"Enter your phone number\"\n                />\n              </div>\n\n              <div>\n                <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n                  Email Address\n                </label>\n                <input\n                  type=\"email\"\n                  name=\"email\"\n                  id=\"email\"\n                  value={profile.email || ''}\n                  disabled\n                  className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm bg-gray-50 text-gray-500 sm:text-sm\"\n                />\n                <p className=\"mt-1 text-xs text-gray-500\">\n                  Email cannot be changed. Contact support if you need to update your email.\n                </p>\n              </div>\n            </div>\n\n            {error && (\n              <div className=\"rounded-md bg-red-50 p-4\">\n                <div className=\"text-sm text-red-700\">{error}</div>\n              </div>\n            )}\n\n            {message && (\n              <div className=\"rounded-md bg-green-50 p-4\">\n                <div className=\"text-sm text-green-700\">{message}</div>\n              </div>\n            )}\n\n            <div className=\"flex justify-end\">\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50\"\n              >\n                {loading ? 'Saving...' : 'Save Changes'}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n\n      {/* Security Settings */}\n      <div className=\"bg-white shadow rounded-lg\">\n        <div className=\"px-4 py-5 sm:p-6\">\n          <h3 className=\"text-lg leading-6 font-medium text-gray-900 mb-4\">\n            Security\n          </h3>\n          \n          <div className=\"space-y-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h4 className=\"text-sm font-medium text-gray-900\">Password</h4>\n                <p className=\"text-sm text-gray-500\">\n                  Last updated: Never or unknown\n                </p>\n              </div>\n              <a\n                href=\"/auth/forgot-password\"\n                className=\"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\"\n              >\n                Change Password\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"mappings":"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","ignoreList":[]}