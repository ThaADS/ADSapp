acae8c382eaf3a26bd9434e156bfc65f
"use strict";

/* istanbul ignore next */
function cov_1u2cp9gejz() {
  var path = "C:\\Ai Projecten\\ADSapp\\src\\app\\api\\webhooks\\whatsapp\\route.ts";
  var hash = "a64601bb6b14f1bae093d70e4b0980096ecc3739";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Ai Projecten\\ADSapp\\src\\app\\api\\webhooks\\whatsapp\\route.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "2": {
        start: {
          line: 6,
          column: 24
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "3": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 18,
          column: 3
        }
      },
      "4": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 19
        }
      },
      "5": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 20
        }
      },
      "6": {
        start: {
          line: 19,
          column: 16
        },
        end: {
          line: 19,
          column: 38
        }
      },
      "7": {
        start: {
          line: 20,
          column: 17
        },
        end: {
          line: 20,
          column: 59
        }
      },
      "8": {
        start: {
          line: 21,
          column: 24
        },
        end: {
          line: 21,
          column: 75
        }
      },
      "9": {
        start: {
          line: 22,
          column: 17
        },
        end: {
          line: 22,
          column: 57
        }
      },
      "10": {
        start: {
          line: 23,
          column: 18
        },
        end: {
          line: 23,
          column: 54
        }
      },
      "11": {
        start: {
          line: 25,
          column: 25
        },
        end: {
          line: 29,
          column: 2
        }
      },
      "12": {
        start: {
          line: 28,
          column: 29
        },
        end: {
          line: 28,
          column: 82
        }
      },
      "13": {
        start: {
          line: 31,
          column: 29
        },
        end: {
          line: 31,
          column: 49
        }
      },
      "14": {
        start: {
          line: 32,
          column: 17
        },
        end: {
          line: 32,
          column: 45
        }
      },
      "15": {
        start: {
          line: 33,
          column: 18
        },
        end: {
          line: 33,
          column: 54
        }
      },
      "16": {
        start: {
          line: 34,
          column: 22
        },
        end: {
          line: 34,
          column: 55
        }
      },
      "17": {
        start: {
          line: 36,
          column: 4
        },
        end: {
          line: 39,
          column: 5
        }
      },
      "18": {
        start: {
          line: 37,
          column: 8
        },
        end: {
          line: 37,
          column: 49
        }
      },
      "19": {
        start: {
          line: 38,
          column: 8
        },
        end: {
          line: 38,
          column: 51
        }
      },
      "20": {
        start: {
          line: 40,
          column: 4
        },
        end: {
          line: 42,
          column: 7
        }
      },
      "21": {
        start: {
          line: 45,
          column: 4
        },
        end: {
          line: 78,
          column: 5
        }
      },
      "22": {
        start: {
          line: 47,
          column: 8
        },
        end: {
          line: 47,
          column: 40
        }
      },
      "23": {
        start: {
          line: 48,
          column: 21
        },
        end: {
          line: 48,
          column: 41
        }
      },
      "24": {
        start: {
          line: 50,
          column: 8
        },
        end: {
          line: 56,
          column: 9
        }
      },
      "25": {
        start: {
          line: 51,
          column: 12
        },
        end: {
          line: 55,
          column: 15
        }
      },
      "26": {
        start: {
          line: 58,
          column: 8
        },
        end: {
          line: 58,
          column: 51
        }
      },
      "27": {
        start: {
          line: 60,
          column: 35
        },
        end: {
          line: 70,
          column: 10
        }
      },
      "28": {
        start: {
          line: 61,
          column: 12
        },
        end: {
          line: 69,
          column: 16
        }
      },
      "29": {
        start: {
          line: 62,
          column: 16
        },
        end: {
          line: 68,
          column: 17
        }
      },
      "30": {
        start: {
          line: 63,
          column: 20
        },
        end: {
          line: 63,
          column: 56
        }
      },
      "31": {
        start: {
          line: 64,
          column: 23
        },
        end: {
          line: 68,
          column: 17
        }
      },
      "32": {
        start: {
          line: 65,
          column: 20
        },
        end: {
          line: 65,
          column: 68
        }
      },
      "33": {
        start: {
          line: 66,
          column: 23
        },
        end: {
          line: 68,
          column: 17
        }
      },
      "34": {
        start: {
          line: 67,
          column: 20
        },
        end: {
          line: 67,
          column: 61
        }
      },
      "35": {
        start: {
          line: 71,
          column: 8
        },
        end: {
          line: 71,
          column: 46
        }
      },
      "36": {
        start: {
          line: 72,
          column: 8
        },
        end: {
          line: 74,
          column: 11
        }
      },
      "37": {
        start: {
          line: 76,
          column: 8
        },
        end: {
          line: 76,
          column: 56
        }
      },
      "38": {
        start: {
          line: 77,
          column: 8
        },
        end: {
          line: 77,
          column: 57
        }
      },
      "39": {
        start: {
          line: 81,
          column: 21
        },
        end: {
          line: 81,
          column: 55
        }
      },
      "40": {
        start: {
          line: 83,
          column: 35
        },
        end: {
          line: 83,
          column: 155
        }
      },
      "41": {
        start: {
          line: 84,
          column: 4
        },
        end: {
          line: 87,
          column: 5
        }
      },
      "42": {
        start: {
          line: 85,
          column: 8
        },
        end: {
          line: 85,
          column: 100
        }
      },
      "43": {
        start: {
          line: 86,
          column: 8
        },
        end: {
          line: 86,
          column: 15
        }
      },
      "44": {
        start: {
          line: 89,
          column: 4
        },
        end: {
          line: 93,
          column: 5
        }
      },
      "45": {
        start: {
          line: 90,
          column: 8
        },
        end: {
          line: 92,
          column: 9
        }
      },
      "46": {
        start: {
          line: 91,
          column: 12
        },
        end: {
          line: 91,
          column: 88
        }
      },
      "47": {
        start: {
          line: 95,
          column: 4
        },
        end: {
          line: 99,
          column: 5
        }
      },
      "48": {
        start: {
          line: 96,
          column: 8
        },
        end: {
          line: 98,
          column: 9
        }
      },
      "49": {
        start: {
          line: 97,
          column: 12
        },
        end: {
          line: 97,
          column: 64
        }
      },
      "50": {
        start: {
          line: 102,
          column: 21
        },
        end: {
          line: 102,
          column: 55
        }
      },
      "51": {
        start: {
          line: 103,
          column: 25
        },
        end: {
          line: 103,
          column: 59
        }
      },
      "52": {
        start: {
          line: 104,
          column: 4
        },
        end: {
          line: 166,
          column: 5
        }
      },
      "53": {
        start: {
          line: 106,
          column: 28
        },
        end: {
          line: 112,
          column: 10
        }
      },
      "54": {
        start: {
          line: 113,
          column: 8
        },
        end: {
          line: 116,
          column: 9
        }
      },
      "55": {
        start: {
          line: 114,
          column: 12
        },
        end: {
          line: 114,
          column: 54
        }
      },
      "56": {
        start: {
          line: 115,
          column: 12
        },
        end: {
          line: 115,
          column: 19
        }
      },
      "57": {
        start: {
          line: 118,
          column: 29
        },
        end: {
          line: 122,
          column: 10
        }
      },
      "58": {
        start: {
          line: 123,
          column: 8
        },
        end: {
          line: 126,
          column: 9
        }
      },
      "59": {
        start: {
          line: 124,
          column: 12
        },
        end: {
          line: 124,
          column: 59
        }
      },
      "60": {
        start: {
          line: 125,
          column: 12
        },
        end: {
          line: 125,
          column: 19
        }
      },
      "61": {
        start: {
          line: 128,
          column: 28
        },
        end: {
          line: 128,
          column: 94
        }
      },
      "62": {
        start: {
          line: 130,
          column: 31
        },
        end: {
          line: 130,
          column: 35
        }
      },
      "63": {
        start: {
          line: 131,
          column: 8
        },
        end: {
          line: 134,
          column: 9
        }
      },
      "64": {
        start: {
          line: 132,
          column: 45
        },
        end: {
          line: 132,
          column: 144
        }
      },
      "65": {
        start: {
          line: 133,
          column: 12
        },
        end: {
          line: 133,
          column: 58
        }
      },
      "66": {
        start: {
          line: 136,
          column: 26
        },
        end: {
          line: 148,
          column: 10
        }
      },
      "67": {
        start: {
          line: 149,
          column: 8
        },
        end: {
          line: 152,
          column: 9
        }
      },
      "68": {
        start: {
          line: 150,
          column: 12
        },
        end: {
          line: 150,
          column: 62
        }
      },
      "69": {
        start: {
          line: 151,
          column: 12
        },
        end: {
          line: 151,
          column: 19
        }
      },
      "70": {
        start: {
          line: 154,
          column: 8
        },
        end: {
          line: 158,
          column: 11
        }
      },
      "71": {
        start: {
          line: 160,
          column: 8
        },
        end: {
          line: 162,
          column: 9
        }
      },
      "72": {
        start: {
          line: 161,
          column: 12
        },
        end: {
          line: 161,
          column: 89
        }
      },
      "73": {
        start: {
          line: 164,
          column: 8
        },
        end: {
          line: 164,
          column: 67
        }
      },
      "74": {
        start: {
          line: 165,
          column: 8
        },
        end: {
          line: 165,
          column: 78
        }
      },
      "75": {
        start: {
          line: 169,
          column: 21
        },
        end: {
          line: 169,
          column: 55
        }
      },
      "76": {
        start: {
          line: 171,
          column: 20
        },
        end: {
          line: 171,
          column: 22
        }
      },
      "77": {
        start: {
          line: 172,
          column: 4
        },
        end: {
          line: 180,
          column: 5
        }
      },
      "78": {
        start: {
          line: 174,
          column: 12
        },
        end: {
          line: 174,
          column: 93
        }
      },
      "79": {
        start: {
          line: 175,
          column: 12
        },
        end: {
          line: 175,
          column: 18
        }
      },
      "80": {
        start: {
          line: 177,
          column: 12
        },
        end: {
          line: 177,
          column: 88
        }
      },
      "81": {
        start: {
          line: 178,
          column: 12
        },
        end: {
          line: 178,
          column: 35
        }
      },
      "82": {
        start: {
          line: 179,
          column: 12
        },
        end: {
          line: 179,
          column: 18
        }
      },
      "83": {
        start: {
          line: 181,
          column: 4
        },
        end: {
          line: 183,
          column: 5
        }
      },
      "84": {
        start: {
          line: 182,
          column: 8
        },
        end: {
          line: 182,
          column: 93
        }
      },
      "85": {
        start: {
          line: 187,
          column: 34
        },
        end: {
          line: 195,
          column: 24
        }
      },
      "86": {
        start: {
          line: 196,
          column: 4
        },
        end: {
          line: 196,
          column: 23
        }
      },
      "87": {
        start: {
          line: 199,
          column: 33
        },
        end: {
          line: 202,
          column: 20
        }
      },
      "88": {
        start: {
          line: 203,
          column: 4
        },
        end: {
          line: 211,
          column: 5
        }
      },
      "89": {
        start: {
          line: 204,
          column: 42
        },
        end: {
          line: 209,
          column: 28
        }
      },
      "90": {
        start: {
          line: 210,
          column: 8
        },
        end: {
          line: 210,
          column: 39
        }
      },
      "91": {
        start: {
          line: 212,
          column: 4
        },
        end: {
          line: 212,
          column: 24
        }
      },
      "92": {
        start: {
          line: 215,
          column: 18
        },
        end: {
          line: 215,
          column: 20
        }
      },
      "93": {
        start: {
          line: 216,
          column: 19
        },
        end: {
          line: 216,
          column: 23
        }
      },
      "94": {
        start: {
          line: 217,
          column: 24
        },
        end: {
          line: 217,
          column: 28
        }
      },
      "95": {
        start: {
          line: 218,
          column: 22
        },
        end: {
          line: 218,
          column: 26
        }
      },
      "96": {
        start: {
          line: 219,
          column: 19
        },
        end: {
          line: 219,
          column: 21
        }
      },
      "97": {
        start: {
          line: 220,
          column: 4
        },
        end: {
          line: 338,
          column: 5
        }
      },
      "98": {
        start: {
          line: 221,
          column: 8
        },
        end: {
          line: 331,
          column: 9
        }
      },
      "99": {
        start: {
          line: 223,
          column: 16
        },
        end: {
          line: 223,
          column: 51
        }
      },
      "100": {
        start: {
          line: 224,
          column: 16
        },
        end: {
          line: 224,
          column: 22
        }
      },
      "101": {
        start: {
          line: 226,
          column: 16
        },
        end: {
          line: 226,
          column: 62
        }
      },
      "102": {
        start: {
          line: 227,
          column: 16
        },
        end: {
          line: 238,
          column: 17
        }
      },
      "103": {
        start: {
          line: 228,
          column: 38
        },
        end: {
          line: 228,
          column: 128
        }
      },
      "104": {
        start: {
          line: 229,
          column: 20
        },
        end: {
          line: 237,
          column: 21
        }
      },
      "105": {
        start: {
          line: 230,
          column: 24
        },
        end: {
          line: 230,
          column: 49
        }
      },
      "106": {
        start: {
          line: 231,
          column: 24
        },
        end: {
          line: 231,
          column: 59
        }
      },
      "107": {
        start: {
          line: 232,
          column: 24
        },
        end: {
          line: 232,
          column: 51
        }
      },
      "108": {
        start: {
          line: 233,
          column: 24
        },
        end: {
          line: 236,
          column: 26
        }
      },
      "109": {
        start: {
          line: 239,
          column: 16
        },
        end: {
          line: 239,
          column: 22
        }
      },
      "110": {
        start: {
          line: 241,
          column: 16
        },
        end: {
          line: 241,
          column: 98
        }
      },
      "111": {
        start: {
          line: 242,
          column: 16
        },
        end: {
          line: 254,
          column: 17
        }
      },
      "112": {
        start: {
          line: 243,
          column: 38
        },
        end: {
          line: 243,
          column: 134
        }
      },
      "113": {
        start: {
          line: 244,
          column: 20
        },
        end: {
          line: 253,
          column: 21
        }
      },
      "114": {
        start: {
          line: 245,
          column: 24
        },
        end: {
          line: 245,
          column: 49
        }
      },
      "115": {
        start: {
          line: 246,
          column: 24
        },
        end: {
          line: 246,
          column: 59
        }
      },
      "116": {
        start: {
          line: 247,
          column: 24
        },
        end: {
          line: 247,
          column: 51
        }
      },
      "117": {
        start: {
          line: 248,
          column: 24
        },
        end: {
          line: 252,
          column: 26
        }
      },
      "118": {
        start: {
          line: 255,
          column: 16
        },
        end: {
          line: 255,
          column: 22
        }
      },
      "119": {
        start: {
          line: 257,
          column: 16
        },
        end: {
          line: 257,
          column: 44
        }
      },
      "120": {
        start: {
          line: 258,
          column: 16
        },
        end: {
          line: 269,
          column: 17
        }
      },
      "121": {
        start: {
          line: 259,
          column: 38
        },
        end: {
          line: 259,
          column: 128
        }
      },
      "122": {
        start: {
          line: 260,
          column: 20
        },
        end: {
          line: 268,
          column: 21
        }
      },
      "123": {
        start: {
          line: 261,
          column: 24
        },
        end: {
          line: 261,
          column: 49
        }
      },
      "124": {
        start: {
          line: 262,
          column: 24
        },
        end: {
          line: 262,
          column: 59
        }
      },
      "125": {
        start: {
          line: 263,
          column: 24
        },
        end: {
          line: 263,
          column: 51
        }
      },
      "126": {
        start: {
          line: 264,
          column: 24
        },
        end: {
          line: 267,
          column: 26
        }
      },
      "127": {
        start: {
          line: 270,
          column: 16
        },
        end: {
          line: 270,
          column: 22
        }
      },
      "128": {
        start: {
          line: 272,
          column: 16
        },
        end: {
          line: 272,
          column: 62
        }
      },
      "129": {
        start: {
          line: 273,
          column: 16
        },
        end: {
          line: 284,
          column: 17
        }
      },
      "130": {
        start: {
          line: 274,
          column: 38
        },
        end: {
          line: 274,
          column: 128
        }
      },
      "131": {
        start: {
          line: 275,
          column: 20
        },
        end: {
          line: 283,
          column: 21
        }
      },
      "132": {
        start: {
          line: 276,
          column: 24
        },
        end: {
          line: 276,
          column: 49
        }
      },
      "133": {
        start: {
          line: 277,
          column: 24
        },
        end: {
          line: 277,
          column: 59
        }
      },
      "134": {
        start: {
          line: 278,
          column: 24
        },
        end: {
          line: 278,
          column: 51
        }
      },
      "135": {
        start: {
          line: 279,
          column: 24
        },
        end: {
          line: 282,
          column: 26
        }
      },
      "136": {
        start: {
          line: 285,
          column: 16
        },
        end: {
          line: 285,
          column: 22
        }
      },
      "137": {
        start: {
          line: 287,
          column: 16
        },
        end: {
          line: 287,
          column: 100
        }
      },
      "138": {
        start: {
          line: 288,
          column: 16
        },
        end: {
          line: 290,
          column: 17
        }
      },
      "139": {
        start: {
          line: 289,
          column: 20
        },
        end: {
          line: 289,
          column: 61
        }
      },
      "140": {
        start: {
          line: 291,
          column: 16
        },
        end: {
          line: 296,
          column: 18
        }
      },
      "141": {
        start: {
          line: 297,
          column: 16
        },
        end: {
          line: 297,
          column: 22
        }
      },
      "142": {
        start: {
          line: 299,
          column: 16
        },
        end: {
          line: 299,
          column: 107
        }
      },
      "143": {
        start: {
          line: 299,
          column: 53
        },
        end: {
          line: 299,
          column: 74
        }
      },
      "144": {
        start: {
          line: 300,
          column: 16
        },
        end: {
          line: 302,
          column: 18
        }
      },
      "145": {
        start: {
          line: 303,
          column: 16
        },
        end: {
          line: 303,
          column: 22
        }
      },
      "146": {
        start: {
          line: 305,
          column: 16
        },
        end: {
          line: 305,
          column: 70
        }
      },
      "147": {
        start: {
          line: 306,
          column: 16
        },
        end: {
          line: 308,
          column: 18
        }
      },
      "148": {
        start: {
          line: 309,
          column: 16
        },
        end: {
          line: 309,
          column: 22
        }
      },
      "149": {
        start: {
          line: 311,
          column: 16
        },
        end: {
          line: 324,
          column: 17
        }
      },
      "150": {
        start: {
          line: 312,
          column: 20
        },
        end: {
          line: 312,
          column: 90
        }
      },
      "151": {
        start: {
          line: 313,
          column: 20
        },
        end: {
          line: 316,
          column: 22
        }
      },
      "152": {
        start: {
          line: 317,
          column: 23
        },
        end: {
          line: 324,
          column: 17
        }
      },
      "153": {
        start: {
          line: 318,
          column: 20
        },
        end: {
          line: 318,
          column: 86
        }
      },
      "154": {
        start: {
          line: 319,
          column: 20
        },
        end: {
          line: 323,
          column: 22
        }
      },
      "155": {
        start: {
          line: 325,
          column: 16
        },
        end: {
          line: 325,
          column: 22
        }
      },
      "156": {
        start: {
          line: 327,
          column: 16
        },
        end: {
          line: 327,
          column: 54
        }
      },
      "157": {
        start: {
          line: 328,
          column: 16
        },
        end: {
          line: 330,
          column: 18
        }
      },
      "158": {
        start: {
          line: 333,
          column: 8
        },
        end: {
          line: 333,
          column: 66
        }
      },
      "159": {
        start: {
          line: 334,
          column: 8
        },
        end: {
          line: 334,
          column: 63
        }
      },
      "160": {
        start: {
          line: 335,
          column: 8
        },
        end: {
          line: 337,
          column: 10
        }
      },
      "161": {
        start: {
          line: 339,
          column: 4
        },
        end: {
          line: 345,
          column: 6
        }
      },
      "162": {
        start: {
          line: 348,
          column: 4
        },
        end: {
          line: 364,
          column: 5
        }
      },
      "163": {
        start: {
          line: 350,
          column: 23
        },
        end: {
          line: 350,
          column: 83
        }
      },
      "164": {
        start: {
          line: 352,
          column: 28
        },
        end: {
          line: 352,
          column: 63
        }
      },
      "165": {
        start: {
          line: 354,
          column: 26
        },
        end: {
          line: 359,
          column: 10
        }
      },
      "166": {
        start: {
          line: 360,
          column: 8
        },
        end: {
          line: 360,
          column: 25
        }
      },
      "167": {
        start: {
          line: 362,
          column: 8
        },
        end: {
          line: 362,
          column: 69
        }
      },
      "168": {
        start: {
          line: 363,
          column: 8
        },
        end: {
          line: 363,
          column: 20
        }
      },
      "169": {
        start: {
          line: 367,
          column: 4
        },
        end: {
          line: 369,
          column: 32
        }
      },
      "170": {
        start: {
          line: 372,
          column: 4
        },
        end: {
          line: 374,
          column: 27
        }
      },
      "171": {
        start: {
          line: 377,
          column: 18
        },
        end: {
          line: 377,
          column: 56
        }
      },
      "172": {
        start: {
          line: 378,
          column: 4
        },
        end: {
          line: 386,
          column: 7
        }
      },
      "173": {
        start: {
          line: 389,
          column: 4
        },
        end: {
          line: 399,
          column: 5
        }
      },
      "174": {
        start: {
          line: 390,
          column: 8
        },
        end: {
          line: 398,
          column: 11
        }
      },
      "175": {
        start: {
          line: 402,
          column: 4
        },
        end: {
          line: 408,
          column: 7
        }
      },
      "176": {
        start: {
          line: 411,
          column: 21
        },
        end: {
          line: 411,
          column: 55
        }
      },
      "177": {
        start: {
          line: 412,
          column: 4
        },
        end: {
          line: 421,
          column: 5
        }
      },
      "178": {
        start: {
          line: 413,
          column: 8
        },
        end: {
          line: 418,
          column: 11
        }
      },
      "179": {
        start: {
          line: 420,
          column: 8
        },
        end: {
          line: 420,
          column: 73
        }
      },
      "180": {
        start: {
          line: 424,
          column: 21
        },
        end: {
          line: 424,
          column: 55
        }
      },
      "181": {
        start: {
          line: 425,
          column: 4
        },
        end: {
          line: 435,
          column: 5
        }
      },
      "182": {
        start: {
          line: 426,
          column: 8
        },
        end: {
          line: 432,
          column: 11
        }
      },
      "183": {
        start: {
          line: 434,
          column: 8
        },
        end: {
          line: 434,
          column: 64
        }
      },
      "184": {
        start: {
          line: 438,
          column: 21
        },
        end: {
          line: 438,
          column: 55
        }
      },
      "185": {
        start: {
          line: 439,
          column: 4
        },
        end: {
          line: 443,
          column: 7
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 16
          }
        },
        loc: {
          start: {
            line: 5,
            column: 30
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 5
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 4
          },
          end: {
            line: 12,
            column: 5
          }
        },
        loc: {
          start: {
            line: 12,
            column: 15
          },
          end: {
            line: 14,
            column: 5
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 16
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 28,
            column: 18
          },
          end: {
            line: 28,
            column: 19
          }
        },
        loc: {
          start: {
            line: 28,
            column: 29
          },
          end: {
            line: 28,
            column: 82
          }
        },
        line: 28
      },
      "4": {
        name: "GET",
        decl: {
          start: {
            line: 30,
            column: 15
          },
          end: {
            line: 30,
            column: 18
          }
        },
        loc: {
          start: {
            line: 30,
            column: 28
          },
          end: {
            line: 43,
            column: 1
          }
        },
        line: 30
      },
      "5": {
        name: "POST",
        decl: {
          start: {
            line: 44,
            column: 15
          },
          end: {
            line: 44,
            column: 19
          }
        },
        loc: {
          start: {
            line: 44,
            column: 29
          },
          end: {
            line: 79,
            column: 1
          }
        },
        line: 44
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 60,
            column: 50
          },
          end: {
            line: 60,
            column: 51
          }
        },
        loc: {
          start: {
            line: 60,
            column: 65
          },
          end: {
            line: 70,
            column: 9
          }
        },
        line: 60
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 61,
            column: 49
          },
          end: {
            line: 61,
            column: 50
          }
        },
        loc: {
          start: {
            line: 61,
            column: 65
          },
          end: {
            line: 69,
            column: 13
          }
        },
        line: 61
      },
      "8": {
        name: "processMessages",
        decl: {
          start: {
            line: 80,
            column: 15
          },
          end: {
            line: 80,
            column: 30
          }
        },
        loc: {
          start: {
            line: 80,
            column: 38
          },
          end: {
            line: 100,
            column: 1
          }
        },
        line: 80
      },
      "9": {
        name: "processIncomingMessage",
        decl: {
          start: {
            line: 101,
            column: 15
          },
          end: {
            line: 101,
            column: 37
          }
        },
        loc: {
          start: {
            line: 101,
            column: 72
          },
          end: {
            line: 167,
            column: 1
          }
        },
        line: 101
      },
      "10": {
        name: "processMessageStatus",
        decl: {
          start: {
            line: 168,
            column: 15
          },
          end: {
            line: 168,
            column: 35
          }
        },
        loc: {
          start: {
            line: 168,
            column: 60
          },
          end: {
            line: 184,
            column: 1
          }
        },
        line: 168
      },
      "11": {
        name: "upsertContact",
        decl: {
          start: {
            line: 186,
            column: 15
          },
          end: {
            line: 186,
            column: 28
          }
        },
        loc: {
          start: {
            line: 186,
            column: 45
          },
          end: {
            line: 197,
            column: 1
          }
        },
        line: 186
      },
      "12": {
        name: "findOrCreateConversation",
        decl: {
          start: {
            line: 198,
            column: 15
          },
          end: {
            line: 198,
            column: 39
          }
        },
        loc: {
          start: {
            line: 198,
            column: 56
          },
          end: {
            line: 213,
            column: 1
          }
        },
        line: 198
      },
      "13": {
        name: "processMessageContent",
        decl: {
          start: {
            line: 214,
            column: 15
          },
          end: {
            line: 214,
            column: 36
          }
        },
        loc: {
          start: {
            line: 214,
            column: 76
          },
          end: {
            line: 346,
            column: 1
          }
        },
        line: 214
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 299,
            column: 48
          },
          end: {
            line: 299,
            column: 49
          }
        },
        loc: {
          start: {
            line: 299,
            column: 53
          },
          end: {
            line: 299,
            column: 74
          }
        },
        line: 299
      },
      "15": {
        name: "downloadAndStoreMedia",
        decl: {
          start: {
            line: 347,
            column: 15
          },
          end: {
            line: 347,
            column: 36
          }
        },
        loc: {
          start: {
            line: 347,
            column: 83
          },
          end: {
            line: 365,
            column: 1
          }
        },
        line: 347
      },
      "16": {
        name: "updateConversationTimestamp",
        decl: {
          start: {
            line: 366,
            column: 15
          },
          end: {
            line: 366,
            column: 42
          }
        },
        loc: {
          start: {
            line: 366,
            column: 80
          },
          end: {
            line: 370,
            column: 1
          }
        },
        line: 366
      },
      "17": {
        name: "updateContactTimestamp",
        decl: {
          start: {
            line: 371,
            column: 15
          },
          end: {
            line: 371,
            column: 37
          }
        },
        loc: {
          start: {
            line: 371,
            column: 70
          },
          end: {
            line: 375,
            column: 1
          }
        },
        line: 371
      },
      "18": {
        name: "incrementMessageCount",
        decl: {
          start: {
            line: 376,
            column: 15
          },
          end: {
            line: 376,
            column: 36
          }
        },
        loc: {
          start: {
            line: 376,
            column: 74
          },
          end: {
            line: 387,
            column: 1
          }
        },
        line: 376
      },
      "19": {
        name: "logMessageErrors",
        decl: {
          start: {
            line: 388,
            column: 15
          },
          end: {
            line: 388,
            column: 31
          }
        },
        loc: {
          start: {
            line: 388,
            column: 77
          },
          end: {
            line: 400,
            column: 1
          }
        },
        line: 388
      },
      "20": {
        name: "logProcessingError",
        decl: {
          start: {
            line: 401,
            column: 15
          },
          end: {
            line: 401,
            column: 33
          }
        },
        loc: {
          start: {
            line: 401,
            column: 78
          },
          end: {
            line: 409,
            column: 1
          }
        },
        line: 401
      },
      "21": {
        name: "processTemplateStatusUpdate",
        decl: {
          start: {
            line: 410,
            column: 15
          },
          end: {
            line: 410,
            column: 42
          }
        },
        loc: {
          start: {
            line: 410,
            column: 50
          },
          end: {
            line: 422,
            column: 1
          }
        },
        line: 410
      },
      "22": {
        name: "processAccountAlerts",
        decl: {
          start: {
            line: 423,
            column: 15
          },
          end: {
            line: 423,
            column: 35
          }
        },
        loc: {
          start: {
            line: 423,
            column: 43
          },
          end: {
            line: 436,
            column: 1
          }
        },
        line: 423
      },
      "23": {
        name: "logWebhook",
        decl: {
          start: {
            line: 437,
            column: 15
          },
          end: {
            line: 437,
            column: 25
          }
        },
        loc: {
          start: {
            line: 437,
            column: 41
          },
          end: {
            line: 444,
            column: 1
          }
        },
        line: 437
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 28,
            column: 29
          },
          end: {
            line: 28,
            column: 82
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 28,
            column: 29
          },
          end: {
            line: 28,
            column: 67
          }
        }, {
          start: {
            line: 28,
            column: 71
          },
          end: {
            line: 28,
            column: 82
          }
        }],
        line: 28
      },
      "1": {
        loc: {
          start: {
            line: 36,
            column: 4
          },
          end: {
            line: 39,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 36,
            column: 4
          },
          end: {
            line: 39,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 36
      },
      "2": {
        loc: {
          start: {
            line: 36,
            column: 8
          },
          end: {
            line: 36,
            column: 83
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 36,
            column: 8
          },
          end: {
            line: 36,
            column: 28
          }
        }, {
          start: {
            line: 36,
            column: 32
          },
          end: {
            line: 36,
            column: 83
          }
        }],
        line: 36
      },
      "3": {
        loc: {
          start: {
            line: 50,
            column: 8
          },
          end: {
            line: 56,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 50,
            column: 8
          },
          end: {
            line: 56,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 50
      },
      "4": {
        loc: {
          start: {
            line: 50,
            column: 12
          },
          end: {
            line: 50,
            column: 53
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 50,
            column: 12
          },
          end: {
            line: 50,
            column: 23
          }
        }, {
          start: {
            line: 50,
            column: 27
          },
          end: {
            line: 50,
            column: 53
          }
        }],
        line: 50
      },
      "5": {
        loc: {
          start: {
            line: 62,
            column: 16
          },
          end: {
            line: 68,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 62,
            column: 16
          },
          end: {
            line: 68,
            column: 17
          }
        }, {
          start: {
            line: 64,
            column: 23
          },
          end: {
            line: 68,
            column: 17
          }
        }],
        line: 62
      },
      "6": {
        loc: {
          start: {
            line: 64,
            column: 23
          },
          end: {
            line: 68,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 64,
            column: 23
          },
          end: {
            line: 68,
            column: 17
          }
        }, {
          start: {
            line: 66,
            column: 23
          },
          end: {
            line: 68,
            column: 17
          }
        }],
        line: 64
      },
      "7": {
        loc: {
          start: {
            line: 66,
            column: 23
          },
          end: {
            line: 68,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 66,
            column: 23
          },
          end: {
            line: 68,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 66
      },
      "8": {
        loc: {
          start: {
            line: 84,
            column: 4
          },
          end: {
            line: 87,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 84,
            column: 4
          },
          end: {
            line: 87,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 84
      },
      "9": {
        loc: {
          start: {
            line: 89,
            column: 4
          },
          end: {
            line: 93,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 89,
            column: 4
          },
          end: {
            line: 93,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 89
      },
      "10": {
        loc: {
          start: {
            line: 95,
            column: 4
          },
          end: {
            line: 99,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 95,
            column: 4
          },
          end: {
            line: 99,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 95
      },
      "11": {
        loc: {
          start: {
            line: 110,
            column: 18
          },
          end: {
            line: 110,
            column: 48
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 110,
            column: 18
          },
          end: {
            line: 110,
            column: 40
          }
        }, {
          start: {
            line: 110,
            column: 44
          },
          end: {
            line: 110,
            column: 48
          }
        }],
        line: 110
      },
      "12": {
        loc: {
          start: {
            line: 113,
            column: 8
          },
          end: {
            line: 116,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 113,
            column: 8
          },
          end: {
            line: 116,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 113
      },
      "13": {
        loc: {
          start: {
            line: 123,
            column: 8
          },
          end: {
            line: 126,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 123,
            column: 8
          },
          end: {
            line: 126,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 123
      },
      "14": {
        loc: {
          start: {
            line: 131,
            column: 8
          },
          end: {
            line: 134,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 131,
            column: 8
          },
          end: {
            line: 134,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 131
      },
      "15": {
        loc: {
          start: {
            line: 133,
            column: 31
          },
          end: {
            line: 133,
            column: 57
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 133,
            column: 31
          },
          end: {
            line: 133,
            column: 49
          }
        }, {
          start: {
            line: 133,
            column: 53
          },
          end: {
            line: 133,
            column: 57
          }
        }],
        line: 133
      },
      "16": {
        loc: {
          start: {
            line: 149,
            column: 8
          },
          end: {
            line: 152,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 149,
            column: 8
          },
          end: {
            line: 152,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 149
      },
      "17": {
        loc: {
          start: {
            line: 160,
            column: 8
          },
          end: {
            line: 162,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 160,
            column: 8
          },
          end: {
            line: 162,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 160
      },
      "18": {
        loc: {
          start: {
            line: 160,
            column: 12
          },
          end: {
            line: 160,
            column: 55
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 160,
            column: 12
          },
          end: {
            line: 160,
            column: 26
          }
        }, {
          start: {
            line: 160,
            column: 30
          },
          end: {
            line: 160,
            column: 55
          }
        }],
        line: 160
      },
      "19": {
        loc: {
          start: {
            line: 172,
            column: 4
          },
          end: {
            line: 180,
            column: 5
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 173,
            column: 8
          },
          end: {
            line: 175,
            column: 18
          }
        }, {
          start: {
            line: 176,
            column: 8
          },
          end: {
            line: 179,
            column: 18
          }
        }],
        line: 172
      },
      "20": {
        loc: {
          start: {
            line: 181,
            column: 4
          },
          end: {
            line: 183,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 181,
            column: 4
          },
          end: {
            line: 183,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 181
      },
      "21": {
        loc: {
          start: {
            line: 203,
            column: 4
          },
          end: {
            line: 211,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 203,
            column: 4
          },
          end: {
            line: 211,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 203
      },
      "22": {
        loc: {
          start: {
            line: 221,
            column: 8
          },
          end: {
            line: 331,
            column: 9
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 222,
            column: 12
          },
          end: {
            line: 224,
            column: 22
          }
        }, {
          start: {
            line: 225,
            column: 12
          },
          end: {
            line: 239,
            column: 22
          }
        }, {
          start: {
            line: 240,
            column: 12
          },
          end: {
            line: 255,
            column: 22
          }
        }, {
          start: {
            line: 256,
            column: 12
          },
          end: {
            line: 270,
            column: 22
          }
        }, {
          start: {
            line: 271,
            column: 12
          },
          end: {
            line: 285,
            column: 22
          }
        }, {
          start: {
            line: 286,
            column: 12
          },
          end: {
            line: 297,
            column: 22
          }
        }, {
          start: {
            line: 298,
            column: 12
          },
          end: {
            line: 303,
            column: 22
          }
        }, {
          start: {
            line: 304,
            column: 12
          },
          end: {
            line: 309,
            column: 22
          }
        }, {
          start: {
            line: 310,
            column: 12
          },
          end: {
            line: 325,
            column: 22
          }
        }, {
          start: {
            line: 326,
            column: 12
          },
          end: {
            line: 330,
            column: 18
          }
        }],
        line: 221
      },
      "23": {
        loc: {
          start: {
            line: 223,
            column: 26
          },
          end: {
            line: 223,
            column: 50
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 223,
            column: 26
          },
          end: {
            line: 223,
            column: 44
          }
        }, {
          start: {
            line: 223,
            column: 48
          },
          end: {
            line: 223,
            column: 50
          }
        }],
        line: 223
      },
      "24": {
        loc: {
          start: {
            line: 226,
            column: 26
          },
          end: {
            line: 226,
            column: 61
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 226,
            column: 26
          },
          end: {
            line: 226,
            column: 48
          }
        }, {
          start: {
            line: 226,
            column: 52
          },
          end: {
            line: 226,
            column: 61
          }
        }],
        line: 226
      },
      "25": {
        loc: {
          start: {
            line: 227,
            column: 16
          },
          end: {
            line: 238,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 227,
            column: 16
          },
          end: {
            line: 238,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 227
      },
      "26": {
        loc: {
          start: {
            line: 229,
            column: 20
          },
          end: {
            line: 237,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 229,
            column: 20
          },
          end: {
            line: 237,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 229
      },
      "27": {
        loc: {
          start: {
            line: 241,
            column: 26
          },
          end: {
            line: 241,
            column: 97
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 241,
            column: 26
          },
          end: {
            line: 241,
            column: 51
          }
        }, {
          start: {
            line: 241,
            column: 55
          },
          end: {
            line: 241,
            column: 81
          }
        }, {
          start: {
            line: 241,
            column: 85
          },
          end: {
            line: 241,
            column: 97
          }
        }],
        line: 241
      },
      "28": {
        loc: {
          start: {
            line: 242,
            column: 16
          },
          end: {
            line: 254,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 242,
            column: 16
          },
          end: {
            line: 254,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 242
      },
      "29": {
        loc: {
          start: {
            line: 244,
            column: 20
          },
          end: {
            line: 253,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 244,
            column: 20
          },
          end: {
            line: 253,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 244
      },
      "30": {
        loc: {
          start: {
            line: 258,
            column: 16
          },
          end: {
            line: 269,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 258,
            column: 16
          },
          end: {
            line: 269,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 258
      },
      "31": {
        loc: {
          start: {
            line: 260,
            column: 20
          },
          end: {
            line: 268,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 260,
            column: 20
          },
          end: {
            line: 268,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 260
      },
      "32": {
        loc: {
          start: {
            line: 272,
            column: 26
          },
          end: {
            line: 272,
            column: 61
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 272,
            column: 26
          },
          end: {
            line: 272,
            column: 48
          }
        }, {
          start: {
            line: 272,
            column: 52
          },
          end: {
            line: 272,
            column: 61
          }
        }],
        line: 272
      },
      "33": {
        loc: {
          start: {
            line: 273,
            column: 16
          },
          end: {
            line: 284,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 273,
            column: 16
          },
          end: {
            line: 284,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 273
      },
      "34": {
        loc: {
          start: {
            line: 275,
            column: 20
          },
          end: {
            line: 283,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 275,
            column: 20
          },
          end: {
            line: 283,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 275
      },
      "35": {
        loc: {
          start: {
            line: 288,
            column: 16
          },
          end: {
            line: 290,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 288,
            column: 16
          },
          end: {
            line: 290,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 288
      },
      "36": {
        loc: {
          start: {
            line: 299,
            column: 26
          },
          end: {
            line: 299,
            column: 106
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 299,
            column: 26
          },
          end: {
            line: 299,
            column: 86
          }
        }, {
          start: {
            line: 299,
            column: 90
          },
          end: {
            line: 299,
            column: 106
          }
        }],
        line: 299
      },
      "37": {
        loc: {
          start: {
            line: 305,
            column: 26
          },
          end: {
            line: 305,
            column: 69
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 305,
            column: 26
          },
          end: {
            line: 305,
            column: 46
          }
        }, {
          start: {
            line: 305,
            column: 50
          },
          end: {
            line: 305,
            column: 69
          }
        }],
        line: 305
      },
      "38": {
        loc: {
          start: {
            line: 311,
            column: 16
          },
          end: {
            line: 324,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 311,
            column: 16
          },
          end: {
            line: 324,
            column: 17
          }
        }, {
          start: {
            line: 317,
            column: 23
          },
          end: {
            line: 324,
            column: 17
          }
        }],
        line: 311
      },
      "39": {
        loc: {
          start: {
            line: 312,
            column: 30
          },
          end: {
            line: 312,
            column: 89
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 312,
            column: 30
          },
          end: {
            line: 312,
            column: 69
          }
        }, {
          start: {
            line: 312,
            column: 73
          },
          end: {
            line: 312,
            column: 89
          }
        }],
        line: 312
      },
      "40": {
        loc: {
          start: {
            line: 317,
            column: 23
          },
          end: {
            line: 324,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 317,
            column: 23
          },
          end: {
            line: 324,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 317
      },
      "41": {
        loc: {
          start: {
            line: 318,
            column: 30
          },
          end: {
            line: 318,
            column: 85
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 318,
            column: 30
          },
          end: {
            line: 318,
            column: 67
          }
        }, {
          start: {
            line: 318,
            column: 71
          },
          end: {
            line: 318,
            column: 85
          }
        }],
        line: 318
      },
      "42": {
        loc: {
          start: {
            line: 354,
            column: 69
          },
          end: {
            line: 354,
            column: 114
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 354,
            column: 69
          },
          end: {
            line: 354,
            column: 83
          }
        }, {
          start: {
            line: 354,
            column: 87
          },
          end: {
            line: 354,
            column: 114
          }
        }],
        line: 354
      },
      "43": {
        loc: {
          start: {
            line: 381,
            column: 27
          },
          end: {
            line: 381,
            column: 58
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 381,
            column: 53
          },
          end: {
            line: 381,
            column: 54
          }
        }, {
          start: {
            line: 381,
            column: 57
          },
          end: {
            line: 381,
            column: 58
          }
        }],
        line: 381
      },
      "44": {
        loc: {
          start: {
            line: 382,
            column: 23
          },
          end: {
            line: 382,
            column: 55
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 382,
            column: 50
          },
          end: {
            line: 382,
            column: 51
          }
        }, {
          start: {
            line: 382,
            column: 54
          },
          end: {
            line: 382,
            column: 55
          }
        }],
        line: 382
      },
      "45": {
        loc: {
          start: {
            line: 396,
            column: 24
          },
          end: {
            line: 396,
            column: 46
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 396,
            column: 24
          },
          end: {
            line: 396,
            column: 40
          }
        }, {
          start: {
            line: 396,
            column: 44
          },
          end: {
            line: 396,
            column: 46
          }
        }],
        line: 396
      },
      "46": {
        loc: {
          start: {
            line: 429,
            column: 22
          },
          end: {
            line: 429,
            column: 46
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 429,
            column: 22
          },
          end: {
            line: 429,
            column: 36
          }
        }, {
          start: {
            line: 429,
            column: 40
          },
          end: {
            line: 429,
            column: 46
          }
        }],
        line: 429
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0,
      "110": 0,
      "111": 0,
      "112": 0,
      "113": 0,
      "114": 0,
      "115": 0,
      "116": 0,
      "117": 0,
      "118": 0,
      "119": 0,
      "120": 0,
      "121": 0,
      "122": 0,
      "123": 0,
      "124": 0,
      "125": 0,
      "126": 0,
      "127": 0,
      "128": 0,
      "129": 0,
      "130": 0,
      "131": 0,
      "132": 0,
      "133": 0,
      "134": 0,
      "135": 0,
      "136": 0,
      "137": 0,
      "138": 0,
      "139": 0,
      "140": 0,
      "141": 0,
      "142": 0,
      "143": 0,
      "144": 0,
      "145": 0,
      "146": 0,
      "147": 0,
      "148": 0,
      "149": 0,
      "150": 0,
      "151": 0,
      "152": 0,
      "153": 0,
      "154": 0,
      "155": 0,
      "156": 0,
      "157": 0,
      "158": 0,
      "159": 0,
      "160": 0,
      "161": 0,
      "162": 0,
      "163": 0,
      "164": 0,
      "165": 0,
      "166": 0,
      "167": 0,
      "168": 0,
      "169": 0,
      "170": 0,
      "171": 0,
      "172": 0,
      "173": 0,
      "174": 0,
      "175": 0,
      "176": 0,
      "177": 0,
      "178": 0,
      "179": 0,
      "180": 0,
      "181": 0,
      "182": 0,
      "183": 0,
      "184": 0,
      "185": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0],
      "26": [0, 0],
      "27": [0, 0, 0],
      "28": [0, 0],
      "29": [0, 0],
      "30": [0, 0],
      "31": [0, 0],
      "32": [0, 0],
      "33": [0, 0],
      "34": [0, 0],
      "35": [0, 0],
      "36": [0, 0],
      "37": [0, 0],
      "38": [0, 0],
      "39": [0, 0],
      "40": [0, 0],
      "41": [0, 0],
      "42": [0, 0],
      "43": [0, 0],
      "44": [0, 0],
      "45": [0, 0],
      "46": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Ai Projecten\\ADSapp\\src\\app\\api\\webhooks\\whatsapp\\route.ts"],
      sourcesContent: ["import { NextRequest, NextResponse } from 'next/server'\nimport { createClient } from '@/lib/supabase/server'\nimport { WhatsAppWebhookPayload } from '@/types'\nimport { EnhancedWhatsAppClient, WhatsAppWebhookValue, WhatsAppMessage, WhatsAppStatus, getWhatsAppClient } from '@/lib/whatsapp/enhanced-client'\nimport { MediaStorageService } from '@/lib/media/storage'\nimport { rateLimit, createErrorResponse } from '@/lib/api-utils'\nimport type { SupabaseClient } from '@supabase/supabase-js'\n\n// Define interfaces for better type safety\ninterface WhatsAppContact {\n  profile?: {\n    name?: string;\n  };\n  wa_id: string;\n}\n\ninterface WhatsAppMedia {\n  id?: string;\n  caption?: string;\n  filename?: string;\n  mimeType: string;\n  sha256?: string;\n}\n\ninterface ContactData {\n  organizationId: string;\n  whatsappId: string;\n  phoneNumber: string;\n  name: string | null;\n  lastMessageAt: string;\n}\n\ninterface ConversationData {\n  organizationId: string;\n  contactId: string;\n  lastMessageAt: string;\n}\n\ninterface MessageStatusUpdate {\n  id: string;\n  status: string;\n  timestamp: string;\n  recipient_id: string;\n}\n\ninterface ProcessingError extends Error {\n  message: string;\n  stack?: string;\n}\n\n// Rate limit webhook processing\nconst webhookRateLimit = rateLimit({\n  windowMs: 60 * 1000, // 1 minute\n  max: 100, // 100 requests per minute\n  keyGenerator: (request) => request.headers.get('x-forwarded-for') || 'anonymous'\n})\n\nexport async function GET(request: NextRequest) {\n  const { searchParams } = new URL(request.url)\n\n  const mode = searchParams.get('hub.mode')\n  const token = searchParams.get('hub.verify_token')\n  const challenge = searchParams.get('hub.challenge')\n\n  // Webhook verification\n  if (mode === 'subscribe' && token === process.env.WHATSAPP_WEBHOOK_VERIFY_TOKEN) {\n    console.log('WhatsApp webhook verified')\n    return new NextResponse(challenge)\n  }\n\n  return new NextResponse('Forbidden', { status: 403 })\n}\n\nexport async function POST(request: NextRequest) {\n  try {\n    // Apply rate limiting\n    await webhookRateLimit(request)\n\n    const body: WhatsAppWebhookPayload = await request.json()\n\n    // Validate webhook payload\n    if (!body.entry || !Array.isArray(body.entry)) {\n      return NextResponse.json({ error: 'Invalid webhook payload' }, { status: 400 })\n    }\n\n    // Log webhook payload for debugging\n    await logWebhook(body, 'whatsapp_message')\n\n    // Process each entry in the webhook payload\n    const processingPromises = body.entry.map(async (entry) => {\n      return Promise.all(\n        entry.changes.map(async (change) => {\n          if (change.field === 'messages') {\n            await processMessages(change.value)\n          } else if (change.field === 'message_template_status_update') {\n            await processTemplateStatusUpdate(change.value)\n          } else if (change.field === 'account_alerts') {\n            await processAccountAlerts(change.value)\n          }\n        })\n      )\n    })\n\n    await Promise.all(processingPromises)\n\n    return NextResponse.json({ success: true })\n  } catch (error) {\n    console.error('WhatsApp webhook error:', error)\n    return createErrorResponse(error)\n  }\n}\n\nasync function processMessages(value: WhatsAppWebhookValue) {\n  const supabase = await createClient()\n\n  // Find organization by phone number ID\n  const { data: organization } = await supabase\n    .from('organizations')\n    .select('*')\n    .eq('whatsapp_phone_number_id', value.metadata.phone_number_id)\n    .single()\n\n  if (!organization) {\n    console.warn('Organization not found for phone number ID:', value.metadata.phone_number_id)\n    return\n  }\n\n  // Process incoming messages\n  if (value.messages) {\n    for (const message of value.messages) {\n      await processIncomingMessage(message, organization.id, value.contacts?.[0])\n    }\n  }\n\n  // Process status updates\n  if (value.statuses) {\n    for (const status of value.statuses) {\n      await processMessageStatus(status, organization.id)\n    }\n  }\n}\n\nasync function processIncomingMessage(message: WhatsAppMessage, organizationId: string, contact?: WhatsAppContact) {\n  const supabase = await createClient()\n  const mediaStorage = new MediaStorageService()\n\n  try {\n    // Upsert contact with enhanced profile data\n    const contactData = await upsertContact(supabase, {\n      organizationId,\n      whatsappId: message.from,\n      phoneNumber: message.from,\n      name: contact?.profile?.name || null,\n      lastMessageAt: message.timestamp\n    })\n\n    if (!contactData) {\n      console.error('Failed to upsert contact')\n      return\n    }\n\n    // Find or create conversation\n    const conversation = await findOrCreateConversation(supabase, {\n      organizationId,\n      contactId: contactData.id,\n      lastMessageAt: message.timestamp\n    })\n\n    if (!conversation) {\n      console.error('Failed to create conversation')\n      return\n    }\n\n    // Process message content and media\n    const messageData = await processMessageContent(message, organizationId, mediaStorage)\n\n    // Handle message context (replies)\n    let contextMessageId: string | null = null\n    if (message.context) {\n      const { data: contextMessage } = await supabase\n        .from('messages')\n        .select('id')\n        .eq('whatsapp_message_id', message.context.id)\n        .single()\n\n      contextMessageId = contextMessage?.id || null\n    }\n\n    // Insert message with enhanced data\n    const { error } = await supabase\n      .from('messages')\n      .insert({\n        conversation_id: conversation.id,\n        whatsapp_message_id: message.id,\n        sender_type: 'contact',\n        content: messageData.content,\n        message_type: message.type,\n        media_url: messageData.mediaUrl,\n        media_mime_type: messageData.mediaMimeType,\n        media_file_id: messageData.mediaFileId,\n        context_message_id: contextMessageId,\n        metadata: messageData.metadata,\n        created_at: new Date(parseInt(message.timestamp) * 1000).toISOString(),\n      })\n\n    if (error) {\n      console.error('Failed to insert message:', error)\n      return\n    }\n\n    // Update conversation and contact timestamps\n    await Promise.all([\n      updateConversationTimestamp(supabase, conversation.id, message.timestamp),\n      updateContactTimestamp(supabase, contactData.id, message.timestamp),\n      incrementMessageCount(supabase, organizationId, 'inbound')\n    ])\n\n    // Process any errors in the message\n    if (message.errors && message.errors.length > 0) {\n      await logMessageErrors(supabase, message.id, message.errors, organizationId)\n    }\n\n  } catch (error) {\n    console.error('Error processing incoming message:', error)\n    await logProcessingError(supabase, message.id, error, organizationId)\n  }\n}\n\nasync function processMessageStatus(status: MessageStatusUpdate, organizationId: string) {\n  const supabase = await createClient()\n\n  // Update message delivery/read status\n  const updates: Record<string, string | boolean> = {}\n\n  switch (status.status) {\n    case 'delivered':\n      updates.delivered_at = new Date(parseInt(status.timestamp) * 1000).toISOString()\n      break\n    case 'read':\n      updates.read_at = new Date(parseInt(status.timestamp) * 1000).toISOString()\n      updates.is_read = true\n      break\n  }\n\n  if (Object.keys(updates).length > 0) {\n    await supabase\n      .from('messages')\n      .update(updates)\n      .eq('whatsapp_message_id', status.id)\n  }\n}\n\n// Helper functions for enhanced message processing\n\nasync function upsertContact(supabase: SupabaseClient, data: ContactData) {\n  const { data: contactData } = await supabase\n    .from('contacts')\n    .upsert({\n      organization_id: data.organizationId,\n      whatsapp_id: data.whatsappId,\n      phone_number: data.phoneNumber,\n      name: data.name,\n      last_message_at: new Date(parseInt(data.lastMessageAt) * 1000).toISOString(),\n    }, {\n      onConflict: 'organization_id,whatsapp_id',\n    })\n    .select()\n    .single()\n\n  return contactData\n}\n\nasync function findOrCreateConversation(supabase: SupabaseClient, data: ConversationData) {\n  let { data: conversation } = await supabase\n    .from('conversations')\n    .select('*')\n    .eq('organization_id', data.organizationId)\n    .eq('contact_id', data.contactId)\n    .in('status', ['open', 'pending'])\n    .maybeSingle()\n\n  if (!conversation) {\n    const { data: newConversation } = await supabase\n      .from('conversations')\n      .insert({\n        organization_id: data.organizationId,\n        contact_id: data.contactId,\n        status: 'open',\n        last_message_at: new Date(parseInt(data.lastMessageAt) * 1000).toISOString(),\n      })\n      .select()\n      .single()\n\n    conversation = newConversation\n  }\n\n  return conversation\n}\n\nasync function processMessageContent(message: WhatsAppMessage, organizationId: string, mediaStorage: MediaStorageService) {\n  let content = ''\n  let mediaUrl: string | null = null\n  let mediaMimeType: string | null = null\n  let mediaFileId: string | null = null\n  let metadata: Record<string, unknown> = {}\n\n  try {\n    switch (message.type) {\n      case 'text':\n        content = message.text?.body || ''\n        break\n\n      case 'image':\n        content = message.image?.caption || '[Image]'\n        if (message.image?.id) {\n          const mediaFile = await downloadAndStoreMedia(message.image.id, organizationId, mediaStorage, message.image)\n          if (mediaFile) {\n            mediaUrl = mediaFile.url\n            mediaMimeType = mediaFile.mimeType\n            mediaFileId = mediaFile.id\n            metadata = { ...mediaFile.metadata, whatsappMediaId: message.image.id }\n          }\n        }\n        break\n\n      case 'document':\n        content = message.document?.caption || message.document?.filename || '[Document]'\n        if (message.document?.id) {\n          const mediaFile = await downloadAndStoreMedia(message.document.id, organizationId, mediaStorage, message.document)\n          if (mediaFile) {\n            mediaUrl = mediaFile.url\n            mediaMimeType = mediaFile.mimeType\n            mediaFileId = mediaFile.id\n            metadata = {\n              ...mediaFile.metadata,\n              whatsappMediaId: message.document.id,\n              filename: message.document.filename\n            }\n          }\n        }\n        break\n\n      case 'audio':\n        content = '[Audio Message]'\n        if (message.audio?.id) {\n          const mediaFile = await downloadAndStoreMedia(message.audio.id, organizationId, mediaStorage, message.audio)\n          if (mediaFile) {\n            mediaUrl = mediaFile.url\n            mediaMimeType = mediaFile.mimeType\n            mediaFileId = mediaFile.id\n            metadata = { ...mediaFile.metadata, whatsappMediaId: message.audio.id }\n          }\n        }\n        break\n\n      case 'video':\n        content = message.video?.caption || '[Video]'\n        if (message.video?.id) {\n          const mediaFile = await downloadAndStoreMedia(message.video.id, organizationId, mediaStorage, message.video)\n          if (mediaFile) {\n            mediaUrl = mediaFile.url\n            mediaMimeType = mediaFile.mimeType\n            mediaFileId = mediaFile.id\n            metadata = { ...mediaFile.metadata, whatsappMediaId: message.video.id }\n          }\n        }\n        break\n\n      case 'location':\n        content = `Location: ${message.location?.latitude}, ${message.location?.longitude}`\n        if (message.location?.name) {\n          content += ` - ${message.location.name}`\n        }\n        metadata = {\n          latitude: message.location?.latitude,\n          longitude: message.location?.longitude,\n          name: message.location?.name,\n          address: message.location?.address\n        }\n        break\n\n      case 'contacts':\n        content = message.contacts?.map(c => c.name.formatted_name).join(', ') || '[Contact Card]'\n        metadata = { contacts: message.contacts }\n        break\n\n      case 'button':\n        content = message.button?.text || '[Button Response]'\n        metadata = { buttonPayload: message.button?.payload }\n        break\n\n      case 'interactive':\n        if (message.interactive?.type === 'button_reply') {\n          content = message.interactive.button_reply?.title || '[Button Reply]'\n          metadata = {\n            interactiveType: 'button_reply',\n            buttonId: message.interactive.button_reply?.id\n          }\n        } else if (message.interactive?.type === 'list_reply') {\n          content = message.interactive.list_reply?.title || '[List Reply]'\n          metadata = {\n            interactiveType: 'list_reply',\n            listId: message.interactive.list_reply?.id,\n            description: message.interactive.list_reply?.description\n          }\n        }\n        break\n\n      default:\n        content = `[${message.type} message]`\n        metadata = { unsupportedType: message.type }\n    }\n  } catch (error) {\n    console.error('Error processing message content:', error)\n    content = `[Error processing ${message.type} message]`\n    metadata = { processingError: error.message }\n  }\n\n  return {\n    content,\n    mediaUrl,\n    mediaMimeType,\n    mediaFileId,\n    metadata\n  }\n}\n\nasync function downloadAndStoreMedia(mediaId: string, organizationId: string, mediaStorage: MediaStorageService, media: WhatsAppMedia) {\n  try {\n    // Get WhatsApp client for the organization\n    const client = await getWhatsAppClient(organizationId)\n\n    // Download media from WhatsApp\n    const mediaBuffer = await client.downloadMedia(mediaId)\n\n    // Store in our media storage\n    const mediaFile = await mediaStorage.uploadFile(\n      mediaBuffer,\n      media.filename || `whatsapp_media_${mediaId}`,\n      media.mimeType,\n      {\n        organizationId,\n        uploadedBy: 'system',\n        generateThumbnail: media.mimeType.startsWith('image/'),\n        maxSize: 16 * 1024 * 1024 // 16MB limit\n      }\n    )\n\n    return mediaFile\n  } catch (error) {\n    console.error('Error downloading and storing media:', error)\n    return null\n  }\n}\n\nasync function updateConversationTimestamp(supabase: SupabaseClient, conversationId: string, timestamp: string) {\n  await supabase\n    .from('conversations')\n    .update({\n      last_message_at: new Date(parseInt(timestamp) * 1000).toISOString(),\n    })\n    .eq('id', conversationId)\n}\n\nasync function updateContactTimestamp(supabase: SupabaseClient, contactId: string, timestamp: string) {\n  await supabase\n    .from('contacts')\n    .update({\n      last_message_at: new Date(parseInt(timestamp) * 1000).toISOString(),\n    })\n    .eq('id', contactId)\n}\n\nasync function incrementMessageCount(supabase: SupabaseClient, organizationId: string, direction: 'inbound' | 'outbound') {\n  const today = new Date().toISOString().split('T')[0]\n\n  await supabase\n    .from('daily_analytics')\n    .upsert({\n      organization_id: organizationId,\n      date: today,\n      messages_received: direction === 'inbound' ? 1 : 0,\n      messages_sent: direction === 'outbound' ? 1 : 0,\n    }, {\n      onConflict: 'organization_id,date',\n      ignoreDuplicates: false\n    })\n}\n\nasync function logMessageErrors(supabase: SupabaseClient, messageId: string, errors: Array<{ code: string; title: string; message: string; error_data?: Record<string, unknown> }>, organizationId: string) {\n  for (const error of errors) {\n    await supabase\n      .from('message_errors')\n      .insert({\n        whatsapp_message_id: messageId,\n        organization_id: organizationId,\n        error_code: error.code,\n        error_title: error.title,\n        error_message: error.message,\n        error_data: error.error_data || {},\n        created_at: new Date().toISOString()\n      })\n  }\n}\n\nasync function logProcessingError(supabase: SupabaseClient, messageId: string, error: ProcessingError, organizationId: string) {\n  await supabase\n    .from('processing_errors')\n    .insert({\n      whatsapp_message_id: messageId,\n      organization_id: organizationId,\n      error_message: error.message,\n      error_stack: error.stack,\n      created_at: new Date().toISOString()\n    })\n}\n\nasync function processTemplateStatusUpdate(value: { template_id: string; status: string; reason?: string }) {\n  const supabase = await createClient()\n\n  try {\n    await supabase\n      .from('message_template_status_updates')\n      .insert({\n        template_id: value.template_id,\n        status: value.status,\n        reason: value.reason,\n        updated_at: new Date().toISOString()\n      })\n  } catch (error) {\n    console.error('Error processing template status update:', error)\n  }\n}\n\nasync function processAccountAlerts(value: { alert_type: string; message: string; severity?: string; [key: string]: unknown }) {\n  const supabase = await createClient()\n\n  try {\n    await supabase\n      .from('account_alerts')\n      .insert({\n        alert_type: value.alert_type,\n        message: value.message,\n        severity: value.severity || 'info',\n        metadata: value,\n        created_at: new Date().toISOString()\n      })\n  } catch (error) {\n    console.error('Error processing account alert:', error)\n  }\n}\n\nasync function logWebhook(payload: Record<string, unknown>, type: string) {\n  const supabase = await createClient()\n\n  await supabase\n    .from('webhook_logs')\n    .insert({\n      webhook_type: type,\n      payload,\n      processed_at: new Date().toISOString(),\n    })\n}"],
      names: ["GET", "POST", "webhookRateLimit", "rateLimit", "windowMs", "max", "keyGenerator", "request", "headers", "get", "searchParams", "URL", "url", "mode", "token", "challenge", "process", "env", "WHATSAPP_WEBHOOK_VERIFY_TOKEN", "console", "log", "NextResponse", "status", "body", "json", "entry", "Array", "isArray", "error", "logWebhook", "processingPromises", "map", "Promise", "all", "changes", "change", "field", "processMessages", "value", "processTemplateStatusUpdate", "processAccountAlerts", "success", "createErrorResponse", "supabase", "createClient", "data", "organization", "from", "select", "eq", "metadata", "phone_number_id", "single", "warn", "messages", "message", "processIncomingMessage", "id", "contacts", "statuses", "processMessageStatus", "organizationId", "contact", "mediaStorage", "MediaStorageService", "contactData", "upsertContact", "whatsappId", "phoneNumber", "name", "profile", "lastMessageAt", "timestamp", "conversation", "findOrCreateConversation", "contactId", "messageData", "processMessageContent", "contextMessageId", "context", "contextMessage", "insert", "conversation_id", "whatsapp_message_id", "sender_type", "content", "message_type", "type", "media_url", "mediaUrl", "media_mime_type", "mediaMimeType", "media_file_id", "mediaFileId", "context_message_id", "created_at", "Date", "parseInt", "toISOString", "updateConversationTimestamp", "updateContactTimestamp", "incrementMessageCount", "errors", "length", "logMessageErrors", "logProcessingError", "updates", "delivered_at", "read_at", "is_read", "Object", "keys", "update", "upsert", "organization_id", "whatsapp_id", "phone_number", "last_message_at", "onConflict", "in", "maybeSingle", "newConversation", "contact_id", "text", "image", "caption", "mediaFile", "downloadAndStoreMedia", "mimeType", "whatsappMediaId", "document", "filename", "audio", "video", "location", "latitude", "longitude", "address", "c", "formatted_name", "join", "button", "buttonPayload", "payload", "interactive", "button_reply", "title", "interactiveType", "buttonId", "list_reply", "listId", "description", "unsupportedType", "processingError", "mediaId", "media", "client", "getWhatsAppClient", "mediaBuffer", "downloadMedia", "uploadFile", "uploadedBy", "generateThumbnail", "startsWith", "maxSize", "conversationId", "direction", "today", "split", "date", "messages_received", "messages_sent", "ignoreDuplicates", "messageId", "error_code", "code", "error_title", "error_message", "error_data", "error_stack", "stack", "template_id", "reason", "updated_at", "alert_type", "severity", "webhook_type", "processed_at"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "a64601bb6b14f1bae093d70e4b0980096ecc3739"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1u2cp9gejz = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1u2cp9gejz();
cov_1u2cp9gejz().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_1u2cp9gejz().f[0]++;
  cov_1u2cp9gejz().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_1u2cp9gejz().s[3]++;
_export(exports, {
  get GET() {
    /* istanbul ignore next */
    cov_1u2cp9gejz().f[1]++;
    cov_1u2cp9gejz().s[4]++;
    return GET;
  },
  get POST() {
    /* istanbul ignore next */
    cov_1u2cp9gejz().f[2]++;
    cov_1u2cp9gejz().s[5]++;
    return POST;
  }
});
const _server =
/* istanbul ignore next */
(cov_1u2cp9gejz().s[6]++, require("next/server"));
const _server1 =
/* istanbul ignore next */
(cov_1u2cp9gejz().s[7]++, require("../../../../lib/supabase/server"));
const _enhancedclient =
/* istanbul ignore next */
(cov_1u2cp9gejz().s[8]++, require("../../../../lib/whatsapp/enhanced-client"));
const _storage =
/* istanbul ignore next */
(cov_1u2cp9gejz().s[9]++, require("../../../../lib/media/storage"));
const _apiutils =
/* istanbul ignore next */
(cov_1u2cp9gejz().s[10]++, require("../../../../lib/api-utils"));
// Rate limit webhook processing
const webhookRateLimit =
/* istanbul ignore next */
(cov_1u2cp9gejz().s[11]++, (0, _apiutils.rateLimit)({
  windowMs: 60 * 1000,
  max: 100,
  keyGenerator: request => {
    /* istanbul ignore next */
    cov_1u2cp9gejz().f[3]++;
    cov_1u2cp9gejz().s[12]++;
    return /* istanbul ignore next */(cov_1u2cp9gejz().b[0][0]++, request.headers.get('x-forwarded-for')) ||
    /* istanbul ignore next */
    (cov_1u2cp9gejz().b[0][1]++, 'anonymous');
  }
}));
async function GET(request) {
  /* istanbul ignore next */
  cov_1u2cp9gejz().f[4]++;
  const {
    searchParams
  } =
  /* istanbul ignore next */
  (cov_1u2cp9gejz().s[13]++, new URL(request.url));
  const mode =
  /* istanbul ignore next */
  (cov_1u2cp9gejz().s[14]++, searchParams.get('hub.mode'));
  const token =
  /* istanbul ignore next */
  (cov_1u2cp9gejz().s[15]++, searchParams.get('hub.verify_token'));
  const challenge =
  /* istanbul ignore next */
  (cov_1u2cp9gejz().s[16]++, searchParams.get('hub.challenge'));
  // Webhook verification
  /* istanbul ignore next */
  cov_1u2cp9gejz().s[17]++;
  if (
  /* istanbul ignore next */
  (cov_1u2cp9gejz().b[2][0]++, mode === 'subscribe') &&
  /* istanbul ignore next */
  (cov_1u2cp9gejz().b[2][1]++, token === process.env.WHATSAPP_WEBHOOK_VERIFY_TOKEN)) {
    /* istanbul ignore next */
    cov_1u2cp9gejz().b[1][0]++;
    cov_1u2cp9gejz().s[18]++;
    console.log('WhatsApp webhook verified');
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[19]++;
    return new _server.NextResponse(challenge);
  } else
  /* istanbul ignore next */
  {
    cov_1u2cp9gejz().b[1][1]++;
  }
  cov_1u2cp9gejz().s[20]++;
  return new _server.NextResponse('Forbidden', {
    status: 403
  });
}
async function POST(request) {
  /* istanbul ignore next */
  cov_1u2cp9gejz().f[5]++;
  cov_1u2cp9gejz().s[21]++;
  try {
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[22]++;
    // Apply rate limiting
    await webhookRateLimit(request);
    const body =
    /* istanbul ignore next */
    (cov_1u2cp9gejz().s[23]++, await request.json());
    // Validate webhook payload
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[24]++;
    if (
    /* istanbul ignore next */
    (cov_1u2cp9gejz().b[4][0]++, !body.entry) ||
    /* istanbul ignore next */
    (cov_1u2cp9gejz().b[4][1]++, !Array.isArray(body.entry))) {
      /* istanbul ignore next */
      cov_1u2cp9gejz().b[3][0]++;
      cov_1u2cp9gejz().s[25]++;
      return _server.NextResponse.json({
        error: 'Invalid webhook payload'
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_1u2cp9gejz().b[3][1]++;
    }
    // Log webhook payload for debugging
    cov_1u2cp9gejz().s[26]++;
    await logWebhook(body, 'whatsapp_message');
    // Process each entry in the webhook payload
    const processingPromises =
    /* istanbul ignore next */
    (cov_1u2cp9gejz().s[27]++, body.entry.map(async entry => {
      /* istanbul ignore next */
      cov_1u2cp9gejz().f[6]++;
      cov_1u2cp9gejz().s[28]++;
      return Promise.all(entry.changes.map(async change => {
        /* istanbul ignore next */
        cov_1u2cp9gejz().f[7]++;
        cov_1u2cp9gejz().s[29]++;
        if (change.field === 'messages') {
          /* istanbul ignore next */
          cov_1u2cp9gejz().b[5][0]++;
          cov_1u2cp9gejz().s[30]++;
          await processMessages(change.value);
        } else {
          /* istanbul ignore next */
          cov_1u2cp9gejz().b[5][1]++;
          cov_1u2cp9gejz().s[31]++;
          if (change.field === 'message_template_status_update') {
            /* istanbul ignore next */
            cov_1u2cp9gejz().b[6][0]++;
            cov_1u2cp9gejz().s[32]++;
            await processTemplateStatusUpdate(change.value);
          } else {
            /* istanbul ignore next */
            cov_1u2cp9gejz().b[6][1]++;
            cov_1u2cp9gejz().s[33]++;
            if (change.field === 'account_alerts') {
              /* istanbul ignore next */
              cov_1u2cp9gejz().b[7][0]++;
              cov_1u2cp9gejz().s[34]++;
              await processAccountAlerts(change.value);
            } else
            /* istanbul ignore next */
            {
              cov_1u2cp9gejz().b[7][1]++;
            }
          }
        }
      }));
    }));
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[35]++;
    await Promise.all(processingPromises);
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[36]++;
    return _server.NextResponse.json({
      success: true
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[37]++;
    console.error('WhatsApp webhook error:', error);
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[38]++;
    return (0, _apiutils.createErrorResponse)(error);
  }
}
async function processMessages(value) {
  /* istanbul ignore next */
  cov_1u2cp9gejz().f[8]++;
  const supabase =
  /* istanbul ignore next */
  (cov_1u2cp9gejz().s[39]++, await (0, _server1.createClient)());
  // Find organization by phone number ID
  const {
    data: organization
  } =
  /* istanbul ignore next */
  (cov_1u2cp9gejz().s[40]++, await supabase.from('organizations').select('*').eq('whatsapp_phone_number_id', value.metadata.phone_number_id).single());
  /* istanbul ignore next */
  cov_1u2cp9gejz().s[41]++;
  if (!organization) {
    /* istanbul ignore next */
    cov_1u2cp9gejz().b[8][0]++;
    cov_1u2cp9gejz().s[42]++;
    console.warn('Organization not found for phone number ID:', value.metadata.phone_number_id);
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[43]++;
    return;
  } else
  /* istanbul ignore next */
  {
    cov_1u2cp9gejz().b[8][1]++;
  }
  // Process incoming messages
  cov_1u2cp9gejz().s[44]++;
  if (value.messages) {
    /* istanbul ignore next */
    cov_1u2cp9gejz().b[9][0]++;
    cov_1u2cp9gejz().s[45]++;
    for (const message of value.messages) {
      /* istanbul ignore next */
      cov_1u2cp9gejz().s[46]++;
      await processIncomingMessage(message, organization.id, value.contacts?.[0]);
    }
  } else
  /* istanbul ignore next */
  {
    cov_1u2cp9gejz().b[9][1]++;
  }
  // Process status updates
  cov_1u2cp9gejz().s[47]++;
  if (value.statuses) {
    /* istanbul ignore next */
    cov_1u2cp9gejz().b[10][0]++;
    cov_1u2cp9gejz().s[48]++;
    for (const status of value.statuses) {
      /* istanbul ignore next */
      cov_1u2cp9gejz().s[49]++;
      await processMessageStatus(status, organization.id);
    }
  } else
  /* istanbul ignore next */
  {
    cov_1u2cp9gejz().b[10][1]++;
  }
}
async function processIncomingMessage(message, organizationId, contact) {
  /* istanbul ignore next */
  cov_1u2cp9gejz().f[9]++;
  const supabase =
  /* istanbul ignore next */
  (cov_1u2cp9gejz().s[50]++, await (0, _server1.createClient)());
  const mediaStorage =
  /* istanbul ignore next */
  (cov_1u2cp9gejz().s[51]++, new _storage.MediaStorageService());
  /* istanbul ignore next */
  cov_1u2cp9gejz().s[52]++;
  try {
    // Upsert contact with enhanced profile data
    const contactData =
    /* istanbul ignore next */
    (cov_1u2cp9gejz().s[53]++, await upsertContact(supabase, {
      organizationId,
      whatsappId: message.from,
      phoneNumber: message.from,
      name:
      /* istanbul ignore next */
      (cov_1u2cp9gejz().b[11][0]++, contact?.profile?.name) ||
      /* istanbul ignore next */
      (cov_1u2cp9gejz().b[11][1]++, null),
      lastMessageAt: message.timestamp
    }));
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[54]++;
    if (!contactData) {
      /* istanbul ignore next */
      cov_1u2cp9gejz().b[12][0]++;
      cov_1u2cp9gejz().s[55]++;
      console.error('Failed to upsert contact');
      /* istanbul ignore next */
      cov_1u2cp9gejz().s[56]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_1u2cp9gejz().b[12][1]++;
    }
    // Find or create conversation
    const conversation =
    /* istanbul ignore next */
    (cov_1u2cp9gejz().s[57]++, await findOrCreateConversation(supabase, {
      organizationId,
      contactId: contactData.id,
      lastMessageAt: message.timestamp
    }));
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[58]++;
    if (!conversation) {
      /* istanbul ignore next */
      cov_1u2cp9gejz().b[13][0]++;
      cov_1u2cp9gejz().s[59]++;
      console.error('Failed to create conversation');
      /* istanbul ignore next */
      cov_1u2cp9gejz().s[60]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_1u2cp9gejz().b[13][1]++;
    }
    // Process message content and media
    const messageData =
    /* istanbul ignore next */
    (cov_1u2cp9gejz().s[61]++, await processMessageContent(message, organizationId, mediaStorage));
    // Handle message context (replies)
    let contextMessageId =
    /* istanbul ignore next */
    (cov_1u2cp9gejz().s[62]++, null);
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[63]++;
    if (message.context) {
      /* istanbul ignore next */
      cov_1u2cp9gejz().b[14][0]++;
      const {
        data: contextMessage
      } =
      /* istanbul ignore next */
      (cov_1u2cp9gejz().s[64]++, await supabase.from('messages').select('id').eq('whatsapp_message_id', message.context.id).single());
      /* istanbul ignore next */
      cov_1u2cp9gejz().s[65]++;
      contextMessageId =
      /* istanbul ignore next */
      (cov_1u2cp9gejz().b[15][0]++, contextMessage?.id) ||
      /* istanbul ignore next */
      (cov_1u2cp9gejz().b[15][1]++, null);
    } else
    /* istanbul ignore next */
    {
      cov_1u2cp9gejz().b[14][1]++;
    }
    // Insert message with enhanced data
    const {
      error
    } =
    /* istanbul ignore next */
    (cov_1u2cp9gejz().s[66]++, await supabase.from('messages').insert({
      conversation_id: conversation.id,
      whatsapp_message_id: message.id,
      sender_type: 'contact',
      content: messageData.content,
      message_type: message.type,
      media_url: messageData.mediaUrl,
      media_mime_type: messageData.mediaMimeType,
      media_file_id: messageData.mediaFileId,
      context_message_id: contextMessageId,
      metadata: messageData.metadata,
      created_at: new Date(parseInt(message.timestamp) * 1000).toISOString()
    }));
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[67]++;
    if (error) {
      /* istanbul ignore next */
      cov_1u2cp9gejz().b[16][0]++;
      cov_1u2cp9gejz().s[68]++;
      console.error('Failed to insert message:', error);
      /* istanbul ignore next */
      cov_1u2cp9gejz().s[69]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_1u2cp9gejz().b[16][1]++;
    }
    // Update conversation and contact timestamps
    cov_1u2cp9gejz().s[70]++;
    await Promise.all([updateConversationTimestamp(supabase, conversation.id, message.timestamp), updateContactTimestamp(supabase, contactData.id, message.timestamp), incrementMessageCount(supabase, organizationId, 'inbound')]);
    // Process any errors in the message
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[71]++;
    if (
    /* istanbul ignore next */
    (cov_1u2cp9gejz().b[18][0]++, message.errors) &&
    /* istanbul ignore next */
    (cov_1u2cp9gejz().b[18][1]++, message.errors.length > 0)) {
      /* istanbul ignore next */
      cov_1u2cp9gejz().b[17][0]++;
      cov_1u2cp9gejz().s[72]++;
      await logMessageErrors(supabase, message.id, message.errors, organizationId);
    } else
    /* istanbul ignore next */
    {
      cov_1u2cp9gejz().b[17][1]++;
    }
  } catch (error) {
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[73]++;
    console.error('Error processing incoming message:', error);
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[74]++;
    await logProcessingError(supabase, message.id, error, organizationId);
  }
}
async function processMessageStatus(status, organizationId) {
  /* istanbul ignore next */
  cov_1u2cp9gejz().f[10]++;
  const supabase =
  /* istanbul ignore next */
  (cov_1u2cp9gejz().s[75]++, await (0, _server1.createClient)());
  // Update message delivery/read status
  const updates =
  /* istanbul ignore next */
  (cov_1u2cp9gejz().s[76]++, {});
  /* istanbul ignore next */
  cov_1u2cp9gejz().s[77]++;
  switch (status.status) {
    case 'delivered':
      /* istanbul ignore next */
      cov_1u2cp9gejz().b[19][0]++;
      cov_1u2cp9gejz().s[78]++;
      updates.delivered_at = new Date(parseInt(status.timestamp) * 1000).toISOString();
      /* istanbul ignore next */
      cov_1u2cp9gejz().s[79]++;
      break;
    case 'read':
      /* istanbul ignore next */
      cov_1u2cp9gejz().b[19][1]++;
      cov_1u2cp9gejz().s[80]++;
      updates.read_at = new Date(parseInt(status.timestamp) * 1000).toISOString();
      /* istanbul ignore next */
      cov_1u2cp9gejz().s[81]++;
      updates.is_read = true;
      /* istanbul ignore next */
      cov_1u2cp9gejz().s[82]++;
      break;
  }
  /* istanbul ignore next */
  cov_1u2cp9gejz().s[83]++;
  if (Object.keys(updates).length > 0) {
    /* istanbul ignore next */
    cov_1u2cp9gejz().b[20][0]++;
    cov_1u2cp9gejz().s[84]++;
    await supabase.from('messages').update(updates).eq('whatsapp_message_id', status.id);
  } else
  /* istanbul ignore next */
  {
    cov_1u2cp9gejz().b[20][1]++;
  }
}
// Helper functions for enhanced message processing
async function upsertContact(supabase, data) {
  /* istanbul ignore next */
  cov_1u2cp9gejz().f[11]++;
  const {
    data: contactData
  } =
  /* istanbul ignore next */
  (cov_1u2cp9gejz().s[85]++, await supabase.from('contacts').upsert({
    organization_id: data.organizationId,
    whatsapp_id: data.whatsappId,
    phone_number: data.phoneNumber,
    name: data.name,
    last_message_at: new Date(parseInt(data.lastMessageAt) * 1000).toISOString()
  }, {
    onConflict: 'organization_id,whatsapp_id'
  }).select().single());
  /* istanbul ignore next */
  cov_1u2cp9gejz().s[86]++;
  return contactData;
}
async function findOrCreateConversation(supabase, data) {
  /* istanbul ignore next */
  cov_1u2cp9gejz().f[12]++;
  let {
    data: conversation
  } =
  /* istanbul ignore next */
  (cov_1u2cp9gejz().s[87]++, await supabase.from('conversations').select('*').eq('organization_id', data.organizationId).eq('contact_id', data.contactId).in('status', ['open', 'pending']).maybeSingle());
  /* istanbul ignore next */
  cov_1u2cp9gejz().s[88]++;
  if (!conversation) {
    /* istanbul ignore next */
    cov_1u2cp9gejz().b[21][0]++;
    const {
      data: newConversation
    } =
    /* istanbul ignore next */
    (cov_1u2cp9gejz().s[89]++, await supabase.from('conversations').insert({
      organization_id: data.organizationId,
      contact_id: data.contactId,
      status: 'open',
      last_message_at: new Date(parseInt(data.lastMessageAt) * 1000).toISOString()
    }).select().single());
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[90]++;
    conversation = newConversation;
  } else
  /* istanbul ignore next */
  {
    cov_1u2cp9gejz().b[21][1]++;
  }
  cov_1u2cp9gejz().s[91]++;
  return conversation;
}
async function processMessageContent(message, organizationId, mediaStorage) {
  /* istanbul ignore next */
  cov_1u2cp9gejz().f[13]++;
  let content =
  /* istanbul ignore next */
  (cov_1u2cp9gejz().s[92]++, '');
  let mediaUrl =
  /* istanbul ignore next */
  (cov_1u2cp9gejz().s[93]++, null);
  let mediaMimeType =
  /* istanbul ignore next */
  (cov_1u2cp9gejz().s[94]++, null);
  let mediaFileId =
  /* istanbul ignore next */
  (cov_1u2cp9gejz().s[95]++, null);
  let metadata =
  /* istanbul ignore next */
  (cov_1u2cp9gejz().s[96]++, {});
  /* istanbul ignore next */
  cov_1u2cp9gejz().s[97]++;
  try {
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[98]++;
    switch (message.type) {
      case 'text':
        /* istanbul ignore next */
        cov_1u2cp9gejz().b[22][0]++;
        cov_1u2cp9gejz().s[99]++;
        content =
        /* istanbul ignore next */
        (cov_1u2cp9gejz().b[23][0]++, message.text?.body) ||
        /* istanbul ignore next */
        (cov_1u2cp9gejz().b[23][1]++, '');
        /* istanbul ignore next */
        cov_1u2cp9gejz().s[100]++;
        break;
      case 'image':
        /* istanbul ignore next */
        cov_1u2cp9gejz().b[22][1]++;
        cov_1u2cp9gejz().s[101]++;
        content =
        /* istanbul ignore next */
        (cov_1u2cp9gejz().b[24][0]++, message.image?.caption) ||
        /* istanbul ignore next */
        (cov_1u2cp9gejz().b[24][1]++, '[Image]');
        /* istanbul ignore next */
        cov_1u2cp9gejz().s[102]++;
        if (message.image?.id) {
          /* istanbul ignore next */
          cov_1u2cp9gejz().b[25][0]++;
          const mediaFile =
          /* istanbul ignore next */
          (cov_1u2cp9gejz().s[103]++, await downloadAndStoreMedia(message.image.id, organizationId, mediaStorage, message.image));
          /* istanbul ignore next */
          cov_1u2cp9gejz().s[104]++;
          if (mediaFile) {
            /* istanbul ignore next */
            cov_1u2cp9gejz().b[26][0]++;
            cov_1u2cp9gejz().s[105]++;
            mediaUrl = mediaFile.url;
            /* istanbul ignore next */
            cov_1u2cp9gejz().s[106]++;
            mediaMimeType = mediaFile.mimeType;
            /* istanbul ignore next */
            cov_1u2cp9gejz().s[107]++;
            mediaFileId = mediaFile.id;
            /* istanbul ignore next */
            cov_1u2cp9gejz().s[108]++;
            metadata = {
              ...mediaFile.metadata,
              whatsappMediaId: message.image.id
            };
          } else
          /* istanbul ignore next */
          {
            cov_1u2cp9gejz().b[26][1]++;
          }
        } else
        /* istanbul ignore next */
        {
          cov_1u2cp9gejz().b[25][1]++;
        }
        cov_1u2cp9gejz().s[109]++;
        break;
      case 'document':
        /* istanbul ignore next */
        cov_1u2cp9gejz().b[22][2]++;
        cov_1u2cp9gejz().s[110]++;
        content =
        /* istanbul ignore next */
        (cov_1u2cp9gejz().b[27][0]++, message.document?.caption) ||
        /* istanbul ignore next */
        (cov_1u2cp9gejz().b[27][1]++, message.document?.filename) ||
        /* istanbul ignore next */
        (cov_1u2cp9gejz().b[27][2]++, '[Document]');
        /* istanbul ignore next */
        cov_1u2cp9gejz().s[111]++;
        if (message.document?.id) {
          /* istanbul ignore next */
          cov_1u2cp9gejz().b[28][0]++;
          const mediaFile =
          /* istanbul ignore next */
          (cov_1u2cp9gejz().s[112]++, await downloadAndStoreMedia(message.document.id, organizationId, mediaStorage, message.document));
          /* istanbul ignore next */
          cov_1u2cp9gejz().s[113]++;
          if (mediaFile) {
            /* istanbul ignore next */
            cov_1u2cp9gejz().b[29][0]++;
            cov_1u2cp9gejz().s[114]++;
            mediaUrl = mediaFile.url;
            /* istanbul ignore next */
            cov_1u2cp9gejz().s[115]++;
            mediaMimeType = mediaFile.mimeType;
            /* istanbul ignore next */
            cov_1u2cp9gejz().s[116]++;
            mediaFileId = mediaFile.id;
            /* istanbul ignore next */
            cov_1u2cp9gejz().s[117]++;
            metadata = {
              ...mediaFile.metadata,
              whatsappMediaId: message.document.id,
              filename: message.document.filename
            };
          } else
          /* istanbul ignore next */
          {
            cov_1u2cp9gejz().b[29][1]++;
          }
        } else
        /* istanbul ignore next */
        {
          cov_1u2cp9gejz().b[28][1]++;
        }
        cov_1u2cp9gejz().s[118]++;
        break;
      case 'audio':
        /* istanbul ignore next */
        cov_1u2cp9gejz().b[22][3]++;
        cov_1u2cp9gejz().s[119]++;
        content = '[Audio Message]';
        /* istanbul ignore next */
        cov_1u2cp9gejz().s[120]++;
        if (message.audio?.id) {
          /* istanbul ignore next */
          cov_1u2cp9gejz().b[30][0]++;
          const mediaFile =
          /* istanbul ignore next */
          (cov_1u2cp9gejz().s[121]++, await downloadAndStoreMedia(message.audio.id, organizationId, mediaStorage, message.audio));
          /* istanbul ignore next */
          cov_1u2cp9gejz().s[122]++;
          if (mediaFile) {
            /* istanbul ignore next */
            cov_1u2cp9gejz().b[31][0]++;
            cov_1u2cp9gejz().s[123]++;
            mediaUrl = mediaFile.url;
            /* istanbul ignore next */
            cov_1u2cp9gejz().s[124]++;
            mediaMimeType = mediaFile.mimeType;
            /* istanbul ignore next */
            cov_1u2cp9gejz().s[125]++;
            mediaFileId = mediaFile.id;
            /* istanbul ignore next */
            cov_1u2cp9gejz().s[126]++;
            metadata = {
              ...mediaFile.metadata,
              whatsappMediaId: message.audio.id
            };
          } else
          /* istanbul ignore next */
          {
            cov_1u2cp9gejz().b[31][1]++;
          }
        } else
        /* istanbul ignore next */
        {
          cov_1u2cp9gejz().b[30][1]++;
        }
        cov_1u2cp9gejz().s[127]++;
        break;
      case 'video':
        /* istanbul ignore next */
        cov_1u2cp9gejz().b[22][4]++;
        cov_1u2cp9gejz().s[128]++;
        content =
        /* istanbul ignore next */
        (cov_1u2cp9gejz().b[32][0]++, message.video?.caption) ||
        /* istanbul ignore next */
        (cov_1u2cp9gejz().b[32][1]++, '[Video]');
        /* istanbul ignore next */
        cov_1u2cp9gejz().s[129]++;
        if (message.video?.id) {
          /* istanbul ignore next */
          cov_1u2cp9gejz().b[33][0]++;
          const mediaFile =
          /* istanbul ignore next */
          (cov_1u2cp9gejz().s[130]++, await downloadAndStoreMedia(message.video.id, organizationId, mediaStorage, message.video));
          /* istanbul ignore next */
          cov_1u2cp9gejz().s[131]++;
          if (mediaFile) {
            /* istanbul ignore next */
            cov_1u2cp9gejz().b[34][0]++;
            cov_1u2cp9gejz().s[132]++;
            mediaUrl = mediaFile.url;
            /* istanbul ignore next */
            cov_1u2cp9gejz().s[133]++;
            mediaMimeType = mediaFile.mimeType;
            /* istanbul ignore next */
            cov_1u2cp9gejz().s[134]++;
            mediaFileId = mediaFile.id;
            /* istanbul ignore next */
            cov_1u2cp9gejz().s[135]++;
            metadata = {
              ...mediaFile.metadata,
              whatsappMediaId: message.video.id
            };
          } else
          /* istanbul ignore next */
          {
            cov_1u2cp9gejz().b[34][1]++;
          }
        } else
        /* istanbul ignore next */
        {
          cov_1u2cp9gejz().b[33][1]++;
        }
        cov_1u2cp9gejz().s[136]++;
        break;
      case 'location':
        /* istanbul ignore next */
        cov_1u2cp9gejz().b[22][5]++;
        cov_1u2cp9gejz().s[137]++;
        content = `Location: ${message.location?.latitude}, ${message.location?.longitude}`;
        /* istanbul ignore next */
        cov_1u2cp9gejz().s[138]++;
        if (message.location?.name) {
          /* istanbul ignore next */
          cov_1u2cp9gejz().b[35][0]++;
          cov_1u2cp9gejz().s[139]++;
          content += ` - ${message.location.name}`;
        } else
        /* istanbul ignore next */
        {
          cov_1u2cp9gejz().b[35][1]++;
        }
        cov_1u2cp9gejz().s[140]++;
        metadata = {
          latitude: message.location?.latitude,
          longitude: message.location?.longitude,
          name: message.location?.name,
          address: message.location?.address
        };
        /* istanbul ignore next */
        cov_1u2cp9gejz().s[141]++;
        break;
      case 'contacts':
        /* istanbul ignore next */
        cov_1u2cp9gejz().b[22][6]++;
        cov_1u2cp9gejz().s[142]++;
        content =
        /* istanbul ignore next */
        (cov_1u2cp9gejz().b[36][0]++, message.contacts?.map(c => {
          /* istanbul ignore next */
          cov_1u2cp9gejz().f[14]++;
          cov_1u2cp9gejz().s[143]++;
          return c.name.formatted_name;
        }).join(', ')) ||
        /* istanbul ignore next */
        (cov_1u2cp9gejz().b[36][1]++, '[Contact Card]');
        /* istanbul ignore next */
        cov_1u2cp9gejz().s[144]++;
        metadata = {
          contacts: message.contacts
        };
        /* istanbul ignore next */
        cov_1u2cp9gejz().s[145]++;
        break;
      case 'button':
        /* istanbul ignore next */
        cov_1u2cp9gejz().b[22][7]++;
        cov_1u2cp9gejz().s[146]++;
        content =
        /* istanbul ignore next */
        (cov_1u2cp9gejz().b[37][0]++, message.button?.text) ||
        /* istanbul ignore next */
        (cov_1u2cp9gejz().b[37][1]++, '[Button Response]');
        /* istanbul ignore next */
        cov_1u2cp9gejz().s[147]++;
        metadata = {
          buttonPayload: message.button?.payload
        };
        /* istanbul ignore next */
        cov_1u2cp9gejz().s[148]++;
        break;
      case 'interactive':
        /* istanbul ignore next */
        cov_1u2cp9gejz().b[22][8]++;
        cov_1u2cp9gejz().s[149]++;
        if (message.interactive?.type === 'button_reply') {
          /* istanbul ignore next */
          cov_1u2cp9gejz().b[38][0]++;
          cov_1u2cp9gejz().s[150]++;
          content =
          /* istanbul ignore next */
          (cov_1u2cp9gejz().b[39][0]++, message.interactive.button_reply?.title) ||
          /* istanbul ignore next */
          (cov_1u2cp9gejz().b[39][1]++, '[Button Reply]');
          /* istanbul ignore next */
          cov_1u2cp9gejz().s[151]++;
          metadata = {
            interactiveType: 'button_reply',
            buttonId: message.interactive.button_reply?.id
          };
        } else {
          /* istanbul ignore next */
          cov_1u2cp9gejz().b[38][1]++;
          cov_1u2cp9gejz().s[152]++;
          if (message.interactive?.type === 'list_reply') {
            /* istanbul ignore next */
            cov_1u2cp9gejz().b[40][0]++;
            cov_1u2cp9gejz().s[153]++;
            content =
            /* istanbul ignore next */
            (cov_1u2cp9gejz().b[41][0]++, message.interactive.list_reply?.title) ||
            /* istanbul ignore next */
            (cov_1u2cp9gejz().b[41][1]++, '[List Reply]');
            /* istanbul ignore next */
            cov_1u2cp9gejz().s[154]++;
            metadata = {
              interactiveType: 'list_reply',
              listId: message.interactive.list_reply?.id,
              description: message.interactive.list_reply?.description
            };
          } else
          /* istanbul ignore next */
          {
            cov_1u2cp9gejz().b[40][1]++;
          }
        }
        /* istanbul ignore next */
        cov_1u2cp9gejz().s[155]++;
        break;
      default:
        /* istanbul ignore next */
        cov_1u2cp9gejz().b[22][9]++;
        cov_1u2cp9gejz().s[156]++;
        content = `[${message.type} message]`;
        /* istanbul ignore next */
        cov_1u2cp9gejz().s[157]++;
        metadata = {
          unsupportedType: message.type
        };
    }
  } catch (error) {
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[158]++;
    console.error('Error processing message content:', error);
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[159]++;
    content = `[Error processing ${message.type} message]`;
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[160]++;
    metadata = {
      processingError: error.message
    };
  }
  /* istanbul ignore next */
  cov_1u2cp9gejz().s[161]++;
  return {
    content,
    mediaUrl,
    mediaMimeType,
    mediaFileId,
    metadata
  };
}
async function downloadAndStoreMedia(mediaId, organizationId, mediaStorage, media) {
  /* istanbul ignore next */
  cov_1u2cp9gejz().f[15]++;
  cov_1u2cp9gejz().s[162]++;
  try {
    // Get WhatsApp client for the organization
    const client =
    /* istanbul ignore next */
    (cov_1u2cp9gejz().s[163]++, await (0, _enhancedclient.getWhatsAppClient)(organizationId));
    // Download media from WhatsApp
    const mediaBuffer =
    /* istanbul ignore next */
    (cov_1u2cp9gejz().s[164]++, await client.downloadMedia(mediaId));
    // Store in our media storage
    const mediaFile =
    /* istanbul ignore next */
    (cov_1u2cp9gejz().s[165]++, await mediaStorage.uploadFile(mediaBuffer,
    /* istanbul ignore next */
    (cov_1u2cp9gejz().b[42][0]++, media.filename) ||
    /* istanbul ignore next */
    (cov_1u2cp9gejz().b[42][1]++, `whatsapp_media_${mediaId}`), media.mimeType, {
      organizationId,
      uploadedBy: 'system',
      generateThumbnail: media.mimeType.startsWith('image/'),
      maxSize: 16 * 1024 * 1024 // 16MB limit
    }));
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[166]++;
    return mediaFile;
  } catch (error) {
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[167]++;
    console.error('Error downloading and storing media:', error);
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[168]++;
    return null;
  }
}
async function updateConversationTimestamp(supabase, conversationId, timestamp) {
  /* istanbul ignore next */
  cov_1u2cp9gejz().f[16]++;
  cov_1u2cp9gejz().s[169]++;
  await supabase.from('conversations').update({
    last_message_at: new Date(parseInt(timestamp) * 1000).toISOString()
  }).eq('id', conversationId);
}
async function updateContactTimestamp(supabase, contactId, timestamp) {
  /* istanbul ignore next */
  cov_1u2cp9gejz().f[17]++;
  cov_1u2cp9gejz().s[170]++;
  await supabase.from('contacts').update({
    last_message_at: new Date(parseInt(timestamp) * 1000).toISOString()
  }).eq('id', contactId);
}
async function incrementMessageCount(supabase, organizationId, direction) {
  /* istanbul ignore next */
  cov_1u2cp9gejz().f[18]++;
  const today =
  /* istanbul ignore next */
  (cov_1u2cp9gejz().s[171]++, new Date().toISOString().split('T')[0]);
  /* istanbul ignore next */
  cov_1u2cp9gejz().s[172]++;
  await supabase.from('daily_analytics').upsert({
    organization_id: organizationId,
    date: today,
    messages_received: direction === 'inbound' ?
    /* istanbul ignore next */
    (cov_1u2cp9gejz().b[43][0]++, 1) :
    /* istanbul ignore next */
    (cov_1u2cp9gejz().b[43][1]++, 0),
    messages_sent: direction === 'outbound' ?
    /* istanbul ignore next */
    (cov_1u2cp9gejz().b[44][0]++, 1) :
    /* istanbul ignore next */
    (cov_1u2cp9gejz().b[44][1]++, 0)
  }, {
    onConflict: 'organization_id,date',
    ignoreDuplicates: false
  });
}
async function logMessageErrors(supabase, messageId, errors, organizationId) {
  /* istanbul ignore next */
  cov_1u2cp9gejz().f[19]++;
  cov_1u2cp9gejz().s[173]++;
  for (const error of errors) {
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[174]++;
    await supabase.from('message_errors').insert({
      whatsapp_message_id: messageId,
      organization_id: organizationId,
      error_code: error.code,
      error_title: error.title,
      error_message: error.message,
      error_data:
      /* istanbul ignore next */
      (cov_1u2cp9gejz().b[45][0]++, error.error_data) ||
      /* istanbul ignore next */
      (cov_1u2cp9gejz().b[45][1]++, {}),
      created_at: new Date().toISOString()
    });
  }
}
async function logProcessingError(supabase, messageId, error, organizationId) {
  /* istanbul ignore next */
  cov_1u2cp9gejz().f[20]++;
  cov_1u2cp9gejz().s[175]++;
  await supabase.from('processing_errors').insert({
    whatsapp_message_id: messageId,
    organization_id: organizationId,
    error_message: error.message,
    error_stack: error.stack,
    created_at: new Date().toISOString()
  });
}
async function processTemplateStatusUpdate(value) {
  /* istanbul ignore next */
  cov_1u2cp9gejz().f[21]++;
  const supabase =
  /* istanbul ignore next */
  (cov_1u2cp9gejz().s[176]++, await (0, _server1.createClient)());
  /* istanbul ignore next */
  cov_1u2cp9gejz().s[177]++;
  try {
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[178]++;
    await supabase.from('message_template_status_updates').insert({
      template_id: value.template_id,
      status: value.status,
      reason: value.reason,
      updated_at: new Date().toISOString()
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[179]++;
    console.error('Error processing template status update:', error);
  }
}
async function processAccountAlerts(value) {
  /* istanbul ignore next */
  cov_1u2cp9gejz().f[22]++;
  const supabase =
  /* istanbul ignore next */
  (cov_1u2cp9gejz().s[180]++, await (0, _server1.createClient)());
  /* istanbul ignore next */
  cov_1u2cp9gejz().s[181]++;
  try {
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[182]++;
    await supabase.from('account_alerts').insert({
      alert_type: value.alert_type,
      message: value.message,
      severity:
      /* istanbul ignore next */
      (cov_1u2cp9gejz().b[46][0]++, value.severity) ||
      /* istanbul ignore next */
      (cov_1u2cp9gejz().b[46][1]++, 'info'),
      metadata: value,
      created_at: new Date().toISOString()
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_1u2cp9gejz().s[183]++;
    console.error('Error processing account alert:', error);
  }
}
async function logWebhook(payload, type) {
  /* istanbul ignore next */
  cov_1u2cp9gejz().f[23]++;
  const supabase =
  /* istanbul ignore next */
  (cov_1u2cp9gejz().s[184]++, await (0, _server1.createClient)());
  /* istanbul ignore next */
  cov_1u2cp9gejz().s[185]++;
  await supabase.from('webhook_logs').insert({
    webhook_type: type,
    payload,
    processed_at: new Date().toISOString()
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJHRVQiLCJjb3ZfMXUyY3A5Z2VqeiIsImYiLCJzIiwiUE9TVCIsIndlYmhvb2tSYXRlTGltaXQiLCJfYXBpdXRpbHMiLCJyYXRlTGltaXQiLCJ3aW5kb3dNcyIsIm1heCIsImtleUdlbmVyYXRvciIsInJlcXVlc3QiLCJiIiwiaGVhZGVycyIsImdldCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsIm1vZGUiLCJ0b2tlbiIsImNoYWxsZW5nZSIsInByb2Nlc3MiLCJlbnYiLCJXSEFUU0FQUF9XRUJIT09LX1ZFUklGWV9UT0tFTiIsImNvbnNvbGUiLCJsb2ciLCJfc2VydmVyIiwiTmV4dFJlc3BvbnNlIiwic3RhdHVzIiwiYm9keSIsImpzb24iLCJlbnRyeSIsIkFycmF5IiwiaXNBcnJheSIsImVycm9yIiwibG9nV2ViaG9vayIsInByb2Nlc3NpbmdQcm9taXNlcyIsIm1hcCIsIlByb21pc2UiLCJhbGwiLCJjaGFuZ2VzIiwiY2hhbmdlIiwiZmllbGQiLCJwcm9jZXNzTWVzc2FnZXMiLCJ2YWx1ZSIsInByb2Nlc3NUZW1wbGF0ZVN0YXR1c1VwZGF0ZSIsInByb2Nlc3NBY2NvdW50QWxlcnRzIiwic3VjY2VzcyIsImNyZWF0ZUVycm9yUmVzcG9uc2UiLCJzdXBhYmFzZSIsIl9zZXJ2ZXIxIiwiY3JlYXRlQ2xpZW50IiwiZGF0YSIsIm9yZ2FuaXphdGlvbiIsImZyb20iLCJzZWxlY3QiLCJlcSIsIm1ldGFkYXRhIiwicGhvbmVfbnVtYmVyX2lkIiwic2luZ2xlIiwid2FybiIsIm1lc3NhZ2VzIiwibWVzc2FnZSIsInByb2Nlc3NJbmNvbWluZ01lc3NhZ2UiLCJpZCIsImNvbnRhY3RzIiwic3RhdHVzZXMiLCJwcm9jZXNzTWVzc2FnZVN0YXR1cyIsIm9yZ2FuaXphdGlvbklkIiwiY29udGFjdCIsIm1lZGlhU3RvcmFnZSIsIl9zdG9yYWdlIiwiTWVkaWFTdG9yYWdlU2VydmljZSIsImNvbnRhY3REYXRhIiwidXBzZXJ0Q29udGFjdCIsIndoYXRzYXBwSWQiLCJwaG9uZU51bWJlciIsIm5hbWUiLCJwcm9maWxlIiwibGFzdE1lc3NhZ2VBdCIsInRpbWVzdGFtcCIsImNvbnZlcnNhdGlvbiIsImZpbmRPckNyZWF0ZUNvbnZlcnNhdGlvbiIsImNvbnRhY3RJZCIsIm1lc3NhZ2VEYXRhIiwicHJvY2Vzc01lc3NhZ2VDb250ZW50IiwiY29udGV4dE1lc3NhZ2VJZCIsImNvbnRleHQiLCJjb250ZXh0TWVzc2FnZSIsImluc2VydCIsImNvbnZlcnNhdGlvbl9pZCIsIndoYXRzYXBwX21lc3NhZ2VfaWQiLCJzZW5kZXJfdHlwZSIsImNvbnRlbnQiLCJtZXNzYWdlX3R5cGUiLCJ0eXBlIiwibWVkaWFfdXJsIiwibWVkaWFVcmwiLCJtZWRpYV9taW1lX3R5cGUiLCJtZWRpYU1pbWVUeXBlIiwibWVkaWFfZmlsZV9pZCIsIm1lZGlhRmlsZUlkIiwiY29udGV4dF9tZXNzYWdlX2lkIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJwYXJzZUludCIsInRvSVNPU3RyaW5nIiwidXBkYXRlQ29udmVyc2F0aW9uVGltZXN0YW1wIiwidXBkYXRlQ29udGFjdFRpbWVzdGFtcCIsImluY3JlbWVudE1lc3NhZ2VDb3VudCIsImVycm9ycyIsImxlbmd0aCIsImxvZ01lc3NhZ2VFcnJvcnMiLCJsb2dQcm9jZXNzaW5nRXJyb3IiLCJ1cGRhdGVzIiwiZGVsaXZlcmVkX2F0IiwicmVhZF9hdCIsImlzX3JlYWQiLCJPYmplY3QiLCJrZXlzIiwidXBkYXRlIiwidXBzZXJ0Iiwib3JnYW5pemF0aW9uX2lkIiwid2hhdHNhcHBfaWQiLCJwaG9uZV9udW1iZXIiLCJsYXN0X21lc3NhZ2VfYXQiLCJvbkNvbmZsaWN0IiwiaW4iLCJtYXliZVNpbmdsZSIsIm5ld0NvbnZlcnNhdGlvbiIsImNvbnRhY3RfaWQiLCJ0ZXh0IiwiaW1hZ2UiLCJjYXB0aW9uIiwibWVkaWFGaWxlIiwiZG93bmxvYWRBbmRTdG9yZU1lZGlhIiwibWltZVR5cGUiLCJ3aGF0c2FwcE1lZGlhSWQiLCJkb2N1bWVudCIsImZpbGVuYW1lIiwiYXVkaW8iLCJ2aWRlbyIsImxvY2F0aW9uIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJhZGRyZXNzIiwiYyIsImZvcm1hdHRlZF9uYW1lIiwiam9pbiIsImJ1dHRvbiIsImJ1dHRvblBheWxvYWQiLCJwYXlsb2FkIiwiaW50ZXJhY3RpdmUiLCJidXR0b25fcmVwbHkiLCJ0aXRsZSIsImludGVyYWN0aXZlVHlwZSIsImJ1dHRvbklkIiwibGlzdF9yZXBseSIsImxpc3RJZCIsImRlc2NyaXB0aW9uIiwidW5zdXBwb3J0ZWRUeXBlIiwicHJvY2Vzc2luZ0Vycm9yIiwibWVkaWFJZCIsIm1lZGlhIiwiY2xpZW50IiwiX2VuaGFuY2VkY2xpZW50IiwiZ2V0V2hhdHNBcHBDbGllbnQiLCJtZWRpYUJ1ZmZlciIsImRvd25sb2FkTWVkaWEiLCJ1cGxvYWRGaWxlIiwidXBsb2FkZWRCeSIsImdlbmVyYXRlVGh1bWJuYWlsIiwic3RhcnRzV2l0aCIsIm1heFNpemUiLCJjb252ZXJzYXRpb25JZCIsImRpcmVjdGlvbiIsInRvZGF5Iiwic3BsaXQiLCJkYXRlIiwibWVzc2FnZXNfcmVjZWl2ZWQiLCJtZXNzYWdlc19zZW50IiwiaWdub3JlRHVwbGljYXRlcyIsIm1lc3NhZ2VJZCIsImVycm9yX2NvZGUiLCJjb2RlIiwiZXJyb3JfdGl0bGUiLCJlcnJvcl9tZXNzYWdlIiwiZXJyb3JfZGF0YSIsImVycm9yX3N0YWNrIiwic3RhY2siLCJ0ZW1wbGF0ZV9pZCIsInJlYXNvbiIsInVwZGF0ZWRfYXQiLCJhbGVydF90eXBlIiwic2V2ZXJpdHkiLCJ3ZWJob29rX3R5cGUiLCJwcm9jZXNzZWRfYXQiXSwic291cmNlcyI6WyJDOlxcQWkgUHJvamVjdGVuXFxBRFNhcHBcXHNyY1xcYXBwXFxhcGlcXHdlYmhvb2tzXFx3aGF0c2FwcFxccm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQC9saWIvc3VwYWJhc2Uvc2VydmVyJ1xuaW1wb3J0IHsgV2hhdHNBcHBXZWJob29rUGF5bG9hZCB9IGZyb20gJ0AvdHlwZXMnXG5pbXBvcnQgeyBFbmhhbmNlZFdoYXRzQXBwQ2xpZW50LCBXaGF0c0FwcFdlYmhvb2tWYWx1ZSwgV2hhdHNBcHBNZXNzYWdlLCBXaGF0c0FwcFN0YXR1cywgZ2V0V2hhdHNBcHBDbGllbnQgfSBmcm9tICdAL2xpYi93aGF0c2FwcC9lbmhhbmNlZC1jbGllbnQnXG5pbXBvcnQgeyBNZWRpYVN0b3JhZ2VTZXJ2aWNlIH0gZnJvbSAnQC9saWIvbWVkaWEvc3RvcmFnZSdcbmltcG9ydCB7IHJhdGVMaW1pdCwgY3JlYXRlRXJyb3JSZXNwb25zZSB9IGZyb20gJ0AvbGliL2FwaS11dGlscydcbmltcG9ydCB0eXBlIHsgU3VwYWJhc2VDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnXG5cbi8vIERlZmluZSBpbnRlcmZhY2VzIGZvciBiZXR0ZXIgdHlwZSBzYWZldHlcbmludGVyZmFjZSBXaGF0c0FwcENvbnRhY3Qge1xuICBwcm9maWxlPzoge1xuICAgIG5hbWU/OiBzdHJpbmc7XG4gIH07XG4gIHdhX2lkOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBXaGF0c0FwcE1lZGlhIHtcbiAgaWQ/OiBzdHJpbmc7XG4gIGNhcHRpb24/OiBzdHJpbmc7XG4gIGZpbGVuYW1lPzogc3RyaW5nO1xuICBtaW1lVHlwZTogc3RyaW5nO1xuICBzaGEyNTY/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBDb250YWN0RGF0YSB7XG4gIG9yZ2FuaXphdGlvbklkOiBzdHJpbmc7XG4gIHdoYXRzYXBwSWQ6IHN0cmluZztcbiAgcGhvbmVOdW1iZXI6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nIHwgbnVsbDtcbiAgbGFzdE1lc3NhZ2VBdDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgQ29udmVyc2F0aW9uRGF0YSB7XG4gIG9yZ2FuaXphdGlvbklkOiBzdHJpbmc7XG4gIGNvbnRhY3RJZDogc3RyaW5nO1xuICBsYXN0TWVzc2FnZUF0OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBNZXNzYWdlU3RhdHVzVXBkYXRlIHtcbiAgaWQ6IHN0cmluZztcbiAgc3RhdHVzOiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogc3RyaW5nO1xuICByZWNpcGllbnRfaWQ6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFByb2Nlc3NpbmdFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBzdGFjaz86IHN0cmluZztcbn1cblxuLy8gUmF0ZSBsaW1pdCB3ZWJob29rIHByb2Nlc3NpbmdcbmNvbnN0IHdlYmhvb2tSYXRlTGltaXQgPSByYXRlTGltaXQoe1xuICB3aW5kb3dNczogNjAgKiAxMDAwLCAvLyAxIG1pbnV0ZVxuICBtYXg6IDEwMCwgLy8gMTAwIHJlcXVlc3RzIHBlciBtaW51dGVcbiAga2V5R2VuZXJhdG9yOiAocmVxdWVzdCkgPT4gcmVxdWVzdC5oZWFkZXJzLmdldCgneC1mb3J3YXJkZWQtZm9yJykgfHwgJ2Fub255bW91cydcbn0pXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpXG5cbiAgY29uc3QgbW9kZSA9IHNlYXJjaFBhcmFtcy5nZXQoJ2h1Yi5tb2RlJylcbiAgY29uc3QgdG9rZW4gPSBzZWFyY2hQYXJhbXMuZ2V0KCdodWIudmVyaWZ5X3Rva2VuJylcbiAgY29uc3QgY2hhbGxlbmdlID0gc2VhcmNoUGFyYW1zLmdldCgnaHViLmNoYWxsZW5nZScpXG5cbiAgLy8gV2ViaG9vayB2ZXJpZmljYXRpb25cbiAgaWYgKG1vZGUgPT09ICdzdWJzY3JpYmUnICYmIHRva2VuID09PSBwcm9jZXNzLmVudi5XSEFUU0FQUF9XRUJIT09LX1ZFUklGWV9UT0tFTikge1xuICAgIGNvbnNvbGUubG9nKCdXaGF0c0FwcCB3ZWJob29rIHZlcmlmaWVkJylcbiAgICByZXR1cm4gbmV3IE5leHRSZXNwb25zZShjaGFsbGVuZ2UpXG4gIH1cblxuICByZXR1cm4gbmV3IE5leHRSZXNwb25zZSgnRm9yYmlkZGVuJywgeyBzdGF0dXM6IDQwMyB9KVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIC8vIEFwcGx5IHJhdGUgbGltaXRpbmdcbiAgICBhd2FpdCB3ZWJob29rUmF0ZUxpbWl0KHJlcXVlc3QpXG5cbiAgICBjb25zdCBib2R5OiBXaGF0c0FwcFdlYmhvb2tQYXlsb2FkID0gYXdhaXQgcmVxdWVzdC5qc29uKClcblxuICAgIC8vIFZhbGlkYXRlIHdlYmhvb2sgcGF5bG9hZFxuICAgIGlmICghYm9keS5lbnRyeSB8fCAhQXJyYXkuaXNBcnJheShib2R5LmVudHJ5KSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIHdlYmhvb2sgcGF5bG9hZCcgfSwgeyBzdGF0dXM6IDQwMCB9KVxuICAgIH1cblxuICAgIC8vIExvZyB3ZWJob29rIHBheWxvYWQgZm9yIGRlYnVnZ2luZ1xuICAgIGF3YWl0IGxvZ1dlYmhvb2soYm9keSwgJ3doYXRzYXBwX21lc3NhZ2UnKVxuXG4gICAgLy8gUHJvY2VzcyBlYWNoIGVudHJ5IGluIHRoZSB3ZWJob29rIHBheWxvYWRcbiAgICBjb25zdCBwcm9jZXNzaW5nUHJvbWlzZXMgPSBib2R5LmVudHJ5Lm1hcChhc3luYyAoZW50cnkpID0+IHtcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChcbiAgICAgICAgZW50cnkuY2hhbmdlcy5tYXAoYXN5bmMgKGNoYW5nZSkgPT4ge1xuICAgICAgICAgIGlmIChjaGFuZ2UuZmllbGQgPT09ICdtZXNzYWdlcycpIHtcbiAgICAgICAgICAgIGF3YWl0IHByb2Nlc3NNZXNzYWdlcyhjaGFuZ2UudmFsdWUpXG4gICAgICAgICAgfSBlbHNlIGlmIChjaGFuZ2UuZmllbGQgPT09ICdtZXNzYWdlX3RlbXBsYXRlX3N0YXR1c191cGRhdGUnKSB7XG4gICAgICAgICAgICBhd2FpdCBwcm9jZXNzVGVtcGxhdGVTdGF0dXNVcGRhdGUoY2hhbmdlLnZhbHVlKVxuICAgICAgICAgIH0gZWxzZSBpZiAoY2hhbmdlLmZpZWxkID09PSAnYWNjb3VudF9hbGVydHMnKSB7XG4gICAgICAgICAgICBhd2FpdCBwcm9jZXNzQWNjb3VudEFsZXJ0cyhjaGFuZ2UudmFsdWUpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKVxuICAgIH0pXG5cbiAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9jZXNzaW5nUHJvbWlzZXMpXG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignV2hhdHNBcHAgd2ViaG9vayBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4gY3JlYXRlRXJyb3JSZXNwb25zZShlcnJvcilcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzTWVzc2FnZXModmFsdWU6IFdoYXRzQXBwV2ViaG9va1ZhbHVlKSB7XG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KClcblxuICAvLyBGaW5kIG9yZ2FuaXphdGlvbiBieSBwaG9uZSBudW1iZXIgSURcbiAgY29uc3QgeyBkYXRhOiBvcmdhbml6YXRpb24gfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ29yZ2FuaXphdGlvbnMnKVxuICAgIC5zZWxlY3QoJyonKVxuICAgIC5lcSgnd2hhdHNhcHBfcGhvbmVfbnVtYmVyX2lkJywgdmFsdWUubWV0YWRhdGEucGhvbmVfbnVtYmVyX2lkKVxuICAgIC5zaW5nbGUoKVxuXG4gIGlmICghb3JnYW5pemF0aW9uKSB7XG4gICAgY29uc29sZS53YXJuKCdPcmdhbml6YXRpb24gbm90IGZvdW5kIGZvciBwaG9uZSBudW1iZXIgSUQ6JywgdmFsdWUubWV0YWRhdGEucGhvbmVfbnVtYmVyX2lkKVxuICAgIHJldHVyblxuICB9XG5cbiAgLy8gUHJvY2VzcyBpbmNvbWluZyBtZXNzYWdlc1xuICBpZiAodmFsdWUubWVzc2FnZXMpIHtcbiAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgdmFsdWUubWVzc2FnZXMpIHtcbiAgICAgIGF3YWl0IHByb2Nlc3NJbmNvbWluZ01lc3NhZ2UobWVzc2FnZSwgb3JnYW5pemF0aW9uLmlkLCB2YWx1ZS5jb250YWN0cz8uWzBdKVxuICAgIH1cbiAgfVxuXG4gIC8vIFByb2Nlc3Mgc3RhdHVzIHVwZGF0ZXNcbiAgaWYgKHZhbHVlLnN0YXR1c2VzKSB7XG4gICAgZm9yIChjb25zdCBzdGF0dXMgb2YgdmFsdWUuc3RhdHVzZXMpIHtcbiAgICAgIGF3YWl0IHByb2Nlc3NNZXNzYWdlU3RhdHVzKHN0YXR1cywgb3JnYW5pemF0aW9uLmlkKVxuICAgIH1cbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzSW5jb21pbmdNZXNzYWdlKG1lc3NhZ2U6IFdoYXRzQXBwTWVzc2FnZSwgb3JnYW5pemF0aW9uSWQ6IHN0cmluZywgY29udGFjdD86IFdoYXRzQXBwQ29udGFjdCkge1xuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpXG4gIGNvbnN0IG1lZGlhU3RvcmFnZSA9IG5ldyBNZWRpYVN0b3JhZ2VTZXJ2aWNlKClcblxuICB0cnkge1xuICAgIC8vIFVwc2VydCBjb250YWN0IHdpdGggZW5oYW5jZWQgcHJvZmlsZSBkYXRhXG4gICAgY29uc3QgY29udGFjdERhdGEgPSBhd2FpdCB1cHNlcnRDb250YWN0KHN1cGFiYXNlLCB7XG4gICAgICBvcmdhbml6YXRpb25JZCxcbiAgICAgIHdoYXRzYXBwSWQ6IG1lc3NhZ2UuZnJvbSxcbiAgICAgIHBob25lTnVtYmVyOiBtZXNzYWdlLmZyb20sXG4gICAgICBuYW1lOiBjb250YWN0Py5wcm9maWxlPy5uYW1lIHx8IG51bGwsXG4gICAgICBsYXN0TWVzc2FnZUF0OiBtZXNzYWdlLnRpbWVzdGFtcFxuICAgIH0pXG5cbiAgICBpZiAoIWNvbnRhY3REYXRhKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gdXBzZXJ0IGNvbnRhY3QnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gRmluZCBvciBjcmVhdGUgY29udmVyc2F0aW9uXG4gICAgY29uc3QgY29udmVyc2F0aW9uID0gYXdhaXQgZmluZE9yQ3JlYXRlQ29udmVyc2F0aW9uKHN1cGFiYXNlLCB7XG4gICAgICBvcmdhbml6YXRpb25JZCxcbiAgICAgIGNvbnRhY3RJZDogY29udGFjdERhdGEuaWQsXG4gICAgICBsYXN0TWVzc2FnZUF0OiBtZXNzYWdlLnRpbWVzdGFtcFxuICAgIH0pXG5cbiAgICBpZiAoIWNvbnZlcnNhdGlvbikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNyZWF0ZSBjb252ZXJzYXRpb24nKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gUHJvY2VzcyBtZXNzYWdlIGNvbnRlbnQgYW5kIG1lZGlhXG4gICAgY29uc3QgbWVzc2FnZURhdGEgPSBhd2FpdCBwcm9jZXNzTWVzc2FnZUNvbnRlbnQobWVzc2FnZSwgb3JnYW5pemF0aW9uSWQsIG1lZGlhU3RvcmFnZSlcblxuICAgIC8vIEhhbmRsZSBtZXNzYWdlIGNvbnRleHQgKHJlcGxpZXMpXG4gICAgbGV0IGNvbnRleHRNZXNzYWdlSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsXG4gICAgaWYgKG1lc3NhZ2UuY29udGV4dCkge1xuICAgICAgY29uc3QgeyBkYXRhOiBjb250ZXh0TWVzc2FnZSB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ21lc3NhZ2VzJylcbiAgICAgICAgLnNlbGVjdCgnaWQnKVxuICAgICAgICAuZXEoJ3doYXRzYXBwX21lc3NhZ2VfaWQnLCBtZXNzYWdlLmNvbnRleHQuaWQpXG4gICAgICAgIC5zaW5nbGUoKVxuXG4gICAgICBjb250ZXh0TWVzc2FnZUlkID0gY29udGV4dE1lc3NhZ2U/LmlkIHx8IG51bGxcbiAgICB9XG5cbiAgICAvLyBJbnNlcnQgbWVzc2FnZSB3aXRoIGVuaGFuY2VkIGRhdGFcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ21lc3NhZ2VzJylcbiAgICAgIC5pbnNlcnQoe1xuICAgICAgICBjb252ZXJzYXRpb25faWQ6IGNvbnZlcnNhdGlvbi5pZCxcbiAgICAgICAgd2hhdHNhcHBfbWVzc2FnZV9pZDogbWVzc2FnZS5pZCxcbiAgICAgICAgc2VuZGVyX3R5cGU6ICdjb250YWN0JyxcbiAgICAgICAgY29udGVudDogbWVzc2FnZURhdGEuY29udGVudCxcbiAgICAgICAgbWVzc2FnZV90eXBlOiBtZXNzYWdlLnR5cGUsXG4gICAgICAgIG1lZGlhX3VybDogbWVzc2FnZURhdGEubWVkaWFVcmwsXG4gICAgICAgIG1lZGlhX21pbWVfdHlwZTogbWVzc2FnZURhdGEubWVkaWFNaW1lVHlwZSxcbiAgICAgICAgbWVkaWFfZmlsZV9pZDogbWVzc2FnZURhdGEubWVkaWFGaWxlSWQsXG4gICAgICAgIGNvbnRleHRfbWVzc2FnZV9pZDogY29udGV4dE1lc3NhZ2VJZCxcbiAgICAgICAgbWV0YWRhdGE6IG1lc3NhZ2VEYXRhLm1ldGFkYXRhLFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZShwYXJzZUludChtZXNzYWdlLnRpbWVzdGFtcCkgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgfSlcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGluc2VydCBtZXNzYWdlOicsIGVycm9yKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIGNvbnZlcnNhdGlvbiBhbmQgY29udGFjdCB0aW1lc3RhbXBzXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgdXBkYXRlQ29udmVyc2F0aW9uVGltZXN0YW1wKHN1cGFiYXNlLCBjb252ZXJzYXRpb24uaWQsIG1lc3NhZ2UudGltZXN0YW1wKSxcbiAgICAgIHVwZGF0ZUNvbnRhY3RUaW1lc3RhbXAoc3VwYWJhc2UsIGNvbnRhY3REYXRhLmlkLCBtZXNzYWdlLnRpbWVzdGFtcCksXG4gICAgICBpbmNyZW1lbnRNZXNzYWdlQ291bnQoc3VwYWJhc2UsIG9yZ2FuaXphdGlvbklkLCAnaW5ib3VuZCcpXG4gICAgXSlcblxuICAgIC8vIFByb2Nlc3MgYW55IGVycm9ycyBpbiB0aGUgbWVzc2FnZVxuICAgIGlmIChtZXNzYWdlLmVycm9ycyAmJiBtZXNzYWdlLmVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICBhd2FpdCBsb2dNZXNzYWdlRXJyb3JzKHN1cGFiYXNlLCBtZXNzYWdlLmlkLCBtZXNzYWdlLmVycm9ycywgb3JnYW5pemF0aW9uSWQpXG4gICAgfVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcHJvY2Vzc2luZyBpbmNvbWluZyBtZXNzYWdlOicsIGVycm9yKVxuICAgIGF3YWl0IGxvZ1Byb2Nlc3NpbmdFcnJvcihzdXBhYmFzZSwgbWVzc2FnZS5pZCwgZXJyb3IsIG9yZ2FuaXphdGlvbklkKVxuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NNZXNzYWdlU3RhdHVzKHN0YXR1czogTWVzc2FnZVN0YXR1c1VwZGF0ZSwgb3JnYW5pemF0aW9uSWQ6IHN0cmluZykge1xuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpXG5cbiAgLy8gVXBkYXRlIG1lc3NhZ2UgZGVsaXZlcnkvcmVhZCBzdGF0dXNcbiAgY29uc3QgdXBkYXRlczogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgYm9vbGVhbj4gPSB7fVxuXG4gIHN3aXRjaCAoc3RhdHVzLnN0YXR1cykge1xuICAgIGNhc2UgJ2RlbGl2ZXJlZCc6XG4gICAgICB1cGRhdGVzLmRlbGl2ZXJlZF9hdCA9IG5ldyBEYXRlKHBhcnNlSW50KHN0YXR1cy50aW1lc3RhbXApICogMTAwMCkudG9JU09TdHJpbmcoKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdyZWFkJzpcbiAgICAgIHVwZGF0ZXMucmVhZF9hdCA9IG5ldyBEYXRlKHBhcnNlSW50KHN0YXR1cy50aW1lc3RhbXApICogMTAwMCkudG9JU09TdHJpbmcoKVxuICAgICAgdXBkYXRlcy5pc19yZWFkID0gdHJ1ZVxuICAgICAgYnJlYWtcbiAgfVxuXG4gIGlmIChPYmplY3Qua2V5cyh1cGRhdGVzKS5sZW5ndGggPiAwKSB7XG4gICAgYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdtZXNzYWdlcycpXG4gICAgICAudXBkYXRlKHVwZGF0ZXMpXG4gICAgICAuZXEoJ3doYXRzYXBwX21lc3NhZ2VfaWQnLCBzdGF0dXMuaWQpXG4gIH1cbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9ucyBmb3IgZW5oYW5jZWQgbWVzc2FnZSBwcm9jZXNzaW5nXG5cbmFzeW5jIGZ1bmN0aW9uIHVwc2VydENvbnRhY3Qoc3VwYWJhc2U6IFN1cGFiYXNlQ2xpZW50LCBkYXRhOiBDb250YWN0RGF0YSkge1xuICBjb25zdCB7IGRhdGE6IGNvbnRhY3REYXRhIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdjb250YWN0cycpXG4gICAgLnVwc2VydCh7XG4gICAgICBvcmdhbml6YXRpb25faWQ6IGRhdGEub3JnYW5pemF0aW9uSWQsXG4gICAgICB3aGF0c2FwcF9pZDogZGF0YS53aGF0c2FwcElkLFxuICAgICAgcGhvbmVfbnVtYmVyOiBkYXRhLnBob25lTnVtYmVyLFxuICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgbGFzdF9tZXNzYWdlX2F0OiBuZXcgRGF0ZShwYXJzZUludChkYXRhLmxhc3RNZXNzYWdlQXQpICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICB9LCB7XG4gICAgICBvbkNvbmZsaWN0OiAnb3JnYW5pemF0aW9uX2lkLHdoYXRzYXBwX2lkJyxcbiAgICB9KVxuICAgIC5zZWxlY3QoKVxuICAgIC5zaW5nbGUoKVxuXG4gIHJldHVybiBjb250YWN0RGF0YVxufVxuXG5hc3luYyBmdW5jdGlvbiBmaW5kT3JDcmVhdGVDb252ZXJzYXRpb24oc3VwYWJhc2U6IFN1cGFiYXNlQ2xpZW50LCBkYXRhOiBDb252ZXJzYXRpb25EYXRhKSB7XG4gIGxldCB7IGRhdGE6IGNvbnZlcnNhdGlvbiB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgnY29udmVyc2F0aW9ucycpXG4gICAgLnNlbGVjdCgnKicpXG4gICAgLmVxKCdvcmdhbml6YXRpb25faWQnLCBkYXRhLm9yZ2FuaXphdGlvbklkKVxuICAgIC5lcSgnY29udGFjdF9pZCcsIGRhdGEuY29udGFjdElkKVxuICAgIC5pbignc3RhdHVzJywgWydvcGVuJywgJ3BlbmRpbmcnXSlcbiAgICAubWF5YmVTaW5nbGUoKVxuXG4gIGlmICghY29udmVyc2F0aW9uKSB7XG4gICAgY29uc3QgeyBkYXRhOiBuZXdDb252ZXJzYXRpb24gfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnY29udmVyc2F0aW9ucycpXG4gICAgICAuaW5zZXJ0KHtcbiAgICAgICAgb3JnYW5pemF0aW9uX2lkOiBkYXRhLm9yZ2FuaXphdGlvbklkLFxuICAgICAgICBjb250YWN0X2lkOiBkYXRhLmNvbnRhY3RJZCxcbiAgICAgICAgc3RhdHVzOiAnb3BlbicsXG4gICAgICAgIGxhc3RfbWVzc2FnZV9hdDogbmV3IERhdGUocGFyc2VJbnQoZGF0YS5sYXN0TWVzc2FnZUF0KSAqIDEwMDApLnRvSVNPU3RyaW5nKCksXG4gICAgICB9KVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKClcblxuICAgIGNvbnZlcnNhdGlvbiA9IG5ld0NvbnZlcnNhdGlvblxuICB9XG5cbiAgcmV0dXJuIGNvbnZlcnNhdGlvblxufVxuXG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzTWVzc2FnZUNvbnRlbnQobWVzc2FnZTogV2hhdHNBcHBNZXNzYWdlLCBvcmdhbml6YXRpb25JZDogc3RyaW5nLCBtZWRpYVN0b3JhZ2U6IE1lZGlhU3RvcmFnZVNlcnZpY2UpIHtcbiAgbGV0IGNvbnRlbnQgPSAnJ1xuICBsZXQgbWVkaWFVcmw6IHN0cmluZyB8IG51bGwgPSBudWxsXG4gIGxldCBtZWRpYU1pbWVUeXBlOiBzdHJpbmcgfCBudWxsID0gbnVsbFxuICBsZXQgbWVkaWFGaWxlSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsXG4gIGxldCBtZXRhZGF0YTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fVxuXG4gIHRyeSB7XG4gICAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcbiAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICBjb250ZW50ID0gbWVzc2FnZS50ZXh0Py5ib2R5IHx8ICcnXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ2ltYWdlJzpcbiAgICAgICAgY29udGVudCA9IG1lc3NhZ2UuaW1hZ2U/LmNhcHRpb24gfHwgJ1tJbWFnZV0nXG4gICAgICAgIGlmIChtZXNzYWdlLmltYWdlPy5pZCkge1xuICAgICAgICAgIGNvbnN0IG1lZGlhRmlsZSA9IGF3YWl0IGRvd25sb2FkQW5kU3RvcmVNZWRpYShtZXNzYWdlLmltYWdlLmlkLCBvcmdhbml6YXRpb25JZCwgbWVkaWFTdG9yYWdlLCBtZXNzYWdlLmltYWdlKVxuICAgICAgICAgIGlmIChtZWRpYUZpbGUpIHtcbiAgICAgICAgICAgIG1lZGlhVXJsID0gbWVkaWFGaWxlLnVybFxuICAgICAgICAgICAgbWVkaWFNaW1lVHlwZSA9IG1lZGlhRmlsZS5taW1lVHlwZVxuICAgICAgICAgICAgbWVkaWFGaWxlSWQgPSBtZWRpYUZpbGUuaWRcbiAgICAgICAgICAgIG1ldGFkYXRhID0geyAuLi5tZWRpYUZpbGUubWV0YWRhdGEsIHdoYXRzYXBwTWVkaWFJZDogbWVzc2FnZS5pbWFnZS5pZCB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgJ2RvY3VtZW50JzpcbiAgICAgICAgY29udGVudCA9IG1lc3NhZ2UuZG9jdW1lbnQ/LmNhcHRpb24gfHwgbWVzc2FnZS5kb2N1bWVudD8uZmlsZW5hbWUgfHwgJ1tEb2N1bWVudF0nXG4gICAgICAgIGlmIChtZXNzYWdlLmRvY3VtZW50Py5pZCkge1xuICAgICAgICAgIGNvbnN0IG1lZGlhRmlsZSA9IGF3YWl0IGRvd25sb2FkQW5kU3RvcmVNZWRpYShtZXNzYWdlLmRvY3VtZW50LmlkLCBvcmdhbml6YXRpb25JZCwgbWVkaWFTdG9yYWdlLCBtZXNzYWdlLmRvY3VtZW50KVxuICAgICAgICAgIGlmIChtZWRpYUZpbGUpIHtcbiAgICAgICAgICAgIG1lZGlhVXJsID0gbWVkaWFGaWxlLnVybFxuICAgICAgICAgICAgbWVkaWFNaW1lVHlwZSA9IG1lZGlhRmlsZS5taW1lVHlwZVxuICAgICAgICAgICAgbWVkaWFGaWxlSWQgPSBtZWRpYUZpbGUuaWRcbiAgICAgICAgICAgIG1ldGFkYXRhID0ge1xuICAgICAgICAgICAgICAuLi5tZWRpYUZpbGUubWV0YWRhdGEsXG4gICAgICAgICAgICAgIHdoYXRzYXBwTWVkaWFJZDogbWVzc2FnZS5kb2N1bWVudC5pZCxcbiAgICAgICAgICAgICAgZmlsZW5hbWU6IG1lc3NhZ2UuZG9jdW1lbnQuZmlsZW5hbWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAnYXVkaW8nOlxuICAgICAgICBjb250ZW50ID0gJ1tBdWRpbyBNZXNzYWdlXSdcbiAgICAgICAgaWYgKG1lc3NhZ2UuYXVkaW8/LmlkKSB7XG4gICAgICAgICAgY29uc3QgbWVkaWFGaWxlID0gYXdhaXQgZG93bmxvYWRBbmRTdG9yZU1lZGlhKG1lc3NhZ2UuYXVkaW8uaWQsIG9yZ2FuaXphdGlvbklkLCBtZWRpYVN0b3JhZ2UsIG1lc3NhZ2UuYXVkaW8pXG4gICAgICAgICAgaWYgKG1lZGlhRmlsZSkge1xuICAgICAgICAgICAgbWVkaWFVcmwgPSBtZWRpYUZpbGUudXJsXG4gICAgICAgICAgICBtZWRpYU1pbWVUeXBlID0gbWVkaWFGaWxlLm1pbWVUeXBlXG4gICAgICAgICAgICBtZWRpYUZpbGVJZCA9IG1lZGlhRmlsZS5pZFxuICAgICAgICAgICAgbWV0YWRhdGEgPSB7IC4uLm1lZGlhRmlsZS5tZXRhZGF0YSwgd2hhdHNhcHBNZWRpYUlkOiBtZXNzYWdlLmF1ZGlvLmlkIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAndmlkZW8nOlxuICAgICAgICBjb250ZW50ID0gbWVzc2FnZS52aWRlbz8uY2FwdGlvbiB8fCAnW1ZpZGVvXSdcbiAgICAgICAgaWYgKG1lc3NhZ2UudmlkZW8/LmlkKSB7XG4gICAgICAgICAgY29uc3QgbWVkaWFGaWxlID0gYXdhaXQgZG93bmxvYWRBbmRTdG9yZU1lZGlhKG1lc3NhZ2UudmlkZW8uaWQsIG9yZ2FuaXphdGlvbklkLCBtZWRpYVN0b3JhZ2UsIG1lc3NhZ2UudmlkZW8pXG4gICAgICAgICAgaWYgKG1lZGlhRmlsZSkge1xuICAgICAgICAgICAgbWVkaWFVcmwgPSBtZWRpYUZpbGUudXJsXG4gICAgICAgICAgICBtZWRpYU1pbWVUeXBlID0gbWVkaWFGaWxlLm1pbWVUeXBlXG4gICAgICAgICAgICBtZWRpYUZpbGVJZCA9IG1lZGlhRmlsZS5pZFxuICAgICAgICAgICAgbWV0YWRhdGEgPSB7IC4uLm1lZGlhRmlsZS5tZXRhZGF0YSwgd2hhdHNhcHBNZWRpYUlkOiBtZXNzYWdlLnZpZGVvLmlkIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAnbG9jYXRpb24nOlxuICAgICAgICBjb250ZW50ID0gYExvY2F0aW9uOiAke21lc3NhZ2UubG9jYXRpb24/LmxhdGl0dWRlfSwgJHttZXNzYWdlLmxvY2F0aW9uPy5sb25naXR1ZGV9YFxuICAgICAgICBpZiAobWVzc2FnZS5sb2NhdGlvbj8ubmFtZSkge1xuICAgICAgICAgIGNvbnRlbnQgKz0gYCAtICR7bWVzc2FnZS5sb2NhdGlvbi5uYW1lfWBcbiAgICAgICAgfVxuICAgICAgICBtZXRhZGF0YSA9IHtcbiAgICAgICAgICBsYXRpdHVkZTogbWVzc2FnZS5sb2NhdGlvbj8ubGF0aXR1ZGUsXG4gICAgICAgICAgbG9uZ2l0dWRlOiBtZXNzYWdlLmxvY2F0aW9uPy5sb25naXR1ZGUsXG4gICAgICAgICAgbmFtZTogbWVzc2FnZS5sb2NhdGlvbj8ubmFtZSxcbiAgICAgICAgICBhZGRyZXNzOiBtZXNzYWdlLmxvY2F0aW9uPy5hZGRyZXNzXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAnY29udGFjdHMnOlxuICAgICAgICBjb250ZW50ID0gbWVzc2FnZS5jb250YWN0cz8ubWFwKGMgPT4gYy5uYW1lLmZvcm1hdHRlZF9uYW1lKS5qb2luKCcsICcpIHx8ICdbQ29udGFjdCBDYXJkXSdcbiAgICAgICAgbWV0YWRhdGEgPSB7IGNvbnRhY3RzOiBtZXNzYWdlLmNvbnRhY3RzIH1cbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAnYnV0dG9uJzpcbiAgICAgICAgY29udGVudCA9IG1lc3NhZ2UuYnV0dG9uPy50ZXh0IHx8ICdbQnV0dG9uIFJlc3BvbnNlXSdcbiAgICAgICAgbWV0YWRhdGEgPSB7IGJ1dHRvblBheWxvYWQ6IG1lc3NhZ2UuYnV0dG9uPy5wYXlsb2FkIH1cbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSAnaW50ZXJhY3RpdmUnOlxuICAgICAgICBpZiAobWVzc2FnZS5pbnRlcmFjdGl2ZT8udHlwZSA9PT0gJ2J1dHRvbl9yZXBseScpIHtcbiAgICAgICAgICBjb250ZW50ID0gbWVzc2FnZS5pbnRlcmFjdGl2ZS5idXR0b25fcmVwbHk/LnRpdGxlIHx8ICdbQnV0dG9uIFJlcGx5XSdcbiAgICAgICAgICBtZXRhZGF0YSA9IHtcbiAgICAgICAgICAgIGludGVyYWN0aXZlVHlwZTogJ2J1dHRvbl9yZXBseScsXG4gICAgICAgICAgICBidXR0b25JZDogbWVzc2FnZS5pbnRlcmFjdGl2ZS5idXR0b25fcmVwbHk/LmlkXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UuaW50ZXJhY3RpdmU/LnR5cGUgPT09ICdsaXN0X3JlcGx5Jykge1xuICAgICAgICAgIGNvbnRlbnQgPSBtZXNzYWdlLmludGVyYWN0aXZlLmxpc3RfcmVwbHk/LnRpdGxlIHx8ICdbTGlzdCBSZXBseV0nXG4gICAgICAgICAgbWV0YWRhdGEgPSB7XG4gICAgICAgICAgICBpbnRlcmFjdGl2ZVR5cGU6ICdsaXN0X3JlcGx5JyxcbiAgICAgICAgICAgIGxpc3RJZDogbWVzc2FnZS5pbnRlcmFjdGl2ZS5saXN0X3JlcGx5Py5pZCxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBtZXNzYWdlLmludGVyYWN0aXZlLmxpc3RfcmVwbHk/LmRlc2NyaXB0aW9uXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnRlbnQgPSBgWyR7bWVzc2FnZS50eXBlfSBtZXNzYWdlXWBcbiAgICAgICAgbWV0YWRhdGEgPSB7IHVuc3VwcG9ydGVkVHlwZTogbWVzc2FnZS50eXBlIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcHJvY2Vzc2luZyBtZXNzYWdlIGNvbnRlbnQ6JywgZXJyb3IpXG4gICAgY29udGVudCA9IGBbRXJyb3IgcHJvY2Vzc2luZyAke21lc3NhZ2UudHlwZX0gbWVzc2FnZV1gXG4gICAgbWV0YWRhdGEgPSB7IHByb2Nlc3NpbmdFcnJvcjogZXJyb3IubWVzc2FnZSB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGNvbnRlbnQsXG4gICAgbWVkaWFVcmwsXG4gICAgbWVkaWFNaW1lVHlwZSxcbiAgICBtZWRpYUZpbGVJZCxcbiAgICBtZXRhZGF0YVxuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGRvd25sb2FkQW5kU3RvcmVNZWRpYShtZWRpYUlkOiBzdHJpbmcsIG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsIG1lZGlhU3RvcmFnZTogTWVkaWFTdG9yYWdlU2VydmljZSwgbWVkaWE6IFdoYXRzQXBwTWVkaWEpIHtcbiAgdHJ5IHtcbiAgICAvLyBHZXQgV2hhdHNBcHAgY2xpZW50IGZvciB0aGUgb3JnYW5pemF0aW9uXG4gICAgY29uc3QgY2xpZW50ID0gYXdhaXQgZ2V0V2hhdHNBcHBDbGllbnQob3JnYW5pemF0aW9uSWQpXG5cbiAgICAvLyBEb3dubG9hZCBtZWRpYSBmcm9tIFdoYXRzQXBwXG4gICAgY29uc3QgbWVkaWFCdWZmZXIgPSBhd2FpdCBjbGllbnQuZG93bmxvYWRNZWRpYShtZWRpYUlkKVxuXG4gICAgLy8gU3RvcmUgaW4gb3VyIG1lZGlhIHN0b3JhZ2VcbiAgICBjb25zdCBtZWRpYUZpbGUgPSBhd2FpdCBtZWRpYVN0b3JhZ2UudXBsb2FkRmlsZShcbiAgICAgIG1lZGlhQnVmZmVyLFxuICAgICAgbWVkaWEuZmlsZW5hbWUgfHwgYHdoYXRzYXBwX21lZGlhXyR7bWVkaWFJZH1gLFxuICAgICAgbWVkaWEubWltZVR5cGUsXG4gICAgICB7XG4gICAgICAgIG9yZ2FuaXphdGlvbklkLFxuICAgICAgICB1cGxvYWRlZEJ5OiAnc3lzdGVtJyxcbiAgICAgICAgZ2VuZXJhdGVUaHVtYm5haWw6IG1lZGlhLm1pbWVUeXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpLFxuICAgICAgICBtYXhTaXplOiAxNiAqIDEwMjQgKiAxMDI0IC8vIDE2TUIgbGltaXRcbiAgICAgIH1cbiAgICApXG5cbiAgICByZXR1cm4gbWVkaWFGaWxlXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZG93bmxvYWRpbmcgYW5kIHN0b3JpbmcgbWVkaWE6JywgZXJyb3IpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVDb252ZXJzYXRpb25UaW1lc3RhbXAoc3VwYWJhc2U6IFN1cGFiYXNlQ2xpZW50LCBjb252ZXJzYXRpb25JZDogc3RyaW5nLCB0aW1lc3RhbXA6IHN0cmluZykge1xuICBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdjb252ZXJzYXRpb25zJylcbiAgICAudXBkYXRlKHtcbiAgICAgIGxhc3RfbWVzc2FnZV9hdDogbmV3IERhdGUocGFyc2VJbnQodGltZXN0YW1wKSAqIDEwMDApLnRvSVNPU3RyaW5nKCksXG4gICAgfSlcbiAgICAuZXEoJ2lkJywgY29udmVyc2F0aW9uSWQpXG59XG5cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUNvbnRhY3RUaW1lc3RhbXAoc3VwYWJhc2U6IFN1cGFiYXNlQ2xpZW50LCBjb250YWN0SWQ6IHN0cmluZywgdGltZXN0YW1wOiBzdHJpbmcpIHtcbiAgYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgnY29udGFjdHMnKVxuICAgIC51cGRhdGUoe1xuICAgICAgbGFzdF9tZXNzYWdlX2F0OiBuZXcgRGF0ZShwYXJzZUludCh0aW1lc3RhbXApICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICB9KVxuICAgIC5lcSgnaWQnLCBjb250YWN0SWQpXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGluY3JlbWVudE1lc3NhZ2VDb3VudChzdXBhYmFzZTogU3VwYWJhc2VDbGllbnQsIG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsIGRpcmVjdGlvbjogJ2luYm91bmQnIHwgJ291dGJvdW5kJykge1xuICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdXG5cbiAgYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgnZGFpbHlfYW5hbHl0aWNzJylcbiAgICAudXBzZXJ0KHtcbiAgICAgIG9yZ2FuaXphdGlvbl9pZDogb3JnYW5pemF0aW9uSWQsXG4gICAgICBkYXRlOiB0b2RheSxcbiAgICAgIG1lc3NhZ2VzX3JlY2VpdmVkOiBkaXJlY3Rpb24gPT09ICdpbmJvdW5kJyA/IDEgOiAwLFxuICAgICAgbWVzc2FnZXNfc2VudDogZGlyZWN0aW9uID09PSAnb3V0Ym91bmQnID8gMSA6IDAsXG4gICAgfSwge1xuICAgICAgb25Db25mbGljdDogJ29yZ2FuaXphdGlvbl9pZCxkYXRlJyxcbiAgICAgIGlnbm9yZUR1cGxpY2F0ZXM6IGZhbHNlXG4gICAgfSlcbn1cblxuYXN5bmMgZnVuY3Rpb24gbG9nTWVzc2FnZUVycm9ycyhzdXBhYmFzZTogU3VwYWJhc2VDbGllbnQsIG1lc3NhZ2VJZDogc3RyaW5nLCBlcnJvcnM6IEFycmF5PHsgY29kZTogc3RyaW5nOyB0aXRsZTogc3RyaW5nOyBtZXNzYWdlOiBzdHJpbmc7IGVycm9yX2RhdGE/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB9Piwgb3JnYW5pemF0aW9uSWQ6IHN0cmluZykge1xuICBmb3IgKGNvbnN0IGVycm9yIG9mIGVycm9ycykge1xuICAgIGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnbWVzc2FnZV9lcnJvcnMnKVxuICAgICAgLmluc2VydCh7XG4gICAgICAgIHdoYXRzYXBwX21lc3NhZ2VfaWQ6IG1lc3NhZ2VJZCxcbiAgICAgICAgb3JnYW5pemF0aW9uX2lkOiBvcmdhbml6YXRpb25JZCxcbiAgICAgICAgZXJyb3JfY29kZTogZXJyb3IuY29kZSxcbiAgICAgICAgZXJyb3JfdGl0bGU6IGVycm9yLnRpdGxlLFxuICAgICAgICBlcnJvcl9tZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICBlcnJvcl9kYXRhOiBlcnJvci5lcnJvcl9kYXRhIHx8IHt9LFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH0pXG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gbG9nUHJvY2Vzc2luZ0Vycm9yKHN1cGFiYXNlOiBTdXBhYmFzZUNsaWVudCwgbWVzc2FnZUlkOiBzdHJpbmcsIGVycm9yOiBQcm9jZXNzaW5nRXJyb3IsIG9yZ2FuaXphdGlvbklkOiBzdHJpbmcpIHtcbiAgYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgncHJvY2Vzc2luZ19lcnJvcnMnKVxuICAgIC5pbnNlcnQoe1xuICAgICAgd2hhdHNhcHBfbWVzc2FnZV9pZDogbWVzc2FnZUlkLFxuICAgICAgb3JnYW5pemF0aW9uX2lkOiBvcmdhbml6YXRpb25JZCxcbiAgICAgIGVycm9yX21lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICBlcnJvcl9zdGFjazogZXJyb3Iuc3RhY2ssXG4gICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9KVxufVxuXG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzVGVtcGxhdGVTdGF0dXNVcGRhdGUodmFsdWU6IHsgdGVtcGxhdGVfaWQ6IHN0cmluZzsgc3RhdHVzOiBzdHJpbmc7IHJlYXNvbj86IHN0cmluZyB9KSB7XG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KClcblxuICB0cnkge1xuICAgIGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnbWVzc2FnZV90ZW1wbGF0ZV9zdGF0dXNfdXBkYXRlcycpXG4gICAgICAuaW5zZXJ0KHtcbiAgICAgICAgdGVtcGxhdGVfaWQ6IHZhbHVlLnRlbXBsYXRlX2lkLFxuICAgICAgICBzdGF0dXM6IHZhbHVlLnN0YXR1cyxcbiAgICAgICAgcmVhc29uOiB2YWx1ZS5yZWFzb24sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwcm9jZXNzaW5nIHRlbXBsYXRlIHN0YXR1cyB1cGRhdGU6JywgZXJyb3IpXG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0FjY291bnRBbGVydHModmFsdWU6IHsgYWxlcnRfdHlwZTogc3RyaW5nOyBtZXNzYWdlOiBzdHJpbmc7IHNldmVyaXR5Pzogc3RyaW5nOyBba2V5OiBzdHJpbmddOiB1bmtub3duIH0pIHtcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKVxuXG4gIHRyeSB7XG4gICAgYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdhY2NvdW50X2FsZXJ0cycpXG4gICAgICAuaW5zZXJ0KHtcbiAgICAgICAgYWxlcnRfdHlwZTogdmFsdWUuYWxlcnRfdHlwZSxcbiAgICAgICAgbWVzc2FnZTogdmFsdWUubWVzc2FnZSxcbiAgICAgICAgc2V2ZXJpdHk6IHZhbHVlLnNldmVyaXR5IHx8ICdpbmZvJyxcbiAgICAgICAgbWV0YWRhdGE6IHZhbHVlLFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH0pXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcHJvY2Vzc2luZyBhY2NvdW50IGFsZXJ0OicsIGVycm9yKVxuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGxvZ1dlYmhvb2socGF5bG9hZDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sIHR5cGU6IHN0cmluZykge1xuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpXG5cbiAgYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgnd2ViaG9va19sb2dzJylcbiAgICAuaW5zZXJ0KHtcbiAgICAgIHdlYmhvb2tfdHlwZTogdHlwZSxcbiAgICAgIHBheWxvYWQsXG4gICAgICBwcm9jZXNzZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICB9KVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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