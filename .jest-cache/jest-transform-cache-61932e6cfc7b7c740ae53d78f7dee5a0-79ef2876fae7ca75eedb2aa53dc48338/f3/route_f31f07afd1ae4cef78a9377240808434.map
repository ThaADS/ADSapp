{"version":3,"names":["cov_2nznyxwevj","actualCoverage","s","POST","request","f","email","password","json","b","_server","NextResponse","error","status","supabase","_server1","createClient","data","authData","authError","auth","signInWithPassword","console","message","user","session"],"sources":["C:\\Ai Projecten\\ADSapp\\src\\app\\api\\auth\\signin\\route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\r\nimport { createClient } from '@/lib/supabase/server'\r\n\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const { email, password } = await request.json()\r\n\r\n    // Validate input\r\n    if (!email || !password) {\r\n      return NextResponse.json(\r\n        { error: 'Email and password are required' },\r\n        { status: 400 }\r\n      )\r\n    }\r\n\r\n    // Create Supabase client\r\n    const supabase = await createClient()\r\n\r\n    // Sign in the user\r\n    const { data: authData, error: authError } = await supabase.auth.signInWithPassword({\r\n      email,\r\n      password\r\n    })\r\n\r\n    if (authError) {\r\n      console.error('Auth signin error:', authError)\r\n      return NextResponse.json(\r\n        { error: authError.message },\r\n        { status: 400 }\r\n      )\r\n    }\r\n\r\n    if (!authData.user || !authData.session) {\r\n      return NextResponse.json(\r\n        { error: 'Invalid credentials' },\r\n        { status: 401 }\r\n      )\r\n    }\r\n\r\n    // Success\r\n    return NextResponse.json({\r\n      message: 'Signed in successfully',\r\n      user: authData.user,\r\n      session: authData.session\r\n    })\r\n\r\n  } catch (error) {\r\n    console.error('Signin API error:', error)\r\n    return NextResponse.json(\r\n      { error: 'Internal server error' },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]}