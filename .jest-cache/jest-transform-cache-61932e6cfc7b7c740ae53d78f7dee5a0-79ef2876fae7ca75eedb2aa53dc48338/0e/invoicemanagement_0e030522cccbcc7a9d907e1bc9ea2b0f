6f3031d875d51cdd0772824483f04142
"use strict";

/* istanbul ignore next */
function cov_14b8vuofnf() {
  var path = "C:\\Ai Projecten\\ADSapp\\src\\lib\\billing\\invoice-management.ts";
  var hash = "08598509344b18a740629979586c5daa010335dd";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Ai Projecten\\ADSapp\\src\\lib\\billing\\invoice-management.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 5,
          column: 0
        },
        end: {
          line: 10,
          column: 3
        }
      },
      "2": {
        start: {
          line: 8,
          column: 8
        },
        end: {
          line: 8,
          column: 30
        }
      },
      "3": {
        start: {
          line: 11,
          column: 16
        },
        end: {
          line: 11,
          column: 45
        }
      },
      "4": {
        start: {
          line: 12,
          column: 17
        },
        end: {
          line: 12,
          column: 44
        }
      },
      "5": {
        start: {
          line: 15,
          column: 25
        },
        end: {
          line: 15,
          column: 44
        }
      },
      "6": {
        start: {
          line: 17,
          column: 31
        },
        end: {
          line: 17,
          column: 93
        }
      },
      "7": {
        start: {
          line: 18,
          column: 8
        },
        end: {
          line: 21,
          column: 9
        }
      },
      "8": {
        start: {
          line: 19,
          column: 12
        },
        end: {
          line: 19,
          column: 95
        }
      },
      "9": {
        start: {
          line: 20,
          column: 12
        },
        end: {
          line: 20,
          column: 19
        }
      },
      "10": {
        start: {
          line: 22,
          column: 26
        },
        end: {
          line: 22,
          column: 62
        }
      },
      "11": {
        start: {
          line: 23,
          column: 28
        },
        end: {
          line: 45,
          column: 9
        }
      },
      "12": {
        start: {
          line: 46,
          column: 8
        },
        end: {
          line: 50,
          column: 16
        }
      },
      "13": {
        start: {
          line: 46,
          column: 88
        },
        end: {
          line: 50,
          column: 13
        }
      },
      "14": {
        start: {
          line: 53,
          column: 25
        },
        end: {
          line: 53,
          column: 44
        }
      },
      "15": {
        start: {
          line: 54,
          column: 8
        },
        end: {
          line: 60,
          column: 53
        }
      },
      "16": {
        start: {
          line: 62,
          column: 8
        },
        end: {
          line: 62,
          column: 74
        }
      },
      "17": {
        start: {
          line: 65,
          column: 25
        },
        end: {
          line: 65,
          column: 44
        }
      },
      "18": {
        start: {
          line: 66,
          column: 8
        },
        end: {
          line: 70,
          column: 53
        }
      },
      "19": {
        start: {
          line: 72,
          column: 8
        },
        end: {
          line: 72,
          column: 57
        }
      },
      "20": {
        start: {
          line: 74,
          column: 8
        },
        end: {
          line: 74,
          column: 69
        }
      },
      "21": {
        start: {
          line: 77,
          column: 25
        },
        end: {
          line: 77,
          column: 44
        }
      },
      "22": {
        start: {
          line: 78,
          column: 29
        },
        end: {
          line: 78,
          column: 67
        }
      },
      "23": {
        start: {
          line: 79,
          column: 28
        },
        end: {
          line: 79,
          column: 74
        }
      },
      "24": {
        start: {
          line: 80,
          column: 8
        },
        end: {
          line: 85,
          column: 53
        }
      },
      "25": {
        start: {
          line: 87,
          column: 8
        },
        end: {
          line: 87,
          column: 70
        }
      },
      "26": {
        start: {
          line: 89,
          column: 8
        },
        end: {
          line: 89,
          column: 79
        }
      },
      "27": {
        start: {
          line: 92,
          column: 25
        },
        end: {
          line: 92,
          column: 44
        }
      },
      "28": {
        start: {
          line: 94,
          column: 39
        },
        end: {
          line: 94,
          column: 144
        }
      },
      "29": {
        start: {
          line: 95,
          column: 8
        },
        end: {
          line: 97,
          column: 9
        }
      },
      "30": {
        start: {
          line: 96,
          column: 12
        },
        end: {
          line: 96,
          column: 76
        }
      },
      "31": {
        start: {
          line: 99,
          column: 24
        },
        end: {
          line: 109,
          column: 10
        }
      },
      "32": {
        start: {
          line: 111,
          column: 8
        },
        end: {
          line: 121,
          column: 9
        }
      },
      "33": {
        start: {
          line: 112,
          column: 12
        },
        end: {
          line: 120,
          column: 15
        }
      },
      "34": {
        start: {
          line: 123,
          column: 8
        },
        end: {
          line: 123,
          column: 67
        }
      },
      "35": {
        start: {
          line: 125,
          column: 8
        },
        end: {
          line: 125,
          column: 92
        }
      },
      "36": {
        start: {
          line: 126,
          column: 8
        },
        end: {
          line: 126,
          column: 26
        }
      },
      "37": {
        start: {
          line: 129,
          column: 25
        },
        end: {
          line: 129,
          column: 44
        }
      },
      "38": {
        start: {
          line: 130,
          column: 20
        },
        end: {
          line: 134,
          column: 10
        }
      },
      "39": {
        start: {
          line: 135,
          column: 8
        },
        end: {
          line: 137,
          column: 9
        }
      },
      "40": {
        start: {
          line: 136,
          column: 12
        },
        end: {
          line: 136,
          column: 55
        }
      },
      "41": {
        start: {
          line: 138,
          column: 8
        },
        end: {
          line: 140,
          column: 9
        }
      },
      "42": {
        start: {
          line: 139,
          column: 12
        },
        end: {
          line: 139,
          column: 77
        }
      },
      "43": {
        start: {
          line: 141,
          column: 8
        },
        end: {
          line: 143,
          column: 9
        }
      },
      "44": {
        start: {
          line: 142,
          column: 12
        },
        end: {
          line: 142,
          column: 75
        }
      },
      "45": {
        start: {
          line: 144,
          column: 8
        },
        end: {
          line: 146,
          column: 9
        }
      },
      "46": {
        start: {
          line: 145,
          column: 12
        },
        end: {
          line: 145,
          column: 47
        }
      },
      "47": {
        start: {
          line: 147,
          column: 8
        },
        end: {
          line: 149,
          column: 9
        }
      },
      "48": {
        start: {
          line: 148,
          column: 12
        },
        end: {
          line: 148,
          column: 92
        }
      },
      "49": {
        start: {
          line: 150,
          column: 39
        },
        end: {
          line: 150,
          column: 50
        }
      },
      "50": {
        start: {
          line: 151,
          column: 8
        },
        end: {
          line: 153,
          column: 9
        }
      },
      "51": {
        start: {
          line: 152,
          column: 12
        },
        end: {
          line: 152,
          column: 24
        }
      },
      "52": {
        start: {
          line: 154,
          column: 8
        },
        end: {
          line: 157,
          column: 10
        }
      },
      "53": {
        start: {
          line: 160,
          column: 8
        },
        end: {
          line: 179,
          column: 9
        }
      },
      "54": {
        start: {
          line: 161,
          column: 29
        },
        end: {
          line: 161,
          column: 48
        }
      },
      "55": {
        start: {
          line: 163,
          column: 38
        },
        end: {
          line: 163,
          column: 141
        }
      },
      "56": {
        start: {
          line: 164,
          column: 12
        },
        end: {
          line: 166,
          column: 13
        }
      },
      "57": {
        start: {
          line: 165,
          column: 16
        },
        end: {
          line: 165,
          column: 53
        }
      },
      "58": {
        start: {
          line: 168,
          column: 34
        },
        end: {
          line: 170,
          column: 14
        }
      },
      "59": {
        start: {
          line: 171,
          column: 12
        },
        end: {
          line: 174,
          column: 13
        }
      },
      "60": {
        start: {
          line: 172,
          column: 16
        },
        end: {
          line: 172,
          column: 58
        }
      },
      "61": {
        start: {
          line: 173,
          column: 16
        },
        end: {
          line: 173,
          column: 28
        }
      },
      "62": {
        start: {
          line: 175,
          column: 12
        },
        end: {
          line: 175,
          column: 25
        }
      },
      "63": {
        start: {
          line: 177,
          column: 12
        },
        end: {
          line: 177,
          column: 58
        }
      },
      "64": {
        start: {
          line: 178,
          column: 12
        },
        end: {
          line: 178,
          column: 25
        }
      },
      "65": {
        start: {
          line: 182,
          column: 25
        },
        end: {
          line: 182,
          column: 44
        }
      },
      "66": {
        start: {
          line: 184,
          column: 34
        },
        end: {
          line: 184,
          column: 122
        }
      },
      "67": {
        start: {
          line: 185,
          column: 8
        },
        end: {
          line: 187,
          column: 9
        }
      },
      "68": {
        start: {
          line: 186,
          column: 12
        },
        end: {
          line: 186,
          column: 49
        }
      },
      "69": {
        start: {
          line: 189,
          column: 8
        },
        end: {
          line: 189,
          column: 78
        }
      },
      "70": {
        start: {
          line: 191,
          column: 8
        },
        end: {
          line: 194,
          column: 31
        }
      },
      "71": {
        start: {
          line: 197,
          column: 25
        },
        end: {
          line: 197,
          column: 44
        }
      },
      "72": {
        start: {
          line: 198,
          column: 35
        },
        end: {
          line: 198,
          column: 219
        }
      },
      "73": {
        start: {
          line: 199,
          column: 8
        },
        end: {
          line: 207,
          column: 9
        }
      },
      "74": {
        start: {
          line: 200,
          column: 12
        },
        end: {
          line: 206,
          column: 14
        }
      },
      "75": {
        start: {
          line: 208,
          column: 29
        },
        end: {
          line: 208,
          column: 70
        }
      },
      "76": {
        start: {
          line: 208,
          column: 50
        },
        end: {
          line: 208,
          column: 69
        }
      },
      "77": {
        start: {
          line: 209,
          column: 31
        },
        end: {
          line: 209,
          column: 162
        }
      },
      "78": {
        start: {
          line: 209,
          column: 52
        },
        end: {
          line: 209,
          column: 161
        }
      },
      "79": {
        start: {
          line: 210,
          column: 29
        },
        end: {
          line: 210,
          column: 81
        }
      },
      "80": {
        start: {
          line: 210,
          column: 61
        },
        end: {
          line: 210,
          column: 77
        }
      },
      "81": {
        start: {
          line: 211,
          column: 37
        },
        end: {
          line: 211,
          column: 129
        }
      },
      "82": {
        start: {
          line: 211,
          column: 87
        },
        end: {
          line: 211,
          column: 103
        }
      },
      "83": {
        start: {
          line: 212,
          column: 35
        },
        end: {
          line: 212,
          column: 104
        }
      },
      "84": {
        start: {
          line: 213,
          column: 8
        },
        end: {
          line: 219,
          column: 10
        }
      },
      "85": {
        start: {
          line: 223,
          column: 25
        },
        end: {
          line: 223,
          column: 44
        }
      },
      "86": {
        start: {
          line: 224,
          column: 25
        },
        end: {
          line: 224,
          column: 120
        }
      },
      "87": {
        start: {
          line: 225,
          column: 8
        },
        end: {
          line: 225,
          column: 32
        }
      },
      "88": {
        start: {
          line: 228,
          column: 8
        },
        end: {
          line: 236,
          column: 16
        }
      },
      "89": {
        start: {
          line: 228,
          column: 60
        },
        end: {
          line: 236,
          column: 13
        }
      },
      "90": {
        start: {
          line: 239,
          column: 8
        },
        end: {
          line: 239,
          column: 64
        }
      },
      "91": {
        start: {
          line: 239,
          column: 42
        },
        end: {
          line: 239,
          column: 64
        }
      },
      "92": {
        start: {
          line: 240,
          column: 8
        },
        end: {
          line: 240,
          column: 59
        }
      },
      "93": {
        start: {
          line: 240,
          column: 41
        },
        end: {
          line: 240,
          column: 59
        }
      },
      "94": {
        start: {
          line: 241,
          column: 8
        },
        end: {
          line: 241,
          column: 47
        }
      },
      "95": {
        start: {
          line: 241,
          column: 29
        },
        end: {
          line: 241,
          column: 47
        }
      },
      "96": {
        start: {
          line: 242,
          column: 8
        },
        end: {
          line: 242,
          column: 23
        }
      },
      "97": {
        start: {
          line: 245,
          column: 8
        },
        end: {
          line: 247,
          column: 9
        }
      },
      "98": {
        start: {
          line: 246,
          column: 12
        },
        end: {
          line: 246,
          column: 24
        }
      },
      "99": {
        start: {
          line: 248,
          column: 27
        },
        end: {
          line: 248,
          column: 89
        }
      },
      "100": {
        start: {
          line: 249,
          column: 28
        },
        end: {
          line: 249,
          column: 38
        }
      },
      "101": {
        start: {
          line: 250,
          column: 8
        },
        end: {
          line: 250,
          column: 66
        }
      },
      "102": {
        start: {
          line: 251,
          column: 8
        },
        end: {
          line: 251,
          column: 41
        }
      },
      "103": {
        start: {
          line: 254,
          column: 31
        },
        end: {
          line: 254,
          column: 120
        }
      },
      "104": {
        start: {
          line: 254,
          column: 84
        },
        end: {
          line: 254,
          column: 119
        }
      },
      "105": {
        start: {
          line: 255,
          column: 8
        },
        end: {
          line: 255,
          column: 36
        }
      },
      "106": {
        start: {
          line: 255,
          column: 29
        },
        end: {
          line: 255,
          column: 36
        }
      },
      "107": {
        start: {
          line: 256,
          column: 8
        },
        end: {
          line: 269,
          column: 9
        }
      },
      "108": {
        start: {
          line: 258,
          column: 16
        },
        end: {
          line: 258,
          column: 81
        }
      },
      "109": {
        start: {
          line: 259,
          column: 16
        },
        end: {
          line: 259,
          column: 22
        }
      },
      "110": {
        start: {
          line: 261,
          column: 16
        },
        end: {
          line: 261,
          column: 64
        }
      },
      "111": {
        start: {
          line: 262,
          column: 16
        },
        end: {
          line: 262,
          column: 22
        }
      },
      "112": {
        start: {
          line: 264,
          column: 16
        },
        end: {
          line: 264,
          column: 64
        }
      },
      "113": {
        start: {
          line: 265,
          column: 16
        },
        end: {
          line: 265,
          column: 22
        }
      },
      "114": {
        start: {
          line: 267,
          column: 16
        },
        end: {
          line: 267,
          column: 69
        }
      },
      "115": {
        start: {
          line: 268,
          column: 16
        },
        end: {
          line: 268,
          column: 22
        }
      },
      "116": {
        start: {
          line: 272,
          column: 25
        },
        end: {
          line: 272,
          column: 44
        }
      },
      "117": {
        start: {
          line: 273,
          column: 8
        },
        end: {
          line: 277,
          column: 52
        }
      },
      "118": {
        start: {
          line: 281,
          column: 8
        },
        end: {
          line: 281,
          column: 77
        }
      },
      "119": {
        start: {
          line: 284,
          column: 8
        },
        end: {
          line: 284,
          column: 108
        }
      },
      "120": {
        start: {
          line: 287,
          column: 8
        },
        end: {
          line: 287,
          column: 79
        }
      },
      "121": {
        start: {
          line: 290,
          column: 8
        },
        end: {
          line: 290,
          column: 78
        }
      },
      "122": {
        start: {
          line: 293,
          column: 8
        },
        end: {
          line: 293,
          column: 85
        }
      },
      "123": {
        start: {
          line: 296,
          column: 8
        },
        end: {
          line: 296,
          column: 52
        }
      },
      "124": {
        start: {
          line: 297,
          column: 8
        },
        end: {
          line: 327,
          column: 10
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 7,
            column: 9
          },
          end: {
            line: 7,
            column: 10
          }
        },
        loc: {
          start: {
            line: 7,
            column: 20
          },
          end: {
            line: 9,
            column: 5
          }
        },
        line: 7
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 14,
            column: 4
          },
          end: {
            line: 14,
            column: 5
          }
        },
        loc: {
          start: {
            line: 14,
            column: 45
          },
          end: {
            line: 51,
            column: 5
          }
        },
        line: 14
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 46,
            column: 75
          },
          end: {
            line: 46,
            column: 76
          }
        },
        loc: {
          start: {
            line: 46,
            column: 88
          },
          end: {
            line: 50,
            column: 13
          }
        },
        line: 46
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 52,
            column: 4
          },
          end: {
            line: 52,
            column: 5
          }
        },
        loc: {
          start: {
            line: 52,
            column: 41
          },
          end: {
            line: 63,
            column: 5
          }
        },
        line: 52
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 64,
            column: 4
          },
          end: {
            line: 64,
            column: 5
          }
        },
        loc: {
          start: {
            line: 64,
            column: 41
          },
          end: {
            line: 75,
            column: 5
          }
        },
        line: 64
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 76,
            column: 4
          },
          end: {
            line: 76,
            column: 5
          }
        },
        loc: {
          start: {
            line: 76,
            column: 43
          },
          end: {
            line: 90,
            column: 5
          }
        },
        line: 76
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 91,
            column: 4
          },
          end: {
            line: 91,
            column: 5
          }
        },
        loc: {
          start: {
            line: 91,
            column: 73
          },
          end: {
            line: 127,
            column: 5
          }
        },
        line: 91
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 128,
            column: 4
          },
          end: {
            line: 128,
            column: 5
          }
        },
        loc: {
          start: {
            line: 128,
            column: 58
          },
          end: {
            line: 158,
            column: 5
          }
        },
        line: 128
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 159,
            column: 4
          },
          end: {
            line: 159,
            column: 5
          }
        },
        loc: {
          start: {
            line: 159,
            column: 40
          },
          end: {
            line: 180,
            column: 5
          }
        },
        line: 159
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 181,
            column: 4
          },
          end: {
            line: 181,
            column: 5
          }
        },
        loc: {
          start: {
            line: 181,
            column: 41
          },
          end: {
            line: 195,
            column: 5
          }
        },
        line: 181
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 196,
            column: 4
          },
          end: {
            line: 196,
            column: 5
          }
        },
        loc: {
          start: {
            line: 196,
            column: 54
          },
          end: {
            line: 220,
            column: 5
          }
        },
        line: 196
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 208,
            column: 45
          },
          end: {
            line: 208,
            column: 46
          }
        },
        loc: {
          start: {
            line: 208,
            column: 50
          },
          end: {
            line: 208,
            column: 69
          }
        },
        line: 208
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 209,
            column: 47
          },
          end: {
            line: 209,
            column: 48
          }
        },
        loc: {
          start: {
            line: 209,
            column: 52
          },
          end: {
            line: 209,
            column: 161
          }
        },
        line: 209
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 210,
            column: 49
          },
          end: {
            line: 210,
            column: 50
          }
        },
        loc: {
          start: {
            line: 210,
            column: 61
          },
          end: {
            line: 210,
            column: 77
          }
        },
        line: 210
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 211,
            column: 75
          },
          end: {
            line: 211,
            column: 76
          }
        },
        loc: {
          start: {
            line: 211,
            column: 87
          },
          end: {
            line: 211,
            column: 103
          }
        },
        line: 211
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 222,
            column: 4
          },
          end: {
            line: 222,
            column: 5
          }
        },
        loc: {
          start: {
            line: 222,
            column: 50
          },
          end: {
            line: 226,
            column: 5
          }
        },
        line: 222
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 227,
            column: 4
          },
          end: {
            line: 227,
            column: 5
          }
        },
        loc: {
          start: {
            line: 227,
            column: 36
          },
          end: {
            line: 237,
            column: 5
          }
        },
        line: 227
      },
      "17": {
        name: "(anonymous_17)",
        decl: {
          start: {
            line: 228,
            column: 44
          },
          end: {
            line: 228,
            column: 45
          }
        },
        loc: {
          start: {
            line: 228,
            column: 60
          },
          end: {
            line: 236,
            column: 13
          }
        },
        line: 228
      },
      "18": {
        name: "(anonymous_18)",
        decl: {
          start: {
            line: 238,
            column: 4
          },
          end: {
            line: 238,
            column: 5
          }
        },
        loc: {
          start: {
            line: 238,
            column: 32
          },
          end: {
            line: 243,
            column: 5
          }
        },
        line: 238
      },
      "19": {
        name: "(anonymous_19)",
        decl: {
          start: {
            line: 244,
            column: 4
          },
          end: {
            line: 244,
            column: 5
          }
        },
        loc: {
          start: {
            line: 244,
            column: 46
          },
          end: {
            line: 252,
            column: 5
          }
        },
        line: 244
      },
      "20": {
        name: "(anonymous_20)",
        decl: {
          start: {
            line: 253,
            column: 4
          },
          end: {
            line: 253,
            column: 5
          }
        },
        loc: {
          start: {
            line: 253,
            column: 54
          },
          end: {
            line: 270,
            column: 5
          }
        },
        line: 253
      },
      "21": {
        name: "(anonymous_21)",
        decl: {
          start: {
            line: 254,
            column: 76
          },
          end: {
            line: 254,
            column: 77
          }
        },
        loc: {
          start: {
            line: 254,
            column: 84
          },
          end: {
            line: 254,
            column: 119
          }
        },
        line: 254
      },
      "22": {
        name: "(anonymous_22)",
        decl: {
          start: {
            line: 271,
            column: 4
          },
          end: {
            line: 271,
            column: 5
          }
        },
        loc: {
          start: {
            line: 271,
            column: 47
          },
          end: {
            line: 278,
            column: 5
          }
        },
        line: 271
      },
      "23": {
        name: "(anonymous_23)",
        decl: {
          start: {
            line: 279,
            column: 4
          },
          end: {
            line: 279,
            column: 5
          }
        },
        loc: {
          start: {
            line: 279,
            column: 51
          },
          end: {
            line: 282,
            column: 5
          }
        },
        line: 279
      },
      "24": {
        name: "(anonymous_24)",
        decl: {
          start: {
            line: 283,
            column: 4
          },
          end: {
            line: 283,
            column: 5
          }
        },
        loc: {
          start: {
            line: 283,
            column: 64
          },
          end: {
            line: 285,
            column: 5
          }
        },
        line: 283
      },
      "25": {
        name: "(anonymous_25)",
        decl: {
          start: {
            line: 286,
            column: 4
          },
          end: {
            line: 286,
            column: 5
          }
        },
        loc: {
          start: {
            line: 286,
            column: 47
          },
          end: {
            line: 288,
            column: 5
          }
        },
        line: 286
      },
      "26": {
        name: "(anonymous_26)",
        decl: {
          start: {
            line: 289,
            column: 4
          },
          end: {
            line: 289,
            column: 5
          }
        },
        loc: {
          start: {
            line: 289,
            column: 47
          },
          end: {
            line: 291,
            column: 5
          }
        },
        line: 289
      },
      "27": {
        name: "(anonymous_27)",
        decl: {
          start: {
            line: 292,
            column: 4
          },
          end: {
            line: 292,
            column: 5
          }
        },
        loc: {
          start: {
            line: 292,
            column: 52
          },
          end: {
            line: 294,
            column: 5
          }
        },
        line: 292
      },
      "28": {
        name: "(anonymous_28)",
        decl: {
          start: {
            line: 295,
            column: 4
          },
          end: {
            line: 295,
            column: 5
          }
        },
        loc: {
          start: {
            line: 295,
            column: 17
          },
          end: {
            line: 328,
            column: 5
          }
        },
        line: 295
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 18,
            column: 8
          },
          end: {
            line: 21,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 18,
            column: 8
          },
          end: {
            line: 21,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 18
      },
      "1": {
        loc: {
          start: {
            line: 27,
            column: 29
          },
          end: {
            line: 27,
            column: 68
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 27,
            column: 29
          },
          end: {
            line: 27,
            column: 55
          }
        }, {
          start: {
            line: 27,
            column: 59
          },
          end: {
            line: 27,
            column: 68
          }
        }],
        line: 27
      },
      "2": {
        loc: {
          start: {
            line: 31,
            column: 17
          },
          end: {
            line: 31,
            column: 39
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 31,
            column: 17
          },
          end: {
            line: 31,
            column: 34
          }
        }, {
          start: {
            line: 31,
            column: 38
          },
          end: {
            line: 31,
            column: 39
          }
        }],
        line: 31
      },
      "3": {
        loc: {
          start: {
            line: 32,
            column: 22
          },
          end: {
            line: 32,
            column: 57
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 32,
            column: 22
          },
          end: {
            line: 32,
            column: 52
          }
        }, {
          start: {
            line: 32,
            column: 56
          },
          end: {
            line: 32,
            column: 57
          }
        }],
        line: 32
      },
      "4": {
        loc: {
          start: {
            line: 34,
            column: 22
          },
          end: {
            line: 34,
            column: 107
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 34,
            column: 47
          },
          end: {
            line: 34,
            column: 100
          }
        }, {
          start: {
            line: 34,
            column: 103
          },
          end: {
            line: 34,
            column: 107
          }
        }],
        line: 34
      },
      "5": {
        loc: {
          start: {
            line: 35,
            column: 26
          },
          end: {
            line: 35,
            column: 119
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 35,
            column: 55
          },
          end: {
            line: 35,
            column: 112
          }
        }, {
          start: {
            line: 35,
            column: 115
          },
          end: {
            line: 35,
            column: 119
          }
        }],
        line: 35
      },
      "6": {
        loc: {
          start: {
            line: 36,
            column: 24
          },
          end: {
            line: 36,
            column: 113
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 36,
            column: 51
          },
          end: {
            line: 36,
            column: 106
          }
        }, {
          start: {
            line: 36,
            column: 109
          },
          end: {
            line: 36,
            column: 113
          }
        }],
        line: 36
      },
      "7": {
        loc: {
          start: {
            line: 37,
            column: 28
          },
          end: {
            line: 37,
            column: 54
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 37,
            column: 28
          },
          end: {
            line: 37,
            column: 48
          }
        }, {
          start: {
            line: 37,
            column: 52
          },
          end: {
            line: 37,
            column: 54
          }
        }],
        line: 37
      },
      "8": {
        loc: {
          start: {
            line: 40,
            column: 27
          },
          end: {
            line: 40,
            column: 59
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 40,
            column: 27
          },
          end: {
            line: 40,
            column: 54
          }
        }, {
          start: {
            line: 40,
            column: 58
          },
          end: {
            line: 40,
            column: 59
          }
        }],
        line: 40
      },
      "9": {
        loc: {
          start: {
            line: 41,
            column: 34
          },
          end: {
            line: 41,
            column: 143
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 41,
            column: 71
          },
          end: {
            line: 41,
            column: 136
          }
        }, {
          start: {
            line: 41,
            column: 139
          },
          end: {
            line: 41,
            column: 143
          }
        }],
        line: 41
      },
      "10": {
        loc: {
          start: {
            line: 78,
            column: 30
          },
          end: {
            line: 78,
            column: 62
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 78,
            column: 30
          },
          end: {
            line: 78,
            column: 57
          }
        }, {
          start: {
            line: 78,
            column: 61
          },
          end: {
            line: 78,
            column: 62
          }
        }],
        line: 78
      },
      "11": {
        loc: {
          start: {
            line: 91,
            column: 59
          },
          end: {
            line: 91,
            column: 71
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 91,
            column: 69
          },
          end: {
            line: 91,
            column: 71
          }
        }],
        line: 91
      },
      "12": {
        loc: {
          start: {
            line: 95,
            column: 8
          },
          end: {
            line: 97,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 95,
            column: 8
          },
          end: {
            line: 97,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 95
      },
      "13": {
        loc: {
          start: {
            line: 102,
            column: 22
          },
          end: {
            line: 102,
            column: 96
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 102,
            column: 40
          },
          end: {
            line: 102,
            column: 84
          }
        }, {
          start: {
            line: 102,
            column: 87
          },
          end: {
            line: 102,
            column: 96
          }
        }],
        line: 102
      },
      "14": {
        loc: {
          start: {
            line: 119,
            column: 26
          },
          end: {
            line: 119,
            column: 45
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 119,
            column: 26
          },
          end: {
            line: 119,
            column: 39
          }
        }, {
          start: {
            line: 119,
            column: 43
          },
          end: {
            line: 119,
            column: 45
          }
        }],
        line: 119
      },
      "15": {
        loc: {
          start: {
            line: 128,
            column: 44
          },
          end: {
            line: 128,
            column: 56
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 128,
            column: 54
          },
          end: {
            line: 128,
            column: 56
          }
        }],
        line: 128
      },
      "16": {
        loc: {
          start: {
            line: 135,
            column: 8
          },
          end: {
            line: 137,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 135,
            column: 8
          },
          end: {
            line: 137,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 135
      },
      "17": {
        loc: {
          start: {
            line: 138,
            column: 8
          },
          end: {
            line: 140,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 138,
            column: 8
          },
          end: {
            line: 140,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 138
      },
      "18": {
        loc: {
          start: {
            line: 141,
            column: 8
          },
          end: {
            line: 143,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 141,
            column: 8
          },
          end: {
            line: 143,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 141
      },
      "19": {
        loc: {
          start: {
            line: 144,
            column: 8
          },
          end: {
            line: 146,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 144,
            column: 8
          },
          end: {
            line: 146,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 144
      },
      "20": {
        loc: {
          start: {
            line: 147,
            column: 8
          },
          end: {
            line: 149,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 147,
            column: 8
          },
          end: {
            line: 149,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 147
      },
      "21": {
        loc: {
          start: {
            line: 148,
            column: 66
          },
          end: {
            line: 148,
            column: 85
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 148,
            column: 66
          },
          end: {
            line: 148,
            column: 79
          }
        }, {
          start: {
            line: 148,
            column: 83
          },
          end: {
            line: 148,
            column: 85
          }
        }],
        line: 148
      },
      "22": {
        loc: {
          start: {
            line: 151,
            column: 8
          },
          end: {
            line: 153,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 151,
            column: 8
          },
          end: {
            line: 153,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 151
      },
      "23": {
        loc: {
          start: {
            line: 155,
            column: 22
          },
          end: {
            line: 155,
            column: 32
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 155,
            column: 22
          },
          end: {
            line: 155,
            column: 26
          }
        }, {
          start: {
            line: 155,
            column: 30
          },
          end: {
            line: 155,
            column: 32
          }
        }],
        line: 155
      },
      "24": {
        loc: {
          start: {
            line: 156,
            column: 19
          },
          end: {
            line: 156,
            column: 29
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 156,
            column: 19
          },
          end: {
            line: 156,
            column: 24
          }
        }, {
          start: {
            line: 156,
            column: 28
          },
          end: {
            line: 156,
            column: 29
          }
        }],
        line: 156
      },
      "25": {
        loc: {
          start: {
            line: 164,
            column: 12
          },
          end: {
            line: 166,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 164,
            column: 12
          },
          end: {
            line: 166,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 164
      },
      "26": {
        loc: {
          start: {
            line: 171,
            column: 12
          },
          end: {
            line: 174,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 171,
            column: 12
          },
          end: {
            line: 174,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 171
      },
      "27": {
        loc: {
          start: {
            line: 185,
            column: 8
          },
          end: {
            line: 187,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 185,
            column: 8
          },
          end: {
            line: 187,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 185
      },
      "28": {
        loc: {
          start: {
            line: 199,
            column: 8
          },
          end: {
            line: 207,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 199,
            column: 8
          },
          end: {
            line: 207,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 199
      },
      "29": {
        loc: {
          start: {
            line: 209,
            column: 52
          },
          end: {
            line: 209,
            column: 161
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 209,
            column: 52
          },
          end: {
            line: 209,
            column: 80
          }
        }, {
          start: {
            line: 209,
            column: 84
          },
          end: {
            line: 209,
            column: 103
          }
        }, {
          start: {
            line: 209,
            column: 107
          },
          end: {
            line: 209,
            column: 161
          }
        }],
        line: 209
      },
      "30": {
        loc: {
          start: {
            line: 211,
            column: 37
          },
          end: {
            line: 211,
            column: 129
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 211,
            column: 59
          },
          end: {
            line: 211,
            column: 125
          }
        }, {
          start: {
            line: 211,
            column: 128
          },
          end: {
            line: 211,
            column: 129
          }
        }],
        line: 211
      },
      "31": {
        loc: {
          start: {
            line: 212,
            column: 35
          },
          end: {
            line: 212,
            column: 104
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 212,
            column: 57
          },
          end: {
            line: 212,
            column: 100
          }
        }, {
          start: {
            line: 212,
            column: 103
          },
          end: {
            line: 212,
            column: 104
          }
        }],
        line: 212
      },
      "32": {
        loc: {
          start: {
            line: 225,
            column: 15
          },
          end: {
            line: 225,
            column: 31
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 225,
            column: 15
          },
          end: {
            line: 225,
            column: 23
          }
        }, {
          start: {
            line: 225,
            column: 27
          },
          end: {
            line: 225,
            column: 31
          }
        }],
        line: 225
      },
      "33": {
        loc: {
          start: {
            line: 229,
            column: 20
          },
          end: {
            line: 229,
            column: 46
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 229,
            column: 20
          },
          end: {
            line: 229,
            column: 27
          }
        }, {
          start: {
            line: 229,
            column: 31
          },
          end: {
            line: 229,
            column: 46
          }
        }],
        line: 229
      },
      "34": {
        loc: {
          start: {
            line: 230,
            column: 29
          },
          end: {
            line: 230,
            column: 51
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 230,
            column: 29
          },
          end: {
            line: 230,
            column: 45
          }
        }, {
          start: {
            line: 230,
            column: 49
          },
          end: {
            line: 230,
            column: 51
          }
        }],
        line: 230
      },
      "35": {
        loc: {
          start: {
            line: 231,
            column: 26
          },
          end: {
            line: 231,
            column: 44
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 231,
            column: 26
          },
          end: {
            line: 231,
            column: 39
          }
        }, {
          start: {
            line: 231,
            column: 43
          },
          end: {
            line: 231,
            column: 44
          }
        }],
        line: 231
      },
      "36": {
        loc: {
          start: {
            line: 233,
            column: 44
          },
          end: {
            line: 233,
            column: 62
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 233,
            column: 44
          },
          end: {
            line: 233,
            column: 57
          }
        }, {
          start: {
            line: 233,
            column: 61
          },
          end: {
            line: 233,
            column: 62
          }
        }],
        line: 233
      },
      "37": {
        loc: {
          start: {
            line: 235,
            column: 26
          },
          end: {
            line: 235,
            column: 45
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 235,
            column: 26
          },
          end: {
            line: 235,
            column: 39
          }
        }, {
          start: {
            line: 235,
            column: 43
          },
          end: {
            line: 235,
            column: 45
          }
        }],
        line: 235
      },
      "38": {
        loc: {
          start: {
            line: 239,
            column: 8
          },
          end: {
            line: 239,
            column: 64
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 239,
            column: 8
          },
          end: {
            line: 239,
            column: 64
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 239
      },
      "39": {
        loc: {
          start: {
            line: 240,
            column: 8
          },
          end: {
            line: 240,
            column: 59
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 240,
            column: 8
          },
          end: {
            line: 240,
            column: 59
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 240
      },
      "40": {
        loc: {
          start: {
            line: 241,
            column: 8
          },
          end: {
            line: 241,
            column: 47
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 241,
            column: 8
          },
          end: {
            line: 241,
            column: 47
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 241
      },
      "41": {
        loc: {
          start: {
            line: 245,
            column: 8
          },
          end: {
            line: 247,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 245,
            column: 8
          },
          end: {
            line: 247,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 245
      },
      "42": {
        loc: {
          start: {
            line: 248,
            column: 27
          },
          end: {
            line: 248,
            column: 89
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 248,
            column: 27
          },
          end: {
            line: 248,
            column: 83
          }
        }, {
          start: {
            line: 248,
            column: 87
          },
          end: {
            line: 248,
            column: 89
          }
        }],
        line: 248
      },
      "43": {
        loc: {
          start: {
            line: 255,
            column: 8
          },
          end: {
            line: 255,
            column: 36
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 255,
            column: 8
          },
          end: {
            line: 255,
            column: 36
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 255
      },
      "44": {
        loc: {
          start: {
            line: 256,
            column: 8
          },
          end: {
            line: 269,
            column: 9
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 257,
            column: 12
          },
          end: {
            line: 259,
            column: 22
          }
        }, {
          start: {
            line: 260,
            column: 12
          },
          end: {
            line: 262,
            column: 22
          }
        }, {
          start: {
            line: 263,
            column: 12
          },
          end: {
            line: 265,
            column: 22
          }
        }, {
          start: {
            line: 266,
            column: 12
          },
          end: {
            line: 268,
            column: 22
          }
        }],
        line: 256
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0,
      "110": 0,
      "111": 0,
      "112": 0,
      "113": 0,
      "114": 0,
      "115": 0,
      "116": 0,
      "117": 0,
      "118": 0,
      "119": 0,
      "120": 0,
      "121": 0,
      "122": 0,
      "123": 0,
      "124": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0],
      "26": [0, 0],
      "27": [0, 0],
      "28": [0, 0],
      "29": [0, 0, 0],
      "30": [0, 0],
      "31": [0, 0],
      "32": [0, 0],
      "33": [0, 0],
      "34": [0, 0],
      "35": [0, 0],
      "36": [0, 0],
      "37": [0, 0],
      "38": [0, 0],
      "39": [0, 0],
      "40": [0, 0],
      "41": [0, 0],
      "42": [0, 0],
      "43": [0, 0],
      "44": [0, 0, 0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Ai Projecten\\ADSapp\\src\\lib\\billing\\invoice-management.ts"],
      sourcesContent: ["import Stripe from 'stripe'\nimport { createClient } from '@/lib/supabase/server'\nimport { stripe } from '@/lib/stripe/server'\n\nexport interface InvoiceData {\n  id: string\n  organizationId: string\n  stripeInvoiceId: string\n  customerId: string\n  subscriptionId?: string\n  status: 'draft' | 'open' | 'paid' | 'void' | 'uncollectible'\n  amount: number\n  subtotal: number\n  tax: number\n  discount: number\n  currency: string\n  dueDate: string\n  paidAt?: string\n  periodStart: string\n  periodEnd: string\n  invoiceNumber: string\n  invoiceUrl?: string\n  pdfUrl?: string\n  attemptCount: number\n  nextPaymentAttempt?: string\n  lineItems: InvoiceLineItem[]\n  createdAt: string\n  updatedAt: string\n}\n\nexport interface InvoiceLineItem {\n  id: string\n  description: string\n  quantity: number\n  unitAmount: number\n  totalAmount: number\n  type: 'subscription' | 'usage' | 'one_time' | 'discount'\n  metadata?: Record<string, any>\n}\n\nexport interface PaymentRetryConfig {\n  maxAttempts: number\n  retryIntervals: number[] // in hours\n  escalationRules: {\n    attemptNumber: number\n    action: 'email' | 'suspend' | 'downgrade' | 'cancel'\n    delayHours: number\n  }[]\n}\n\nexport class InvoiceManager {\n  private supabase = createClient()\n\n  private readonly defaultRetryConfig: PaymentRetryConfig = {\n    maxAttempts: 4,\n    retryIntervals: [24, 72, 168, 336], // 1 day, 3 days, 1 week, 2 weeks\n    escalationRules: [\n      { attemptNumber: 1, action: 'email', delayHours: 0 },\n      { attemptNumber: 2, action: 'email', delayHours: 24 },\n      { attemptNumber: 3, action: 'suspend', delayHours: 72 },\n      { attemptNumber: 4, action: 'cancel', delayHours: 168 },\n    ]\n  }\n\n  async createInvoiceRecord(stripeInvoice: Stripe.Invoice): Promise<void> {\n    const supabase = await this.supabase\n\n    // Get organization from customer\n    const organizationId = await this.getOrganizationFromCustomer(stripeInvoice.customer as string)\n    if (!organizationId) {\n      console.error('Could not find organization for customer:', stripeInvoice.customer)\n      return\n    }\n\n    const lineItems = this.extractLineItems(stripeInvoice)\n\n    const invoiceData: Partial<InvoiceData> = {\n      organization_id: organizationId,\n      stripe_invoice_id: stripeInvoice.id,\n      customer_id: stripeInvoice.customer as string,\n      subscription_id: stripeInvoice.subscription as string || undefined,\n      status: stripeInvoice.status as any,\n      amount: stripeInvoice.amount_due,\n      subtotal: stripeInvoice.subtotal,\n      tax: stripeInvoice.tax || 0,\n      discount: stripeInvoice.discount?.amount || 0,\n      currency: stripeInvoice.currency,\n      due_date: stripeInvoice.due_date ? new Date(stripeInvoice.due_date * 1000).toISOString() : null,\n      period_start: stripeInvoice.period_start ? new Date(stripeInvoice.period_start * 1000).toISOString() : null,\n      period_end: stripeInvoice.period_end ? new Date(stripeInvoice.period_end * 1000).toISOString() : null,\n      invoice_number: stripeInvoice.number || '',\n      invoice_url: stripeInvoice.hosted_invoice_url,\n      pdf_url: stripeInvoice.invoice_pdf,\n      attempt_count: stripeInvoice.attempt_count || 0,\n      next_payment_attempt: stripeInvoice.next_payment_attempt ?\n        new Date(stripeInvoice.next_payment_attempt * 1000).toISOString() : null,\n      line_items: lineItems,\n      created_at: new Date(stripeInvoice.created * 1000).toISOString(),\n      updated_at: new Date().toISOString(),\n    }\n\n    await supabase\n      .from('invoices')\n      .upsert(invoiceData)\n      .on('conflict', (existing) => ({\n        ...existing,\n        ...invoiceData,\n        updated_at: new Date().toISOString(),\n      }))\n  }\n\n  async finalizeInvoice(stripeInvoice: Stripe.Invoice): Promise<void> {\n    const supabase = await this.supabase\n\n    await supabase\n      .from('invoices')\n      .update({\n        status: 'open',\n        invoice_number: stripeInvoice.number,\n        invoice_url: stripeInvoice.hosted_invoice_url,\n        pdf_url: stripeInvoice.invoice_pdf,\n        updated_at: new Date().toISOString(),\n      })\n      .eq('stripe_invoice_id', stripeInvoice.id)\n\n    // Send invoice notification\n    await this.sendInvoiceNotification(stripeInvoice.id, 'finalized')\n  }\n\n  async markInvoicePaid(stripeInvoice: Stripe.Invoice): Promise<void> {\n    const supabase = await this.supabase\n\n    await supabase\n      .from('invoices')\n      .update({\n        status: 'paid',\n        paid_at: new Date().toISOString(),\n        updated_at: new Date().toISOString(),\n      })\n      .eq('stripe_invoice_id', stripeInvoice.id)\n\n    // Reset payment retry attempts\n    await this.resetPaymentRetries(stripeInvoice.id)\n\n    // Send payment confirmation\n    await this.sendInvoiceNotification(stripeInvoice.id, 'paid')\n  }\n\n  async markPaymentFailed(stripeInvoice: Stripe.Invoice): Promise<void> {\n    const supabase = await this.supabase\n\n    const attemptCount = (stripeInvoice.attempt_count || 0) + 1\n    const nextAttempt = this.calculateNextPaymentAttempt(attemptCount)\n\n    await supabase\n      .from('invoices')\n      .update({\n        status: 'open',\n        attempt_count: attemptCount,\n        next_payment_attempt: nextAttempt,\n        updated_at: new Date().toISOString(),\n      })\n      .eq('stripe_invoice_id', stripeInvoice.id)\n\n    // Handle payment retry logic\n    await this.handlePaymentRetry(stripeInvoice.id, attemptCount)\n\n    // Send failure notification\n    await this.sendInvoiceNotification(stripeInvoice.id, 'payment_failed')\n  }\n\n  async generateCustomInvoice(\n    organizationId: string,\n    lineItems: Omit<InvoiceLineItem, 'id'>[],\n    options: {\n      dueDate?: Date\n      description?: string\n      metadata?: Record<string, any>\n    } = {}\n  ): Promise<string> {\n    const supabase = await this.supabase\n\n    // Get organization and customer info\n    const { data: organization } = await supabase\n      .from('organizations')\n      .select('stripe_customer_id, name')\n      .eq('id', organizationId)\n      .single()\n\n    if (!organization?.stripe_customer_id) {\n      throw new Error('Organization does not have a Stripe customer')\n    }\n\n    // Create Stripe invoice\n    const invoice = await stripe.invoices.create({\n      customer: organization.stripe_customer_id,\n      collection_method: 'charge_automatically',\n      due_date: options.dueDate ? Math.floor(options.dueDate.getTime() / 1000) : undefined,\n      description: options.description,\n      metadata: {\n        organizationId,\n        type: 'custom',\n        ...options.metadata,\n      },\n    })\n\n    // Add line items\n    for (const item of lineItems) {\n      await stripe.invoiceItems.create({\n        customer: organization.stripe_customer_id,\n        invoice: invoice.id,\n        amount: item.totalAmount,\n        currency: 'usd',\n        description: item.description,\n        quantity: item.quantity,\n        metadata: item.metadata || {},\n      })\n    }\n\n    // Finalize the invoice\n    await stripe.invoices.finalizeInvoice(invoice.id)\n\n    // Create local record\n    await this.createInvoiceRecord(await stripe.invoices.retrieve(invoice.id))\n\n    return invoice.id\n  }\n\n  async getInvoiceHistory(\n    organizationId: string,\n    options: {\n      limit?: number\n      offset?: number\n      status?: string\n      startDate?: Date\n      endDate?: Date\n    } = {}\n  ): Promise<{ invoices: InvoiceData[]; total: number }> {\n    const supabase = await this.supabase\n    let query = supabase\n      .from('invoices')\n      .select('*', { count: 'exact' })\n      .eq('organization_id', organizationId)\n      .order('created_at', { ascending: false })\n\n    if (options.status) {\n      query = query.eq('status', options.status)\n    }\n\n    if (options.startDate) {\n      query = query.gte('created_at', options.startDate.toISOString())\n    }\n\n    if (options.endDate) {\n      query = query.lte('created_at', options.endDate.toISOString())\n    }\n\n    if (options.limit) {\n      query = query.limit(options.limit)\n    }\n\n    if (options.offset) {\n      query = query.range(options.offset, options.offset + (options.limit || 50) - 1)\n    }\n\n    const { data, count, error } = await query\n\n    if (error) {\n      throw error\n    }\n\n    return {\n      invoices: data || [],\n      total: count || 0,\n    }\n  }\n\n  async retryFailedPayment(invoiceId: string): Promise<boolean> {\n    try {\n      const supabase = await this.supabase\n\n      // Get invoice details\n      const { data: invoice } = await supabase\n        .from('invoices')\n        .select('stripe_invoice_id, attempt_count')\n        .eq('id', invoiceId)\n        .single()\n\n      if (!invoice) {\n        throw new Error('Invoice not found')\n      }\n\n      // Attempt to pay the invoice\n      const stripeInvoice = await stripe.invoices.pay(invoice.stripe_invoice_id, {\n        paid_out_of_band: false,\n      })\n\n      if (stripeInvoice.status === 'paid') {\n        await this.markInvoicePaid(stripeInvoice)\n        return true\n      }\n\n      return false\n    } catch (error) {\n      console.error('Payment retry failed:', error)\n      return false\n    }\n  }\n\n  async voidInvoice(invoiceId: string, reason?: string): Promise<void> {\n    const supabase = await this.supabase\n\n    // Get Stripe invoice ID\n    const { data: invoice } = await supabase\n      .from('invoices')\n      .select('stripe_invoice_id')\n      .eq('id', invoiceId)\n      .single()\n\n    if (!invoice) {\n      throw new Error('Invoice not found')\n    }\n\n    // Void in Stripe\n    await stripe.invoices.voidInvoice(invoice.stripe_invoice_id)\n\n    // Update local record\n    await supabase\n      .from('invoices')\n      .update({\n        status: 'void',\n        updated_at: new Date().toISOString(),\n      })\n      .eq('id', invoiceId)\n  }\n\n  async getInvoiceAnalytics(\n    organizationId: string,\n    period: { start: Date; end: Date }\n  ): Promise<{\n    totalRevenue: number\n    paidInvoices: number\n    failedPayments: number\n    averageInvoiceAmount: number\n    paymentSuccessRate: number\n  }> {\n    const supabase = await this.supabase\n\n    const { data: invoices } = await supabase\n      .from('invoices')\n      .select('amount, status')\n      .eq('organization_id', organizationId)\n      .gte('created_at', period.start.toISOString())\n      .lte('created_at', period.end.toISOString())\n\n    if (!invoices?.length) {\n      return {\n        totalRevenue: 0,\n        paidInvoices: 0,\n        failedPayments: 0,\n        averageInvoiceAmount: 0,\n        paymentSuccessRate: 0,\n      }\n    }\n\n    const paidInvoices = invoices.filter(i => i.status === 'paid')\n    const failedPayments = invoices.filter(i => i.status === 'uncollectible' ||\n      (i.status === 'open' && i.attempt_count >= this.defaultRetryConfig.maxAttempts))\n\n    const totalRevenue = paidInvoices.reduce((sum, inv) => sum + inv.amount, 0)\n    const averageInvoiceAmount = invoices.length > 0 ?\n      invoices.reduce((sum, inv) => sum + inv.amount, 0) / invoices.length : 0\n\n    const paymentSuccessRate = invoices.length > 0 ?\n      (paidInvoices.length / invoices.length) * 100 : 0\n\n    return {\n      totalRevenue,\n      paidInvoices: paidInvoices.length,\n      failedPayments: failedPayments.length,\n      averageInvoiceAmount,\n      paymentSuccessRate,\n    }\n  }\n\n  // Private helper methods\n  private async getOrganizationFromCustomer(customerId: string): Promise<string | null> {\n    const supabase = await this.supabase\n    const { data } = await supabase\n      .from('organizations')\n      .select('id')\n      .eq('stripe_customer_id', customerId)\n      .single()\n\n    return data?.id || null\n  }\n\n  private extractLineItems(stripeInvoice: Stripe.Invoice): InvoiceLineItem[] {\n    return stripeInvoice.lines.data.map((line, index) => ({\n      id: line.id || `line_${index}`,\n      description: line.description || '',\n      quantity: line.quantity || 1,\n      unitAmount: line.amount,\n      totalAmount: line.amount * (line.quantity || 1),\n      type: this.determineLineItemType(line),\n      metadata: line.metadata || {},\n    }))\n  }\n\n  private determineLineItemType(line: Stripe.InvoiceLineItem): InvoiceLineItem['type'] {\n    if (line.type === 'subscription') return 'subscription'\n    if (line.type === 'invoiceitem') return 'one_time'\n    if (line.amount < 0) return 'discount'\n    return 'usage'\n  }\n\n  private calculateNextPaymentAttempt(attemptCount: number): string | null {\n    if (attemptCount >= this.defaultRetryConfig.maxAttempts) {\n      return null\n    }\n\n    const hoursToAdd = this.defaultRetryConfig.retryIntervals[attemptCount - 1] || 24\n    const nextAttempt = new Date()\n    nextAttempt.setHours(nextAttempt.getHours() + hoursToAdd)\n\n    return nextAttempt.toISOString()\n  }\n\n  private async handlePaymentRetry(invoiceId: string, attemptCount: number): Promise<void> {\n    const escalationRule = this.defaultRetryConfig.escalationRules\n      .find(rule => rule.attemptNumber === attemptCount)\n\n    if (!escalationRule) return\n\n    switch (escalationRule.action) {\n      case 'email':\n        await this.sendPaymentRetryNotification(invoiceId, attemptCount)\n        break\n      case 'suspend':\n        await this.suspendOrganizationAccess(invoiceId)\n        break\n      case 'downgrade':\n        await this.downgradeOrganizationPlan(invoiceId)\n        break\n      case 'cancel':\n        await this.cancelOrganizationSubscription(invoiceId)\n        break\n    }\n  }\n\n  private async resetPaymentRetries(stripeInvoiceId: string): Promise<void> {\n    const supabase = await this.supabase\n\n    await supabase\n      .from('invoices')\n      .update({\n        attempt_count: 0,\n        next_payment_attempt: null,\n        updated_at: new Date().toISOString(),\n      })\n      .eq('stripe_invoice_id', stripeInvoiceId)\n  }\n\n  private async sendInvoiceNotification(\n    invoiceId: string,\n    type: 'finalized' | 'paid' | 'payment_failed'\n  ): Promise<void> {\n    // Implementation for sending invoice notifications\n    console.log(`Sending ${type} notification for invoice ${invoiceId}`)\n  }\n\n  private async sendPaymentRetryNotification(invoiceId: string, attemptCount: number): Promise<void> {\n    console.log(`Sending payment retry notification for invoice ${invoiceId}, attempt ${attemptCount}`)\n  }\n\n  private async suspendOrganizationAccess(invoiceId: string): Promise<void> {\n    console.log(`Suspending organization access for invoice ${invoiceId}`)\n  }\n\n  private async downgradeOrganizationPlan(invoiceId: string): Promise<void> {\n    console.log(`Downgrading organization plan for invoice ${invoiceId}`)\n  }\n\n  private async cancelOrganizationSubscription(invoiceId: string): Promise<void> {\n    console.log(`Cancelling organization subscription for invoice ${invoiceId}`)\n  }\n}"],
      names: ["InvoiceManager", "createInvoiceRecord", "stripeInvoice", "supabase", "organizationId", "getOrganizationFromCustomer", "customer", "console", "error", "lineItems", "extractLineItems", "invoiceData", "organization_id", "stripe_invoice_id", "id", "customer_id", "subscription_id", "subscription", "undefined", "status", "amount", "amount_due", "subtotal", "tax", "discount", "currency", "due_date", "Date", "toISOString", "period_start", "period_end", "invoice_number", "number", "invoice_url", "hosted_invoice_url", "pdf_url", "invoice_pdf", "attempt_count", "next_payment_attempt", "line_items", "created_at", "created", "updated_at", "from", "upsert", "on", "existing", "finalizeInvoice", "update", "eq", "sendInvoiceNotification", "markInvoicePaid", "paid_at", "resetPaymentRetries", "markPaymentFailed", "attemptCount", "nextAttempt", "calculateNextPaymentAttempt", "handlePaymentRetry", "generateCustomInvoice", "options", "data", "organization", "select", "single", "stripe_customer_id", "Error", "invoice", "stripe", "invoices", "create", "collection_method", "dueDate", "Math", "floor", "getTime", "description", "metadata", "type", "item", "invoiceItems", "totalAmount", "quantity", "retrieve", "getInvoiceHistory", "query", "count", "order", "ascending", "startDate", "gte", "endDate", "lte", "limit", "offset", "range", "total", "retryFailedPayment", "invoiceId", "pay", "paid_out_of_band", "voidInvoice", "reason", "getInvoiceAnalytics", "period", "start", "end", "length", "totalRevenue", "paidInvoices", "failedPayments", "averageInvoiceAmount", "paymentSuccessRate", "filter", "i", "defaultRetryConfig", "maxAttempts", "reduce", "sum", "inv", "customerId", "lines", "map", "line", "index", "unitAmount", "determineLineItemType", "hoursToAdd", "retryIntervals", "setHours", "getHours", "escalationRule", "escalationRules", "find", "rule", "attemptNumber", "action", "sendPaymentRetryNotification", "suspendOrganizationAccess", "downgradeOrganizationPlan", "cancelOrganizationSubscription", "stripeInvoiceId", "log", "createClient", "delayHours"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "08598509344b18a740629979586c5daa010335dd"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_14b8vuofnf = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_14b8vuofnf();
cov_14b8vuofnf().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_14b8vuofnf().s[1]++;
Object.defineProperty(exports, "InvoiceManager", {
  enumerable: true,
  get: function () {
    /* istanbul ignore next */
    cov_14b8vuofnf().f[0]++;
    cov_14b8vuofnf().s[2]++;
    return InvoiceManager;
  }
});
const _server =
/* istanbul ignore next */
(cov_14b8vuofnf().s[3]++, require("../supabase/server"));
const _server1 =
/* istanbul ignore next */
(cov_14b8vuofnf().s[4]++, require("../stripe/server"));
class InvoiceManager {
  async createInvoiceRecord(stripeInvoice) {
    /* istanbul ignore next */
    cov_14b8vuofnf().f[1]++;
    const supabase =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[5]++, await this.supabase);
    // Get organization from customer
    const organizationId =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[6]++, await this.getOrganizationFromCustomer(stripeInvoice.customer));
    /* istanbul ignore next */
    cov_14b8vuofnf().s[7]++;
    if (!organizationId) {
      /* istanbul ignore next */
      cov_14b8vuofnf().b[0][0]++;
      cov_14b8vuofnf().s[8]++;
      console.error('Could not find organization for customer:', stripeInvoice.customer);
      /* istanbul ignore next */
      cov_14b8vuofnf().s[9]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_14b8vuofnf().b[0][1]++;
    }
    const lineItems =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[10]++, this.extractLineItems(stripeInvoice));
    const invoiceData =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[11]++, {
      organization_id: organizationId,
      stripe_invoice_id: stripeInvoice.id,
      customer_id: stripeInvoice.customer,
      subscription_id:
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[1][0]++, stripeInvoice.subscription) ||
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[1][1]++, undefined),
      status: stripeInvoice.status,
      amount: stripeInvoice.amount_due,
      subtotal: stripeInvoice.subtotal,
      tax:
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[2][0]++, stripeInvoice.tax) ||
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[2][1]++, 0),
      discount:
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[3][0]++, stripeInvoice.discount?.amount) ||
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[3][1]++, 0),
      currency: stripeInvoice.currency,
      due_date: stripeInvoice.due_date ?
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[4][0]++, new Date(stripeInvoice.due_date * 1000).toISOString()) :
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[4][1]++, null),
      period_start: stripeInvoice.period_start ?
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[5][0]++, new Date(stripeInvoice.period_start * 1000).toISOString()) :
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[5][1]++, null),
      period_end: stripeInvoice.period_end ?
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[6][0]++, new Date(stripeInvoice.period_end * 1000).toISOString()) :
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[6][1]++, null),
      invoice_number:
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[7][0]++, stripeInvoice.number) ||
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[7][1]++, ''),
      invoice_url: stripeInvoice.hosted_invoice_url,
      pdf_url: stripeInvoice.invoice_pdf,
      attempt_count:
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[8][0]++, stripeInvoice.attempt_count) ||
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[8][1]++, 0),
      next_payment_attempt: stripeInvoice.next_payment_attempt ?
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[9][0]++, new Date(stripeInvoice.next_payment_attempt * 1000).toISOString()) :
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[9][1]++, null),
      line_items: lineItems,
      created_at: new Date(stripeInvoice.created * 1000).toISOString(),
      updated_at: new Date().toISOString()
    });
    /* istanbul ignore next */
    cov_14b8vuofnf().s[12]++;
    await supabase.from('invoices').upsert(invoiceData).on('conflict', existing => {
      /* istanbul ignore next */
      cov_14b8vuofnf().f[2]++;
      cov_14b8vuofnf().s[13]++;
      return {
        ...existing,
        ...invoiceData,
        updated_at: new Date().toISOString()
      };
    });
  }
  async finalizeInvoice(stripeInvoice) {
    /* istanbul ignore next */
    cov_14b8vuofnf().f[3]++;
    const supabase =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[14]++, await this.supabase);
    /* istanbul ignore next */
    cov_14b8vuofnf().s[15]++;
    await supabase.from('invoices').update({
      status: 'open',
      invoice_number: stripeInvoice.number,
      invoice_url: stripeInvoice.hosted_invoice_url,
      pdf_url: stripeInvoice.invoice_pdf,
      updated_at: new Date().toISOString()
    }).eq('stripe_invoice_id', stripeInvoice.id);
    // Send invoice notification
    /* istanbul ignore next */
    cov_14b8vuofnf().s[16]++;
    await this.sendInvoiceNotification(stripeInvoice.id, 'finalized');
  }
  async markInvoicePaid(stripeInvoice) {
    /* istanbul ignore next */
    cov_14b8vuofnf().f[4]++;
    const supabase =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[17]++, await this.supabase);
    /* istanbul ignore next */
    cov_14b8vuofnf().s[18]++;
    await supabase.from('invoices').update({
      status: 'paid',
      paid_at: new Date().toISOString(),
      updated_at: new Date().toISOString()
    }).eq('stripe_invoice_id', stripeInvoice.id);
    // Reset payment retry attempts
    /* istanbul ignore next */
    cov_14b8vuofnf().s[19]++;
    await this.resetPaymentRetries(stripeInvoice.id);
    // Send payment confirmation
    /* istanbul ignore next */
    cov_14b8vuofnf().s[20]++;
    await this.sendInvoiceNotification(stripeInvoice.id, 'paid');
  }
  async markPaymentFailed(stripeInvoice) {
    /* istanbul ignore next */
    cov_14b8vuofnf().f[5]++;
    const supabase =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[21]++, await this.supabase);
    const attemptCount =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[22]++, (
    /* istanbul ignore next */
    (cov_14b8vuofnf().b[10][0]++, stripeInvoice.attempt_count) ||
    /* istanbul ignore next */
    (cov_14b8vuofnf().b[10][1]++, 0)) + 1);
    const nextAttempt =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[23]++, this.calculateNextPaymentAttempt(attemptCount));
    /* istanbul ignore next */
    cov_14b8vuofnf().s[24]++;
    await supabase.from('invoices').update({
      status: 'open',
      attempt_count: attemptCount,
      next_payment_attempt: nextAttempt,
      updated_at: new Date().toISOString()
    }).eq('stripe_invoice_id', stripeInvoice.id);
    // Handle payment retry logic
    /* istanbul ignore next */
    cov_14b8vuofnf().s[25]++;
    await this.handlePaymentRetry(stripeInvoice.id, attemptCount);
    // Send failure notification
    /* istanbul ignore next */
    cov_14b8vuofnf().s[26]++;
    await this.sendInvoiceNotification(stripeInvoice.id, 'payment_failed');
  }
  async generateCustomInvoice(organizationId, lineItems, options =
  /* istanbul ignore next */
  (cov_14b8vuofnf().b[11][0]++, {})) {
    /* istanbul ignore next */
    cov_14b8vuofnf().f[6]++;
    const supabase =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[27]++, await this.supabase);
    // Get organization and customer info
    const {
      data: organization
    } =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[28]++, await supabase.from('organizations').select('stripe_customer_id, name').eq('id', organizationId).single());
    /* istanbul ignore next */
    cov_14b8vuofnf().s[29]++;
    if (!organization?.stripe_customer_id) {
      /* istanbul ignore next */
      cov_14b8vuofnf().b[12][0]++;
      cov_14b8vuofnf().s[30]++;
      throw new Error('Organization does not have a Stripe customer');
    } else
    /* istanbul ignore next */
    {
      cov_14b8vuofnf().b[12][1]++;
    }
    // Create Stripe invoice
    const invoice =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[31]++, await _server1.stripe.invoices.create({
      customer: organization.stripe_customer_id,
      collection_method: 'charge_automatically',
      due_date: options.dueDate ?
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[13][0]++, Math.floor(options.dueDate.getTime() / 1000)) :
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[13][1]++, undefined),
      description: options.description,
      metadata: {
        organizationId,
        type: 'custom',
        ...options.metadata
      }
    }));
    // Add line items
    /* istanbul ignore next */
    cov_14b8vuofnf().s[32]++;
    for (const item of lineItems) {
      /* istanbul ignore next */
      cov_14b8vuofnf().s[33]++;
      await _server1.stripe.invoiceItems.create({
        customer: organization.stripe_customer_id,
        invoice: invoice.id,
        amount: item.totalAmount,
        currency: 'usd',
        description: item.description,
        quantity: item.quantity,
        metadata:
        /* istanbul ignore next */
        (cov_14b8vuofnf().b[14][0]++, item.metadata) ||
        /* istanbul ignore next */
        (cov_14b8vuofnf().b[14][1]++, {})
      });
    }
    // Finalize the invoice
    /* istanbul ignore next */
    cov_14b8vuofnf().s[34]++;
    await _server1.stripe.invoices.finalizeInvoice(invoice.id);
    // Create local record
    /* istanbul ignore next */
    cov_14b8vuofnf().s[35]++;
    await this.createInvoiceRecord(await _server1.stripe.invoices.retrieve(invoice.id));
    /* istanbul ignore next */
    cov_14b8vuofnf().s[36]++;
    return invoice.id;
  }
  async getInvoiceHistory(organizationId, options =
  /* istanbul ignore next */
  (cov_14b8vuofnf().b[15][0]++, {})) {
    /* istanbul ignore next */
    cov_14b8vuofnf().f[7]++;
    const supabase =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[37]++, await this.supabase);
    let query =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[38]++, supabase.from('invoices').select('*', {
      count: 'exact'
    }).eq('organization_id', organizationId).order('created_at', {
      ascending: false
    }));
    /* istanbul ignore next */
    cov_14b8vuofnf().s[39]++;
    if (options.status) {
      /* istanbul ignore next */
      cov_14b8vuofnf().b[16][0]++;
      cov_14b8vuofnf().s[40]++;
      query = query.eq('status', options.status);
    } else
    /* istanbul ignore next */
    {
      cov_14b8vuofnf().b[16][1]++;
    }
    cov_14b8vuofnf().s[41]++;
    if (options.startDate) {
      /* istanbul ignore next */
      cov_14b8vuofnf().b[17][0]++;
      cov_14b8vuofnf().s[42]++;
      query = query.gte('created_at', options.startDate.toISOString());
    } else
    /* istanbul ignore next */
    {
      cov_14b8vuofnf().b[17][1]++;
    }
    cov_14b8vuofnf().s[43]++;
    if (options.endDate) {
      /* istanbul ignore next */
      cov_14b8vuofnf().b[18][0]++;
      cov_14b8vuofnf().s[44]++;
      query = query.lte('created_at', options.endDate.toISOString());
    } else
    /* istanbul ignore next */
    {
      cov_14b8vuofnf().b[18][1]++;
    }
    cov_14b8vuofnf().s[45]++;
    if (options.limit) {
      /* istanbul ignore next */
      cov_14b8vuofnf().b[19][0]++;
      cov_14b8vuofnf().s[46]++;
      query = query.limit(options.limit);
    } else
    /* istanbul ignore next */
    {
      cov_14b8vuofnf().b[19][1]++;
    }
    cov_14b8vuofnf().s[47]++;
    if (options.offset) {
      /* istanbul ignore next */
      cov_14b8vuofnf().b[20][0]++;
      cov_14b8vuofnf().s[48]++;
      query = query.range(options.offset, options.offset + (
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[21][0]++, options.limit) ||
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[21][1]++, 50)) - 1);
    } else
    /* istanbul ignore next */
    {
      cov_14b8vuofnf().b[20][1]++;
    }
    const {
      data,
      count,
      error
    } =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[49]++, await query);
    /* istanbul ignore next */
    cov_14b8vuofnf().s[50]++;
    if (error) {
      /* istanbul ignore next */
      cov_14b8vuofnf().b[22][0]++;
      cov_14b8vuofnf().s[51]++;
      throw error;
    } else
    /* istanbul ignore next */
    {
      cov_14b8vuofnf().b[22][1]++;
    }
    cov_14b8vuofnf().s[52]++;
    return {
      invoices:
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[23][0]++, data) ||
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[23][1]++, []),
      total:
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[24][0]++, count) ||
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[24][1]++, 0)
    };
  }
  async retryFailedPayment(invoiceId) {
    /* istanbul ignore next */
    cov_14b8vuofnf().f[8]++;
    cov_14b8vuofnf().s[53]++;
    try {
      const supabase =
      /* istanbul ignore next */
      (cov_14b8vuofnf().s[54]++, await this.supabase);
      // Get invoice details
      const {
        data: invoice
      } =
      /* istanbul ignore next */
      (cov_14b8vuofnf().s[55]++, await supabase.from('invoices').select('stripe_invoice_id, attempt_count').eq('id', invoiceId).single());
      /* istanbul ignore next */
      cov_14b8vuofnf().s[56]++;
      if (!invoice) {
        /* istanbul ignore next */
        cov_14b8vuofnf().b[25][0]++;
        cov_14b8vuofnf().s[57]++;
        throw new Error('Invoice not found');
      } else
      /* istanbul ignore next */
      {
        cov_14b8vuofnf().b[25][1]++;
      }
      // Attempt to pay the invoice
      const stripeInvoice =
      /* istanbul ignore next */
      (cov_14b8vuofnf().s[58]++, await _server1.stripe.invoices.pay(invoice.stripe_invoice_id, {
        paid_out_of_band: false
      }));
      /* istanbul ignore next */
      cov_14b8vuofnf().s[59]++;
      if (stripeInvoice.status === 'paid') {
        /* istanbul ignore next */
        cov_14b8vuofnf().b[26][0]++;
        cov_14b8vuofnf().s[60]++;
        await this.markInvoicePaid(stripeInvoice);
        /* istanbul ignore next */
        cov_14b8vuofnf().s[61]++;
        return true;
      } else
      /* istanbul ignore next */
      {
        cov_14b8vuofnf().b[26][1]++;
      }
      cov_14b8vuofnf().s[62]++;
      return false;
    } catch (error) {
      /* istanbul ignore next */
      cov_14b8vuofnf().s[63]++;
      console.error('Payment retry failed:', error);
      /* istanbul ignore next */
      cov_14b8vuofnf().s[64]++;
      return false;
    }
  }
  async voidInvoice(invoiceId, reason) {
    /* istanbul ignore next */
    cov_14b8vuofnf().f[9]++;
    const supabase =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[65]++, await this.supabase);
    // Get Stripe invoice ID
    const {
      data: invoice
    } =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[66]++, await supabase.from('invoices').select('stripe_invoice_id').eq('id', invoiceId).single());
    /* istanbul ignore next */
    cov_14b8vuofnf().s[67]++;
    if (!invoice) {
      /* istanbul ignore next */
      cov_14b8vuofnf().b[27][0]++;
      cov_14b8vuofnf().s[68]++;
      throw new Error('Invoice not found');
    } else
    /* istanbul ignore next */
    {
      cov_14b8vuofnf().b[27][1]++;
    }
    // Void in Stripe
    cov_14b8vuofnf().s[69]++;
    await _server1.stripe.invoices.voidInvoice(invoice.stripe_invoice_id);
    // Update local record
    /* istanbul ignore next */
    cov_14b8vuofnf().s[70]++;
    await supabase.from('invoices').update({
      status: 'void',
      updated_at: new Date().toISOString()
    }).eq('id', invoiceId);
  }
  async getInvoiceAnalytics(organizationId, period) {
    /* istanbul ignore next */
    cov_14b8vuofnf().f[10]++;
    const supabase =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[71]++, await this.supabase);
    const {
      data: invoices
    } =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[72]++, await supabase.from('invoices').select('amount, status').eq('organization_id', organizationId).gte('created_at', period.start.toISOString()).lte('created_at', period.end.toISOString()));
    /* istanbul ignore next */
    cov_14b8vuofnf().s[73]++;
    if (!invoices?.length) {
      /* istanbul ignore next */
      cov_14b8vuofnf().b[28][0]++;
      cov_14b8vuofnf().s[74]++;
      return {
        totalRevenue: 0,
        paidInvoices: 0,
        failedPayments: 0,
        averageInvoiceAmount: 0,
        paymentSuccessRate: 0
      };
    } else
    /* istanbul ignore next */
    {
      cov_14b8vuofnf().b[28][1]++;
    }
    const paidInvoices =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[75]++, invoices.filter(i => {
      /* istanbul ignore next */
      cov_14b8vuofnf().f[11]++;
      cov_14b8vuofnf().s[76]++;
      return i.status === 'paid';
    }));
    const failedPayments =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[77]++, invoices.filter(i => {
      /* istanbul ignore next */
      cov_14b8vuofnf().f[12]++;
      cov_14b8vuofnf().s[78]++;
      return /* istanbul ignore next */(cov_14b8vuofnf().b[29][0]++, i.status === 'uncollectible') ||
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[29][1]++, i.status === 'open') &&
      /* istanbul ignore next */
      (cov_14b8vuofnf().b[29][2]++, i.attempt_count >= this.defaultRetryConfig.maxAttempts);
    }));
    const totalRevenue =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[79]++, paidInvoices.reduce((sum, inv) => {
      /* istanbul ignore next */
      cov_14b8vuofnf().f[13]++;
      cov_14b8vuofnf().s[80]++;
      return sum + inv.amount;
    }, 0));
    const averageInvoiceAmount =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[81]++, invoices.length > 0 ?
    /* istanbul ignore next */
    (cov_14b8vuofnf().b[30][0]++, invoices.reduce((sum, inv) => {
      /* istanbul ignore next */
      cov_14b8vuofnf().f[14]++;
      cov_14b8vuofnf().s[82]++;
      return sum + inv.amount;
    }, 0) / invoices.length) :
    /* istanbul ignore next */
    (cov_14b8vuofnf().b[30][1]++, 0));
    const paymentSuccessRate =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[83]++, invoices.length > 0 ?
    /* istanbul ignore next */
    (cov_14b8vuofnf().b[31][0]++, paidInvoices.length / invoices.length * 100) :
    /* istanbul ignore next */
    (cov_14b8vuofnf().b[31][1]++, 0));
    /* istanbul ignore next */
    cov_14b8vuofnf().s[84]++;
    return {
      totalRevenue,
      paidInvoices: paidInvoices.length,
      failedPayments: failedPayments.length,
      averageInvoiceAmount,
      paymentSuccessRate
    };
  }
  // Private helper methods
  async getOrganizationFromCustomer(customerId) {
    /* istanbul ignore next */
    cov_14b8vuofnf().f[15]++;
    const supabase =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[85]++, await this.supabase);
    const {
      data
    } =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[86]++, await supabase.from('organizations').select('id').eq('stripe_customer_id', customerId).single());
    /* istanbul ignore next */
    cov_14b8vuofnf().s[87]++;
    return /* istanbul ignore next */(cov_14b8vuofnf().b[32][0]++, data?.id) ||
    /* istanbul ignore next */
    (cov_14b8vuofnf().b[32][1]++, null);
  }
  extractLineItems(stripeInvoice) {
    /* istanbul ignore next */
    cov_14b8vuofnf().f[16]++;
    cov_14b8vuofnf().s[88]++;
    return stripeInvoice.lines.data.map((line, index) => {
      /* istanbul ignore next */
      cov_14b8vuofnf().f[17]++;
      cov_14b8vuofnf().s[89]++;
      return {
        id:
        /* istanbul ignore next */
        (cov_14b8vuofnf().b[33][0]++, line.id) ||
        /* istanbul ignore next */
        (cov_14b8vuofnf().b[33][1]++, `line_${index}`),
        description:
        /* istanbul ignore next */
        (cov_14b8vuofnf().b[34][0]++, line.description) ||
        /* istanbul ignore next */
        (cov_14b8vuofnf().b[34][1]++, ''),
        quantity:
        /* istanbul ignore next */
        (cov_14b8vuofnf().b[35][0]++, line.quantity) ||
        /* istanbul ignore next */
        (cov_14b8vuofnf().b[35][1]++, 1),
        unitAmount: line.amount,
        totalAmount: line.amount * (
        /* istanbul ignore next */
        (cov_14b8vuofnf().b[36][0]++, line.quantity) ||
        /* istanbul ignore next */
        (cov_14b8vuofnf().b[36][1]++, 1)),
        type: this.determineLineItemType(line),
        metadata:
        /* istanbul ignore next */
        (cov_14b8vuofnf().b[37][0]++, line.metadata) ||
        /* istanbul ignore next */
        (cov_14b8vuofnf().b[37][1]++, {})
      };
    });
  }
  determineLineItemType(line) {
    /* istanbul ignore next */
    cov_14b8vuofnf().f[18]++;
    cov_14b8vuofnf().s[90]++;
    if (line.type === 'subscription') {
      /* istanbul ignore next */
      cov_14b8vuofnf().b[38][0]++;
      cov_14b8vuofnf().s[91]++;
      return 'subscription';
    } else
    /* istanbul ignore next */
    {
      cov_14b8vuofnf().b[38][1]++;
    }
    cov_14b8vuofnf().s[92]++;
    if (line.type === 'invoiceitem') {
      /* istanbul ignore next */
      cov_14b8vuofnf().b[39][0]++;
      cov_14b8vuofnf().s[93]++;
      return 'one_time';
    } else
    /* istanbul ignore next */
    {
      cov_14b8vuofnf().b[39][1]++;
    }
    cov_14b8vuofnf().s[94]++;
    if (line.amount < 0) {
      /* istanbul ignore next */
      cov_14b8vuofnf().b[40][0]++;
      cov_14b8vuofnf().s[95]++;
      return 'discount';
    } else
    /* istanbul ignore next */
    {
      cov_14b8vuofnf().b[40][1]++;
    }
    cov_14b8vuofnf().s[96]++;
    return 'usage';
  }
  calculateNextPaymentAttempt(attemptCount) {
    /* istanbul ignore next */
    cov_14b8vuofnf().f[19]++;
    cov_14b8vuofnf().s[97]++;
    if (attemptCount >= this.defaultRetryConfig.maxAttempts) {
      /* istanbul ignore next */
      cov_14b8vuofnf().b[41][0]++;
      cov_14b8vuofnf().s[98]++;
      return null;
    } else
    /* istanbul ignore next */
    {
      cov_14b8vuofnf().b[41][1]++;
    }
    const hoursToAdd =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[99]++,
    /* istanbul ignore next */
    (cov_14b8vuofnf().b[42][0]++, this.defaultRetryConfig.retryIntervals[attemptCount - 1]) ||
    /* istanbul ignore next */
    (cov_14b8vuofnf().b[42][1]++, 24));
    const nextAttempt =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[100]++, new Date());
    /* istanbul ignore next */
    cov_14b8vuofnf().s[101]++;
    nextAttempt.setHours(nextAttempt.getHours() + hoursToAdd);
    /* istanbul ignore next */
    cov_14b8vuofnf().s[102]++;
    return nextAttempt.toISOString();
  }
  async handlePaymentRetry(invoiceId, attemptCount) {
    /* istanbul ignore next */
    cov_14b8vuofnf().f[20]++;
    const escalationRule =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[103]++, this.defaultRetryConfig.escalationRules.find(rule => {
      /* istanbul ignore next */
      cov_14b8vuofnf().f[21]++;
      cov_14b8vuofnf().s[104]++;
      return rule.attemptNumber === attemptCount;
    }));
    /* istanbul ignore next */
    cov_14b8vuofnf().s[105]++;
    if (!escalationRule) {
      /* istanbul ignore next */
      cov_14b8vuofnf().b[43][0]++;
      cov_14b8vuofnf().s[106]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_14b8vuofnf().b[43][1]++;
    }
    cov_14b8vuofnf().s[107]++;
    switch (escalationRule.action) {
      case 'email':
        /* istanbul ignore next */
        cov_14b8vuofnf().b[44][0]++;
        cov_14b8vuofnf().s[108]++;
        await this.sendPaymentRetryNotification(invoiceId, attemptCount);
        /* istanbul ignore next */
        cov_14b8vuofnf().s[109]++;
        break;
      case 'suspend':
        /* istanbul ignore next */
        cov_14b8vuofnf().b[44][1]++;
        cov_14b8vuofnf().s[110]++;
        await this.suspendOrganizationAccess(invoiceId);
        /* istanbul ignore next */
        cov_14b8vuofnf().s[111]++;
        break;
      case 'downgrade':
        /* istanbul ignore next */
        cov_14b8vuofnf().b[44][2]++;
        cov_14b8vuofnf().s[112]++;
        await this.downgradeOrganizationPlan(invoiceId);
        /* istanbul ignore next */
        cov_14b8vuofnf().s[113]++;
        break;
      case 'cancel':
        /* istanbul ignore next */
        cov_14b8vuofnf().b[44][3]++;
        cov_14b8vuofnf().s[114]++;
        await this.cancelOrganizationSubscription(invoiceId);
        /* istanbul ignore next */
        cov_14b8vuofnf().s[115]++;
        break;
    }
  }
  async resetPaymentRetries(stripeInvoiceId) {
    /* istanbul ignore next */
    cov_14b8vuofnf().f[22]++;
    const supabase =
    /* istanbul ignore next */
    (cov_14b8vuofnf().s[116]++, await this.supabase);
    /* istanbul ignore next */
    cov_14b8vuofnf().s[117]++;
    await supabase.from('invoices').update({
      attempt_count: 0,
      next_payment_attempt: null,
      updated_at: new Date().toISOString()
    }).eq('stripe_invoice_id', stripeInvoiceId);
  }
  async sendInvoiceNotification(invoiceId, type) {
    /* istanbul ignore next */
    cov_14b8vuofnf().f[23]++;
    cov_14b8vuofnf().s[118]++;
    // Implementation for sending invoice notifications
    console.log(`Sending ${type} notification for invoice ${invoiceId}`);
  }
  async sendPaymentRetryNotification(invoiceId, attemptCount) {
    /* istanbul ignore next */
    cov_14b8vuofnf().f[24]++;
    cov_14b8vuofnf().s[119]++;
    console.log(`Sending payment retry notification for invoice ${invoiceId}, attempt ${attemptCount}`);
  }
  async suspendOrganizationAccess(invoiceId) {
    /* istanbul ignore next */
    cov_14b8vuofnf().f[25]++;
    cov_14b8vuofnf().s[120]++;
    console.log(`Suspending organization access for invoice ${invoiceId}`);
  }
  async downgradeOrganizationPlan(invoiceId) {
    /* istanbul ignore next */
    cov_14b8vuofnf().f[26]++;
    cov_14b8vuofnf().s[121]++;
    console.log(`Downgrading organization plan for invoice ${invoiceId}`);
  }
  async cancelOrganizationSubscription(invoiceId) {
    /* istanbul ignore next */
    cov_14b8vuofnf().f[27]++;
    cov_14b8vuofnf().s[122]++;
    console.log(`Cancelling organization subscription for invoice ${invoiceId}`);
  }
  constructor() {
    /* istanbul ignore next */
    cov_14b8vuofnf().f[28]++;
    cov_14b8vuofnf().s[123]++;
    this.supabase = (0, _server.createClient)();
    /* istanbul ignore next */
    cov_14b8vuofnf().s[124]++;
    this.defaultRetryConfig = {
      maxAttempts: 4,
      retryIntervals: [24, 72, 168, 336],
      escalationRules: [{
        attemptNumber: 1,
        action: 'email',
        delayHours: 0
      }, {
        attemptNumber: 2,
        action: 'email',
        delayHours: 24
      }, {
        attemptNumber: 3,
        action: 'suspend',
        delayHours: 72
      }, {
        attemptNumber: 4,
        action: 'cancel',
        delayHours: 168
      }]
    };
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMTRiOHZ1b2ZuZiIsImFjdHVhbENvdmVyYWdlIiwicyIsIkludm9pY2VNYW5hZ2VyIiwiY3JlYXRlSW52b2ljZVJlY29yZCIsInN0cmlwZUludm9pY2UiLCJmIiwic3VwYWJhc2UiLCJvcmdhbml6YXRpb25JZCIsImdldE9yZ2FuaXphdGlvbkZyb21DdXN0b21lciIsImN1c3RvbWVyIiwiYiIsImNvbnNvbGUiLCJlcnJvciIsImxpbmVJdGVtcyIsImV4dHJhY3RMaW5lSXRlbXMiLCJpbnZvaWNlRGF0YSIsIm9yZ2FuaXphdGlvbl9pZCIsInN0cmlwZV9pbnZvaWNlX2lkIiwiaWQiLCJjdXN0b21lcl9pZCIsInN1YnNjcmlwdGlvbl9pZCIsInN1YnNjcmlwdGlvbiIsInVuZGVmaW5lZCIsInN0YXR1cyIsImFtb3VudCIsImFtb3VudF9kdWUiLCJzdWJ0b3RhbCIsInRheCIsImRpc2NvdW50IiwiY3VycmVuY3kiLCJkdWVfZGF0ZSIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInBlcmlvZF9zdGFydCIsInBlcmlvZF9lbmQiLCJpbnZvaWNlX251bWJlciIsIm51bWJlciIsImludm9pY2VfdXJsIiwiaG9zdGVkX2ludm9pY2VfdXJsIiwicGRmX3VybCIsImludm9pY2VfcGRmIiwiYXR0ZW1wdF9jb3VudCIsIm5leHRfcGF5bWVudF9hdHRlbXB0IiwibGluZV9pdGVtcyIsImNyZWF0ZWRfYXQiLCJjcmVhdGVkIiwidXBkYXRlZF9hdCIsImZyb20iLCJ1cHNlcnQiLCJvbiIsImV4aXN0aW5nIiwiZmluYWxpemVJbnZvaWNlIiwidXBkYXRlIiwiZXEiLCJzZW5kSW52b2ljZU5vdGlmaWNhdGlvbiIsIm1hcmtJbnZvaWNlUGFpZCIsInBhaWRfYXQiLCJyZXNldFBheW1lbnRSZXRyaWVzIiwibWFya1BheW1lbnRGYWlsZWQiLCJhdHRlbXB0Q291bnQiLCJuZXh0QXR0ZW1wdCIsImNhbGN1bGF0ZU5leHRQYXltZW50QXR0ZW1wdCIsImhhbmRsZVBheW1lbnRSZXRyeSIsImdlbmVyYXRlQ3VzdG9tSW52b2ljZSIsIm9wdGlvbnMiLCJkYXRhIiwib3JnYW5pemF0aW9uIiwic2VsZWN0Iiwic2luZ2xlIiwic3RyaXBlX2N1c3RvbWVyX2lkIiwiRXJyb3IiLCJpbnZvaWNlIiwiX3NlcnZlcjEiLCJzdHJpcGUiLCJpbnZvaWNlcyIsImNyZWF0ZSIsImNvbGxlY3Rpb25fbWV0aG9kIiwiZHVlRGF0ZSIsIk1hdGgiLCJmbG9vciIsImdldFRpbWUiLCJkZXNjcmlwdGlvbiIsIm1ldGFkYXRhIiwidHlwZSIsIml0ZW0iLCJpbnZvaWNlSXRlbXMiLCJ0b3RhbEFtb3VudCIsInF1YW50aXR5IiwicmV0cmlldmUiLCJnZXRJbnZvaWNlSGlzdG9yeSIsInF1ZXJ5IiwiY291bnQiLCJvcmRlciIsImFzY2VuZGluZyIsInN0YXJ0RGF0ZSIsImd0ZSIsImVuZERhdGUiLCJsdGUiLCJsaW1pdCIsIm9mZnNldCIsInJhbmdlIiwidG90YWwiLCJyZXRyeUZhaWxlZFBheW1lbnQiLCJpbnZvaWNlSWQiLCJwYXkiLCJwYWlkX291dF9vZl9iYW5kIiwidm9pZEludm9pY2UiLCJyZWFzb24iLCJnZXRJbnZvaWNlQW5hbHl0aWNzIiwicGVyaW9kIiwic3RhcnQiLCJlbmQiLCJsZW5ndGgiLCJ0b3RhbFJldmVudWUiLCJwYWlkSW52b2ljZXMiLCJmYWlsZWRQYXltZW50cyIsImF2ZXJhZ2VJbnZvaWNlQW1vdW50IiwicGF5bWVudFN1Y2Nlc3NSYXRlIiwiZmlsdGVyIiwiaSIsImRlZmF1bHRSZXRyeUNvbmZpZyIsIm1heEF0dGVtcHRzIiwicmVkdWNlIiwic3VtIiwiaW52IiwiY3VzdG9tZXJJZCIsImxpbmVzIiwibWFwIiwibGluZSIsImluZGV4IiwidW5pdEFtb3VudCIsImRldGVybWluZUxpbmVJdGVtVHlwZSIsImhvdXJzVG9BZGQiLCJyZXRyeUludGVydmFscyIsInNldEhvdXJzIiwiZ2V0SG91cnMiLCJlc2NhbGF0aW9uUnVsZSIsImVzY2FsYXRpb25SdWxlcyIsImZpbmQiLCJydWxlIiwiYXR0ZW1wdE51bWJlciIsImFjdGlvbiIsInNlbmRQYXltZW50UmV0cnlOb3RpZmljYXRpb24iLCJzdXNwZW5kT3JnYW5pemF0aW9uQWNjZXNzIiwiZG93bmdyYWRlT3JnYW5pemF0aW9uUGxhbiIsImNhbmNlbE9yZ2FuaXphdGlvblN1YnNjcmlwdGlvbiIsInN0cmlwZUludm9pY2VJZCIsImxvZyIsIl9zZXJ2ZXIiLCJjcmVhdGVDbGllbnQiLCJkZWxheUhvdXJzIl0sInNvdXJjZXMiOlsiQzpcXEFpIFByb2plY3RlblxcQURTYXBwXFxzcmNcXGxpYlxcYmlsbGluZ1xcaW52b2ljZS1tYW5hZ2VtZW50LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTdHJpcGUgZnJvbSAnc3RyaXBlJ1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQC9saWIvc3VwYWJhc2Uvc2VydmVyJ1xuaW1wb3J0IHsgc3RyaXBlIH0gZnJvbSAnQC9saWIvc3RyaXBlL3NlcnZlcidcblxuZXhwb3J0IGludGVyZmFjZSBJbnZvaWNlRGF0YSB7XG4gIGlkOiBzdHJpbmdcbiAgb3JnYW5pemF0aW9uSWQ6IHN0cmluZ1xuICBzdHJpcGVJbnZvaWNlSWQ6IHN0cmluZ1xuICBjdXN0b21lcklkOiBzdHJpbmdcbiAgc3Vic2NyaXB0aW9uSWQ/OiBzdHJpbmdcbiAgc3RhdHVzOiAnZHJhZnQnIHwgJ29wZW4nIHwgJ3BhaWQnIHwgJ3ZvaWQnIHwgJ3VuY29sbGVjdGlibGUnXG4gIGFtb3VudDogbnVtYmVyXG4gIHN1YnRvdGFsOiBudW1iZXJcbiAgdGF4OiBudW1iZXJcbiAgZGlzY291bnQ6IG51bWJlclxuICBjdXJyZW5jeTogc3RyaW5nXG4gIGR1ZURhdGU6IHN0cmluZ1xuICBwYWlkQXQ/OiBzdHJpbmdcbiAgcGVyaW9kU3RhcnQ6IHN0cmluZ1xuICBwZXJpb2RFbmQ6IHN0cmluZ1xuICBpbnZvaWNlTnVtYmVyOiBzdHJpbmdcbiAgaW52b2ljZVVybD86IHN0cmluZ1xuICBwZGZVcmw/OiBzdHJpbmdcbiAgYXR0ZW1wdENvdW50OiBudW1iZXJcbiAgbmV4dFBheW1lbnRBdHRlbXB0Pzogc3RyaW5nXG4gIGxpbmVJdGVtczogSW52b2ljZUxpbmVJdGVtW11cbiAgY3JlYXRlZEF0OiBzdHJpbmdcbiAgdXBkYXRlZEF0OiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnZvaWNlTGluZUl0ZW0ge1xuICBpZDogc3RyaW5nXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmdcbiAgcXVhbnRpdHk6IG51bWJlclxuICB1bml0QW1vdW50OiBudW1iZXJcbiAgdG90YWxBbW91bnQ6IG51bWJlclxuICB0eXBlOiAnc3Vic2NyaXB0aW9uJyB8ICd1c2FnZScgfCAnb25lX3RpbWUnIHwgJ2Rpc2NvdW50J1xuICBtZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXltZW50UmV0cnlDb25maWcge1xuICBtYXhBdHRlbXB0czogbnVtYmVyXG4gIHJldHJ5SW50ZXJ2YWxzOiBudW1iZXJbXSAvLyBpbiBob3Vyc1xuICBlc2NhbGF0aW9uUnVsZXM6IHtcbiAgICBhdHRlbXB0TnVtYmVyOiBudW1iZXJcbiAgICBhY3Rpb246ICdlbWFpbCcgfCAnc3VzcGVuZCcgfCAnZG93bmdyYWRlJyB8ICdjYW5jZWwnXG4gICAgZGVsYXlIb3VyczogbnVtYmVyXG4gIH1bXVxufVxuXG5leHBvcnQgY2xhc3MgSW52b2ljZU1hbmFnZXIge1xuICBwcml2YXRlIHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KClcblxuICBwcml2YXRlIHJlYWRvbmx5IGRlZmF1bHRSZXRyeUNvbmZpZzogUGF5bWVudFJldHJ5Q29uZmlnID0ge1xuICAgIG1heEF0dGVtcHRzOiA0LFxuICAgIHJldHJ5SW50ZXJ2YWxzOiBbMjQsIDcyLCAxNjgsIDMzNl0sIC8vIDEgZGF5LCAzIGRheXMsIDEgd2VlaywgMiB3ZWVrc1xuICAgIGVzY2FsYXRpb25SdWxlczogW1xuICAgICAgeyBhdHRlbXB0TnVtYmVyOiAxLCBhY3Rpb246ICdlbWFpbCcsIGRlbGF5SG91cnM6IDAgfSxcbiAgICAgIHsgYXR0ZW1wdE51bWJlcjogMiwgYWN0aW9uOiAnZW1haWwnLCBkZWxheUhvdXJzOiAyNCB9LFxuICAgICAgeyBhdHRlbXB0TnVtYmVyOiAzLCBhY3Rpb246ICdzdXNwZW5kJywgZGVsYXlIb3VyczogNzIgfSxcbiAgICAgIHsgYXR0ZW1wdE51bWJlcjogNCwgYWN0aW9uOiAnY2FuY2VsJywgZGVsYXlIb3VyczogMTY4IH0sXG4gICAgXVxuICB9XG5cbiAgYXN5bmMgY3JlYXRlSW52b2ljZVJlY29yZChzdHJpcGVJbnZvaWNlOiBTdHJpcGUuSW52b2ljZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgdGhpcy5zdXBhYmFzZVxuXG4gICAgLy8gR2V0IG9yZ2FuaXphdGlvbiBmcm9tIGN1c3RvbWVyXG4gICAgY29uc3Qgb3JnYW5pemF0aW9uSWQgPSBhd2FpdCB0aGlzLmdldE9yZ2FuaXphdGlvbkZyb21DdXN0b21lcihzdHJpcGVJbnZvaWNlLmN1c3RvbWVyIGFzIHN0cmluZylcbiAgICBpZiAoIW9yZ2FuaXphdGlvbklkKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdDb3VsZCBub3QgZmluZCBvcmdhbml6YXRpb24gZm9yIGN1c3RvbWVyOicsIHN0cmlwZUludm9pY2UuY3VzdG9tZXIpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBsaW5lSXRlbXMgPSB0aGlzLmV4dHJhY3RMaW5lSXRlbXMoc3RyaXBlSW52b2ljZSlcblxuICAgIGNvbnN0IGludm9pY2VEYXRhOiBQYXJ0aWFsPEludm9pY2VEYXRhPiA9IHtcbiAgICAgIG9yZ2FuaXphdGlvbl9pZDogb3JnYW5pemF0aW9uSWQsXG4gICAgICBzdHJpcGVfaW52b2ljZV9pZDogc3RyaXBlSW52b2ljZS5pZCxcbiAgICAgIGN1c3RvbWVyX2lkOiBzdHJpcGVJbnZvaWNlLmN1c3RvbWVyIGFzIHN0cmluZyxcbiAgICAgIHN1YnNjcmlwdGlvbl9pZDogc3RyaXBlSW52b2ljZS5zdWJzY3JpcHRpb24gYXMgc3RyaW5nIHx8IHVuZGVmaW5lZCxcbiAgICAgIHN0YXR1czogc3RyaXBlSW52b2ljZS5zdGF0dXMgYXMgYW55LFxuICAgICAgYW1vdW50OiBzdHJpcGVJbnZvaWNlLmFtb3VudF9kdWUsXG4gICAgICBzdWJ0b3RhbDogc3RyaXBlSW52b2ljZS5zdWJ0b3RhbCxcbiAgICAgIHRheDogc3RyaXBlSW52b2ljZS50YXggfHwgMCxcbiAgICAgIGRpc2NvdW50OiBzdHJpcGVJbnZvaWNlLmRpc2NvdW50Py5hbW91bnQgfHwgMCxcbiAgICAgIGN1cnJlbmN5OiBzdHJpcGVJbnZvaWNlLmN1cnJlbmN5LFxuICAgICAgZHVlX2RhdGU6IHN0cmlwZUludm9pY2UuZHVlX2RhdGUgPyBuZXcgRGF0ZShzdHJpcGVJbnZvaWNlLmR1ZV9kYXRlICogMTAwMCkudG9JU09TdHJpbmcoKSA6IG51bGwsXG4gICAgICBwZXJpb2Rfc3RhcnQ6IHN0cmlwZUludm9pY2UucGVyaW9kX3N0YXJ0ID8gbmV3IERhdGUoc3RyaXBlSW52b2ljZS5wZXJpb2Rfc3RhcnQgKiAxMDAwKS50b0lTT1N0cmluZygpIDogbnVsbCxcbiAgICAgIHBlcmlvZF9lbmQ6IHN0cmlwZUludm9pY2UucGVyaW9kX2VuZCA/IG5ldyBEYXRlKHN0cmlwZUludm9pY2UucGVyaW9kX2VuZCAqIDEwMDApLnRvSVNPU3RyaW5nKCkgOiBudWxsLFxuICAgICAgaW52b2ljZV9udW1iZXI6IHN0cmlwZUludm9pY2UubnVtYmVyIHx8ICcnLFxuICAgICAgaW52b2ljZV91cmw6IHN0cmlwZUludm9pY2UuaG9zdGVkX2ludm9pY2VfdXJsLFxuICAgICAgcGRmX3VybDogc3RyaXBlSW52b2ljZS5pbnZvaWNlX3BkZixcbiAgICAgIGF0dGVtcHRfY291bnQ6IHN0cmlwZUludm9pY2UuYXR0ZW1wdF9jb3VudCB8fCAwLFxuICAgICAgbmV4dF9wYXltZW50X2F0dGVtcHQ6IHN0cmlwZUludm9pY2UubmV4dF9wYXltZW50X2F0dGVtcHQgP1xuICAgICAgICBuZXcgRGF0ZShzdHJpcGVJbnZvaWNlLm5leHRfcGF5bWVudF9hdHRlbXB0ICogMTAwMCkudG9JU09TdHJpbmcoKSA6IG51bGwsXG4gICAgICBsaW5lX2l0ZW1zOiBsaW5lSXRlbXMsXG4gICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZShzdHJpcGVJbnZvaWNlLmNyZWF0ZWQgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIH1cblxuICAgIGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnaW52b2ljZXMnKVxuICAgICAgLnVwc2VydChpbnZvaWNlRGF0YSlcbiAgICAgIC5vbignY29uZmxpY3QnLCAoZXhpc3RpbmcpID0+ICh7XG4gICAgICAgIC4uLmV4aXN0aW5nLFxuICAgICAgICAuLi5pbnZvaWNlRGF0YSxcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgfSkpXG4gIH1cblxuICBhc3luYyBmaW5hbGl6ZUludm9pY2Uoc3RyaXBlSW52b2ljZTogU3RyaXBlLkludm9pY2UpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IHRoaXMuc3VwYWJhc2VcblxuICAgIGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnaW52b2ljZXMnKVxuICAgICAgLnVwZGF0ZSh7XG4gICAgICAgIHN0YXR1czogJ29wZW4nLFxuICAgICAgICBpbnZvaWNlX251bWJlcjogc3RyaXBlSW52b2ljZS5udW1iZXIsXG4gICAgICAgIGludm9pY2VfdXJsOiBzdHJpcGVJbnZvaWNlLmhvc3RlZF9pbnZvaWNlX3VybCxcbiAgICAgICAgcGRmX3VybDogc3RyaXBlSW52b2ljZS5pbnZvaWNlX3BkZixcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgfSlcbiAgICAgIC5lcSgnc3RyaXBlX2ludm9pY2VfaWQnLCBzdHJpcGVJbnZvaWNlLmlkKVxuXG4gICAgLy8gU2VuZCBpbnZvaWNlIG5vdGlmaWNhdGlvblxuICAgIGF3YWl0IHRoaXMuc2VuZEludm9pY2VOb3RpZmljYXRpb24oc3RyaXBlSW52b2ljZS5pZCwgJ2ZpbmFsaXplZCcpXG4gIH1cblxuICBhc3luYyBtYXJrSW52b2ljZVBhaWQoc3RyaXBlSW52b2ljZTogU3RyaXBlLkludm9pY2UpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IHRoaXMuc3VwYWJhc2VcblxuICAgIGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnaW52b2ljZXMnKVxuICAgICAgLnVwZGF0ZSh7XG4gICAgICAgIHN0YXR1czogJ3BhaWQnLFxuICAgICAgICBwYWlkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIH0pXG4gICAgICAuZXEoJ3N0cmlwZV9pbnZvaWNlX2lkJywgc3RyaXBlSW52b2ljZS5pZClcblxuICAgIC8vIFJlc2V0IHBheW1lbnQgcmV0cnkgYXR0ZW1wdHNcbiAgICBhd2FpdCB0aGlzLnJlc2V0UGF5bWVudFJldHJpZXMoc3RyaXBlSW52b2ljZS5pZClcblxuICAgIC8vIFNlbmQgcGF5bWVudCBjb25maXJtYXRpb25cbiAgICBhd2FpdCB0aGlzLnNlbmRJbnZvaWNlTm90aWZpY2F0aW9uKHN0cmlwZUludm9pY2UuaWQsICdwYWlkJylcbiAgfVxuXG4gIGFzeW5jIG1hcmtQYXltZW50RmFpbGVkKHN0cmlwZUludm9pY2U6IFN0cmlwZS5JbnZvaWNlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCB0aGlzLnN1cGFiYXNlXG5cbiAgICBjb25zdCBhdHRlbXB0Q291bnQgPSAoc3RyaXBlSW52b2ljZS5hdHRlbXB0X2NvdW50IHx8IDApICsgMVxuICAgIGNvbnN0IG5leHRBdHRlbXB0ID0gdGhpcy5jYWxjdWxhdGVOZXh0UGF5bWVudEF0dGVtcHQoYXR0ZW1wdENvdW50KVxuXG4gICAgYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdpbnZvaWNlcycpXG4gICAgICAudXBkYXRlKHtcbiAgICAgICAgc3RhdHVzOiAnb3BlbicsXG4gICAgICAgIGF0dGVtcHRfY291bnQ6IGF0dGVtcHRDb3VudCxcbiAgICAgICAgbmV4dF9wYXltZW50X2F0dGVtcHQ6IG5leHRBdHRlbXB0LFxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9KVxuICAgICAgLmVxKCdzdHJpcGVfaW52b2ljZV9pZCcsIHN0cmlwZUludm9pY2UuaWQpXG5cbiAgICAvLyBIYW5kbGUgcGF5bWVudCByZXRyeSBsb2dpY1xuICAgIGF3YWl0IHRoaXMuaGFuZGxlUGF5bWVudFJldHJ5KHN0cmlwZUludm9pY2UuaWQsIGF0dGVtcHRDb3VudClcblxuICAgIC8vIFNlbmQgZmFpbHVyZSBub3RpZmljYXRpb25cbiAgICBhd2FpdCB0aGlzLnNlbmRJbnZvaWNlTm90aWZpY2F0aW9uKHN0cmlwZUludm9pY2UuaWQsICdwYXltZW50X2ZhaWxlZCcpXG4gIH1cblxuICBhc3luYyBnZW5lcmF0ZUN1c3RvbUludm9pY2UoXG4gICAgb3JnYW5pemF0aW9uSWQ6IHN0cmluZyxcbiAgICBsaW5lSXRlbXM6IE9taXQ8SW52b2ljZUxpbmVJdGVtLCAnaWQnPltdLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIGR1ZURhdGU/OiBEYXRlXG4gICAgICBkZXNjcmlwdGlvbj86IHN0cmluZ1xuICAgICAgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4gICAgfSA9IHt9XG4gICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCB0aGlzLnN1cGFiYXNlXG5cbiAgICAvLyBHZXQgb3JnYW5pemF0aW9uIGFuZCBjdXN0b21lciBpbmZvXG4gICAgY29uc3QgeyBkYXRhOiBvcmdhbml6YXRpb24gfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnb3JnYW5pemF0aW9ucycpXG4gICAgICAuc2VsZWN0KCdzdHJpcGVfY3VzdG9tZXJfaWQsIG5hbWUnKVxuICAgICAgLmVxKCdpZCcsIG9yZ2FuaXphdGlvbklkKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICBpZiAoIW9yZ2FuaXphdGlvbj8uc3RyaXBlX2N1c3RvbWVyX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ09yZ2FuaXphdGlvbiBkb2VzIG5vdCBoYXZlIGEgU3RyaXBlIGN1c3RvbWVyJylcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgU3RyaXBlIGludm9pY2VcbiAgICBjb25zdCBpbnZvaWNlID0gYXdhaXQgc3RyaXBlLmludm9pY2VzLmNyZWF0ZSh7XG4gICAgICBjdXN0b21lcjogb3JnYW5pemF0aW9uLnN0cmlwZV9jdXN0b21lcl9pZCxcbiAgICAgIGNvbGxlY3Rpb25fbWV0aG9kOiAnY2hhcmdlX2F1dG9tYXRpY2FsbHknLFxuICAgICAgZHVlX2RhdGU6IG9wdGlvbnMuZHVlRGF0ZSA/IE1hdGguZmxvb3Iob3B0aW9ucy5kdWVEYXRlLmdldFRpbWUoKSAvIDEwMDApIDogdW5kZWZpbmVkLFxuICAgICAgZGVzY3JpcHRpb246IG9wdGlvbnMuZGVzY3JpcHRpb24sXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICBvcmdhbml6YXRpb25JZCxcbiAgICAgICAgdHlwZTogJ2N1c3RvbScsXG4gICAgICAgIC4uLm9wdGlvbnMubWV0YWRhdGEsXG4gICAgICB9LFxuICAgIH0pXG5cbiAgICAvLyBBZGQgbGluZSBpdGVtc1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBsaW5lSXRlbXMpIHtcbiAgICAgIGF3YWl0IHN0cmlwZS5pbnZvaWNlSXRlbXMuY3JlYXRlKHtcbiAgICAgICAgY3VzdG9tZXI6IG9yZ2FuaXphdGlvbi5zdHJpcGVfY3VzdG9tZXJfaWQsXG4gICAgICAgIGludm9pY2U6IGludm9pY2UuaWQsXG4gICAgICAgIGFtb3VudDogaXRlbS50b3RhbEFtb3VudCxcbiAgICAgICAgY3VycmVuY3k6ICd1c2QnLFxuICAgICAgICBkZXNjcmlwdGlvbjogaXRlbS5kZXNjcmlwdGlvbixcbiAgICAgICAgcXVhbnRpdHk6IGl0ZW0ucXVhbnRpdHksXG4gICAgICAgIG1ldGFkYXRhOiBpdGVtLm1ldGFkYXRhIHx8IHt9LFxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBGaW5hbGl6ZSB0aGUgaW52b2ljZVxuICAgIGF3YWl0IHN0cmlwZS5pbnZvaWNlcy5maW5hbGl6ZUludm9pY2UoaW52b2ljZS5pZClcblxuICAgIC8vIENyZWF0ZSBsb2NhbCByZWNvcmRcbiAgICBhd2FpdCB0aGlzLmNyZWF0ZUludm9pY2VSZWNvcmQoYXdhaXQgc3RyaXBlLmludm9pY2VzLnJldHJpZXZlKGludm9pY2UuaWQpKVxuXG4gICAgcmV0dXJuIGludm9pY2UuaWRcbiAgfVxuXG4gIGFzeW5jIGdldEludm9pY2VIaXN0b3J5KFxuICAgIG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsXG4gICAgb3B0aW9uczoge1xuICAgICAgbGltaXQ/OiBudW1iZXJcbiAgICAgIG9mZnNldD86IG51bWJlclxuICAgICAgc3RhdHVzPzogc3RyaW5nXG4gICAgICBzdGFydERhdGU/OiBEYXRlXG4gICAgICBlbmREYXRlPzogRGF0ZVxuICAgIH0gPSB7fVxuICApOiBQcm9taXNlPHsgaW52b2ljZXM6IEludm9pY2VEYXRhW107IHRvdGFsOiBudW1iZXIgfT4ge1xuICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgdGhpcy5zdXBhYmFzZVxuICAgIGxldCBxdWVyeSA9IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnaW52b2ljZXMnKVxuICAgICAgLnNlbGVjdCgnKicsIHsgY291bnQ6ICdleGFjdCcgfSlcbiAgICAgIC5lcSgnb3JnYW5pemF0aW9uX2lkJywgb3JnYW5pemF0aW9uSWQpXG4gICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcblxuICAgIGlmIChvcHRpb25zLnN0YXR1cykge1xuICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnc3RhdHVzJywgb3B0aW9ucy5zdGF0dXMpXG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuc3RhcnREYXRlKSB7XG4gICAgICBxdWVyeSA9IHF1ZXJ5Lmd0ZSgnY3JlYXRlZF9hdCcsIG9wdGlvbnMuc3RhcnREYXRlLnRvSVNPU3RyaW5nKCkpXG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuZW5kRGF0ZSkge1xuICAgICAgcXVlcnkgPSBxdWVyeS5sdGUoJ2NyZWF0ZWRfYXQnLCBvcHRpb25zLmVuZERhdGUudG9JU09TdHJpbmcoKSlcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5saW1pdCkge1xuICAgICAgcXVlcnkgPSBxdWVyeS5saW1pdChvcHRpb25zLmxpbWl0KVxuICAgIH1cblxuICAgIGlmIChvcHRpb25zLm9mZnNldCkge1xuICAgICAgcXVlcnkgPSBxdWVyeS5yYW5nZShvcHRpb25zLm9mZnNldCwgb3B0aW9ucy5vZmZzZXQgKyAob3B0aW9ucy5saW1pdCB8fCA1MCkgLSAxKVxuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YSwgY291bnQsIGVycm9yIH0gPSBhd2FpdCBxdWVyeVxuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBpbnZvaWNlczogZGF0YSB8fCBbXSxcbiAgICAgIHRvdGFsOiBjb3VudCB8fCAwLFxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHJldHJ5RmFpbGVkUGF5bWVudChpbnZvaWNlSWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IHRoaXMuc3VwYWJhc2VcblxuICAgICAgLy8gR2V0IGludm9pY2UgZGV0YWlsc1xuICAgICAgY29uc3QgeyBkYXRhOiBpbnZvaWNlIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnaW52b2ljZXMnKVxuICAgICAgICAuc2VsZWN0KCdzdHJpcGVfaW52b2ljZV9pZCwgYXR0ZW1wdF9jb3VudCcpXG4gICAgICAgIC5lcSgnaWQnLCBpbnZvaWNlSWQpXG4gICAgICAgIC5zaW5nbGUoKVxuXG4gICAgICBpZiAoIWludm9pY2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZvaWNlIG5vdCBmb3VuZCcpXG4gICAgICB9XG5cbiAgICAgIC8vIEF0dGVtcHQgdG8gcGF5IHRoZSBpbnZvaWNlXG4gICAgICBjb25zdCBzdHJpcGVJbnZvaWNlID0gYXdhaXQgc3RyaXBlLmludm9pY2VzLnBheShpbnZvaWNlLnN0cmlwZV9pbnZvaWNlX2lkLCB7XG4gICAgICAgIHBhaWRfb3V0X29mX2JhbmQ6IGZhbHNlLFxuICAgICAgfSlcblxuICAgICAgaWYgKHN0cmlwZUludm9pY2Uuc3RhdHVzID09PSAncGFpZCcpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5tYXJrSW52b2ljZVBhaWQoc3RyaXBlSW52b2ljZSlcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1BheW1lbnQgcmV0cnkgZmFpbGVkOicsIGVycm9yKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdm9pZEludm9pY2UoaW52b2ljZUlkOiBzdHJpbmcsIHJlYXNvbj86IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgdGhpcy5zdXBhYmFzZVxuXG4gICAgLy8gR2V0IFN0cmlwZSBpbnZvaWNlIElEXG4gICAgY29uc3QgeyBkYXRhOiBpbnZvaWNlIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2ludm9pY2VzJylcbiAgICAgIC5zZWxlY3QoJ3N0cmlwZV9pbnZvaWNlX2lkJylcbiAgICAgIC5lcSgnaWQnLCBpbnZvaWNlSWQpXG4gICAgICAuc2luZ2xlKClcblxuICAgIGlmICghaW52b2ljZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZvaWNlIG5vdCBmb3VuZCcpXG4gICAgfVxuXG4gICAgLy8gVm9pZCBpbiBTdHJpcGVcbiAgICBhd2FpdCBzdHJpcGUuaW52b2ljZXMudm9pZEludm9pY2UoaW52b2ljZS5zdHJpcGVfaW52b2ljZV9pZClcblxuICAgIC8vIFVwZGF0ZSBsb2NhbCByZWNvcmRcbiAgICBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2ludm9pY2VzJylcbiAgICAgIC51cGRhdGUoe1xuICAgICAgICBzdGF0dXM6ICd2b2lkJyxcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgfSlcbiAgICAgIC5lcSgnaWQnLCBpbnZvaWNlSWQpXG4gIH1cblxuICBhc3luYyBnZXRJbnZvaWNlQW5hbHl0aWNzKFxuICAgIG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsXG4gICAgcGVyaW9kOiB7IHN0YXJ0OiBEYXRlOyBlbmQ6IERhdGUgfVxuICApOiBQcm9taXNlPHtcbiAgICB0b3RhbFJldmVudWU6IG51bWJlclxuICAgIHBhaWRJbnZvaWNlczogbnVtYmVyXG4gICAgZmFpbGVkUGF5bWVudHM6IG51bWJlclxuICAgIGF2ZXJhZ2VJbnZvaWNlQW1vdW50OiBudW1iZXJcbiAgICBwYXltZW50U3VjY2Vzc1JhdGU6IG51bWJlclxuICB9PiB7XG4gICAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCB0aGlzLnN1cGFiYXNlXG5cbiAgICBjb25zdCB7IGRhdGE6IGludm9pY2VzIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2ludm9pY2VzJylcbiAgICAgIC5zZWxlY3QoJ2Ftb3VudCwgc3RhdHVzJylcbiAgICAgIC5lcSgnb3JnYW5pemF0aW9uX2lkJywgb3JnYW5pemF0aW9uSWQpXG4gICAgICAuZ3RlKCdjcmVhdGVkX2F0JywgcGVyaW9kLnN0YXJ0LnRvSVNPU3RyaW5nKCkpXG4gICAgICAubHRlKCdjcmVhdGVkX2F0JywgcGVyaW9kLmVuZC50b0lTT1N0cmluZygpKVxuXG4gICAgaWYgKCFpbnZvaWNlcz8ubGVuZ3RoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3RhbFJldmVudWU6IDAsXG4gICAgICAgIHBhaWRJbnZvaWNlczogMCxcbiAgICAgICAgZmFpbGVkUGF5bWVudHM6IDAsXG4gICAgICAgIGF2ZXJhZ2VJbnZvaWNlQW1vdW50OiAwLFxuICAgICAgICBwYXltZW50U3VjY2Vzc1JhdGU6IDAsXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcGFpZEludm9pY2VzID0gaW52b2ljZXMuZmlsdGVyKGkgPT4gaS5zdGF0dXMgPT09ICdwYWlkJylcbiAgICBjb25zdCBmYWlsZWRQYXltZW50cyA9IGludm9pY2VzLmZpbHRlcihpID0+IGkuc3RhdHVzID09PSAndW5jb2xsZWN0aWJsZScgfHxcbiAgICAgIChpLnN0YXR1cyA9PT0gJ29wZW4nICYmIGkuYXR0ZW1wdF9jb3VudCA+PSB0aGlzLmRlZmF1bHRSZXRyeUNvbmZpZy5tYXhBdHRlbXB0cykpXG5cbiAgICBjb25zdCB0b3RhbFJldmVudWUgPSBwYWlkSW52b2ljZXMucmVkdWNlKChzdW0sIGludikgPT4gc3VtICsgaW52LmFtb3VudCwgMClcbiAgICBjb25zdCBhdmVyYWdlSW52b2ljZUFtb3VudCA9IGludm9pY2VzLmxlbmd0aCA+IDAgP1xuICAgICAgaW52b2ljZXMucmVkdWNlKChzdW0sIGludikgPT4gc3VtICsgaW52LmFtb3VudCwgMCkgLyBpbnZvaWNlcy5sZW5ndGggOiAwXG5cbiAgICBjb25zdCBwYXltZW50U3VjY2Vzc1JhdGUgPSBpbnZvaWNlcy5sZW5ndGggPiAwID9cbiAgICAgIChwYWlkSW52b2ljZXMubGVuZ3RoIC8gaW52b2ljZXMubGVuZ3RoKSAqIDEwMCA6IDBcblxuICAgIHJldHVybiB7XG4gICAgICB0b3RhbFJldmVudWUsXG4gICAgICBwYWlkSW52b2ljZXM6IHBhaWRJbnZvaWNlcy5sZW5ndGgsXG4gICAgICBmYWlsZWRQYXltZW50czogZmFpbGVkUGF5bWVudHMubGVuZ3RoLFxuICAgICAgYXZlcmFnZUludm9pY2VBbW91bnQsXG4gICAgICBwYXltZW50U3VjY2Vzc1JhdGUsXG4gICAgfVxuICB9XG5cbiAgLy8gUHJpdmF0ZSBoZWxwZXIgbWV0aG9kc1xuICBwcml2YXRlIGFzeW5jIGdldE9yZ2FuaXphdGlvbkZyb21DdXN0b21lcihjdXN0b21lcklkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcbiAgICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IHRoaXMuc3VwYWJhc2VcbiAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnb3JnYW5pemF0aW9ucycpXG4gICAgICAuc2VsZWN0KCdpZCcpXG4gICAgICAuZXEoJ3N0cmlwZV9jdXN0b21lcl9pZCcsIGN1c3RvbWVySWQpXG4gICAgICAuc2luZ2xlKClcblxuICAgIHJldHVybiBkYXRhPy5pZCB8fCBudWxsXG4gIH1cblxuICBwcml2YXRlIGV4dHJhY3RMaW5lSXRlbXMoc3RyaXBlSW52b2ljZTogU3RyaXBlLkludm9pY2UpOiBJbnZvaWNlTGluZUl0ZW1bXSB7XG4gICAgcmV0dXJuIHN0cmlwZUludm9pY2UubGluZXMuZGF0YS5tYXAoKGxpbmUsIGluZGV4KSA9PiAoe1xuICAgICAgaWQ6IGxpbmUuaWQgfHwgYGxpbmVfJHtpbmRleH1gLFxuICAgICAgZGVzY3JpcHRpb246IGxpbmUuZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICBxdWFudGl0eTogbGluZS5xdWFudGl0eSB8fCAxLFxuICAgICAgdW5pdEFtb3VudDogbGluZS5hbW91bnQsXG4gICAgICB0b3RhbEFtb3VudDogbGluZS5hbW91bnQgKiAobGluZS5xdWFudGl0eSB8fCAxKSxcbiAgICAgIHR5cGU6IHRoaXMuZGV0ZXJtaW5lTGluZUl0ZW1UeXBlKGxpbmUpLFxuICAgICAgbWV0YWRhdGE6IGxpbmUubWV0YWRhdGEgfHwge30sXG4gICAgfSkpXG4gIH1cblxuICBwcml2YXRlIGRldGVybWluZUxpbmVJdGVtVHlwZShsaW5lOiBTdHJpcGUuSW52b2ljZUxpbmVJdGVtKTogSW52b2ljZUxpbmVJdGVtWyd0eXBlJ10ge1xuICAgIGlmIChsaW5lLnR5cGUgPT09ICdzdWJzY3JpcHRpb24nKSByZXR1cm4gJ3N1YnNjcmlwdGlvbidcbiAgICBpZiAobGluZS50eXBlID09PSAnaW52b2ljZWl0ZW0nKSByZXR1cm4gJ29uZV90aW1lJ1xuICAgIGlmIChsaW5lLmFtb3VudCA8IDApIHJldHVybiAnZGlzY291bnQnXG4gICAgcmV0dXJuICd1c2FnZSdcbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlTmV4dFBheW1lbnRBdHRlbXB0KGF0dGVtcHRDb3VudDogbnVtYmVyKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgaWYgKGF0dGVtcHRDb3VudCA+PSB0aGlzLmRlZmF1bHRSZXRyeUNvbmZpZy5tYXhBdHRlbXB0cykge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBjb25zdCBob3Vyc1RvQWRkID0gdGhpcy5kZWZhdWx0UmV0cnlDb25maWcucmV0cnlJbnRlcnZhbHNbYXR0ZW1wdENvdW50IC0gMV0gfHwgMjRcbiAgICBjb25zdCBuZXh0QXR0ZW1wdCA9IG5ldyBEYXRlKClcbiAgICBuZXh0QXR0ZW1wdC5zZXRIb3VycyhuZXh0QXR0ZW1wdC5nZXRIb3VycygpICsgaG91cnNUb0FkZClcblxuICAgIHJldHVybiBuZXh0QXR0ZW1wdC50b0lTT1N0cmluZygpXG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGhhbmRsZVBheW1lbnRSZXRyeShpbnZvaWNlSWQ6IHN0cmluZywgYXR0ZW1wdENvdW50OiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBlc2NhbGF0aW9uUnVsZSA9IHRoaXMuZGVmYXVsdFJldHJ5Q29uZmlnLmVzY2FsYXRpb25SdWxlc1xuICAgICAgLmZpbmQocnVsZSA9PiBydWxlLmF0dGVtcHROdW1iZXIgPT09IGF0dGVtcHRDb3VudClcblxuICAgIGlmICghZXNjYWxhdGlvblJ1bGUpIHJldHVyblxuXG4gICAgc3dpdGNoIChlc2NhbGF0aW9uUnVsZS5hY3Rpb24pIHtcbiAgICAgIGNhc2UgJ2VtYWlsJzpcbiAgICAgICAgYXdhaXQgdGhpcy5zZW5kUGF5bWVudFJldHJ5Tm90aWZpY2F0aW9uKGludm9pY2VJZCwgYXR0ZW1wdENvdW50KVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnc3VzcGVuZCc6XG4gICAgICAgIGF3YWl0IHRoaXMuc3VzcGVuZE9yZ2FuaXphdGlvbkFjY2VzcyhpbnZvaWNlSWQpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdkb3duZ3JhZGUnOlxuICAgICAgICBhd2FpdCB0aGlzLmRvd25ncmFkZU9yZ2FuaXphdGlvblBsYW4oaW52b2ljZUlkKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnY2FuY2VsJzpcbiAgICAgICAgYXdhaXQgdGhpcy5jYW5jZWxPcmdhbml6YXRpb25TdWJzY3JpcHRpb24oaW52b2ljZUlkKVxuICAgICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcmVzZXRQYXltZW50UmV0cmllcyhzdHJpcGVJbnZvaWNlSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgdGhpcy5zdXBhYmFzZVxuXG4gICAgYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdpbnZvaWNlcycpXG4gICAgICAudXBkYXRlKHtcbiAgICAgICAgYXR0ZW1wdF9jb3VudDogMCxcbiAgICAgICAgbmV4dF9wYXltZW50X2F0dGVtcHQ6IG51bGwsXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIH0pXG4gICAgICAuZXEoJ3N0cmlwZV9pbnZvaWNlX2lkJywgc3RyaXBlSW52b2ljZUlkKVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzZW5kSW52b2ljZU5vdGlmaWNhdGlvbihcbiAgICBpbnZvaWNlSWQ6IHN0cmluZyxcbiAgICB0eXBlOiAnZmluYWxpemVkJyB8ICdwYWlkJyB8ICdwYXltZW50X2ZhaWxlZCdcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gSW1wbGVtZW50YXRpb24gZm9yIHNlbmRpbmcgaW52b2ljZSBub3RpZmljYXRpb25zXG4gICAgY29uc29sZS5sb2coYFNlbmRpbmcgJHt0eXBlfSBub3RpZmljYXRpb24gZm9yIGludm9pY2UgJHtpbnZvaWNlSWR9YClcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgc2VuZFBheW1lbnRSZXRyeU5vdGlmaWNhdGlvbihpbnZvaWNlSWQ6IHN0cmluZywgYXR0ZW1wdENvdW50OiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zb2xlLmxvZyhgU2VuZGluZyBwYXltZW50IHJldHJ5IG5vdGlmaWNhdGlvbiBmb3IgaW52b2ljZSAke2ludm9pY2VJZH0sIGF0dGVtcHQgJHthdHRlbXB0Q291bnR9YClcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgc3VzcGVuZE9yZ2FuaXphdGlvbkFjY2VzcyhpbnZvaWNlSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnNvbGUubG9nKGBTdXNwZW5kaW5nIG9yZ2FuaXphdGlvbiBhY2Nlc3MgZm9yIGludm9pY2UgJHtpbnZvaWNlSWR9YClcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZG93bmdyYWRlT3JnYW5pemF0aW9uUGxhbihpbnZvaWNlSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnNvbGUubG9nKGBEb3duZ3JhZGluZyBvcmdhbml6YXRpb24gcGxhbiBmb3IgaW52b2ljZSAke2ludm9pY2VJZH1gKVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBjYW5jZWxPcmdhbml6YXRpb25TdWJzY3JpcHRpb24oaW52b2ljZUlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zb2xlLmxvZyhgQ2FuY2VsbGluZyBvcmdhbml6YXRpb24gc3Vic2NyaXB0aW9uIGZvciBpbnZvaWNlICR7aW52b2ljZUlkfWApXG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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