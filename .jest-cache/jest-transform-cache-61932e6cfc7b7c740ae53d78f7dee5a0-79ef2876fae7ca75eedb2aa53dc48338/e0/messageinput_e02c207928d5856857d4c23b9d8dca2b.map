{"version":3,"names":["cov_2pcp1f2236","actualCoverage","s","MessageInput","onSendMessage","f","message","setMessage","_react","useState","isLoading","setIsLoading","showTemplates","setShowTemplates","textareaRef","useRef","handleSubmit","e","preventDefault","b","trim","current","style","height","error","console","handleKeyDown","key","shiftKey","handleTextareaChange","target","value","textarea","Math","min","scrollHeight","quickReplies","_jsxruntime","jsxs","className","jsx","map","reply","index","onClick","focus","onSubmit","type","title","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","ref","onChange","onKeyDown","placeholder","disabled","rows","minHeight","maxHeight"],"sources":["C:\\Ai Projecten\\ADSapp\\src\\components\\inbox\\message-input.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useRef } from 'react'\n\ninterface MessageInputProps {\n  onSendMessage: (content: string, type?: string) => Promise<void>\n}\n\nexport function MessageInput({ onSendMessage }: MessageInputProps) {\n  const [message, setMessage] = useState('')\n  const [isLoading, setIsLoading] = useState(false)\n  const [showTemplates, setShowTemplates] = useState(false)\n  const textareaRef = useRef<HTMLTextAreaElement>(null)\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n\n    if (!message.trim() || isLoading) return\n\n    setIsLoading(true)\n    try {\n      await onSendMessage(message.trim())\n      setMessage('')\n      // Reset textarea height\n      if (textareaRef.current) {\n        textareaRef.current.style.height = 'auto'\n      }\n    } catch (error) {\n      console.error('Failed to send message:', error)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault()\n      handleSubmit(e)\n    }\n  }\n\n  const handleTextareaChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setMessage(e.target.value)\n\n    // Auto-resize textarea\n    const textarea = e.target\n    textarea.style.height = 'auto'\n    textarea.style.height = Math.min(textarea.scrollHeight, 120) + 'px'\n  }\n\n  const quickReplies = [\n    'Thank you for contacting us!',\n    'How can I help you today?',\n    'I\\'ll look into this for you.',\n    'Is there anything else I can help with?',\n  ]\n\n  return (\n    <div className=\"border-t border-gray-200 bg-white\">\n      {/* Quick Replies */}\n      {showTemplates && (\n        <div className=\"px-6 py-2 border-b border-gray-100\">\n          <div className=\"flex flex-wrap gap-2\">\n            {quickReplies.map((reply, index) => (\n              <button\n                key={index}\n                onClick={() => {\n                  setMessage(reply)\n                  setShowTemplates(false)\n                  textareaRef.current?.focus()\n                }}\n                className=\"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-full transition-colors\"\n              >\n                {reply}\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Message Input */}\n      <form onSubmit={handleSubmit} className=\"px-6 py-4\">\n        <div className=\"flex items-end space-x-3\">\n          {/* Attachment Button */}\n          <button\n            type=\"button\"\n            className=\"flex-shrink-0 p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100\"\n            title=\"Attach file\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\" />\n            </svg>\n          </button>\n\n          {/* Templates Button */}\n          <button\n            type=\"button\"\n            onClick={() => setShowTemplates(!showTemplates)}\n            className={`flex-shrink-0 p-2 rounded-full hover:bg-gray-100 ${\n              showTemplates ? 'text-green-600 bg-green-50' : 'text-gray-400 hover:text-gray-600'\n            }`}\n            title=\"Quick replies\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z\" />\n            </svg>\n          </button>\n\n          {/* Text Input */}\n          <div className=\"flex-1 relative\">\n            <textarea\n              ref={textareaRef}\n              value={message}\n              onChange={handleTextareaChange}\n              onKeyDown={handleKeyDown}\n              placeholder=\"Type your message...\"\n              disabled={isLoading}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent disabled:opacity-50\"\n              rows={1}\n              style={{ minHeight: '40px', maxHeight: '120px' }}\n            />\n          </div>\n\n          {/* Send Button */}\n          <button\n            type=\"submit\"\n            disabled={!message.trim() || isLoading}\n            className=\"flex-shrink-0 p-2 bg-green-600 text-white rounded-full hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n            title=\"Send message (Enter)\"\n          >\n            {isLoading ? (\n              <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n            ) : (\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\" />\n              </svg>\n            )}\n          </button>\n        </div>\n\n        {/* Character count or typing indicator */}\n        <div className=\"mt-2 flex items-center justify-between text-xs text-gray-500\">\n          <div>\n            {/* Typing indicator would go here */}\n          </div>\n          <div>\n            Press Enter to send, Shift+Enter for new line\n          </div>\n        </div>\n      </form>\n    </div>\n  )\n}"],"mappings":"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","ignoreList":[]}