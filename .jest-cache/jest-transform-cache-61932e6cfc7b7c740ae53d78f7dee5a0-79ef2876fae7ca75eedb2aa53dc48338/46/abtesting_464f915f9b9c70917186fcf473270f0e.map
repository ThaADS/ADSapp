{"version":3,"names":["ABTestingFramework","cov_1ioq4pqu0x","f","s","ABTestingUtils","constructor","supabaseClient","activeTests","Map","supabase","createTest","testConfig","createdBy","validation","validateTestConfiguration","valid","b","test","error","testId","_uuid","v4","now","Date","toISOString","variants","map","variant","id","session_count","conversion_count","conversion_rate","metrics_data","normalizeTrafficSplits","name","description","business_scenario","status","start_date","traffic_allocation","metrics","confidence_level","minimum_sample_size","created_by","created_at","updated_at","data","from","insert","select","single","console","Error","message","startTest","getTest","success","readinessCheck","checkTestReadiness","ready","update","eq","set","assignToTest","sessionId","businessScenario","userAgent","ipAddress","getActiveTestsForScenario","length","assignment","selectedTest","selectTestForSession","assignedVariant","assignToVariant","session_id","test_id","variant_id","assigned_at","user_agent","ip_address","conversion_completed","session_metrics","storeAssignment","incrementVariantSessions","trackConversion","conversionValue","additionalMetrics","getAssignmentBySession","conversion_value","incrementVariantConversions","checkAutoStopConditions","calculateResults","assignments","getTestAssignments","totalSessions","totalConversions","filter","a","overallConversionRate","variantResults","variantAssignments","variantSessions","variantConversions","conversionRate","confidenceInterval","calculateConfidenceInterval","controlVariant","find","v","is_control","controlConversions","controlSessions","controlRate","improvementOverControl","significance","calculateStatisticalSignificance","metricsPerformance","metric","metricValue","calculateMetricValue","push","variant_name","sessions","conversions","confidence_interval","statistical_significance","p_value","improvement_over_control","metrics_performance","overallSignificance","calculateOverallSignificance","recommendations","generateRecommendations","confidenceIntervals","calculateAllConfidenceIntervals","effectSize","calculateEffectSize","results","total_sessions","total_conversions","overall_conversion_rate","variant_results","confidence_intervals","effect_size","generated_at","storeTestResults","performBayesianAnalysis","controlAssignments","treatmentVariants","treatmentVariant","treatmentAssignments","treatmentConversions","treatmentSessions","controlPosterior","alpha","beta","treatmentPosterior","probabilityOfBeating","monteCarloSimulation","expectedLoss","calculateExpectedLoss","credibleInterval","calculateCredibleInterval","recommendation","generateBayesianRecommendation","probability_of_beating_control","expected_loss","posterior_distribution","mean","variance","Math","pow","credible_interval","stopTest","reason","declareWinner","winnerVariantId","significantVariants","reduce","winner","current","end_date","winner_variant_id","delete","logTestEvent","undefined","getTestConfiguration","configuration","config","controlVariants","totalTrafficSplit","sum","traffic_split","abs","total","forEach","hasPrimaryMetric","some","m","primary","scenario","tests","random","cumulative","hash","hashString","str","i","char","charCodeAt","variantId","newConversionCount","has","get","confidenceLevel","lower","upper","p","z","getZScore","standardError","sqrt","margin","max","min","zScores","is_significant","power","sample_size_recommendation","p1","p2","pooledP","zScore","pValue","normalCDF","calculateCohensH","calculatePower","calculateSampleSizeRecommendation","a1","a2","a3","a4","a5","sign","t","y","exp","asin","sampleSize","ncp","zAlpha","zBeta","ceil","type","time_spent","engagement_score","nonControlVariants","toLowerCase","includes","bestVariant","best","lowPerformingVariants","intervals","lower_bound","upper_bound","bestTreatment","upsert","results_data","simulations","treatmentWins","controlSample","betaRandom","treatmentSample","x","gammaRandom","shape","log","controlMean","treatmentMean","posterior","probability","std","minimumSampleSize","currentSampleSize","startDate","daysSinceStart","getTime","bayesianResult","eventType","event_type","event_data","timestamp","calculateSampleSize","baselineConversionRate","minimumDetectableEffect","calculateTestDuration","requiredSampleSize","trafficPerDay","trafficAllocation","dailyTestTraffic","formatTestResults","summary","toFixed"],"sources":["C:\\Ai Projecten\\ADSapp\\src\\lib\\ab-testing.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\nimport { v4 as uuidv4 } from 'uuid'\nimport { BusinessScenario } from '@/types/demo'\nimport { Database } from '@/types/database'\n\ntype SupabaseClient = ReturnType<typeof createClient<Database>>\n\n// A/B Testing Types\nexport interface ABTest {\n  id: string\n  name: string\n  description: string\n  business_scenario: BusinessScenario\n  status: ABTestStatus\n  start_date: string\n  end_date?: string\n  traffic_allocation: number // Percentage of traffic to include in test\n  variants: ABTestVariant[]\n  metrics: ABTestMetric[]\n  results?: ABTestResults\n  statistical_significance?: StatisticalSignificance\n  winner_variant_id?: string\n  confidence_level: number\n  minimum_sample_size: number\n  created_by: string\n  created_at: string\n  updated_at: string\n}\n\nexport interface ABTestVariant {\n  id: string\n  name: string\n  description: string\n  traffic_split: number // Percentage of test traffic\n  configuration: Record<string, any>\n  is_control: boolean\n  session_count: number\n  conversion_count: number\n  conversion_rate: number\n  metrics_data: Record<string, number>\n}\n\nexport interface ABTestMetric {\n  name: string\n  type: 'conversion' | 'engagement' | 'revenue' | 'time_spent' | 'custom'\n  goal: 'increase' | 'decrease'\n  primary: boolean\n  weight: number\n  baseline_value?: number\n  target_improvement?: number\n}\n\nexport interface ABTestResults {\n  test_id: string\n  total_sessions: number\n  total_conversions: number\n  overall_conversion_rate: number\n  variant_results: VariantResult[]\n  statistical_significance: StatisticalSignificance\n  recommendations: string[]\n  confidence_intervals: ConfidenceInterval[]\n  effect_size: number\n  generated_at: string\n}\n\nexport interface VariantResult {\n  variant_id: string\n  variant_name: string\n  sessions: number\n  conversions: number\n  conversion_rate: number\n  confidence_interval: { lower: number; upper: number }\n  statistical_significance: number\n  improvement_over_control: number\n  metrics_performance: Record<string, number>\n}\n\nexport interface StatisticalSignificance {\n  p_value: number\n  confidence_level: number\n  is_significant: boolean\n  power: number\n  effect_size: number\n  sample_size_recommendation: number\n  time_to_significance_days?: number\n}\n\nexport interface ConfidenceInterval {\n  metric: string\n  variant_id: string\n  lower_bound: number\n  upper_bound: number\n  confidence_level: number\n}\n\nexport interface ABTestAssignment {\n  session_id: string\n  test_id: string\n  variant_id: string\n  assigned_at: string\n  user_agent?: string\n  ip_address?: string\n  conversion_completed: boolean\n  conversion_value?: number\n  session_metrics: Record<string, number>\n}\n\nexport interface BayesianTestResult {\n  probability_of_beating_control: number\n  expected_loss: number\n  posterior_distribution: PosteriorDistribution\n  credible_interval: { lower: number; upper: number }\n  recommendation: 'deploy' | 'continue_testing' | 'stop_test'\n}\n\nexport interface PosteriorDistribution {\n  alpha: number\n  beta: number\n  mean: number\n  variance: number\n}\n\nexport type ABTestStatus = 'draft' | 'running' | 'paused' | 'completed' | 'cancelled'\n\nexport interface TestConfiguration {\n  homepage_layout?: 'v1' | 'v2' | 'v3'\n  cta_button_color?: string\n  cta_button_text?: string\n  signup_form_fields?: string[]\n  onboarding_flow?: 'standard' | 'interactive' | 'minimal'\n  pricing_display?: 'table' | 'cards' | 'list'\n  demo_scenarios?: BusinessScenario[]\n  feature_highlights?: string[]\n  testimonial_placement?: 'top' | 'bottom' | 'sidebar' | 'none'\n  trial_length_days?: number\n}\n\n/**\n * A/B Testing Framework for Demo Scenarios\n * Provides comprehensive testing capabilities with statistical analysis\n */\nexport class ABTestingFramework {\n  private supabase: SupabaseClient\n  private activeTests: Map<string, ABTest> = new Map()\n\n  constructor(supabaseClient: SupabaseClient) {\n    this.supabase = supabaseClient\n  }\n\n  /**\n   * Create a new A/B test\n   */\n  async createTest(\n    testConfig: {\n      name: string\n      description: string\n      business_scenario: BusinessScenario\n      variants: Omit<ABTestVariant, 'id' | 'session_count' | 'conversion_count' | 'conversion_rate' | 'metrics_data'>[]\n      metrics: ABTestMetric[]\n      traffic_allocation: number\n      confidence_level: number\n      minimum_sample_size: number\n      estimated_duration_days?: number\n    },\n    createdBy: string\n  ): Promise<{ test: ABTest; error?: string }> {\n    try {\n      // Validate test configuration\n      const validation = this.validateTestConfiguration(testConfig)\n      if (!validation.valid) {\n        return { test: null as any, error: validation.error }\n      }\n\n      const testId = uuidv4()\n      const now = new Date().toISOString()\n\n      // Prepare variants with IDs\n      const variants: ABTestVariant[] = testConfig.variants.map(variant => ({\n        ...variant,\n        id: uuidv4(),\n        session_count: 0,\n        conversion_count: 0,\n        conversion_rate: 0,\n        metrics_data: {}\n      }))\n\n      // Ensure traffic splits add up to 100%\n      this.normalizeTrafficSplits(variants)\n\n      const test: ABTest = {\n        id: testId,\n        name: testConfig.name,\n        description: testConfig.description,\n        business_scenario: testConfig.business_scenario,\n        status: 'draft',\n        start_date: now,\n        traffic_allocation: testConfig.traffic_allocation,\n        variants,\n        metrics: testConfig.metrics,\n        confidence_level: testConfig.confidence_level,\n        minimum_sample_size: testConfig.minimum_sample_size,\n        created_by: createdBy,\n        created_at: now,\n        updated_at: now\n      }\n\n      // Store test in database\n      const { data, error } = await this.supabase\n        .from('ab_tests')\n        .insert({\n          id: test.id,\n          name: test.name,\n          description: test.description,\n          business_scenario: test.business_scenario,\n          status: test.status,\n          start_date: test.start_date,\n          traffic_allocation: test.traffic_allocation,\n          variants: test.variants,\n          metrics: test.metrics,\n          confidence_level: test.confidence_level,\n          minimum_sample_size: test.minimum_sample_size,\n          created_by: test.created_by\n        })\n        .select()\n        .single()\n\n      if (error) throw error\n\n      return { test }\n    } catch (error) {\n      console.error('Error creating A/B test:', error)\n      return {\n        test: null as any,\n        error: error instanceof Error ? error.message : 'Failed to create test'\n      }\n    }\n  }\n\n  /**\n   * Start an A/B test\n   */\n  async startTest(testId: string): Promise<{ success: boolean; error?: string }> {\n    try {\n      const test = await this.getTest(testId)\n      if (!test) {\n        return { success: false, error: 'Test not found' }\n      }\n\n      if (test.status !== 'draft') {\n        return { success: false, error: 'Test can only be started from draft status' }\n      }\n\n      // Validate test is ready to start\n      const readinessCheck = this.checkTestReadiness(test)\n      if (!readinessCheck.ready) {\n        return { success: false, error: readinessCheck.error }\n      }\n\n      // Update test status and start date\n      const { error } = await this.supabase\n        .from('ab_tests')\n        .update({\n          status: 'running',\n          start_date: new Date().toISOString(),\n          updated_at: new Date().toISOString()\n        })\n        .eq('id', testId)\n\n      if (error) throw error\n\n      // Cache active test\n      test.status = 'running'\n      test.start_date = new Date().toISOString()\n      this.activeTests.set(testId, test)\n\n      return { success: true }\n    } catch (error) {\n      console.error('Error starting A/B test:', error)\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Failed to start test'\n      }\n    }\n  }\n\n  /**\n   * Assign a session to an A/B test variant\n   */\n  async assignToTest(\n    sessionId: string,\n    businessScenario: BusinessScenario,\n    userAgent?: string,\n    ipAddress?: string\n  ): Promise<{ assignment: ABTestAssignment | null; variant: ABTestVariant | null }> {\n    try {\n      // Get active tests for the business scenario\n      const activeTests = await this.getActiveTestsForScenario(businessScenario)\n\n      if (activeTests.length === 0) {\n        return { assignment: null, variant: null }\n      }\n\n      // Select test based on traffic allocation\n      const selectedTest = this.selectTestForSession(activeTests)\n      if (!selectedTest) {\n        return { assignment: null, variant: null }\n      }\n\n      // Assign to variant using deterministic hash\n      const assignedVariant = this.assignToVariant(sessionId, selectedTest)\n\n      // Create assignment record\n      const assignment: ABTestAssignment = {\n        session_id: sessionId,\n        test_id: selectedTest.id,\n        variant_id: assignedVariant.id,\n        assigned_at: new Date().toISOString(),\n        user_agent: userAgent,\n        ip_address: ipAddress,\n        conversion_completed: false,\n        session_metrics: {}\n      }\n\n      // Store assignment\n      await this.storeAssignment(assignment)\n\n      // Update variant session count\n      await this.incrementVariantSessions(selectedTest.id, assignedVariant.id)\n\n      return { assignment, variant: assignedVariant }\n    } catch (error) {\n      console.error('Error assigning to A/B test:', error)\n      return { assignment: null, variant: null }\n    }\n  }\n\n  /**\n   * Track conversion for an A/B test\n   */\n  async trackConversion(\n    sessionId: string,\n    conversionValue?: number,\n    additionalMetrics?: Record<string, number>\n  ): Promise<boolean> {\n    try {\n      // Get assignment for session\n      const assignment = await this.getAssignmentBySession(sessionId)\n      if (!assignment) return false\n\n      // Update assignment with conversion\n      await this.supabase\n        .from('ab_test_assignments')\n        .update({\n          conversion_completed: true,\n          conversion_value: conversionValue,\n          session_metrics: { ...assignment.session_metrics, ...additionalMetrics },\n          updated_at: new Date().toISOString()\n        })\n        .eq('session_id', sessionId)\n\n      // Update variant conversion count\n      await this.incrementVariantConversions(assignment.test_id, assignment.variant_id)\n\n      // Check if test should be auto-stopped\n      await this.checkAutoStopConditions(assignment.test_id)\n\n      return true\n    } catch (error) {\n      console.error('Error tracking conversion:', error)\n      return false\n    }\n  }\n\n  /**\n   * Calculate test results with statistical analysis\n   */\n  async calculateResults(testId: string): Promise<ABTestResults | null> {\n    try {\n      const test = await this.getTest(testId)\n      if (!test) return null\n\n      // Get all assignments for the test\n      const assignments = await this.getTestAssignments(testId)\n\n      // Calculate basic metrics\n      const totalSessions = assignments.length\n      const totalConversions = assignments.filter(a => a.conversion_completed).length\n      const overallConversionRate = totalSessions > 0 ? (totalConversions / totalSessions) * 100 : 0\n\n      // Calculate variant results\n      const variantResults: VariantResult[] = []\n\n      for (const variant of test.variants) {\n        const variantAssignments = assignments.filter(a => a.variant_id === variant.id)\n        const variantSessions = variantAssignments.length\n        const variantConversions = variantAssignments.filter(a => a.conversion_completed).length\n        const conversionRate = variantSessions > 0 ? (variantConversions / variantSessions) * 100 : 0\n\n        // Calculate confidence interval\n        const confidenceInterval = this.calculateConfidenceInterval(\n          variantConversions,\n          variantSessions,\n          test.confidence_level\n        )\n\n        // Calculate improvement over control\n        const controlVariant = test.variants.find(v => v.is_control)\n        const controlConversions = assignments.filter(a =>\n          a.variant_id === controlVariant?.id && a.conversion_completed\n        ).length\n        const controlSessions = assignments.filter(a => a.variant_id === controlVariant?.id).length\n        const controlRate = controlSessions > 0 ? (controlConversions / controlSessions) * 100 : 0\n        const improvementOverControl = controlRate > 0 ? ((conversionRate - controlRate) / controlRate) * 100 : 0\n\n        // Calculate statistical significance\n        const significance = this.calculateStatisticalSignificance(\n          variantConversions,\n          variantSessions,\n          controlConversions,\n          controlSessions\n        )\n\n        // Calculate metrics performance\n        const metricsPerformance: Record<string, number> = {}\n        for (const metric of test.metrics) {\n          const metricValue = this.calculateMetricValue(variantAssignments, metric)\n          metricsPerformance[metric.name] = metricValue\n        }\n\n        variantResults.push({\n          variant_id: variant.id,\n          variant_name: variant.name,\n          sessions: variantSessions,\n          conversions: variantConversions,\n          conversion_rate: conversionRate,\n          confidence_interval: confidenceInterval,\n          statistical_significance: significance.p_value,\n          improvement_over_control: improvementOverControl,\n          metrics_performance: metricsPerformance\n        })\n      }\n\n      // Calculate overall statistical significance\n      const overallSignificance = this.calculateOverallSignificance(variantResults, test.confidence_level)\n\n      // Generate recommendations\n      const recommendations = this.generateRecommendations(variantResults, overallSignificance, test)\n\n      // Calculate confidence intervals for all metrics\n      const confidenceIntervals = this.calculateAllConfidenceIntervals(variantResults, test)\n\n      // Calculate effect size\n      const effectSize = this.calculateEffectSize(variantResults)\n\n      const results: ABTestResults = {\n        test_id: testId,\n        total_sessions: totalSessions,\n        total_conversions: totalConversions,\n        overall_conversion_rate: overallConversionRate,\n        variant_results: variantResults,\n        statistical_significance: overallSignificance,\n        recommendations,\n        confidence_intervals: confidenceIntervals,\n        effect_size: effectSize,\n        generated_at: new Date().toISOString()\n      }\n\n      // Store results\n      await this.storeTestResults(testId, results)\n\n      return results\n    } catch (error) {\n      console.error('Error calculating test results:', error)\n      return null\n    }\n  }\n\n  /**\n   * Perform Bayesian analysis for early stopping\n   */\n  async performBayesianAnalysis(testId: string): Promise<BayesianTestResult | null> {\n    try {\n      const assignments = await this.getTestAssignments(testId)\n      const test = await this.getTest(testId)\n      if (!test) return null\n\n      const controlVariant = test.variants.find(v => v.is_control)\n      if (!controlVariant) return null\n\n      const controlAssignments = assignments.filter(a => a.variant_id === controlVariant.id)\n      const treatmentVariants = test.variants.filter(v => !v.is_control)\n\n      // For simplicity, analyze the first treatment variant\n      const treatmentVariant = treatmentVariants[0]\n      if (!treatmentVariant) return null\n\n      const treatmentAssignments = assignments.filter(a => a.variant_id === treatmentVariant.id)\n\n      // Calculate Bayesian metrics\n      const controlConversions = controlAssignments.filter(a => a.conversion_completed).length\n      const controlSessions = controlAssignments.length\n      const treatmentConversions = treatmentAssignments.filter(a => a.conversion_completed).length\n      const treatmentSessions = treatmentAssignments.length\n\n      // Beta distribution parameters (using uniform prior: alpha=1, beta=1)\n      const controlPosterior = {\n        alpha: 1 + controlConversions,\n        beta: 1 + controlSessions - controlConversions\n      }\n\n      const treatmentPosterior = {\n        alpha: 1 + treatmentConversions,\n        beta: 1 + treatmentSessions - treatmentConversions\n      }\n\n      // Monte Carlo simulation to calculate probability of beating control\n      const probabilityOfBeating = this.monteCarloSimulation(controlPosterior, treatmentPosterior)\n\n      // Calculate expected loss\n      const expectedLoss = this.calculateExpectedLoss(controlPosterior, treatmentPosterior)\n\n      // Calculate credible interval\n      const credibleInterval = this.calculateCredibleInterval(treatmentPosterior, 0.95)\n\n      // Generate recommendation\n      const recommendation = this.generateBayesianRecommendation(\n        probabilityOfBeating,\n        expectedLoss,\n        test.minimum_sample_size,\n        treatmentSessions + controlSessions\n      )\n\n      return {\n        probability_of_beating_control: probabilityOfBeating,\n        expected_loss: expectedLoss,\n        posterior_distribution: {\n          alpha: treatmentPosterior.alpha,\n          beta: treatmentPosterior.beta,\n          mean: treatmentPosterior.alpha / (treatmentPosterior.alpha + treatmentPosterior.beta),\n          variance: (treatmentPosterior.alpha * treatmentPosterior.beta) /\n                   (Math.pow(treatmentPosterior.alpha + treatmentPosterior.beta, 2) *\n                    (treatmentPosterior.alpha + treatmentPosterior.beta + 1))\n        },\n        credible_interval: credibleInterval,\n        recommendation\n      }\n    } catch (error) {\n      console.error('Error performing Bayesian analysis:', error)\n      return null\n    }\n  }\n\n  /**\n   * Stop test and declare winner\n   */\n  async stopTest(\n    testId: string,\n    reason: string,\n    declareWinner: boolean = true\n  ): Promise<{ success: boolean; winner?: string; error?: string }> {\n    try {\n      const test = await this.getTest(testId)\n      if (!test) {\n        return { success: false, error: 'Test not found' }\n      }\n\n      if (test.status !== 'running') {\n        return { success: false, error: 'Test is not currently running' }\n      }\n\n      let winnerVariantId: string | undefined\n\n      if (declareWinner) {\n        // Calculate final results to determine winner\n        const results = await this.calculateResults(testId)\n        if (results) {\n          // Find the variant with the highest conversion rate and statistical significance\n          const significantVariants = results.variant_results.filter(v =>\n            v.statistical_significance < (1 - test.confidence_level / 100) &&\n            v.improvement_over_control > 0\n          )\n\n          if (significantVariants.length > 0) {\n            winnerVariantId = significantVariants.reduce((winner, current) =>\n              current.conversion_rate > winner.conversion_rate ? current : winner\n            ).variant_id\n          }\n        }\n      }\n\n      // Update test status\n      const { error } = await this.supabase\n        .from('ab_tests')\n        .update({\n          status: 'completed',\n          end_date: new Date().toISOString(),\n          winner_variant_id: winnerVariantId,\n          updated_at: new Date().toISOString()\n        })\n        .eq('id', testId)\n\n      if (error) throw error\n\n      // Remove from active tests cache\n      this.activeTests.delete(testId)\n\n      // Log test completion\n      await this.logTestEvent(testId, 'test_stopped', { reason, winner: winnerVariantId })\n\n      return {\n        success: true,\n        winner: winnerVariantId ? test.variants.find(v => v.id === winnerVariantId)?.name : undefined\n      }\n    } catch (error) {\n      console.error('Error stopping A/B test:', error)\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Failed to stop test'\n      }\n    }\n  }\n\n  /**\n   * Get test configuration for a session\n   */\n  async getTestConfiguration(sessionId: string): Promise<TestConfiguration | null> {\n    try {\n      const assignment = await this.getAssignmentBySession(sessionId)\n      if (!assignment) return null\n\n      const test = await this.getTest(assignment.test_id)\n      if (!test) return null\n\n      const variant = test.variants.find(v => v.id === assignment.variant_id)\n      if (!variant) return null\n\n      return variant.configuration as TestConfiguration\n    } catch (error) {\n      console.error('Error getting test configuration:', error)\n      return null\n    }\n  }\n\n  // Private helper methods\n\n  private validateTestConfiguration(config: any): { valid: boolean; error?: string } {\n    if (config.variants.length < 2) {\n      return { valid: false, error: 'Test must have at least 2 variants' }\n    }\n\n    const controlVariants = config.variants.filter((v: any) => v.is_control)\n    if (controlVariants.length !== 1) {\n      return { valid: false, error: 'Test must have exactly one control variant' }\n    }\n\n    const totalTrafficSplit = config.variants.reduce((sum: number, v: any) => sum + v.traffic_split, 0)\n    if (Math.abs(totalTrafficSplit - 100) > 0.01) {\n      return { valid: false, error: 'Variant traffic splits must sum to 100%' }\n    }\n\n    if (config.traffic_allocation < 1 || config.traffic_allocation > 100) {\n      return { valid: false, error: 'Traffic allocation must be between 1% and 100%' }\n    }\n\n    return { valid: true }\n  }\n\n  private normalizeTrafficSplits(variants: ABTestVariant[]): void {\n    const total = variants.reduce((sum, v) => sum + v.traffic_split, 0)\n    if (total !== 100) {\n      variants.forEach(v => {\n        v.traffic_split = (v.traffic_split / total) * 100\n      })\n    }\n  }\n\n  private checkTestReadiness(test: ABTest): { ready: boolean; error?: string } {\n    if (test.variants.length < 2) {\n      return { ready: false, error: 'Test needs at least 2 variants' }\n    }\n\n    if (test.metrics.length === 0) {\n      return { ready: false, error: 'Test needs at least one metric to track' }\n    }\n\n    const hasPrimaryMetric = test.metrics.some(m => m.primary)\n    if (!hasPrimaryMetric) {\n      return { ready: false, error: 'Test needs at least one primary metric' }\n    }\n\n    return { ready: true }\n  }\n\n  private async getActiveTestsForScenario(scenario: BusinessScenario): Promise<ABTest[]> {\n    const { data, error } = await this.supabase\n      .from('ab_tests')\n      .select('*')\n      .eq('business_scenario', scenario)\n      .eq('status', 'running')\n\n    return error ? [] : data || []\n  }\n\n  private selectTestForSession(tests: ABTest[]): ABTest | null {\n    // Simple selection based on traffic allocation\n    const random = Math.random() * 100\n    let cumulative = 0\n\n    for (const test of tests) {\n      cumulative += test.traffic_allocation\n      if (random <= cumulative) {\n        return test\n      }\n    }\n\n    return null\n  }\n\n  private assignToVariant(sessionId: string, test: ABTest): ABTestVariant {\n    // Use deterministic hash to ensure consistent assignment\n    const hash = this.hashString(sessionId + test.id)\n    const random = (hash % 10000) / 100 // Convert to percentage\n\n    let cumulative = 0\n    for (const variant of test.variants) {\n      cumulative += variant.traffic_split\n      if (random <= cumulative) {\n        return variant\n      }\n    }\n\n    // Fallback to control variant\n    return test.variants.find(v => v.is_control) || test.variants[0]\n  }\n\n  private hashString(str: string): number {\n    let hash = 0\n    for (let i = 0; i < str.length; i++) {\n      const char = str.charCodeAt(i)\n      hash = ((hash << 5) - hash) + char\n      hash = hash & hash // Convert to 32-bit integer\n    }\n    return Math.abs(hash)\n  }\n\n  private async storeAssignment(assignment: ABTestAssignment): Promise<void> {\n    await this.supabase\n      .from('ab_test_assignments')\n      .insert({\n        session_id: assignment.session_id,\n        test_id: assignment.test_id,\n        variant_id: assignment.variant_id,\n        assigned_at: assignment.assigned_at,\n        user_agent: assignment.user_agent,\n        ip_address: assignment.ip_address,\n        conversion_completed: assignment.conversion_completed,\n        conversion_value: assignment.conversion_value,\n        session_metrics: assignment.session_metrics\n      })\n  }\n\n  private async incrementVariantSessions(testId: string, variantId: string): Promise<void> {\n    // This would typically be done with a database function or atomic operation\n    const { data: variant } = await this.supabase\n      .from('ab_test_variants')\n      .select('session_count')\n      .eq('test_id', testId)\n      .eq('variant_id', variantId)\n      .single()\n\n    if (variant) {\n      await this.supabase\n        .from('ab_test_variants')\n        .update({ session_count: variant.session_count + 1 })\n        .eq('test_id', testId)\n        .eq('variant_id', variantId)\n    }\n  }\n\n  private async incrementVariantConversions(testId: string, variantId: string): Promise<void> {\n    // Similar to incrementVariantSessions\n    const { data: variant } = await this.supabase\n      .from('ab_test_variants')\n      .select('conversion_count, session_count')\n      .eq('test_id', testId)\n      .eq('variant_id', variantId)\n      .single()\n\n    if (variant) {\n      const newConversionCount = variant.conversion_count + 1\n      const conversionRate = variant.session_count > 0 ? (newConversionCount / variant.session_count) * 100 : 0\n\n      await this.supabase\n        .from('ab_test_variants')\n        .update({\n          conversion_count: newConversionCount,\n          conversion_rate: conversionRate\n        })\n        .eq('test_id', testId)\n        .eq('variant_id', variantId)\n    }\n  }\n\n  private async getTest(testId: string): Promise<ABTest | null> {\n    // Check cache first\n    if (this.activeTests.has(testId)) {\n      return this.activeTests.get(testId)!\n    }\n\n    const { data, error } = await this.supabase\n      .from('ab_tests')\n      .select('*')\n      .eq('id', testId)\n      .single()\n\n    return error ? null : data\n  }\n\n  private async getAssignmentBySession(sessionId: string): Promise<ABTestAssignment | null> {\n    const { data, error } = await this.supabase\n      .from('ab_test_assignments')\n      .select('*')\n      .eq('session_id', sessionId)\n      .single()\n\n    return error ? null : data\n  }\n\n  private async getTestAssignments(testId: string): Promise<ABTestAssignment[]> {\n    const { data, error } = await this.supabase\n      .from('ab_test_assignments')\n      .select('*')\n      .eq('test_id', testId)\n\n    return error ? [] : data || []\n  }\n\n  private calculateConfidenceInterval(\n    conversions: number,\n    sessions: number,\n    confidenceLevel: number\n  ): { lower: number; upper: number } {\n    if (sessions === 0) return { lower: 0, upper: 0 }\n\n    const p = conversions / sessions\n    const z = this.getZScore(confidenceLevel)\n    const standardError = Math.sqrt((p * (1 - p)) / sessions)\n    const margin = z * standardError\n\n    return {\n      lower: Math.max(0, (p - margin) * 100),\n      upper: Math.min(100, (p + margin) * 100)\n    }\n  }\n\n  private getZScore(confidenceLevel: number): number {\n    const zScores: Record<number, number> = {\n      90: 1.645,\n      95: 1.96,\n      99: 2.576\n    }\n    return zScores[confidenceLevel] || 1.96\n  }\n\n  private calculateStatisticalSignificance(\n    treatmentConversions: number,\n    treatmentSessions: number,\n    controlConversions: number,\n    controlSessions: number\n  ): StatisticalSignificance {\n    if (treatmentSessions === 0 || controlSessions === 0) {\n      return {\n        p_value: 1,\n        confidence_level: 0,\n        is_significant: false,\n        power: 0,\n        effect_size: 0,\n        sample_size_recommendation: 1000\n      }\n    }\n\n    const p1 = treatmentConversions / treatmentSessions\n    const p2 = controlConversions / controlSessions\n    const pooledP = (treatmentConversions + controlConversions) / (treatmentSessions + controlSessions)\n\n    const standardError = Math.sqrt(pooledP * (1 - pooledP) * (1/treatmentSessions + 1/controlSessions))\n    const zScore = Math.abs(p1 - p2) / standardError\n\n    // Calculate p-value (two-tailed test)\n    const pValue = 2 * (1 - this.normalCDF(Math.abs(zScore)))\n\n    const effectSize = this.calculateCohensH(p1, p2)\n    const power = this.calculatePower(effectSize, treatmentSessions + controlSessions)\n\n    return {\n      p_value: pValue,\n      confidence_level: 95,\n      is_significant: pValue < 0.05,\n      power: power,\n      effect_size: effectSize,\n      sample_size_recommendation: this.calculateSampleSizeRecommendation(effectSize, 0.8, 0.05)\n    }\n  }\n\n  private normalCDF(z: number): number {\n    // Approximation of the standard normal cumulative distribution function\n    const a1 =  0.254829592\n    const a2 = -0.284496736\n    const a3 =  1.421413741\n    const a4 = -1.453152027\n    const a5 =  1.061405429\n    const p  =  0.3275911\n\n    const sign = z < 0 ? -1 : 1\n    z = Math.abs(z) / Math.sqrt(2.0)\n\n    const t = 1.0 / (1.0 + p * z)\n    const y = 1.0 - (((((a5 * t + a4) * t) + a3) * t + a2) * t + a1) * t * Math.exp(-z * z)\n\n    return 0.5 * (1.0 + sign * y)\n  }\n\n  private calculateCohensH(p1: number, p2: number): number {\n    // Cohen's h for proportions\n    return 2 * (Math.asin(Math.sqrt(p1)) - Math.asin(Math.sqrt(p2)))\n  }\n\n  private calculatePower(effectSize: number, sampleSize: number): number {\n    // Simplified power calculation\n    const ncp = effectSize * Math.sqrt(sampleSize / 2)\n    return this.normalCDF(ncp - 1.96)\n  }\n\n  private calculateSampleSizeRecommendation(effectSize: number, power: number, alpha: number): number {\n    // Simplified sample size calculation for two proportions\n    const zAlpha = this.getZScore((1 - alpha) * 100)\n    const zBeta = this.getZScore(power * 100)\n\n    return Math.ceil(2 * Math.pow(zAlpha + zBeta, 2) / Math.pow(effectSize, 2))\n  }\n\n  private calculateMetricValue(assignments: ABTestAssignment[], metric: ABTestMetric): number {\n    if (assignments.length === 0) return 0\n\n    switch (metric.type) {\n      case 'conversion':\n        return (assignments.filter(a => a.conversion_completed).length / assignments.length) * 100\n      case 'revenue':\n        return assignments.reduce((sum, a) => sum + (a.conversion_value || 0), 0) / assignments.length\n      case 'time_spent':\n        return assignments.reduce((sum, a) => sum + (a.session_metrics.time_spent || 0), 0) / assignments.length\n      case 'engagement':\n        return assignments.reduce((sum, a) => sum + (a.session_metrics.engagement_score || 0), 0) / assignments.length\n      default:\n        return assignments.reduce((sum, a) => sum + (a.session_metrics[metric.name] || 0), 0) / assignments.length\n    }\n  }\n\n  private calculateOverallSignificance(\n    variantResults: VariantResult[],\n    confidenceLevel: number\n  ): StatisticalSignificance {\n    // Find the best performing non-control variant\n    const nonControlVariants = variantResults.filter(v => !v.variant_name.toLowerCase().includes('control'))\n    if (nonControlVariants.length === 0) {\n      return {\n        p_value: 1,\n        confidence_level: confidenceLevel,\n        is_significant: false,\n        power: 0,\n        effect_size: 0,\n        sample_size_recommendation: 1000\n      }\n    }\n\n    const bestVariant = nonControlVariants.reduce((best, current) =>\n      current.conversion_rate > best.conversion_rate ? current : best\n    )\n\n    return {\n      p_value: bestVariant.statistical_significance,\n      confidence_level: confidenceLevel,\n      is_significant: bestVariant.statistical_significance < (1 - confidenceLevel / 100),\n      power: 0.8, // Placeholder\n      effect_size: Math.abs(bestVariant.improvement_over_control) / 100,\n      sample_size_recommendation: 1000 // Placeholder\n    }\n  }\n\n  private generateRecommendations(\n    variantResults: VariantResult[],\n    significance: StatisticalSignificance,\n    test: ABTest\n  ): string[] {\n    const recommendations: string[] = []\n\n    if (significance.is_significant) {\n      const bestVariant = variantResults.reduce((best, current) =>\n        current.conversion_rate > best.conversion_rate ? current : best\n      )\n      recommendations.push(`Deploy ${bestVariant.variant_name} - it shows a statistically significant improvement`)\n    } else {\n      recommendations.push('Continue testing - no statistically significant winner found yet')\n\n      if (significance.sample_size_recommendation > variantResults.reduce((sum, v) => sum + v.sessions, 0)) {\n        recommendations.push(`Increase sample size to ${significance.sample_size_recommendation} for better power`)\n      }\n    }\n\n    // Add specific recommendations based on performance\n    const lowPerformingVariants = variantResults.filter(v => v.conversion_rate < 1)\n    if (lowPerformingVariants.length > 0) {\n      recommendations.push('Consider stopping low-performing variants to allocate more traffic to promising ones')\n    }\n\n    return recommendations\n  }\n\n  private calculateAllConfidenceIntervals(\n    variantResults: VariantResult[],\n    test: ABTest\n  ): ConfidenceInterval[] {\n    const intervals: ConfidenceInterval[] = []\n\n    for (const variant of variantResults) {\n      for (const metric of test.metrics) {\n        intervals.push({\n          metric: metric.name,\n          variant_id: variant.variant_id,\n          lower_bound: variant.confidence_interval.lower,\n          upper_bound: variant.confidence_interval.upper,\n          confidence_level: test.confidence_level\n        })\n      }\n    }\n\n    return intervals\n  }\n\n  private calculateEffectSize(variantResults: VariantResult[]): number {\n    const controlVariant = variantResults.find(v => v.variant_name.toLowerCase().includes('control'))\n    if (!controlVariant) return 0\n\n    const treatmentVariants = variantResults.filter(v => v !== controlVariant)\n    if (treatmentVariants.length === 0) return 0\n\n    const bestTreatment = treatmentVariants.reduce((best, current) =>\n      current.conversion_rate > best.conversion_rate ? current : best\n    )\n\n    return this.calculateCohensH(\n      bestTreatment.conversion_rate / 100,\n      controlVariant.conversion_rate / 100\n    )\n  }\n\n  private async storeTestResults(testId: string, results: ABTestResults): Promise<void> {\n    await this.supabase\n      .from('ab_test_results')\n      .upsert({\n        test_id: testId,\n        results_data: results,\n        generated_at: results.generated_at\n      })\n  }\n\n  private monteCarloSimulation(\n    controlPosterior: { alpha: number; beta: number },\n    treatmentPosterior: { alpha: number; beta: number },\n    simulations: number = 10000\n  ): number {\n    let treatmentWins = 0\n\n    for (let i = 0; i < simulations; i++) {\n      const controlSample = this.betaRandom(controlPosterior.alpha, controlPosterior.beta)\n      const treatmentSample = this.betaRandom(treatmentPosterior.alpha, treatmentPosterior.beta)\n\n      if (treatmentSample > controlSample) {\n        treatmentWins++\n      }\n    }\n\n    return treatmentWins / simulations\n  }\n\n  private betaRandom(alpha: number, beta: number): number {\n    // Simple beta distribution random number generator\n    const x = this.gammaRandom(alpha)\n    const y = this.gammaRandom(beta)\n    return x / (x + y)\n  }\n\n  private gammaRandom(shape: number): number {\n    // Simplified gamma distribution - for production use a proper implementation\n    let sum = 0\n    for (let i = 0; i < shape; i++) {\n      sum += -Math.log(Math.random())\n    }\n    return sum\n  }\n\n  private calculateExpectedLoss(\n    controlPosterior: { alpha: number; beta: number },\n    treatmentPosterior: { alpha: number; beta: number }\n  ): number {\n    // Simplified expected loss calculation\n    const controlMean = controlPosterior.alpha / (controlPosterior.alpha + controlPosterior.beta)\n    const treatmentMean = treatmentPosterior.alpha / (treatmentPosterior.alpha + treatmentPosterior.beta)\n\n    return Math.max(0, controlMean - treatmentMean)\n  }\n\n  private calculateCredibleInterval(\n    posterior: { alpha: number; beta: number },\n    probability: number\n  ): { lower: number; upper: number } {\n    // Simplified credible interval calculation\n    const mean = posterior.alpha / (posterior.alpha + posterior.beta)\n    const variance = (posterior.alpha * posterior.beta) /\n                    (Math.pow(posterior.alpha + posterior.beta, 2) * (posterior.alpha + posterior.beta + 1))\n    const std = Math.sqrt(variance)\n    const z = this.getZScore(probability * 100)\n\n    return {\n      lower: Math.max(0, mean - z * std),\n      upper: Math.min(1, mean + z * std)\n    }\n  }\n\n  private generateBayesianRecommendation(\n    probabilityOfBeating: number,\n    expectedLoss: number,\n    minimumSampleSize: number,\n    currentSampleSize: number\n  ): 'deploy' | 'continue_testing' | 'stop_test' {\n    if (currentSampleSize < minimumSampleSize) {\n      return 'continue_testing'\n    }\n\n    if (probabilityOfBeating > 0.95 && expectedLoss < 0.01) {\n      return 'deploy'\n    }\n\n    if (probabilityOfBeating < 0.1 || expectedLoss > 0.05) {\n      return 'stop_test'\n    }\n\n    return 'continue_testing'\n  }\n\n  private async checkAutoStopConditions(testId: string): Promise<void> {\n    // Check various conditions for auto-stopping the test\n    const test = await this.getTest(testId)\n    if (!test) return\n\n    // Check if test has reached statistical significance\n    const results = await this.calculateResults(testId)\n    if (results && results.statistical_significance.is_significant) {\n      await this.stopTest(testId, 'Statistical significance reached', true)\n      return\n    }\n\n    // Check if test has been running for too long\n    const startDate = new Date(test.start_date)\n    const daysSinceStart = (Date.now() - startDate.getTime()) / (1000 * 60 * 60 * 24)\n\n    if (daysSinceStart > 30) { // 30 days maximum\n      await this.stopTest(testId, 'Maximum test duration reached', true)\n      return\n    }\n\n    // Check if sample size is sufficient\n    const assignments = await this.getTestAssignments(testId)\n    if (assignments.length >= test.minimum_sample_size * 2) {\n      // Perform Bayesian analysis for early stopping\n      const bayesianResult = await this.performBayesianAnalysis(testId)\n      if (bayesianResult && bayesianResult.recommendation === 'deploy') {\n        await this.stopTest(testId, 'Bayesian analysis recommends deployment', true)\n      }\n    }\n  }\n\n  private async logTestEvent(testId: string, eventType: string, data: any): Promise<void> {\n    await this.supabase\n      .from('ab_test_events')\n      .insert({\n        test_id: testId,\n        event_type: eventType,\n        event_data: data,\n        timestamp: new Date().toISOString()\n      })\n  }\n}\n\n/**\n * A/B Testing Utilities\n */\nexport const ABTestingUtils = {\n  /**\n   * Calculate required sample size for a test\n   */\n  calculateSampleSize(\n    baselineConversionRate: number,\n    minimumDetectableEffect: number,\n    power: number = 0.8,\n    alpha: number = 0.05\n  ): number {\n    const p1 = baselineConversionRate / 100\n    const p2 = p1 * (1 + minimumDetectableEffect / 100)\n\n    const zAlpha = 1.96 // For alpha = 0.05\n    const zBeta = 0.84  // For power = 0.8\n\n    const pooledP = (p1 + p2) / 2\n    const sampleSize = 2 * Math.pow(zAlpha + zBeta, 2) * pooledP * (1 - pooledP) / Math.pow(p2 - p1, 2)\n\n    return Math.ceil(sampleSize)\n  },\n\n  /**\n   * Calculate test duration estimate\n   */\n  calculateTestDuration(\n    requiredSampleSize: number,\n    trafficPerDay: number,\n    trafficAllocation: number\n  ): number {\n    const dailyTestTraffic = trafficPerDay * (trafficAllocation / 100)\n    return Math.ceil(requiredSampleSize / dailyTestTraffic)\n  },\n\n  /**\n   * Format test results for display\n   */\n  formatTestResults(results: ABTestResults): {\n    summary: string\n    recommendation: string\n    significance: string\n  } {\n    const bestVariant = results.variant_results.reduce((best, current) =>\n      current.conversion_rate > best.conversion_rate ? current : best\n    )\n\n    const summary = `Test completed with ${results.total_sessions} total sessions and ${results.total_conversions} conversions. Best performing variant: ${bestVariant.variant_name} (${bestVariant.conversion_rate.toFixed(2)}% conversion rate).`\n\n    const recommendation = results.statistical_significance.is_significant\n      ? `Deploy ${bestVariant.variant_name} - statistically significant winner`\n      : 'No clear winner - consider extending the test or making larger changes'\n\n    const significance = results.statistical_significance.is_significant\n      ? `Statistically significant (p-value: ${results.statistical_significance.p_value.toFixed(4)})`\n      : `Not statistically significant (p-value: ${results.statistical_significance.p_value.toFixed(4)})`\n\n    return { summary, recommendation, significance }\n  }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MA6IaA,mBAAA;IAAA;IAAAC,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;WAAAH,kBAAA;;MAgiCAI,eAAA;IAAA;IAAAH,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;WAAAC,cAAA;;;;;kCA5qCgB;AA4ItB,MAAMJ,kBAAA;EAIXK,YAAYC,cAA8B,EAAE;IAAA;IAAAL,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;SAFpCI,WAAA,GAAmC,IAAIC,GAAA;IAAA;IAAAP,cAAA,GAAAE,CAAA;IAG7C,IAAI,CAACM,QAAQ,GAAGH,cAAA;EAClB;EAEA;;;EAGA,MAAMI,WACJC,UAUC,EACDC,SAAiB,EAC0B;IAAA;IAAAX,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;IAC3C,IAAI;MACF;MACA,MAAMU,UAAA;MAAA;MAAA,CAAAZ,cAAA,GAAAE,CAAA,QAAa,IAAI,CAACW,yBAAyB,CAACH,UAAA;MAAA;MAAAV,cAAA,GAAAE,CAAA;MAClD,IAAI,CAACU,UAAA,CAAWE,KAAK,EAAE;QAAA;QAAAd,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QACrB,OAAO;UAAEc,IAAA,EAAM;UAAaC,KAAA,EAAOL,UAAA,CAAWK;QAAM;MACtD;MAAA;MAAA;QAAAjB,cAAA,GAAAe,CAAA;MAAA;MAEA,MAAMG,MAAA;MAAA;MAAA,CAAAlB,cAAA,GAAAE,CAAA,QAAS,IAAAiB,KAAA,CAAAC,EAAM;MACrB,MAAMC,GAAA;MAAA;MAAA,CAAArB,cAAA,GAAAE,CAAA,QAAM,IAAIoB,IAAA,GAAOC,WAAW;MAElC;MACA,MAAMC,QAAA;MAAA;MAAA,CAAAxB,cAAA,GAAAE,CAAA,QAA4BQ,UAAA,CAAWc,QAAQ,CAACC,GAAG,CAACC,OAAA,IAAY;QAAA;QAAA1B,cAAA,GAAAC,CAAA;QAAAD,cAAA,GAAAE,CAAA;QAAA;UACpE,GAAGwB,OAAO;UACVC,EAAA,EAAI,IAAAR,KAAA,CAAAC,EAAM;UACVQ,aAAA,EAAe;UACfC,gBAAA,EAAkB;UAClBC,eAAA,EAAiB;UACjBC,YAAA,EAAc,CAAC;QACjB;MAAA;MAEA;MAAA;MAAA/B,cAAA,GAAAE,CAAA;MACA,IAAI,CAAC8B,sBAAsB,CAACR,QAAA;MAE5B,MAAMR,IAAA;MAAA;MAAA,CAAAhB,cAAA,GAAAE,CAAA,QAAe;QACnByB,EAAA,EAAIT,MAAA;QACJe,IAAA,EAAMvB,UAAA,CAAWuB,IAAI;QACrBC,WAAA,EAAaxB,UAAA,CAAWwB,WAAW;QACnCC,iBAAA,EAAmBzB,UAAA,CAAWyB,iBAAiB;QAC/CC,MAAA,EAAQ;QACRC,UAAA,EAAYhB,GAAA;QACZiB,kBAAA,EAAoB5B,UAAA,CAAW4B,kBAAkB;QACjDd,QAAA;QACAe,OAAA,EAAS7B,UAAA,CAAW6B,OAAO;QAC3BC,gBAAA,EAAkB9B,UAAA,CAAW8B,gBAAgB;QAC7CC,mBAAA,EAAqB/B,UAAA,CAAW+B,mBAAmB;QACnDC,UAAA,EAAY/B,SAAA;QACZgC,UAAA,EAAYtB,GAAA;QACZuB,UAAA,EAAYvB;MACd;MAEA;MACA,MAAM;QAAEwB,IAAI;QAAE5B;MAAK,CAAE;MAAA;MAAA,CAAAjB,cAAA,GAAAE,CAAA,QAAG,MAAM,IAAI,CAACM,QAAQ,CACxCsC,IAAI,CAAC,YACLC,MAAM,CAAC;QACNpB,EAAA,EAAIX,IAAA,CAAKW,EAAE;QACXM,IAAA,EAAMjB,IAAA,CAAKiB,IAAI;QACfC,WAAA,EAAalB,IAAA,CAAKkB,WAAW;QAC7BC,iBAAA,EAAmBnB,IAAA,CAAKmB,iBAAiB;QACzCC,MAAA,EAAQpB,IAAA,CAAKoB,MAAM;QACnBC,UAAA,EAAYrB,IAAA,CAAKqB,UAAU;QAC3BC,kBAAA,EAAoBtB,IAAA,CAAKsB,kBAAkB;QAC3Cd,QAAA,EAAUR,IAAA,CAAKQ,QAAQ;QACvBe,OAAA,EAASvB,IAAA,CAAKuB,OAAO;QACrBC,gBAAA,EAAkBxB,IAAA,CAAKwB,gBAAgB;QACvCC,mBAAA,EAAqBzB,IAAA,CAAKyB,mBAAmB;QAC7CC,UAAA,EAAY1B,IAAA,CAAK0B;MACnB,GACCM,MAAM,GACNC,MAAM;MAAA;MAAAjD,cAAA,GAAAE,CAAA;MAET,IAAIe,KAAA,EAAO;QAAA;QAAAjB,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QAAA,MAAMe,KAAA;MAAA;MAAA;MAAA;QAAAjB,cAAA,GAAAe,CAAA;MAAA;MAAAf,cAAA,GAAAE,CAAA;MAEjB,OAAO;QAAEc;MAAK;IAChB,EAAE,OAAOC,KAAA,EAAO;MAAA;MAAAjB,cAAA,GAAAE,CAAA;MACdgD,OAAA,CAAQjC,KAAK,CAAC,4BAA4BA,KAAA;MAAA;MAAAjB,cAAA,GAAAE,CAAA;MAC1C,OAAO;QACLc,IAAA,EAAM;QACNC,KAAA,EAAOA,KAAA,YAAiBkC,KAAA;QAAA;QAAA,CAAAnD,cAAA,GAAAe,CAAA,UAAQE,KAAA,CAAMmC,OAAO;QAAA;QAAA,CAAApD,cAAA,GAAAe,CAAA,UAAG;MAClD;IACF;EACF;EAEA;;;EAGA,MAAMsC,UAAUnC,MAAc,EAAiD;IAAA;IAAAlB,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;IAC7E,IAAI;MACF,MAAMc,IAAA;MAAA;MAAA,CAAAhB,cAAA,GAAAE,CAAA,QAAO,MAAM,IAAI,CAACoD,OAAO,CAACpC,MAAA;MAAA;MAAAlB,cAAA,GAAAE,CAAA;MAChC,IAAI,CAACc,IAAA,EAAM;QAAA;QAAAhB,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QACT,OAAO;UAAEqD,OAAA,EAAS;UAAOtC,KAAA,EAAO;QAAiB;MACnD;MAAA;MAAA;QAAAjB,cAAA,GAAAe,CAAA;MAAA;MAAAf,cAAA,GAAAE,CAAA;MAEA,IAAIc,IAAA,CAAKoB,MAAM,KAAK,SAAS;QAAA;QAAApC,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QAC3B,OAAO;UAAEqD,OAAA,EAAS;UAAOtC,KAAA,EAAO;QAA6C;MAC/E;MAAA;MAAA;QAAAjB,cAAA,GAAAe,CAAA;MAAA;MAEA;MACA,MAAMyC,cAAA;MAAA;MAAA,CAAAxD,cAAA,GAAAE,CAAA,QAAiB,IAAI,CAACuD,kBAAkB,CAACzC,IAAA;MAAA;MAAAhB,cAAA,GAAAE,CAAA;MAC/C,IAAI,CAACsD,cAAA,CAAeE,KAAK,EAAE;QAAA;QAAA1D,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QACzB,OAAO;UAAEqD,OAAA,EAAS;UAAOtC,KAAA,EAAOuC,cAAA,CAAevC;QAAM;MACvD;MAAA;MAAA;QAAAjB,cAAA,GAAAe,CAAA;MAAA;MAEA;MACA,MAAM;QAAEE;MAAK,CAAE;MAAA;MAAA,CAAAjB,cAAA,GAAAE,CAAA,QAAG,MAAM,IAAI,CAACM,QAAQ,CAClCsC,IAAI,CAAC,YACLa,MAAM,CAAC;QACNvB,MAAA,EAAQ;QACRC,UAAA,EAAY,IAAIf,IAAA,GAAOC,WAAW;QAClCqB,UAAA,EAAY,IAAItB,IAAA,GAAOC,WAAW;MACpC,GACCqC,EAAE,CAAC,MAAM1C,MAAA;MAAA;MAAAlB,cAAA,GAAAE,CAAA;MAEZ,IAAIe,KAAA,EAAO;QAAA;QAAAjB,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QAAA,MAAMe,KAAA;MAAA;MAAA;MAAA;QAAAjB,cAAA,GAAAe,CAAA;MAAA;MAEjB;MAAAf,cAAA,GAAAE,CAAA;MACAc,IAAA,CAAKoB,MAAM,GAAG;MAAA;MAAApC,cAAA,GAAAE,CAAA;MACdc,IAAA,CAAKqB,UAAU,GAAG,IAAIf,IAAA,GAAOC,WAAW;MAAA;MAAAvB,cAAA,GAAAE,CAAA;MACxC,IAAI,CAACI,WAAW,CAACuD,GAAG,CAAC3C,MAAA,EAAQF,IAAA;MAAA;MAAAhB,cAAA,GAAAE,CAAA;MAE7B,OAAO;QAAEqD,OAAA,EAAS;MAAK;IACzB,EAAE,OAAOtC,KAAA,EAAO;MAAA;MAAAjB,cAAA,GAAAE,CAAA;MACdgD,OAAA,CAAQjC,KAAK,CAAC,4BAA4BA,KAAA;MAAA;MAAAjB,cAAA,GAAAE,CAAA;MAC1C,OAAO;QACLqD,OAAA,EAAS;QACTtC,KAAA,EAAOA,KAAA,YAAiBkC,KAAA;QAAA;QAAA,CAAAnD,cAAA,GAAAe,CAAA,UAAQE,KAAA,CAAMmC,OAAO;QAAA;QAAA,CAAApD,cAAA,GAAAe,CAAA,UAAG;MAClD;IACF;EACF;EAEA;;;EAGA,MAAM+C,aACJC,SAAiB,EACjBC,gBAAkC,EAClCC,SAAkB,EAClBC,SAAkB,EAC+D;IAAA;IAAAlE,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;IACjF,IAAI;MACF;MACA,MAAMI,WAAA;MAAA;MAAA,CAAAN,cAAA,GAAAE,CAAA,QAAc,MAAM,IAAI,CAACiE,yBAAyB,CAACH,gBAAA;MAAA;MAAAhE,cAAA,GAAAE,CAAA;MAEzD,IAAII,WAAA,CAAY8D,MAAM,KAAK,GAAG;QAAA;QAAApE,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QAC5B,OAAO;UAAEmE,UAAA,EAAY;UAAM3C,OAAA,EAAS;QAAK;MAC3C;MAAA;MAAA;QAAA1B,cAAA,GAAAe,CAAA;MAAA;MAEA;MACA,MAAMuD,YAAA;MAAA;MAAA,CAAAtE,cAAA,GAAAE,CAAA,QAAe,IAAI,CAACqE,oBAAoB,CAACjE,WAAA;MAAA;MAAAN,cAAA,GAAAE,CAAA;MAC/C,IAAI,CAACoE,YAAA,EAAc;QAAA;QAAAtE,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QACjB,OAAO;UAAEmE,UAAA,EAAY;UAAM3C,OAAA,EAAS;QAAK;MAC3C;MAAA;MAAA;QAAA1B,cAAA,GAAAe,CAAA;MAAA;MAEA;MACA,MAAMyD,eAAA;MAAA;MAAA,CAAAxE,cAAA,GAAAE,CAAA,QAAkB,IAAI,CAACuE,eAAe,CAACV,SAAA,EAAWO,YAAA;MAExD;MACA,MAAMD,UAAA;MAAA;MAAA,CAAArE,cAAA,GAAAE,CAAA,QAA+B;QACnCwE,UAAA,EAAYX,SAAA;QACZY,OAAA,EAASL,YAAA,CAAa3C,EAAE;QACxBiD,UAAA,EAAYJ,eAAA,CAAgB7C,EAAE;QAC9BkD,WAAA,EAAa,IAAIvD,IAAA,GAAOC,WAAW;QACnCuD,UAAA,EAAYb,SAAA;QACZc,UAAA,EAAYb,SAAA;QACZc,oBAAA,EAAsB;QACtBC,eAAA,EAAiB,CAAC;MACpB;MAEA;MAAA;MAAAjF,cAAA,GAAAE,CAAA;MACA,MAAM,IAAI,CAACgF,eAAe,CAACb,UAAA;MAE3B;MAAA;MAAArE,cAAA,GAAAE,CAAA;MACA,MAAM,IAAI,CAACiF,wBAAwB,CAACb,YAAA,CAAa3C,EAAE,EAAE6C,eAAA,CAAgB7C,EAAE;MAAA;MAAA3B,cAAA,GAAAE,CAAA;MAEvE,OAAO;QAAEmE,UAAA;QAAY3C,OAAA,EAAS8C;MAAgB;IAChD,EAAE,OAAOvD,KAAA,EAAO;MAAA;MAAAjB,cAAA,GAAAE,CAAA;MACdgD,OAAA,CAAQjC,KAAK,CAAC,gCAAgCA,KAAA;MAAA;MAAAjB,cAAA,GAAAE,CAAA;MAC9C,OAAO;QAAEmE,UAAA,EAAY;QAAM3C,OAAA,EAAS;MAAK;IAC3C;EACF;EAEA;;;EAGA,MAAM0D,gBACJrB,SAAiB,EACjBsB,eAAwB,EACxBC,iBAA0C,EACxB;IAAA;IAAAtF,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;IAClB,IAAI;MACF;MACA,MAAMmE,UAAA;MAAA;MAAA,CAAArE,cAAA,GAAAE,CAAA,QAAa,MAAM,IAAI,CAACqF,sBAAsB,CAACxB,SAAA;MAAA;MAAA/D,cAAA,GAAAE,CAAA;MACrD,IAAI,CAACmE,UAAA,EAAY;QAAA;QAAArE,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QAAA,OAAO;MAAA;MAAA;MAAA;QAAAF,cAAA,GAAAe,CAAA;MAAA;MAExB;MAAAf,cAAA,GAAAE,CAAA;MACA,MAAM,IAAI,CAACM,QAAQ,CAChBsC,IAAI,CAAC,uBACLa,MAAM,CAAC;QACNqB,oBAAA,EAAsB;QACtBQ,gBAAA,EAAkBH,eAAA;QAClBJ,eAAA,EAAiB;UAAE,GAAGZ,UAAA,CAAWY,eAAe;UAAE,GAAGK;QAAkB;QACvE1C,UAAA,EAAY,IAAItB,IAAA,GAAOC,WAAW;MACpC,GACCqC,EAAE,CAAC,cAAcG,SAAA;MAEpB;MAAA;MAAA/D,cAAA,GAAAE,CAAA;MACA,MAAM,IAAI,CAACuF,2BAA2B,CAACpB,UAAA,CAAWM,OAAO,EAAEN,UAAA,CAAWO,UAAU;MAEhF;MAAA;MAAA5E,cAAA,GAAAE,CAAA;MACA,MAAM,IAAI,CAACwF,uBAAuB,CAACrB,UAAA,CAAWM,OAAO;MAAA;MAAA3E,cAAA,GAAAE,CAAA;MAErD,OAAO;IACT,EAAE,OAAOe,KAAA,EAAO;MAAA;MAAAjB,cAAA,GAAAE,CAAA;MACdgD,OAAA,CAAQjC,KAAK,CAAC,8BAA8BA,KAAA;MAAA;MAAAjB,cAAA,GAAAE,CAAA;MAC5C,OAAO;IACT;EACF;EAEA;;;EAGA,MAAMyF,iBAAiBzE,MAAc,EAAiC;IAAA;IAAAlB,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;IACpE,IAAI;MACF,MAAMc,IAAA;MAAA;MAAA,CAAAhB,cAAA,GAAAE,CAAA,QAAO,MAAM,IAAI,CAACoD,OAAO,CAACpC,MAAA;MAAA;MAAAlB,cAAA,GAAAE,CAAA;MAChC,IAAI,CAACc,IAAA,EAAM;QAAA;QAAAhB,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QAAA,OAAO;MAAA;MAAA;MAAA;QAAAF,cAAA,GAAAe,CAAA;MAAA;MAElB;MACA,MAAM6E,WAAA;MAAA;MAAA,CAAA5F,cAAA,GAAAE,CAAA,QAAc,MAAM,IAAI,CAAC2F,kBAAkB,CAAC3E,MAAA;MAElD;MACA,MAAM4E,aAAA;MAAA;MAAA,CAAA9F,cAAA,GAAAE,CAAA,QAAgB0F,WAAA,CAAYxB,MAAM;MACxC,MAAM2B,gBAAA;MAAA;MAAA,CAAA/F,cAAA,GAAAE,CAAA,QAAmB0F,WAAA,CAAYI,MAAM,CAACC,CAAA,IAAK;QAAA;QAAAjG,cAAA,GAAAC,CAAA;QAAAD,cAAA,GAAAE,CAAA;QAAA,OAAA+F,CAAA,CAAEjB,oBAAoB;MAApB,CAAoB,EAAEZ,MAAM;MAC/E,MAAM8B,qBAAA;MAAA;MAAA,CAAAlG,cAAA,GAAAE,CAAA,QAAwB4F,aAAA,GAAgB;MAAA;MAAA,CAAA9F,cAAA,GAAAe,CAAA,WAAIgF,gBAAC,GAAmBD,aAAA,GAAiB;MAAA;MAAA,CAAA9F,cAAA,GAAAe,CAAA,WAAM;MAE7F;MACA,MAAMoF,cAAA;MAAA;MAAA,CAAAnG,cAAA,GAAAE,CAAA,QAAkC,EAAE;MAAA;MAAAF,cAAA,GAAAE,CAAA;MAE1C,KAAK,MAAMwB,OAAA,IAAWV,IAAA,CAAKQ,QAAQ,EAAE;QACnC,MAAM4E,kBAAA;QAAA;QAAA,CAAApG,cAAA,GAAAE,CAAA,QAAqB0F,WAAA,CAAYI,MAAM,CAACC,CAAA,IAAK;UAAA;UAAAjG,cAAA,GAAAC,CAAA;UAAAD,cAAA,GAAAE,CAAA;UAAA,OAAA+F,CAAA,CAAErB,UAAU,KAAKlD,OAAA,CAAQC,EAAE;QAAF,CAAE;QAC9E,MAAM0E,eAAA;QAAA;QAAA,CAAArG,cAAA,GAAAE,CAAA,QAAkBkG,kBAAA,CAAmBhC,MAAM;QACjD,MAAMkC,kBAAA;QAAA;QAAA,CAAAtG,cAAA,GAAAE,CAAA,QAAqBkG,kBAAA,CAAmBJ,MAAM,CAACC,CAAA,IAAK;UAAA;UAAAjG,cAAA,GAAAC,CAAA;UAAAD,cAAA,GAAAE,CAAA;UAAA,OAAA+F,CAAA,CAAEjB,oBAAoB;QAApB,CAAoB,EAAEZ,MAAM;QACxF,MAAMmC,cAAA;QAAA;QAAA,CAAAvG,cAAA,GAAAE,CAAA,QAAiBmG,eAAA,GAAkB;QAAA;QAAA,CAAArG,cAAA,GAAAe,CAAA,WAAIuF,kBAAC,GAAqBD,eAAA,GAAmB;QAAA;QAAA,CAAArG,cAAA,GAAAe,CAAA,WAAM;QAE5F;QACA,MAAMyF,kBAAA;QAAA;QAAA,CAAAxG,cAAA,GAAAE,CAAA,QAAqB,IAAI,CAACuG,2BAA2B,CACzDH,kBAAA,EACAD,eAAA,EACArF,IAAA,CAAKwB,gBAAgB;QAGvB;QACA,MAAMkE,cAAA;QAAA;QAAA,CAAA1G,cAAA,GAAAE,CAAA,QAAiBc,IAAA,CAAKQ,QAAQ,CAACmF,IAAI,CAACC,CAAA,IAAK;UAAA;UAAA5G,cAAA,GAAAC,CAAA;UAAAD,cAAA,GAAAE,CAAA;UAAA,OAAA0G,CAAA,CAAEC,UAAU;QAAV,CAAU;QAC3D,MAAMC,kBAAA;QAAA;QAAA,CAAA9G,cAAA,GAAAE,CAAA,QAAqB0F,WAAA,CAAYI,MAAM,CAACC,CAAA,IAC5C;UAAA;UAAAjG,cAAA,GAAAC,CAAA;UAAAD,cAAA,GAAAE,CAAA;UAAA,kCAAAF,cAAA,GAAAe,CAAA,WAAAkF,CAAA,CAAErB,UAAU,KAAK8B,cAAA,EAAgB/E,EAAA;UAAA;UAAA,CAAA3B,cAAA,GAAAe,CAAA,WAAMkF,CAAA,CAAEjB,oBAAoB;QAApB,CAAoB,EAC7DZ,MAAM;QACR,MAAM2C,eAAA;QAAA;QAAA,CAAA/G,cAAA,GAAAE,CAAA,QAAkB0F,WAAA,CAAYI,MAAM,CAACC,CAAA,IAAK;UAAA;UAAAjG,cAAA,GAAAC,CAAA;UAAAD,cAAA,GAAAE,CAAA;UAAA,OAAA+F,CAAA,CAAErB,UAAU,KAAK8B,cAAA,EAAgB/E,EAAA;QAAA,GAAIyC,MAAM;QAC3F,MAAM4C,WAAA;QAAA;QAAA,CAAAhH,cAAA,GAAAE,CAAA,QAAc6G,eAAA,GAAkB;QAAA;QAAA,CAAA/G,cAAA,GAAAe,CAAA,WAAI+F,kBAAC,GAAqBC,eAAA,GAAmB;QAAA;QAAA,CAAA/G,cAAA,GAAAe,CAAA,WAAM;QACzF,MAAMkG,sBAAA;QAAA;QAAA,CAAAjH,cAAA,GAAAE,CAAA,QAAyB8G,WAAA,GAAc;QAAA;QAAA,CAAAhH,cAAA,GAAAe,CAAA,WAAI,CAAEwF,cAAA,GAAiBS,WAAU,IAAKA,WAAA,GAAe;QAAA;QAAA,CAAAhH,cAAA,GAAAe,CAAA,WAAM;QAExG;QACA,MAAMmG,YAAA;QAAA;QAAA,CAAAlH,cAAA,GAAAE,CAAA,QAAe,IAAI,CAACiH,gCAAgC,CACxDb,kBAAA,EACAD,eAAA,EACAS,kBAAA,EACAC,eAAA;QAGF;QACA,MAAMK,kBAAA;QAAA;QAAA,CAAApH,cAAA,GAAAE,CAAA,QAA6C,CAAC;QAAA;QAAAF,cAAA,GAAAE,CAAA;QACpD,KAAK,MAAMmH,MAAA,IAAUrG,IAAA,CAAKuB,OAAO,EAAE;UACjC,MAAM+E,WAAA;UAAA;UAAA,CAAAtH,cAAA,GAAAE,CAAA,QAAc,IAAI,CAACqH,oBAAoB,CAACnB,kBAAA,EAAoBiB,MAAA;UAAA;UAAArH,cAAA,GAAAE,CAAA;UAClEkH,kBAAkB,CAACC,MAAA,CAAOpF,IAAI,CAAC,GAAGqF,WAAA;QACpC;QAAA;QAAAtH,cAAA,GAAAE,CAAA;QAEAiG,cAAA,CAAeqB,IAAI,CAAC;UAClB5C,UAAA,EAAYlD,OAAA,CAAQC,EAAE;UACtB8F,YAAA,EAAc/F,OAAA,CAAQO,IAAI;UAC1ByF,QAAA,EAAUrB,eAAA;UACVsB,WAAA,EAAarB,kBAAA;UACbxE,eAAA,EAAiByE,cAAA;UACjBqB,mBAAA,EAAqBpB,kBAAA;UACrBqB,wBAAA,EAA0BX,YAAA,CAAaY,OAAO;UAC9CC,wBAAA,EAA0Bd,sBAAA;UAC1Be,mBAAA,EAAqBZ;QACvB;MACF;MAEA;MACA,MAAMa,mBAAA;MAAA;MAAA,CAAAjI,cAAA,GAAAE,CAAA,QAAsB,IAAI,CAACgI,4BAA4B,CAAC/B,cAAA,EAAgBnF,IAAA,CAAKwB,gBAAgB;MAEnG;MACA,MAAM2F,eAAA;MAAA;MAAA,CAAAnI,cAAA,GAAAE,CAAA,SAAkB,IAAI,CAACkI,uBAAuB,CAACjC,cAAA,EAAgB8B,mBAAA,EAAqBjH,IAAA;MAE1F;MACA,MAAMqH,mBAAA;MAAA;MAAA,CAAArI,cAAA,GAAAE,CAAA,SAAsB,IAAI,CAACoI,+BAA+B,CAACnC,cAAA,EAAgBnF,IAAA;MAEjF;MACA,MAAMuH,UAAA;MAAA;MAAA,CAAAvI,cAAA,GAAAE,CAAA,SAAa,IAAI,CAACsI,mBAAmB,CAACrC,cAAA;MAE5C,MAAMsC,OAAA;MAAA;MAAA,CAAAzI,cAAA,GAAAE,CAAA,SAAyB;QAC7ByE,OAAA,EAASzD,MAAA;QACTwH,cAAA,EAAgB5C,aAAA;QAChB6C,iBAAA,EAAmB5C,gBAAA;QACnB6C,uBAAA,EAAyB1C,qBAAA;QACzB2C,eAAA,EAAiB1C,cAAA;QACjB0B,wBAAA,EAA0BI,mBAAA;QAC1BE,eAAA;QACAW,oBAAA,EAAsBT,mBAAA;QACtBU,WAAA,EAAaR,UAAA;QACbS,YAAA,EAAc,IAAI1H,IAAA,GAAOC,WAAW;MACtC;MAEA;MAAA;MAAAvB,cAAA,GAAAE,CAAA;MACA,MAAM,IAAI,CAAC+I,gBAAgB,CAAC/H,MAAA,EAAQuH,OAAA;MAAA;MAAAzI,cAAA,GAAAE,CAAA;MAEpC,OAAOuI,OAAA;IACT,EAAE,OAAOxH,KAAA,EAAO;MAAA;MAAAjB,cAAA,GAAAE,CAAA;MACdgD,OAAA,CAAQjC,KAAK,CAAC,mCAAmCA,KAAA;MAAA;MAAAjB,cAAA,GAAAE,CAAA;MACjD,OAAO;IACT;EACF;EAEA;;;EAGA,MAAMgJ,wBAAwBhI,MAAc,EAAsC;IAAA;IAAAlB,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;IAChF,IAAI;MACF,MAAM0F,WAAA;MAAA;MAAA,CAAA5F,cAAA,GAAAE,CAAA,SAAc,MAAM,IAAI,CAAC2F,kBAAkB,CAAC3E,MAAA;MAClD,MAAMF,IAAA;MAAA;MAAA,CAAAhB,cAAA,GAAAE,CAAA,SAAO,MAAM,IAAI,CAACoD,OAAO,CAACpC,MAAA;MAAA;MAAAlB,cAAA,GAAAE,CAAA;MAChC,IAAI,CAACc,IAAA,EAAM;QAAA;QAAAhB,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QAAA,OAAO;MAAA;MAAA;MAAA;QAAAF,cAAA,GAAAe,CAAA;MAAA;MAElB,MAAM2F,cAAA;MAAA;MAAA,CAAA1G,cAAA,GAAAE,CAAA,SAAiBc,IAAA,CAAKQ,QAAQ,CAACmF,IAAI,CAACC,CAAA,IAAK;QAAA;QAAA5G,cAAA,GAAAC,CAAA;QAAAD,cAAA,GAAAE,CAAA;QAAA,OAAA0G,CAAA,CAAEC,UAAU;MAAV,CAAU;MAAA;MAAA7G,cAAA,GAAAE,CAAA;MAC3D,IAAI,CAACwG,cAAA,EAAgB;QAAA;QAAA1G,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QAAA,OAAO;MAAA;MAAA;MAAA;QAAAF,cAAA,GAAAe,CAAA;MAAA;MAE5B,MAAMoI,kBAAA;MAAA;MAAA,CAAAnJ,cAAA,GAAAE,CAAA,SAAqB0F,WAAA,CAAYI,MAAM,CAACC,CAAA,IAAK;QAAA;QAAAjG,cAAA,GAAAC,CAAA;QAAAD,cAAA,GAAAE,CAAA;QAAA,OAAA+F,CAAA,CAAErB,UAAU,KAAK8B,cAAA,CAAe/E,EAAE;MAAF,CAAE;MACrF,MAAMyH,iBAAA;MAAA;MAAA,CAAApJ,cAAA,GAAAE,CAAA,SAAoBc,IAAA,CAAKQ,QAAQ,CAACwE,MAAM,CAACY,CAAA,IAAK;QAAA;QAAA5G,cAAA,GAAAC,CAAA;QAAAD,cAAA,GAAAE,CAAA;QAAA,QAAC0G,CAAA,CAAEC,UAAU;MAAV,CAAU;MAEjE;MACA,MAAMwC,gBAAA;MAAA;MAAA,CAAArJ,cAAA,GAAAE,CAAA,SAAmBkJ,iBAAiB,CAAC,EAAE;MAAA;MAAApJ,cAAA,GAAAE,CAAA;MAC7C,IAAI,CAACmJ,gBAAA,EAAkB;QAAA;QAAArJ,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QAAA,OAAO;MAAA;MAAA;MAAA;QAAAF,cAAA,GAAAe,CAAA;MAAA;MAE9B,MAAMuI,oBAAA;MAAA;MAAA,CAAAtJ,cAAA,GAAAE,CAAA,SAAuB0F,WAAA,CAAYI,MAAM,CAACC,CAAA,IAAK;QAAA;QAAAjG,cAAA,GAAAC,CAAA;QAAAD,cAAA,GAAAE,CAAA;QAAA,OAAA+F,CAAA,CAAErB,UAAU,KAAKyE,gBAAA,CAAiB1H,EAAE;MAAF,CAAE;MAEzF;MACA,MAAMmF,kBAAA;MAAA;MAAA,CAAA9G,cAAA,GAAAE,CAAA,SAAqBiJ,kBAAA,CAAmBnD,MAAM,CAACC,CAAA,IAAK;QAAA;QAAAjG,cAAA,GAAAC,CAAA;QAAAD,cAAA,GAAAE,CAAA;QAAA,OAAA+F,CAAA,CAAEjB,oBAAoB;MAApB,CAAoB,EAAEZ,MAAM;MACxF,MAAM2C,eAAA;MAAA;MAAA,CAAA/G,cAAA,GAAAE,CAAA,SAAkBiJ,kBAAA,CAAmB/E,MAAM;MACjD,MAAMmF,oBAAA;MAAA;MAAA,CAAAvJ,cAAA,GAAAE,CAAA,SAAuBoJ,oBAAA,CAAqBtD,MAAM,CAACC,CAAA,IAAK;QAAA;QAAAjG,cAAA,GAAAC,CAAA;QAAAD,cAAA,GAAAE,CAAA;QAAA,OAAA+F,CAAA,CAAEjB,oBAAoB;MAApB,CAAoB,EAAEZ,MAAM;MAC5F,MAAMoF,iBAAA;MAAA;MAAA,CAAAxJ,cAAA,GAAAE,CAAA,SAAoBoJ,oBAAA,CAAqBlF,MAAM;MAErD;MACA,MAAMqF,gBAAA;MAAA;MAAA,CAAAzJ,cAAA,GAAAE,CAAA,SAAmB;QACvBwJ,KAAA,EAAO,IAAI5C,kBAAA;QACX6C,IAAA,EAAM,IAAI5C,eAAA,GAAkBD;MAC9B;MAEA,MAAM8C,kBAAA;MAAA;MAAA,CAAA5J,cAAA,GAAAE,CAAA,SAAqB;QACzBwJ,KAAA,EAAO,IAAIH,oBAAA;QACXI,IAAA,EAAM,IAAIH,iBAAA,GAAoBD;MAChC;MAEA;MACA,MAAMM,oBAAA;MAAA;MAAA,CAAA7J,cAAA,GAAAE,CAAA,SAAuB,IAAI,CAAC4J,oBAAoB,CAACL,gBAAA,EAAkBG,kBAAA;MAEzE;MACA,MAAMG,YAAA;MAAA;MAAA,CAAA/J,cAAA,GAAAE,CAAA,SAAe,IAAI,CAAC8J,qBAAqB,CAACP,gBAAA,EAAkBG,kBAAA;MAElE;MACA,MAAMK,gBAAA;MAAA;MAAA,CAAAjK,cAAA,GAAAE,CAAA,SAAmB,IAAI,CAACgK,yBAAyB,CAACN,kBAAA,EAAoB;MAE5E;MACA,MAAMO,cAAA;MAAA;MAAA,CAAAnK,cAAA,GAAAE,CAAA,SAAiB,IAAI,CAACkK,8BAA8B,CACxDP,oBAAA,EACAE,YAAA,EACA/I,IAAA,CAAKyB,mBAAmB,EACxB+G,iBAAA,GAAoBzC,eAAA;MAAA;MAAA/G,cAAA,GAAAE,CAAA;MAGtB,OAAO;QACLmK,8BAAA,EAAgCR,oBAAA;QAChCS,aAAA,EAAeP,YAAA;QACfQ,sBAAA,EAAwB;UACtBb,KAAA,EAAOE,kBAAA,CAAmBF,KAAK;UAC/BC,IAAA,EAAMC,kBAAA,CAAmBD,IAAI;UAC7Ba,IAAA,EAAMZ,kBAAA,CAAmBF,KAAK,IAAIE,kBAAA,CAAmBF,KAAK,GAAGE,kBAAA,CAAmBD,IAAI,CAAD;UACnFc,QAAA,EAAUb,kBAAC,CAAmBF,KAAK,GAAGE,kBAAA,CAAmBD,IAAI,IACnDe,IAAA,CAAKC,GAAG,CAACf,kBAAA,CAAmBF,KAAK,GAAGE,kBAAA,CAAmBD,IAAI,EAAE,MAC5DC,kBAAA,CAAmBF,KAAK,GAAGE,kBAAA,CAAmBD,IAAI,GAAG,EAAC;QACnE;QACAiB,iBAAA,EAAmBX,gBAAA;QACnBE;MACF;IACF,EAAE,OAAOlJ,KAAA,EAAO;MAAA;MAAAjB,cAAA,GAAAE,CAAA;MACdgD,OAAA,CAAQjC,KAAK,CAAC,uCAAuCA,KAAA;MAAA;MAAAjB,cAAA,GAAAE,CAAA;MACrD,OAAO;IACT;EACF;EAEA;;;EAGA,MAAM2K,SACJ3J,MAAc,EACd4J,MAAc,EACdC,aAAA;EAAA;EAAA,CAAA/K,cAAA,GAAAe,CAAA,WAAyB,IAAI,GACmC;IAAA;IAAAf,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;IAChE,IAAI;MACF,MAAMc,IAAA;MAAA;MAAA,CAAAhB,cAAA,GAAAE,CAAA,SAAO,MAAM,IAAI,CAACoD,OAAO,CAACpC,MAAA;MAAA;MAAAlB,cAAA,GAAAE,CAAA;MAChC,IAAI,CAACc,IAAA,EAAM;QAAA;QAAAhB,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QACT,OAAO;UAAEqD,OAAA,EAAS;UAAOtC,KAAA,EAAO;QAAiB;MACnD;MAAA;MAAA;QAAAjB,cAAA,GAAAe,CAAA;MAAA;MAAAf,cAAA,GAAAE,CAAA;MAEA,IAAIc,IAAA,CAAKoB,MAAM,KAAK,WAAW;QAAA;QAAApC,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QAC7B,OAAO;UAAEqD,OAAA,EAAS;UAAOtC,KAAA,EAAO;QAAgC;MAClE;MAAA;MAAA;QAAAjB,cAAA,GAAAe,CAAA;MAAA;MAEA,IAAIiK,eAAA;MAAA;MAAAhL,cAAA,GAAAE,CAAA;MAEJ,IAAI6K,aAAA,EAAe;QAAA;QAAA/K,cAAA,GAAAe,CAAA;QACjB;QACA,MAAM0H,OAAA;QAAA;QAAA,CAAAzI,cAAA,GAAAE,CAAA,SAAU,MAAM,IAAI,CAACyF,gBAAgB,CAACzE,MAAA;QAAA;QAAAlB,cAAA,GAAAE,CAAA;QAC5C,IAAIuI,OAAA,EAAS;UAAA;UAAAzI,cAAA,GAAAe,CAAA;UACX;UACA,MAAMkK,mBAAA;UAAA;UAAA,CAAAjL,cAAA,GAAAE,CAAA,SAAsBuI,OAAA,CAAQI,eAAe,CAAC7C,MAAM,CAACY,CAAA,IACzD;YAAA;YAAA5G,cAAA,GAAAC,CAAA;YAAAD,cAAA,GAAAE,CAAA;YAAA,kCAAAF,cAAA,GAAAe,CAAA,WAAA6F,CAAA,CAAEiB,wBAAwB,GAAI,IAAI7G,IAAA,CAAKwB,gBAAgB,GAAG;YAAA;YAAA,CAAAxC,cAAA,GAAAe,CAAA,WAC1D6F,CAAA,CAAEmB,wBAAwB,GAAG;UAAA;UAAA;UAAA/H,cAAA,GAAAE,CAAA;UAG/B,IAAI+K,mBAAA,CAAoB7G,MAAM,GAAG,GAAG;YAAA;YAAApE,cAAA,GAAAe,CAAA;YAAAf,cAAA,GAAAE,CAAA;YAClC8K,eAAA,GAAkBC,mBAAA,CAAoBC,MAAM,CAAC,CAACC,MAAA,EAAQC,OAAA,KACpD;cAAA;cAAApL,cAAA,GAAAC,CAAA;cAAAD,cAAA,GAAAE,CAAA;cAAA,OAAAkL,OAAA,CAAQtJ,eAAe,GAAGqJ,MAAA,CAAOrJ,eAAe;cAAA;cAAA,CAAA9B,cAAA,GAAAe,CAAA,WAAGqK,OAAA;cAAA;cAAA,CAAApL,cAAA,GAAAe,CAAA,WAAUoK,MAAA;YAAA,GAC7DvG,UAAU;UACd;UAAA;UAAA;YAAA5E,cAAA,GAAAe,CAAA;UAAA;QACF;QAAA;QAAA;UAAAf,cAAA,GAAAe,CAAA;QAAA;MACF;MAAA;MAAA;QAAAf,cAAA,GAAAe,CAAA;MAAA;MAEA;MACA,MAAM;QAAEE;MAAK,CAAE;MAAA;MAAA,CAAAjB,cAAA,GAAAE,CAAA,SAAG,MAAM,IAAI,CAACM,QAAQ,CAClCsC,IAAI,CAAC,YACLa,MAAM,CAAC;QACNvB,MAAA,EAAQ;QACRiJ,QAAA,EAAU,IAAI/J,IAAA,GAAOC,WAAW;QAChC+J,iBAAA,EAAmBN,eAAA;QACnBpI,UAAA,EAAY,IAAItB,IAAA,GAAOC,WAAW;MACpC,GACCqC,EAAE,CAAC,MAAM1C,MAAA;MAAA;MAAAlB,cAAA,GAAAE,CAAA;MAEZ,IAAIe,KAAA,EAAO;QAAA;QAAAjB,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QAAA,MAAMe,KAAA;MAAA;MAAA;MAAA;QAAAjB,cAAA,GAAAe,CAAA;MAAA;MAEjB;MAAAf,cAAA,GAAAE,CAAA;MACA,IAAI,CAACI,WAAW,CAACiL,MAAM,CAACrK,MAAA;MAExB;MAAA;MAAAlB,cAAA,GAAAE,CAAA;MACA,MAAM,IAAI,CAACsL,YAAY,CAACtK,MAAA,EAAQ,gBAAgB;QAAE4J,MAAA;QAAQK,MAAA,EAAQH;MAAgB;MAAA;MAAAhL,cAAA,GAAAE,CAAA;MAElF,OAAO;QACLqD,OAAA,EAAS;QACT4H,MAAA,EAAQH,eAAA;QAAA;QAAA,CAAAhL,cAAA,GAAAe,CAAA,WAAkBC,IAAA,CAAKQ,QAAQ,CAACmF,IAAI,CAACC,CAAA,IAAK;UAAA;UAAA5G,cAAA,GAAAC,CAAA;UAAAD,cAAA,GAAAE,CAAA;UAAA,OAAA0G,CAAA,CAAEjF,EAAE,KAAKqJ,eAAA;QAAA,IAAkB/I,IAAA;QAAA;QAAA,CAAAjC,cAAA,GAAAe,CAAA,WAAO0K,SAAA;MACtF;IACF,EAAE,OAAOxK,KAAA,EAAO;MAAA;MAAAjB,cAAA,GAAAE,CAAA;MACdgD,OAAA,CAAQjC,KAAK,CAAC,4BAA4BA,KAAA;MAAA;MAAAjB,cAAA,GAAAE,CAAA;MAC1C,OAAO;QACLqD,OAAA,EAAS;QACTtC,KAAA,EAAOA,KAAA,YAAiBkC,KAAA;QAAA;QAAA,CAAAnD,cAAA,GAAAe,CAAA,WAAQE,KAAA,CAAMmC,OAAO;QAAA;QAAA,CAAApD,cAAA,GAAAe,CAAA,WAAG;MAClD;IACF;EACF;EAEA;;;EAGA,MAAM2K,qBAAqB3H,SAAiB,EAAqC;IAAA;IAAA/D,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;IAC/E,IAAI;MACF,MAAMmE,UAAA;MAAA;MAAA,CAAArE,cAAA,GAAAE,CAAA,SAAa,MAAM,IAAI,CAACqF,sBAAsB,CAACxB,SAAA;MAAA;MAAA/D,cAAA,GAAAE,CAAA;MACrD,IAAI,CAACmE,UAAA,EAAY;QAAA;QAAArE,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QAAA,OAAO;MAAA;MAAA;MAAA;QAAAF,cAAA,GAAAe,CAAA;MAAA;MAExB,MAAMC,IAAA;MAAA;MAAA,CAAAhB,cAAA,GAAAE,CAAA,SAAO,MAAM,IAAI,CAACoD,OAAO,CAACe,UAAA,CAAWM,OAAO;MAAA;MAAA3E,cAAA,GAAAE,CAAA;MAClD,IAAI,CAACc,IAAA,EAAM;QAAA;QAAAhB,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QAAA,OAAO;MAAA;MAAA;MAAA;QAAAF,cAAA,GAAAe,CAAA;MAAA;MAElB,MAAMW,OAAA;MAAA;MAAA,CAAA1B,cAAA,GAAAE,CAAA,SAAUc,IAAA,CAAKQ,QAAQ,CAACmF,IAAI,CAACC,CAAA,IAAK;QAAA;QAAA5G,cAAA,GAAAC,CAAA;QAAAD,cAAA,GAAAE,CAAA;QAAA,OAAA0G,CAAA,CAAEjF,EAAE,KAAK0C,UAAA,CAAWO,UAAU;MAAV,CAAU;MAAA;MAAA5E,cAAA,GAAAE,CAAA;MACtE,IAAI,CAACwB,OAAA,EAAS;QAAA;QAAA1B,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QAAA,OAAO;MAAA;MAAA;MAAA;QAAAF,cAAA,GAAAe,CAAA;MAAA;MAAAf,cAAA,GAAAE,CAAA;MAErB,OAAOwB,OAAA,CAAQiK,aAAa;IAC9B,EAAE,OAAO1K,KAAA,EAAO;MAAA;MAAAjB,cAAA,GAAAE,CAAA;MACdgD,OAAA,CAAQjC,KAAK,CAAC,qCAAqCA,KAAA;MAAA;MAAAjB,cAAA,GAAAE,CAAA;MACnD,OAAO;IACT;EACF;EAEA;EAEQW,0BAA0B+K,MAAW,EAAsC;IAAA;IAAA5L,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;IACjF,IAAI0L,MAAA,CAAOpK,QAAQ,CAAC4C,MAAM,GAAG,GAAG;MAAA;MAAApE,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MAC9B,OAAO;QAAEY,KAAA,EAAO;QAAOG,KAAA,EAAO;MAAqC;IACrE;IAAA;IAAA;MAAAjB,cAAA,GAAAe,CAAA;IAAA;IAEA,MAAM8K,eAAA;IAAA;IAAA,CAAA7L,cAAA,GAAAE,CAAA,SAAkB0L,MAAA,CAAOpK,QAAQ,CAACwE,MAAM,CAAEY,CAAA,IAAW;MAAA;MAAA5G,cAAA,GAAAC,CAAA;MAAAD,cAAA,GAAAE,CAAA;MAAA,OAAA0G,CAAA,CAAEC,UAAU;IAAV,CAAU;IAAA;IAAA7G,cAAA,GAAAE,CAAA;IACvE,IAAI2L,eAAA,CAAgBzH,MAAM,KAAK,GAAG;MAAA;MAAApE,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MAChC,OAAO;QAAEY,KAAA,EAAO;QAAOG,KAAA,EAAO;MAA6C;IAC7E;IAAA;IAAA;MAAAjB,cAAA,GAAAe,CAAA;IAAA;IAEA,MAAM+K,iBAAA;IAAA;IAAA,CAAA9L,cAAA,GAAAE,CAAA,SAAoB0L,MAAA,CAAOpK,QAAQ,CAAC0J,MAAM,CAAC,CAACa,GAAA,EAAanF,CAAA,KAAW;MAAA;MAAA5G,cAAA,GAAAC,CAAA;MAAAD,cAAA,GAAAE,CAAA;MAAA,OAAA6L,GAAA,GAAMnF,CAAA,CAAEoF,aAAa;IAAb,CAAa,EAAE;IAAA;IAAAhM,cAAA,GAAAE,CAAA;IACjG,IAAIwK,IAAA,CAAKuB,GAAG,CAACH,iBAAA,GAAoB,OAAO,MAAM;MAAA;MAAA9L,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MAC5C,OAAO;QAAEY,KAAA,EAAO;QAAOG,KAAA,EAAO;MAA0C;IAC1E;IAAA;IAAA;MAAAjB,cAAA,GAAAe,CAAA;IAAA;IAAAf,cAAA,GAAAE,CAAA;IAEA;IAAI;IAAA,CAAAF,cAAA,GAAAe,CAAA,WAAA6K,MAAA,CAAOtJ,kBAAkB,GAAG;IAAA;IAAA,CAAAtC,cAAA,GAAAe,CAAA,WAAK6K,MAAA,CAAOtJ,kBAAkB,GAAG,MAAK;MAAA;MAAAtC,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MACpE,OAAO;QAAEY,KAAA,EAAO;QAAOG,KAAA,EAAO;MAAiD;IACjF;IAAA;IAAA;MAAAjB,cAAA,GAAAe,CAAA;IAAA;IAAAf,cAAA,GAAAE,CAAA;IAEA,OAAO;MAAEY,KAAA,EAAO;IAAK;EACvB;EAEQkB,uBAAuBR,QAAyB,EAAQ;IAAA;IAAAxB,cAAA,GAAAC,CAAA;IAC9D,MAAMiM,KAAA;IAAA;IAAA,CAAAlM,cAAA,GAAAE,CAAA,SAAQsB,QAAA,CAAS0J,MAAM,CAAC,CAACa,GAAA,EAAKnF,CAAA,KAAM;MAAA;MAAA5G,cAAA,GAAAC,CAAA;MAAAD,cAAA,GAAAE,CAAA;MAAA,OAAA6L,GAAA,GAAMnF,CAAA,CAAEoF,aAAa;IAAb,CAAa,EAAE;IAAA;IAAAhM,cAAA,GAAAE,CAAA;IACjE,IAAIgM,KAAA,KAAU,KAAK;MAAA;MAAAlM,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MACjBsB,QAAA,CAAS2K,OAAO,CAACvF,CAAA;QAAA;QAAA5G,cAAA,GAAAC,CAAA;QAAAD,cAAA,GAAAE,CAAA;QACf0G,CAAA,CAAEoF,aAAa,GAAGpF,CAAC,CAAEoF,aAAa,GAAGE,KAAA,GAAS;MAChD;IACF;IAAA;IAAA;MAAAlM,cAAA,GAAAe,CAAA;IAAA;EACF;EAEQ0C,mBAAmBzC,IAAY,EAAsC;IAAA;IAAAhB,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;IAC3E,IAAIc,IAAA,CAAKQ,QAAQ,CAAC4C,MAAM,GAAG,GAAG;MAAA;MAAApE,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MAC5B,OAAO;QAAEwD,KAAA,EAAO;QAAOzC,KAAA,EAAO;MAAiC;IACjE;IAAA;IAAA;MAAAjB,cAAA,GAAAe,CAAA;IAAA;IAAAf,cAAA,GAAAE,CAAA;IAEA,IAAIc,IAAA,CAAKuB,OAAO,CAAC6B,MAAM,KAAK,GAAG;MAAA;MAAApE,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MAC7B,OAAO;QAAEwD,KAAA,EAAO;QAAOzC,KAAA,EAAO;MAA0C;IAC1E;IAAA;IAAA;MAAAjB,cAAA,GAAAe,CAAA;IAAA;IAEA,MAAMqL,gBAAA;IAAA;IAAA,CAAApM,cAAA,GAAAE,CAAA,SAAmBc,IAAA,CAAKuB,OAAO,CAAC8J,IAAI,CAACC,CAAA,IAAK;MAAA;MAAAtM,cAAA,GAAAC,CAAA;MAAAD,cAAA,GAAAE,CAAA;MAAA,OAAAoM,CAAA,CAAEC,OAAO;IAAP,CAAO;IAAA;IAAAvM,cAAA,GAAAE,CAAA;IACzD,IAAI,CAACkM,gBAAA,EAAkB;MAAA;MAAApM,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MACrB,OAAO;QAAEwD,KAAA,EAAO;QAAOzC,KAAA,EAAO;MAAyC;IACzE;IAAA;IAAA;MAAAjB,cAAA,GAAAe,CAAA;IAAA;IAAAf,cAAA,GAAAE,CAAA;IAEA,OAAO;MAAEwD,KAAA,EAAO;IAAK;EACvB;EAEA,MAAcS,0BAA0BqI,QAA0B,EAAqB;IAAA;IAAAxM,cAAA,GAAAC,CAAA;IACrF,MAAM;MAAE4C,IAAI;MAAE5B;IAAK,CAAE;IAAA;IAAA,CAAAjB,cAAA,GAAAE,CAAA,SAAG,MAAM,IAAI,CAACM,QAAQ,CACxCsC,IAAI,CAAC,YACLE,MAAM,CAAC,KACPY,EAAE,CAAC,qBAAqB4I,QAAA,EACxB5I,EAAE,CAAC,UAAU;IAAA;IAAA5D,cAAA,GAAAE,CAAA;IAEhB,OAAOe,KAAA;IAAA;IAAA,CAAAjB,cAAA,GAAAe,CAAA,WAAQ,EAAE;IAAA;IAAA,CAAAf,cAAA,GAAAe,CAAA;IAAG;IAAA,CAAAf,cAAA,GAAAe,CAAA,WAAA8B,IAAA;IAAA;IAAA,CAAA7C,cAAA,GAAAe,CAAA,WAAQ,EAAE;EAChC;EAEQwD,qBAAqBkI,KAAe,EAAiB;IAAA;IAAAzM,cAAA,GAAAC,CAAA;IAC3D;IACA,MAAMyM,MAAA;IAAA;IAAA,CAAA1M,cAAA,GAAAE,CAAA,SAASwK,IAAA,CAAKgC,MAAM,KAAK;IAC/B,IAAIC,UAAA;IAAA;IAAA,CAAA3M,cAAA,GAAAE,CAAA,SAAa;IAAA;IAAAF,cAAA,GAAAE,CAAA;IAEjB,KAAK,MAAMc,IAAA,IAAQyL,KAAA,EAAO;MAAA;MAAAzM,cAAA,GAAAE,CAAA;MACxByM,UAAA,IAAc3L,IAAA,CAAKsB,kBAAkB;MAAA;MAAAtC,cAAA,GAAAE,CAAA;MACrC,IAAIwM,MAAA,IAAUC,UAAA,EAAY;QAAA;QAAA3M,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QACxB,OAAOc,IAAA;MACT;MAAA;MAAA;QAAAhB,cAAA,GAAAe,CAAA;MAAA;IACF;IAAA;IAAAf,cAAA,GAAAE,CAAA;IAEA,OAAO;EACT;EAEQuE,gBAAgBV,SAAiB,EAAE/C,IAAY,EAAiB;IAAA;IAAAhB,cAAA,GAAAC,CAAA;IACtE;IACA,MAAM2M,IAAA;IAAA;IAAA,CAAA5M,cAAA,GAAAE,CAAA,SAAO,IAAI,CAAC2M,UAAU,CAAC9I,SAAA,GAAY/C,IAAA,CAAKW,EAAE;IAChD,MAAM+K,MAAA;IAAA;IAAA,CAAA1M,cAAA,GAAAE,CAAA,SAAS0M,IAAC,GAAO,QAAS,KAAI;IAAA;IAEpC,IAAID,UAAA;IAAA;IAAA,CAAA3M,cAAA,GAAAE,CAAA,SAAa;IAAA;IAAAF,cAAA,GAAAE,CAAA;IACjB,KAAK,MAAMwB,OAAA,IAAWV,IAAA,CAAKQ,QAAQ,EAAE;MAAA;MAAAxB,cAAA,GAAAE,CAAA;MACnCyM,UAAA,IAAcjL,OAAA,CAAQsK,aAAa;MAAA;MAAAhM,cAAA,GAAAE,CAAA;MACnC,IAAIwM,MAAA,IAAUC,UAAA,EAAY;QAAA;QAAA3M,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QACxB,OAAOwB,OAAA;MACT;MAAA;MAAA;QAAA1B,cAAA,GAAAe,CAAA;MAAA;IACF;IAEA;IAAA;IAAAf,cAAA,GAAAE,CAAA;IACA,OAAO,2BAAAF,cAAA,GAAAe,CAAA,WAAAC,IAAA,CAAKQ,QAAQ,CAACmF,IAAI,CAACC,CAAA,IAAK;MAAA;MAAA5G,cAAA,GAAAC,CAAA;MAAAD,cAAA,GAAAE,CAAA;MAAA,OAAA0G,CAAA,CAAEC,UAAU;IAAV,CAAU;IAAA;IAAA,CAAA7G,cAAA,GAAAe,CAAA,WAAKC,IAAA,CAAKQ,QAAQ,CAAC,EAAE;EAClE;EAEQqL,WAAWC,GAAW,EAAU;IAAA;IAAA9M,cAAA,GAAAC,CAAA;IACtC,IAAI2M,IAAA;IAAA;IAAA,CAAA5M,cAAA,GAAAE,CAAA,SAAO;IAAA;IAAAF,cAAA,GAAAE,CAAA;IACX,KAAK,IAAI6M,CAAA;IAAA;IAAA,CAAA/M,cAAA,GAAAE,CAAA,SAAI,IAAG6M,CAAA,GAAID,GAAA,CAAI1I,MAAM,EAAE2I,CAAA,IAAK;MACnC,MAAMC,IAAA;MAAA;MAAA,CAAAhN,cAAA,GAAAE,CAAA,SAAO4M,GAAA,CAAIG,UAAU,CAACF,CAAA;MAAA;MAAA/M,cAAA,GAAAE,CAAA;MAC5B0M,IAAA,GAAO,CAAEA,IAAA,IAAQ,KAAKA,IAAA,GAAQI,IAAA;MAAA;MAAAhN,cAAA,GAAAE,CAAA;MAC9B0M,IAAA,GAAOA,IAAA,GAAOA,IAAA,EAAK;IACrB;IAAA;IAAA5M,cAAA,GAAAE,CAAA;IACA,OAAOwK,IAAA,CAAKuB,GAAG,CAACW,IAAA;EAClB;EAEA,MAAc1H,gBAAgBb,UAA4B,EAAiB;IAAA;IAAArE,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;IACzE,MAAM,IAAI,CAACM,QAAQ,CAChBsC,IAAI,CAAC,uBACLC,MAAM,CAAC;MACN2B,UAAA,EAAYL,UAAA,CAAWK,UAAU;MACjCC,OAAA,EAASN,UAAA,CAAWM,OAAO;MAC3BC,UAAA,EAAYP,UAAA,CAAWO,UAAU;MACjCC,WAAA,EAAaR,UAAA,CAAWQ,WAAW;MACnCC,UAAA,EAAYT,UAAA,CAAWS,UAAU;MACjCC,UAAA,EAAYV,UAAA,CAAWU,UAAU;MACjCC,oBAAA,EAAsBX,UAAA,CAAWW,oBAAoB;MACrDQ,gBAAA,EAAkBnB,UAAA,CAAWmB,gBAAgB;MAC7CP,eAAA,EAAiBZ,UAAA,CAAWY;IAC9B;EACJ;EAEA,MAAcE,yBAAyBjE,MAAc,EAAEgM,SAAiB,EAAiB;IAAA;IAAAlN,cAAA,GAAAC,CAAA;IACvF;IACA,MAAM;MAAE4C,IAAA,EAAMnB;IAAO,CAAE;IAAA;IAAA,CAAA1B,cAAA,GAAAE,CAAA,SAAG,MAAM,IAAI,CAACM,QAAQ,CAC1CsC,IAAI,CAAC,oBACLE,MAAM,CAAC,iBACPY,EAAE,CAAC,WAAW1C,MAAA,EACd0C,EAAE,CAAC,cAAcsJ,SAAA,EACjBjK,MAAM;IAAA;IAAAjD,cAAA,GAAAE,CAAA;IAET,IAAIwB,OAAA,EAAS;MAAA;MAAA1B,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MACX,MAAM,IAAI,CAACM,QAAQ,CAChBsC,IAAI,CAAC,oBACLa,MAAM,CAAC;QAAE/B,aAAA,EAAeF,OAAA,CAAQE,aAAa,GAAG;MAAE,GAClDgC,EAAE,CAAC,WAAW1C,MAAA,EACd0C,EAAE,CAAC,cAAcsJ,SAAA;IACtB;IAAA;IAAA;MAAAlN,cAAA,GAAAe,CAAA;IAAA;EACF;EAEA,MAAc0E,4BAA4BvE,MAAc,EAAEgM,SAAiB,EAAiB;IAAA;IAAAlN,cAAA,GAAAC,CAAA;IAC1F;IACA,MAAM;MAAE4C,IAAA,EAAMnB;IAAO,CAAE;IAAA;IAAA,CAAA1B,cAAA,GAAAE,CAAA,SAAG,MAAM,IAAI,CAACM,QAAQ,CAC1CsC,IAAI,CAAC,oBACLE,MAAM,CAAC,mCACPY,EAAE,CAAC,WAAW1C,MAAA,EACd0C,EAAE,CAAC,cAAcsJ,SAAA,EACjBjK,MAAM;IAAA;IAAAjD,cAAA,GAAAE,CAAA;IAET,IAAIwB,OAAA,EAAS;MAAA;MAAA1B,cAAA,GAAAe,CAAA;MACX,MAAMoM,kBAAA;MAAA;MAAA,CAAAnN,cAAA,GAAAE,CAAA,SAAqBwB,OAAA,CAAQG,gBAAgB,GAAG;MACtD,MAAM0E,cAAA;MAAA;MAAA,CAAAvG,cAAA,GAAAE,CAAA,SAAiBwB,OAAA,CAAQE,aAAa,GAAG;MAAA;MAAA,CAAA5B,cAAA,GAAAe,CAAA,WAAIoM,kBAAC,GAAqBzL,OAAA,CAAQE,aAAa,GAAI;MAAA;MAAA,CAAA5B,cAAA,GAAAe,CAAA,WAAM;MAAA;MAAAf,cAAA,GAAAE,CAAA;MAExG,MAAM,IAAI,CAACM,QAAQ,CAChBsC,IAAI,CAAC,oBACLa,MAAM,CAAC;QACN9B,gBAAA,EAAkBsL,kBAAA;QAClBrL,eAAA,EAAiByE;MACnB,GACC3C,EAAE,CAAC,WAAW1C,MAAA,EACd0C,EAAE,CAAC,cAAcsJ,SAAA;IACtB;IAAA;IAAA;MAAAlN,cAAA,GAAAe,CAAA;IAAA;EACF;EAEA,MAAcuC,QAAQpC,MAAc,EAA0B;IAAA;IAAAlB,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;IAC5D;IACA,IAAI,IAAI,CAACI,WAAW,CAAC8M,GAAG,CAAClM,MAAA,GAAS;MAAA;MAAAlB,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MAChC,OAAO,IAAI,CAACI,WAAW,CAAC+M,GAAG,CAACnM,MAAA;IAC9B;IAAA;IAAA;MAAAlB,cAAA,GAAAe,CAAA;IAAA;IAEA,MAAM;MAAE8B,IAAI;MAAE5B;IAAK,CAAE;IAAA;IAAA,CAAAjB,cAAA,GAAAE,CAAA,SAAG,MAAM,IAAI,CAACM,QAAQ,CACxCsC,IAAI,CAAC,YACLE,MAAM,CAAC,KACPY,EAAE,CAAC,MAAM1C,MAAA,EACT+B,MAAM;IAAA;IAAAjD,cAAA,GAAAE,CAAA;IAET,OAAOe,KAAA;IAAA;IAAA,CAAAjB,cAAA,GAAAe,CAAA,WAAQ;IAAA;IAAA,CAAAf,cAAA,GAAAe,CAAA,WAAO8B,IAAA;EACxB;EAEA,MAAc0C,uBAAuBxB,SAAiB,EAAoC;IAAA;IAAA/D,cAAA,GAAAC,CAAA;IACxF,MAAM;MAAE4C,IAAI;MAAE5B;IAAK,CAAE;IAAA;IAAA,CAAAjB,cAAA,GAAAE,CAAA,SAAG,MAAM,IAAI,CAACM,QAAQ,CACxCsC,IAAI,CAAC,uBACLE,MAAM,CAAC,KACPY,EAAE,CAAC,cAAcG,SAAA,EACjBd,MAAM;IAAA;IAAAjD,cAAA,GAAAE,CAAA;IAET,OAAOe,KAAA;IAAA;IAAA,CAAAjB,cAAA,GAAAe,CAAA,WAAQ;IAAA;IAAA,CAAAf,cAAA,GAAAe,CAAA,WAAO8B,IAAA;EACxB;EAEA,MAAcgD,mBAAmB3E,MAAc,EAA+B;IAAA;IAAAlB,cAAA,GAAAC,CAAA;IAC5E,MAAM;MAAE4C,IAAI;MAAE5B;IAAK,CAAE;IAAA;IAAA,CAAAjB,cAAA,GAAAE,CAAA,SAAG,MAAM,IAAI,CAACM,QAAQ,CACxCsC,IAAI,CAAC,uBACLE,MAAM,CAAC,KACPY,EAAE,CAAC,WAAW1C,MAAA;IAAA;IAAAlB,cAAA,GAAAE,CAAA;IAEjB,OAAOe,KAAA;IAAA;IAAA,CAAAjB,cAAA,GAAAe,CAAA,WAAQ,EAAE;IAAA;IAAA,CAAAf,cAAA,GAAAe,CAAA;IAAG;IAAA,CAAAf,cAAA,GAAAe,CAAA,WAAA8B,IAAA;IAAA;IAAA,CAAA7C,cAAA,GAAAe,CAAA,WAAQ,EAAE;EAChC;EAEQ0F,4BACNkB,WAAmB,EACnBD,QAAgB,EAChB4F,eAAuB,EACW;IAAA;IAAAtN,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;IAClC,IAAIwH,QAAA,KAAa,GAAG;MAAA;MAAA1H,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MAAA,OAAO;QAAEqN,KAAA,EAAO;QAAGC,KAAA,EAAO;MAAE;IAAA;IAAA;IAAA;MAAAxN,cAAA,GAAAe,CAAA;IAAA;IAEhD,MAAM0M,CAAA;IAAA;IAAA,CAAAzN,cAAA,GAAAE,CAAA,SAAIyH,WAAA,GAAcD,QAAA;IACxB,MAAMgG,CAAA;IAAA;IAAA,CAAA1N,cAAA,GAAAE,CAAA,SAAI,IAAI,CAACyN,SAAS,CAACL,eAAA;IACzB,MAAMM,aAAA;IAAA;IAAA,CAAA5N,cAAA,GAAAE,CAAA,SAAgBwK,IAAA,CAAKmD,IAAI,CAACJ,CAAC,IAAK,IAAIA,CAAA,IAAM/F,QAAA;IAChD,MAAMoG,MAAA;IAAA;IAAA,CAAA9N,cAAA,GAAAE,CAAA,SAASwN,CAAA,GAAIE,aAAA;IAAA;IAAA5N,cAAA,GAAAE,CAAA;IAEnB,OAAO;MACLqN,KAAA,EAAO7C,IAAA,CAAKqD,GAAG,CAAC,GAAG,CAACN,CAAA,GAAIK,MAAK,IAAK;MAClCN,KAAA,EAAO9C,IAAA,CAAKsD,GAAG,CAAC,KAAK,CAACP,CAAA,GAAIK,MAAK,IAAK;IACtC;EACF;EAEQH,UAAUL,eAAuB,EAAU;IAAA;IAAAtN,cAAA,GAAAC,CAAA;IACjD,MAAMgO,OAAA;IAAA;IAAA,CAAAjO,cAAA,GAAAE,CAAA,SAAkC;MACtC,IAAI;MACJ,IAAI;MACJ,IAAI;IACN;IAAA;IAAAF,cAAA,GAAAE,CAAA;IACA,OAAO,2BAAAF,cAAA,GAAAe,CAAA,WAAAkN,OAAO,CAACX,eAAA,CAAgB;IAAA;IAAA,CAAAtN,cAAA,GAAAe,CAAA,WAAI;EACrC;EAEQoG,iCACNoC,oBAA4B,EAC5BC,iBAAyB,EACzB1C,kBAA0B,EAC1BC,eAAuB,EACE;IAAA;IAAA/G,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;IACzB;IAAI;IAAA,CAAAF,cAAA,GAAAe,CAAA,WAAAyI,iBAAA,KAAsB;IAAA;IAAA,CAAAxJ,cAAA,GAAAe,CAAA,WAAKgG,eAAA,KAAoB,IAAG;MAAA;MAAA/G,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MACpD,OAAO;QACL4H,OAAA,EAAS;QACTtF,gBAAA,EAAkB;QAClB0L,cAAA,EAAgB;QAChBC,KAAA,EAAO;QACPpF,WAAA,EAAa;QACbqF,0BAAA,EAA4B;MAC9B;IACF;IAAA;IAAA;MAAApO,cAAA,GAAAe,CAAA;IAAA;IAEA,MAAMsN,EAAA;IAAA;IAAA,CAAArO,cAAA,GAAAE,CAAA,SAAKqJ,oBAAA,GAAuBC,iBAAA;IAClC,MAAM8E,EAAA;IAAA;IAAA,CAAAtO,cAAA,GAAAE,CAAA,SAAK4G,kBAAA,GAAqBC,eAAA;IAChC,MAAMwH,OAAA;IAAA;IAAA,CAAAvO,cAAA,GAAAE,CAAA,SAAU,CAACqJ,oBAAA,GAAuBzC,kBAAiB,KAAM0C,iBAAA,GAAoBzC,eAAc;IAEjG,MAAM6G,aAAA;IAAA;IAAA,CAAA5N,cAAA,GAAAE,CAAA,SAAgBwK,IAAA,CAAKmD,IAAI,CAACU,OAAA,IAAW,IAAIA,OAAM,KAAM,IAAE/E,iBAAA,GAAoB,IAAEzC,eAAc;IACjG,MAAMyH,MAAA;IAAA;IAAA,CAAAxO,cAAA,GAAAE,CAAA,SAASwK,IAAA,CAAKuB,GAAG,CAACoC,EAAA,GAAKC,EAAA,IAAMV,aAAA;IAEnC;IACA,MAAMa,MAAA;IAAA;IAAA,CAAAzO,cAAA,GAAAE,CAAA,SAAS,KAAK,IAAI,IAAI,CAACwO,SAAS,CAAChE,IAAA,CAAKuB,GAAG,CAACuC,MAAA,EAAO;IAEvD,MAAMjG,UAAA;IAAA;IAAA,CAAAvI,cAAA,GAAAE,CAAA,SAAa,IAAI,CAACyO,gBAAgB,CAACN,EAAA,EAAIC,EAAA;IAC7C,MAAMH,KAAA;IAAA;IAAA,CAAAnO,cAAA,GAAAE,CAAA,SAAQ,IAAI,CAAC0O,cAAc,CAACrG,UAAA,EAAYiB,iBAAA,GAAoBzC,eAAA;IAAA;IAAA/G,cAAA,GAAAE,CAAA;IAElE,OAAO;MACL4H,OAAA,EAAS2G,MAAA;MACTjM,gBAAA,EAAkB;MAClB0L,cAAA,EAAgBO,MAAA,GAAS;MACzBN,KAAA,EAAOA,KAAA;MACPpF,WAAA,EAAaR,UAAA;MACb6F,0BAAA,EAA4B,IAAI,CAACS,iCAAiC,CAACtG,UAAA,EAAY,KAAK;IACtF;EACF;EAEQmG,UAAUhB,CAAS,EAAU;IAAA;IAAA1N,cAAA,GAAAC,CAAA;IACnC;IACA,MAAM6O,EAAA;IAAA;IAAA,CAAA9O,cAAA,GAAAE,CAAA,SAAM;IACZ,MAAM6O,EAAA;IAAA;IAAA,CAAA/O,cAAA,GAAAE,CAAA,SAAK,CAAC;IACZ,MAAM8O,EAAA;IAAA;IAAA,CAAAhP,cAAA,GAAAE,CAAA,SAAM;IACZ,MAAM+O,EAAA;IAAA;IAAA,CAAAjP,cAAA,GAAAE,CAAA,SAAK,CAAC;IACZ,MAAMgP,EAAA;IAAA;IAAA,CAAAlP,cAAA,GAAAE,CAAA,SAAM;IACZ,MAAMuN,CAAA;IAAA;IAAA,CAAAzN,cAAA,GAAAE,CAAA,SAAM;IAEZ,MAAMiP,IAAA;IAAA;IAAA,CAAAnP,cAAA,GAAAE,CAAA,SAAOwN,CAAA,GAAI;IAAA;IAAA,CAAA1N,cAAA,GAAAe,CAAA,WAAI,CAAC;IAAA;IAAA,CAAAf,cAAA,GAAAe,CAAA,WAAI;IAAA;IAAAf,cAAA,GAAAE,CAAA;IAC1BwN,CAAA,GAAIhD,IAAA,CAAKuB,GAAG,CAACyB,CAAA,IAAKhD,IAAA,CAAKmD,IAAI,CAAC;IAE5B,MAAMuB,CAAA;IAAA;IAAA,CAAApP,cAAA,GAAAE,CAAA,SAAI,OAAO,MAAMuN,CAAA,GAAIC,CAAA;IAC3B,MAAM2B,CAAA;IAAA;IAAA,CAAArP,cAAA,GAAAE,CAAA,SAAI,MAAM,CAAC,CAAC,CAAC,CAAEgP,EAAA,GAAKE,CAAA,GAAIH,EAAC,IAAKG,CAAA,GAAKJ,EAAC,IAAKI,CAAA,GAAIL,EAAC,IAAKK,CAAA,GAAIN,EAAC,IAAKM,CAAA,GAAI1E,IAAA,CAAK4E,GAAG,CAAC,CAAC5B,CAAA,GAAIA,CAAA;IAAA;IAAA1N,cAAA,GAAAE,CAAA;IAErF,OAAO,OAAO,MAAMiP,IAAA,GAAOE,CAAA;EAC7B;EAEQV,iBAAiBN,EAAU,EAAEC,EAAU,EAAU;IAAA;IAAAtO,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;IACvD;IACA,OAAO,KAAKwK,IAAA,CAAK6E,IAAI,CAAC7E,IAAA,CAAKmD,IAAI,CAACQ,EAAA,KAAO3D,IAAA,CAAK6E,IAAI,CAAC7E,IAAA,CAAKmD,IAAI,CAACS,EAAA,EAAG;EAChE;EAEQM,eAAerG,UAAkB,EAAEiH,UAAkB,EAAU;IAAA;IAAAxP,cAAA,GAAAC,CAAA;IACrE;IACA,MAAMwP,GAAA;IAAA;IAAA,CAAAzP,cAAA,GAAAE,CAAA,SAAMqI,UAAA,GAAamC,IAAA,CAAKmD,IAAI,CAAC2B,UAAA,GAAa;IAAA;IAAAxP,cAAA,GAAAE,CAAA;IAChD,OAAO,IAAI,CAACwO,SAAS,CAACe,GAAA,GAAM;EAC9B;EAEQZ,kCAAkCtG,UAAkB,EAAE4F,KAAa,EAAEzE,KAAa,EAAU;IAAA;IAAA1J,cAAA,GAAAC,CAAA;IAClG;IACA,MAAMyP,MAAA;IAAA;IAAA,CAAA1P,cAAA,GAAAE,CAAA,SAAS,IAAI,CAACyN,SAAS,CAAC,CAAC,IAAIjE,KAAI,IAAK;IAC5C,MAAMiG,KAAA;IAAA;IAAA,CAAA3P,cAAA,GAAAE,CAAA,SAAQ,IAAI,CAACyN,SAAS,CAACQ,KAAA,GAAQ;IAAA;IAAAnO,cAAA,GAAAE,CAAA;IAErC,OAAOwK,IAAA,CAAKkF,IAAI,CAAC,IAAIlF,IAAA,CAAKC,GAAG,CAAC+E,MAAA,GAASC,KAAA,EAAO,KAAKjF,IAAA,CAAKC,GAAG,CAACpC,UAAA,EAAY;EAC1E;EAEQhB,qBAAqB3B,WAA+B,EAAEyB,MAAoB,EAAU;IAAA;IAAArH,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;IAC1F,IAAI0F,WAAA,CAAYxB,MAAM,KAAK,GAAG;MAAA;MAAApE,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MAAA,OAAO;IAAA;IAAA;IAAA;MAAAF,cAAA,GAAAe,CAAA;IAAA;IAAAf,cAAA,GAAAE,CAAA;IAErC,QAAQmH,MAAA,CAAOwI,IAAI;MACjB,KAAK;QAAA;QAAA7P,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QACH,OAAO0F,WAAC,CAAYI,MAAM,CAACC,CAAA,IAAK;UAAA;UAAAjG,cAAA,GAAAC,CAAA;UAAAD,cAAA,GAAAE,CAAA;UAAA,OAAA+F,CAAA,CAAEjB,oBAAoB;QAApB,CAAoB,EAAEZ,MAAM,GAAGwB,WAAA,CAAYxB,MAAM,GAAI;MACzF,KAAK;QAAA;QAAApE,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QACH,OAAO0F,WAAA,CAAYsF,MAAM,CAAC,CAACa,GAAA,EAAK9F,CAAA,KAAM;UAAA;UAAAjG,cAAA,GAAAC,CAAA;UAAAD,cAAA,GAAAE,CAAA;UAAA,OAAA6L,GAAA;UAAO;UAAA,CAAA/L,cAAA,GAAAe,CAAA,WAAAkF,CAAA,CAAET,gBAAgB;UAAA;UAAA,CAAAxF,cAAA,GAAAe,CAAA,WAAI;QAAA,GAAI,KAAK6E,WAAA,CAAYxB,MAAM;MAChG,KAAK;QAAA;QAAApE,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QACH,OAAO0F,WAAA,CAAYsF,MAAM,CAAC,CAACa,GAAA,EAAK9F,CAAA,KAAM;UAAA;UAAAjG,cAAA,GAAAC,CAAA;UAAAD,cAAA,GAAAE,CAAA;UAAA,OAAA6L,GAAA;UAAO;UAAA,CAAA/L,cAAA,GAAAe,CAAA,WAAAkF,CAAA,CAAEhB,eAAe,CAAC6K,UAAU;UAAA;UAAA,CAAA9P,cAAA,GAAAe,CAAA,WAAI;QAAA,GAAI,KAAK6E,WAAA,CAAYxB,MAAM;MAC1G,KAAK;QAAA;QAAApE,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QACH,OAAO0F,WAAA,CAAYsF,MAAM,CAAC,CAACa,GAAA,EAAK9F,CAAA,KAAM;UAAA;UAAAjG,cAAA,GAAAC,CAAA;UAAAD,cAAA,GAAAE,CAAA;UAAA,OAAA6L,GAAA;UAAO;UAAA,CAAA/L,cAAA,GAAAe,CAAA,WAAAkF,CAAA,CAAEhB,eAAe,CAAC8K,gBAAgB;UAAA;UAAA,CAAA/P,cAAA,GAAAe,CAAA,WAAI;QAAA,GAAI,KAAK6E,WAAA,CAAYxB,MAAM;MAChH;QAAA;QAAApE,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QACE,OAAO0F,WAAA,CAAYsF,MAAM,CAAC,CAACa,GAAA,EAAK9F,CAAA,KAAM;UAAA;UAAAjG,cAAA,GAAAC,CAAA;UAAAD,cAAA,GAAAE,CAAA;UAAA,OAAA6L,GAAA;UAAO;UAAA,CAAA/L,cAAA,GAAAe,CAAA,WAAAkF,CAAA,CAAEhB,eAAe,CAACoC,MAAA,CAAOpF,IAAI,CAAC;UAAA;UAAA,CAAAjC,cAAA,GAAAe,CAAA,WAAI;QAAA,GAAI,KAAK6E,WAAA,CAAYxB,MAAM;IAC9G;EACF;EAEQ8D,6BACN/B,cAA+B,EAC/BmH,eAAuB,EACE;IAAA;IAAAtN,cAAA,GAAAC,CAAA;IACzB;IACA,MAAM+P,kBAAA;IAAA;IAAA,CAAAhQ,cAAA,GAAAE,CAAA,SAAqBiG,cAAA,CAAeH,MAAM,CAACY,CAAA,IAAK;MAAA;MAAA5G,cAAA,GAAAC,CAAA;MAAAD,cAAA,GAAAE,CAAA;MAAA,QAAC0G,CAAA,CAAEa,YAAY,CAACwI,WAAW,GAAGC,QAAQ,CAAC;IAAA;IAAA;IAAAlQ,cAAA,GAAAE,CAAA;IAC7F,IAAI8P,kBAAA,CAAmB5L,MAAM,KAAK,GAAG;MAAA;MAAApE,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MACnC,OAAO;QACL4H,OAAA,EAAS;QACTtF,gBAAA,EAAkB8K,eAAA;QAClBY,cAAA,EAAgB;QAChBC,KAAA,EAAO;QACPpF,WAAA,EAAa;QACbqF,0BAAA,EAA4B;MAC9B;IACF;IAAA;IAAA;MAAApO,cAAA,GAAAe,CAAA;IAAA;IAEA,MAAMoP,WAAA;IAAA;IAAA,CAAAnQ,cAAA,GAAAE,CAAA,SAAc8P,kBAAA,CAAmB9E,MAAM,CAAC,CAACkF,IAAA,EAAMhF,OAAA,KACnD;MAAA;MAAApL,cAAA,GAAAC,CAAA;MAAAD,cAAA,GAAAE,CAAA;MAAA,OAAAkL,OAAA,CAAQtJ,eAAe,GAAGsO,IAAA,CAAKtO,eAAe;MAAA;MAAA,CAAA9B,cAAA,GAAAe,CAAA,WAAGqK,OAAA;MAAA;MAAA,CAAApL,cAAA,GAAAe,CAAA,WAAUqP,IAAA;IAAA;IAAA;IAAApQ,cAAA,GAAAE,CAAA;IAG7D,OAAO;MACL4H,OAAA,EAASqI,WAAA,CAAYtI,wBAAwB;MAC7CrF,gBAAA,EAAkB8K,eAAA;MAClBY,cAAA,EAAgBiC,WAAA,CAAYtI,wBAAwB,GAAI,IAAIyF,eAAA,GAAkB;MAC9Ea,KAAA,EAAO;MACPpF,WAAA,EAAa2B,IAAA,CAAKuB,GAAG,CAACkE,WAAA,CAAYpI,wBAAwB,IAAI;MAC9DqG,0BAAA,EAA4B,KAAK;IACnC;EACF;EAEQhG,wBACNjC,cAA+B,EAC/Be,YAAqC,EACrClG,IAAY,EACF;IAAA;IAAAhB,cAAA,GAAAC,CAAA;IACV,MAAMkI,eAAA;IAAA;IAAA,CAAAnI,cAAA,GAAAE,CAAA,SAA4B,EAAE;IAAA;IAAAF,cAAA,GAAAE,CAAA;IAEpC,IAAIgH,YAAA,CAAagH,cAAc,EAAE;MAAA;MAAAlO,cAAA,GAAAe,CAAA;MAC/B,MAAMoP,WAAA;MAAA;MAAA,CAAAnQ,cAAA,GAAAE,CAAA,SAAciG,cAAA,CAAe+E,MAAM,CAAC,CAACkF,IAAA,EAAMhF,OAAA,KAC/C;QAAA;QAAApL,cAAA,GAAAC,CAAA;QAAAD,cAAA,GAAAE,CAAA;QAAA,OAAAkL,OAAA,CAAQtJ,eAAe,GAAGsO,IAAA,CAAKtO,eAAe;QAAA;QAAA,CAAA9B,cAAA,GAAAe,CAAA,WAAGqK,OAAA;QAAA;QAAA,CAAApL,cAAA,GAAAe,CAAA,WAAUqP,IAAA;MAAA;MAAA;MAAApQ,cAAA,GAAAE,CAAA;MAE7DiI,eAAA,CAAgBX,IAAI,CAAC,UAAU2I,WAAA,CAAY1I,YAAY,qDAAqD;IAC9G,OAAO;MAAA;MAAAzH,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MACLiI,eAAA,CAAgBX,IAAI,CAAC;MAAA;MAAAxH,cAAA,GAAAE,CAAA;MAErB,IAAIgH,YAAA,CAAakH,0BAA0B,GAAGjI,cAAA,CAAe+E,MAAM,CAAC,CAACa,GAAA,EAAKnF,CAAA,KAAM;QAAA;QAAA5G,cAAA,GAAAC,CAAA;QAAAD,cAAA,GAAAE,CAAA;QAAA,OAAA6L,GAAA,GAAMnF,CAAA,CAAEc,QAAQ;MAAR,CAAQ,EAAE,IAAI;QAAA;QAAA1H,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QACpGiI,eAAA,CAAgBX,IAAI,CAAC,2BAA2BN,YAAA,CAAakH,0BAA0B,mBAAmB;MAC5G;MAAA;MAAA;QAAApO,cAAA,GAAAe,CAAA;MAAA;IACF;IAEA;IACA,MAAMsP,qBAAA;IAAA;IAAA,CAAArQ,cAAA,GAAAE,CAAA,SAAwBiG,cAAA,CAAeH,MAAM,CAACY,CAAA,IAAK;MAAA;MAAA5G,cAAA,GAAAC,CAAA;MAAAD,cAAA,GAAAE,CAAA;MAAA,OAAA0G,CAAA,CAAE9E,eAAe,GAAG;IAAA;IAAA;IAAA9B,cAAA,GAAAE,CAAA;IAC7E,IAAImQ,qBAAA,CAAsBjM,MAAM,GAAG,GAAG;MAAA;MAAApE,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MACpCiI,eAAA,CAAgBX,IAAI,CAAC;IACvB;IAAA;IAAA;MAAAxH,cAAA,GAAAe,CAAA;IAAA;IAAAf,cAAA,GAAAE,CAAA;IAEA,OAAOiI,eAAA;EACT;EAEQG,gCACNnC,cAA+B,EAC/BnF,IAAY,EACU;IAAA;IAAAhB,cAAA,GAAAC,CAAA;IACtB,MAAMqQ,SAAA;IAAA;IAAA,CAAAtQ,cAAA,GAAAE,CAAA,SAAkC,EAAE;IAAA;IAAAF,cAAA,GAAAE,CAAA;IAE1C,KAAK,MAAMwB,OAAA,IAAWyE,cAAA,EAAgB;MAAA;MAAAnG,cAAA,GAAAE,CAAA;MACpC,KAAK,MAAMmH,MAAA,IAAUrG,IAAA,CAAKuB,OAAO,EAAE;QAAA;QAAAvC,cAAA,GAAAE,CAAA;QACjCoQ,SAAA,CAAU9I,IAAI,CAAC;UACbH,MAAA,EAAQA,MAAA,CAAOpF,IAAI;UACnB2C,UAAA,EAAYlD,OAAA,CAAQkD,UAAU;UAC9B2L,WAAA,EAAa7O,OAAA,CAAQkG,mBAAmB,CAAC2F,KAAK;UAC9CiD,WAAA,EAAa9O,OAAA,CAAQkG,mBAAmB,CAAC4F,KAAK;UAC9ChL,gBAAA,EAAkBxB,IAAA,CAAKwB;QACzB;MACF;IACF;IAAA;IAAAxC,cAAA,GAAAE,CAAA;IAEA,OAAOoQ,SAAA;EACT;EAEQ9H,oBAAoBrC,cAA+B,EAAU;IAAA;IAAAnG,cAAA,GAAAC,CAAA;IACnE,MAAMyG,cAAA;IAAA;IAAA,CAAA1G,cAAA,GAAAE,CAAA,SAAiBiG,cAAA,CAAeQ,IAAI,CAACC,CAAA,IAAK;MAAA;MAAA5G,cAAA,GAAAC,CAAA;MAAAD,cAAA,GAAAE,CAAA;MAAA,OAAA0G,CAAA,CAAEa,YAAY,CAACwI,WAAW,GAAGC,QAAQ,CAAC;IAAA;IAAA;IAAAlQ,cAAA,GAAAE,CAAA;IACtF,IAAI,CAACwG,cAAA,EAAgB;MAAA;MAAA1G,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MAAA,OAAO;IAAA;IAAA;IAAA;MAAAF,cAAA,GAAAe,CAAA;IAAA;IAE5B,MAAMqI,iBAAA;IAAA;IAAA,CAAApJ,cAAA,GAAAE,CAAA,SAAoBiG,cAAA,CAAeH,MAAM,CAACY,CAAA,IAAK;MAAA;MAAA5G,cAAA,GAAAC,CAAA;MAAAD,cAAA,GAAAE,CAAA;MAAA,OAAA0G,CAAA,KAAMF,cAAA;IAAA;IAAA;IAAA1G,cAAA,GAAAE,CAAA;IAC3D,IAAIkJ,iBAAA,CAAkBhF,MAAM,KAAK,GAAG;MAAA;MAAApE,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MAAA,OAAO;IAAA;IAAA;IAAA;MAAAF,cAAA,GAAAe,CAAA;IAAA;IAE3C,MAAM0P,aAAA;IAAA;IAAA,CAAAzQ,cAAA,GAAAE,CAAA,SAAgBkJ,iBAAA,CAAkB8B,MAAM,CAAC,CAACkF,IAAA,EAAMhF,OAAA,KACpD;MAAA;MAAApL,cAAA,GAAAC,CAAA;MAAAD,cAAA,GAAAE,CAAA;MAAA,OAAAkL,OAAA,CAAQtJ,eAAe,GAAGsO,IAAA,CAAKtO,eAAe;MAAA;MAAA,CAAA9B,cAAA,GAAAe,CAAA,WAAGqK,OAAA;MAAA;MAAA,CAAApL,cAAA,GAAAe,CAAA,WAAUqP,IAAA;IAAA;IAAA;IAAApQ,cAAA,GAAAE,CAAA;IAG7D,OAAO,IAAI,CAACyO,gBAAgB,CAC1B8B,aAAA,CAAc3O,eAAe,GAAG,KAChC4E,cAAA,CAAe5E,eAAe,GAAG;EAErC;EAEA,MAAcmH,iBAAiB/H,MAAc,EAAEuH,OAAsB,EAAiB;IAAA;IAAAzI,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;IACpF,MAAM,IAAI,CAACM,QAAQ,CAChBsC,IAAI,CAAC,mBACL4N,MAAM,CAAC;MACN/L,OAAA,EAASzD,MAAA;MACTyP,YAAA,EAAclI,OAAA;MACdO,YAAA,EAAcP,OAAA,CAAQO;IACxB;EACJ;EAEQc,qBACNL,gBAAiD,EACjDG,kBAAmD,EACnDgH,WAAA;EAAA;EAAA,CAAA5Q,cAAA,GAAAe,CAAA,WAAsB,KAAK,GACnB;IAAA;IAAAf,cAAA,GAAAC,CAAA;IACR,IAAI4Q,aAAA;IAAA;IAAA,CAAA7Q,cAAA,GAAAE,CAAA,SAAgB;IAAA;IAAAF,cAAA,GAAAE,CAAA;IAEpB,KAAK,IAAI6M,CAAA;IAAA;IAAA,CAAA/M,cAAA,GAAAE,CAAA,SAAI,IAAG6M,CAAA,GAAI6D,WAAA,EAAa7D,CAAA,IAAK;MACpC,MAAM+D,aAAA;MAAA;MAAA,CAAA9Q,cAAA,GAAAE,CAAA,SAAgB,IAAI,CAAC6Q,UAAU,CAACtH,gBAAA,CAAiBC,KAAK,EAAED,gBAAA,CAAiBE,IAAI;MACnF,MAAMqH,eAAA;MAAA;MAAA,CAAAhR,cAAA,GAAAE,CAAA,SAAkB,IAAI,CAAC6Q,UAAU,CAACnH,kBAAA,CAAmBF,KAAK,EAAEE,kBAAA,CAAmBD,IAAI;MAAA;MAAA3J,cAAA,GAAAE,CAAA;MAEzF,IAAI8Q,eAAA,GAAkBF,aAAA,EAAe;QAAA;QAAA9Q,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QACnC2Q,aAAA;MACF;MAAA;MAAA;QAAA7Q,cAAA,GAAAe,CAAA;MAAA;IACF;IAAA;IAAAf,cAAA,GAAAE,CAAA;IAEA,OAAO2Q,aAAA,GAAgBD,WAAA;EACzB;EAEQG,WAAWrH,KAAa,EAAEC,IAAY,EAAU;IAAA;IAAA3J,cAAA,GAAAC,CAAA;IACtD;IACA,MAAMgR,CAAA;IAAA;IAAA,CAAAjR,cAAA,GAAAE,CAAA,SAAI,IAAI,CAACgR,WAAW,CAACxH,KAAA;IAC3B,MAAM2F,CAAA;IAAA;IAAA,CAAArP,cAAA,GAAAE,CAAA,SAAI,IAAI,CAACgR,WAAW,CAACvH,IAAA;IAAA;IAAA3J,cAAA,GAAAE,CAAA;IAC3B,OAAO+Q,CAAA,IAAKA,CAAA,GAAI5B,CAAA;EAClB;EAEQ6B,YAAYC,KAAa,EAAU;IAAA;IAAAnR,cAAA,GAAAC,CAAA;IACzC;IACA,IAAI8L,GAAA;IAAA;IAAA,CAAA/L,cAAA,GAAAE,CAAA,SAAM;IAAA;IAAAF,cAAA,GAAAE,CAAA;IACV,KAAK,IAAI6M,CAAA;IAAA;IAAA,CAAA/M,cAAA,GAAAE,CAAA,SAAI,IAAG6M,CAAA,GAAIoE,KAAA,EAAOpE,CAAA,IAAK;MAAA;MAAA/M,cAAA,GAAAE,CAAA;MAC9B6L,GAAA,IAAO,CAACrB,IAAA,CAAK0G,GAAG,CAAC1G,IAAA,CAAKgC,MAAM;IAC9B;IAAA;IAAA1M,cAAA,GAAAE,CAAA;IACA,OAAO6L,GAAA;EACT;EAEQ/B,sBACNP,gBAAiD,EACjDG,kBAAmD,EAC3C;IAAA;IAAA5J,cAAA,GAAAC,CAAA;IACR;IACA,MAAMoR,WAAA;IAAA;IAAA,CAAArR,cAAA,GAAAE,CAAA,SAAcuJ,gBAAA,CAAiBC,KAAK,IAAID,gBAAA,CAAiBC,KAAK,GAAGD,gBAAA,CAAiBE,IAAI,CAAD;IAC3F,MAAM2H,aAAA;IAAA;IAAA,CAAAtR,cAAA,GAAAE,CAAA,SAAgB0J,kBAAA,CAAmBF,KAAK,IAAIE,kBAAA,CAAmBF,KAAK,GAAGE,kBAAA,CAAmBD,IAAI,CAAD;IAAA;IAAA3J,cAAA,GAAAE,CAAA;IAEnG,OAAOwK,IAAA,CAAKqD,GAAG,CAAC,GAAGsD,WAAA,GAAcC,aAAA;EACnC;EAEQpH,0BACNqH,SAA0C,EAC1CC,WAAmB,EACe;IAAA;IAAAxR,cAAA,GAAAC,CAAA;IAClC;IACA,MAAMuK,IAAA;IAAA;IAAA,CAAAxK,cAAA,GAAAE,CAAA,SAAOqR,SAAA,CAAU7H,KAAK,IAAI6H,SAAA,CAAU7H,KAAK,GAAG6H,SAAA,CAAU5H,IAAI,CAAD;IAC/D,MAAMc,QAAA;IAAA;IAAA,CAAAzK,cAAA,GAAAE,CAAA,SAAWqR,SAAC,CAAU7H,KAAK,GAAG6H,SAAA,CAAU5H,IAAI,IACjCe,IAAA,CAAKC,GAAG,CAAC4G,SAAA,CAAU7H,KAAK,GAAG6H,SAAA,CAAU5H,IAAI,EAAE,MAAM4H,SAAA,CAAU7H,KAAK,GAAG6H,SAAA,CAAU5H,IAAI,GAAG,EAAC;IACtG,MAAM8H,GAAA;IAAA;IAAA,CAAAzR,cAAA,GAAAE,CAAA,SAAMwK,IAAA,CAAKmD,IAAI,CAACpD,QAAA;IACtB,MAAMiD,CAAA;IAAA;IAAA,CAAA1N,cAAA,GAAAE,CAAA,SAAI,IAAI,CAACyN,SAAS,CAAC6D,WAAA,GAAc;IAAA;IAAAxR,cAAA,GAAAE,CAAA;IAEvC,OAAO;MACLqN,KAAA,EAAO7C,IAAA,CAAKqD,GAAG,CAAC,GAAGvD,IAAA,GAAOkD,CAAA,GAAI+D,GAAA;MAC9BjE,KAAA,EAAO9C,IAAA,CAAKsD,GAAG,CAAC,GAAGxD,IAAA,GAAOkD,CAAA,GAAI+D,GAAA;IAChC;EACF;EAEQrH,+BACNP,oBAA4B,EAC5BE,YAAoB,EACpB2H,iBAAyB,EACzBC,iBAAyB,EACoB;IAAA;IAAA3R,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;IAC7C,IAAIyR,iBAAA,GAAoBD,iBAAA,EAAmB;MAAA;MAAA1R,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MACzC,OAAO;IACT;IAAA;IAAA;MAAAF,cAAA,GAAAe,CAAA;IAAA;IAAAf,cAAA,GAAAE,CAAA;IAEA;IAAI;IAAA,CAAAF,cAAA,GAAAe,CAAA,WAAA8I,oBAAA,GAAuB;IAAA;IAAA,CAAA7J,cAAA,GAAAe,CAAA,WAAQgJ,YAAA,GAAe,OAAM;MAAA;MAAA/J,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MACtD,OAAO;IACT;IAAA;IAAA;MAAAF,cAAA,GAAAe,CAAA;IAAA;IAAAf,cAAA,GAAAE,CAAA;IAEA;IAAI;IAAA,CAAAF,cAAA,GAAAe,CAAA,WAAA8I,oBAAA,GAAuB;IAAA;IAAA,CAAA7J,cAAA,GAAAe,CAAA,WAAOgJ,YAAA,GAAe,OAAM;MAAA;MAAA/J,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MACrD,OAAO;IACT;IAAA;IAAA;MAAAF,cAAA,GAAAe,CAAA;IAAA;IAAAf,cAAA,GAAAE,CAAA;IAEA,OAAO;EACT;EAEA,MAAcwF,wBAAwBxE,MAAc,EAAiB;IAAA;IAAAlB,cAAA,GAAAC,CAAA;IACnE;IACA,MAAMe,IAAA;IAAA;IAAA,CAAAhB,cAAA,GAAAE,CAAA,SAAO,MAAM,IAAI,CAACoD,OAAO,CAACpC,MAAA;IAAA;IAAAlB,cAAA,GAAAE,CAAA;IAChC,IAAI,CAACc,IAAA,EAAM;MAAA;MAAAhB,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MAAA;IAAA;IAAA;IAAA;MAAAF,cAAA,GAAAe,CAAA;IAAA;IAEX;IACA,MAAM0H,OAAA;IAAA;IAAA,CAAAzI,cAAA,GAAAE,CAAA,SAAU,MAAM,IAAI,CAACyF,gBAAgB,CAACzE,MAAA;IAAA;IAAAlB,cAAA,GAAAE,CAAA;IAC5C;IAAI;IAAA,CAAAF,cAAA,GAAAe,CAAA,WAAA0H,OAAA;IAAA;IAAA,CAAAzI,cAAA,GAAAe,CAAA,WAAW0H,OAAA,CAAQZ,wBAAwB,CAACqG,cAAc,GAAE;MAAA;MAAAlO,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MAC9D,MAAM,IAAI,CAAC2K,QAAQ,CAAC3J,MAAA,EAAQ,oCAAoC;MAAA;MAAAlB,cAAA,GAAAE,CAAA;MAChE;IACF;IAAA;IAAA;MAAAF,cAAA,GAAAe,CAAA;IAAA;IAEA;IACA,MAAM6Q,SAAA;IAAA;IAAA,CAAA5R,cAAA,GAAAE,CAAA,SAAY,IAAIoB,IAAA,CAAKN,IAAA,CAAKqB,UAAU;IAC1C,MAAMwP,cAAA;IAAA;IAAA,CAAA7R,cAAA,GAAAE,CAAA,SAAiB,CAACoB,IAAA,CAAKD,GAAG,KAAKuQ,SAAA,CAAUE,OAAO,EAAC,KAAM,OAAO,KAAK,KAAK,EAAC;IAAA;IAAA9R,cAAA,GAAAE,CAAA;IAE/E,IAAI2R,cAAA,GAAiB,IAAI;MAAA;MAAA7R,cAAA,GAAAe,CAAA;MAAAf,cAAA,GAAAE,CAAA;MACvB,MAAM,IAAI,CAAC2K,QAAQ,CAAC3J,MAAA,EAAQ,iCAAiC;MAAA;MAAAlB,cAAA,GAAAE,CAAA;MAC7D;IACF;IAAA;IAAA;MAAAF,cAAA,GAAAe,CAAA;IAAA;IAEA;IACA,MAAM6E,WAAA;IAAA;IAAA,CAAA5F,cAAA,GAAAE,CAAA,SAAc,MAAM,IAAI,CAAC2F,kBAAkB,CAAC3E,MAAA;IAAA;IAAAlB,cAAA,GAAAE,CAAA;IAClD,IAAI0F,WAAA,CAAYxB,MAAM,IAAIpD,IAAA,CAAKyB,mBAAmB,GAAG,GAAG;MAAA;MAAAzC,cAAA,GAAAe,CAAA;MACtD;MACA,MAAMgR,cAAA;MAAA;MAAA,CAAA/R,cAAA,GAAAE,CAAA,SAAiB,MAAM,IAAI,CAACgJ,uBAAuB,CAAChI,MAAA;MAAA;MAAAlB,cAAA,GAAAE,CAAA;MAC1D;MAAI;MAAA,CAAAF,cAAA,GAAAe,CAAA,WAAAgR,cAAA;MAAA;MAAA,CAAA/R,cAAA,GAAAe,CAAA,WAAkBgR,cAAA,CAAe5H,cAAc,KAAK,WAAU;QAAA;QAAAnK,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAE,CAAA;QAChE,MAAM,IAAI,CAAC2K,QAAQ,CAAC3J,MAAA,EAAQ,2CAA2C;MACzE;MAAA;MAAA;QAAAlB,cAAA,GAAAe,CAAA;MAAA;IACF;IAAA;IAAA;MAAAf,cAAA,GAAAe,CAAA;IAAA;EACF;EAEA,MAAcyK,aAAatK,MAAc,EAAE8Q,SAAiB,EAAEnP,IAAS,EAAiB;IAAA;IAAA7C,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;IACtF,MAAM,IAAI,CAACM,QAAQ,CAChBsC,IAAI,CAAC,kBACLC,MAAM,CAAC;MACN4B,OAAA,EAASzD,MAAA;MACT+Q,UAAA,EAAYD,SAAA;MACZE,UAAA,EAAYrP,IAAA;MACZsP,SAAA,EAAW,IAAI7Q,IAAA,GAAOC,WAAW;IACnC;EACJ;AACF;AAKO,MAAMpB,cAAA;AAAA;AAAA,CAAAH,cAAA,GAAAE,CAAA,SAAiB;EAC5B;;;EAGAkS,oBACEC,sBAA8B,EAC9BC,uBAA+B,EAC/BnE,KAAA;EAAA;EAAA,CAAAnO,cAAA,GAAAe,CAAA,WAAgB,GAAG,GACnB2I,KAAA;EAAA;EAAA,CAAA1J,cAAA,GAAAe,CAAA,WAAgB,IAAI;IAAA;IAAAf,cAAA,GAAAC,CAAA;IAEpB,MAAMoO,EAAA;IAAA;IAAA,CAAArO,cAAA,GAAAE,CAAA,SAAKmS,sBAAA,GAAyB;IACpC,MAAM/D,EAAA;IAAA;IAAA,CAAAtO,cAAA,GAAAE,CAAA,SAAKmO,EAAA,IAAM,IAAIiE,uBAAA,GAA0B,GAAE;IAEjD,MAAM5C,MAAA;IAAA;IAAA,CAAA1P,cAAA,GAAAE,CAAA,SAAS,MAAK;IAAA;IACpB,MAAMyP,KAAA;IAAA;IAAA,CAAA3P,cAAA,GAAAE,CAAA,SAAQ,MAAM;IAAA;IAEpB,MAAMqO,OAAA;IAAA;IAAA,CAAAvO,cAAA,GAAAE,CAAA,SAAU,CAACmO,EAAA,GAAKC,EAAC,IAAK;IAC5B,MAAMkB,UAAA;IAAA;IAAA,CAAAxP,cAAA,GAAAE,CAAA,SAAa,IAAIwK,IAAA,CAAKC,GAAG,CAAC+E,MAAA,GAASC,KAAA,EAAO,KAAKpB,OAAA,IAAW,IAAIA,OAAM,IAAK7D,IAAA,CAAKC,GAAG,CAAC2D,EAAA,GAAKD,EAAA,EAAI;IAAA;IAAArO,cAAA,GAAAE,CAAA;IAEjG,OAAOwK,IAAA,CAAKkF,IAAI,CAACJ,UAAA;EACnB;EAEA;;;EAGA+C,sBACEC,kBAA0B,EAC1BC,aAAqB,EACrBC,iBAAyB;IAAA;IAAA1S,cAAA,GAAAC,CAAA;IAEzB,MAAM0S,gBAAA;IAAA;IAAA,CAAA3S,cAAA,GAAAE,CAAA,SAAmBuS,aAAA,IAAiBC,iBAAA,GAAoB,GAAE;IAAA;IAAA1S,cAAA,GAAAE,CAAA;IAChE,OAAOwK,IAAA,CAAKkF,IAAI,CAAC4C,kBAAA,GAAqBG,gBAAA;EACxC;EAEA;;;EAGAC,kBAAkBnK,OAAsB;IAAA;IAAAzI,cAAA,GAAAC,CAAA;IAKtC,MAAMkQ,WAAA;IAAA;IAAA,CAAAnQ,cAAA,GAAAE,CAAA,SAAcuI,OAAA,CAAQI,eAAe,CAACqC,MAAM,CAAC,CAACkF,IAAA,EAAMhF,OAAA,KACxD;MAAA;MAAApL,cAAA,GAAAC,CAAA;MAAAD,cAAA,GAAAE,CAAA;MAAA,OAAAkL,OAAA,CAAQtJ,eAAe,GAAGsO,IAAA,CAAKtO,eAAe;MAAA;MAAA,CAAA9B,cAAA,GAAAe,CAAA,WAAGqK,OAAA;MAAA;MAAA,CAAApL,cAAA,GAAAe,CAAA,WAAUqP,IAAA;IAAA;IAG7D,MAAMyC,OAAA;IAAA;IAAA,CAAA7S,cAAA,GAAAE,CAAA,SAAU,uBAAuBuI,OAAA,CAAQC,cAAc,uBAAuBD,OAAA,CAAQE,iBAAiB,0CAA0CwH,WAAA,CAAY1I,YAAY,KAAK0I,WAAA,CAAYrO,eAAe,CAACgR,OAAO,CAAC,uBAAuB;IAE/O,MAAM3I,cAAA;IAAA;IAAA,CAAAnK,cAAA,GAAAE,CAAA,SAAiBuI,OAAA,CAAQZ,wBAAwB,CAACqG,cAAc;IAAA;IAAA,CAAAlO,cAAA,GAAAe,CAAA,WAClE,UAAUoP,WAAA,CAAY1I,YAAY,qCAAqC;IAAA;IAAA,CAAAzH,cAAA,GAAAe,CAAA,WACvE;IAEJ,MAAMmG,YAAA;IAAA;IAAA,CAAAlH,cAAA,GAAAE,CAAA,SAAeuI,OAAA,CAAQZ,wBAAwB,CAACqG,cAAc;IAAA;IAAA,CAAAlO,cAAA,GAAAe,CAAA,WAChE,uCAAuC0H,OAAA,CAAQZ,wBAAwB,CAACC,OAAO,CAACgL,OAAO,CAAC,KAAK;IAAA;IAAA,CAAA9S,cAAA,GAAAe,CAAA,WAC7F,2CAA2C0H,OAAA,CAAQZ,wBAAwB,CAACC,OAAO,CAACgL,OAAO,CAAC,KAAK;IAAA;IAAA9S,cAAA,GAAAE,CAAA;IAErG,OAAO;MAAE2S,OAAA;MAAS1I,cAAA;MAAgBjD;IAAa;EACjD;AACF","ignoreList":[]}