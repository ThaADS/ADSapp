{"version":3,"names":["DemoOptimizationUtils","cov_2k6qngsf0g","f","s","DemoScenarioOptimizer","constructor","supabaseClient","activeOptimizers","Map","autoOptimizationRules","supabase","abTesting","_abtesting","ABTestingFramework","conversionEngine","_conversionoptimization","ConversionOptimizationEngine","analytics","_demoanalyticsadvanced","AdvancedDemoAnalytics","loadOptimizers","loadAutoOptimizationRules","createOptimizer","name","description","businessScenario","optimizationGoals","strategy","b","optimizerId","_uuid","v4","now","Date","toISOString","baselineConfiguration","getBaselineConfiguration","baselineVariant","id","configuration","performance_metrics","sessions","conversions","conversion_rate","average_engagement","average_session_duration","feature_adoption_rate","lead_quality_score","confidence_interval","lower","upper","is_control","traffic_allocation","status","created_at","optimizer","business_scenario","optimization_goals","current_configuration","test_variants","performance_history","auto_optimization_enabled","confidence_threshold","minimum_sample_size","optimization_strategy","updated_at","last_optimization","storeOptimizer","initialVariants","generateOptimizationVariants","push","createOptimizationTest","set","error","console","Error","message","variants","baseConfig","generateConservativeVariants","generateAggressiveVariants","generateBalancedVariants","generateExploratoryVariants","analyzeAndOptimize","getOptimizer","recommendations","actionsTaken","activeTests","getActiveTestsForOptimizer","test","results","calculateResults","statistical_significance","is_significant","winner","identifyWinner","deployWinner","variant_name","nextVariants","generateNextOptimizationRound","length","createFollowUpTest","createWinnerRecommendation","testRecommendations","analyzeInProgressTest","generalRecommendations","generateGeneralRecommendations","updatePerformanceHistory","nextOptimization","calculateNextOptimizationDate","sort","a","priority_score","actions_taken","next_optimization","undefined","getOptimizationSummary","currentPerformance","calculateCurrentPerformance","baselinePerformance","getBaselinePerformance","improvementOverBaseline","calculateImprovement","testHistory","getOptimizerTestHistory","totalTests","successfulOptimizations","filter","winner_deployed","roiImpact","calculateROIImpact","topWinningChanges","identifyTopWinningChanges","current_performance","improvement_over_baseline","total_tests_run","successful_optimizations","roi_impact","top_winning_changes","runOptimizationCycle","optimizers_processed","total_recommendations","auto_actions_taken","errors","getActiveOptimizers","analysis","processAutoOptimizationRules","errorMsg","cleanupCompletedOptimizers","data","optimizers","from","select","eq","forEach","rules","scenario","configurations","retail","scenario_settings","data_density","interaction_complexity","guided_tour_enabled","feature_highlights","demo_duration_target","conversion_triggers","trigger_type","condition","action","timing","active","ui_configuration","color_scheme","layout_style","cta_placement","cta_style","cta_text","progress_indicators","help_tooltips","content_strategy","value_proposition","feature_descriptions","inventory_management","customer_analytics","order_processing","use_case_examples","social_proof_elements","urgency_messaging","benefit_highlights","flow_optimization","entry_point","onboarding_steps","step_id","title","duration_seconds","interactive","required","feature_sequence","conversion_path","trigger_condition","action_type","content","exit_intent_handling","enabled","trigger_delay","offer_type","conversion_boost","personalization_rules","generic","goals","some","g","metric","ctaVariant","createConfigVariant","property","new_value","reason","tourVariant","flowVariant","colorVariant","personalizedVariant","rule_id","trigger_conditions","is_new_visitor","modifications","target_audience","expected_impact","modification","newConfig","JSON","parse","stringify","propertyPath","split","current","i","insert","testVariants","map","variant","traffic_split","createTest","metrics","goal","type","mapGoalMetricToTestMetric","improvement_type","primary","weight","confidence_level","mapping","engagement_score","lead_quality","time_to_conversion","feature_adoption","has","get","single","variant_results","reduce","winningVariant","find","v","variant_id","updateOptimizer","update","baseline","Array","values","calculatePriorityScore","expectedImpact","confidence","implementationEffort","effortMultiplier","low","medium","high","Math","round","formatOptimizationResults","summary","improvementPercent","performanceGrade","improvementSummary","toFixed","nextActions"],"sources":["C:\\Ai Projecten\\ADSapp\\src\\lib\\demo-optimization.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\nimport { v4 as uuidv4 } from 'uuid'\nimport { BusinessScenario } from '@/types/demo'\nimport { Database } from '@/types/database'\nimport { ABTestingFramework, ABTest, ABTestResults, ABTestingUtils } from './ab-testing'\nimport { ConversionOptimizationEngine, OptimizationOpportunity } from './conversion-optimization'\nimport { AdvancedDemoAnalytics } from './demo-analytics-advanced'\n\ntype SupabaseClient = ReturnType<typeof createClient<Database>>\n\n// Demo Optimization Types\nexport interface DemoOptimizer {\n  id: string\n  name: string\n  description: string\n  business_scenario: BusinessScenario\n  optimization_goals: OptimizationGoal[]\n  current_configuration: DemoConfiguration\n  test_variants: DemoVariant[]\n  performance_history: PerformanceSnapshot[]\n  auto_optimization_enabled: boolean\n  confidence_threshold: number\n  minimum_sample_size: number\n  optimization_strategy: OptimizationStrategy\n  created_at: string\n  updated_at: string\n  last_optimization: string\n  status: OptimizerStatus\n}\n\nexport interface OptimizationGoal {\n  metric: 'conversion_rate' | 'engagement_score' | 'feature_adoption' | 'time_to_conversion' | 'lead_quality'\n  target_value: number\n  weight: number\n  improvement_type: 'maximize' | 'minimize'\n  current_value: number\n  trend: 'improving' | 'stable' | 'declining'\n}\n\nexport interface DemoConfiguration {\n  scenario_settings: ScenarioSettings\n  ui_configuration: UIConfiguration\n  content_strategy: ContentStrategy\n  flow_optimization: FlowOptimization\n  personalization_rules: PersonalizationConfig[]\n}\n\nexport interface ScenarioSettings {\n  data_density: 'light' | 'moderate' | 'rich'\n  interaction_complexity: 'simple' | 'intermediate' | 'advanced'\n  guided_tour_enabled: boolean\n  feature_highlights: string[]\n  demo_duration_target: number\n  conversion_triggers: ConversionTrigger[]\n}\n\nexport interface UIConfiguration {\n  color_scheme: 'blue' | 'green' | 'purple' | 'orange'\n  layout_style: 'clean' | 'detailed' | 'minimal'\n  cta_placement: 'top' | 'bottom' | 'sidebar' | 'floating'\n  cta_style: 'button' | 'banner' | 'popup' | 'inline'\n  cta_text: string\n  progress_indicators: boolean\n  help_tooltips: boolean\n}\n\nexport interface ContentStrategy {\n  value_proposition: string\n  feature_descriptions: Record<string, string>\n  use_case_examples: string[]\n  social_proof_elements: string[]\n  urgency_messaging: string[]\n  benefit_highlights: string[]\n}\n\nexport interface FlowOptimization {\n  entry_point: 'homepage' | 'landing_page' | 'direct_demo'\n  onboarding_steps: OnboardingStep[]\n  feature_sequence: string[]\n  conversion_path: ConversionStep[]\n  exit_intent_handling: ExitIntentStrategy\n}\n\nexport interface OnboardingStep {\n  step_id: string\n  title: string\n  description: string\n  duration_seconds: number\n  interactive: boolean\n  required: boolean\n}\n\nexport interface ConversionStep {\n  step_id: string\n  trigger_condition: string\n  action_type: 'form' | 'button' | 'modal' | 'redirect'\n  content: string\n  timing: 'immediate' | 'delayed' | 'conditional'\n  delay_seconds?: number\n}\n\nexport interface ConversionTrigger {\n  trigger_type: 'time_based' | 'interaction_based' | 'page_based' | 'feature_based'\n  condition: string\n  action: string\n  timing: number\n  active: boolean\n}\n\nexport interface ExitIntentStrategy {\n  enabled: boolean\n  trigger_delay: number\n  offer_type: 'discount' | 'trial_extension' | 'consultation' | 'content'\n  message: string\n  conversion_boost: number\n}\n\nexport interface PersonalizationConfig {\n  rule_id: string\n  trigger_conditions: Record<string, any>\n  modifications: ConfigurationModification[]\n  target_audience: string\n  expected_impact: number\n}\n\nexport interface ConfigurationModification {\n  property: string\n  new_value: any\n  reason: string\n}\n\nexport interface DemoVariant {\n  id: string\n  name: string\n  description: string\n  configuration: DemoConfiguration\n  performance_metrics: VariantMetrics\n  is_control: boolean\n  traffic_allocation: number\n  status: 'active' | 'paused' | 'winner' | 'loser'\n  created_at: string\n  statistical_significance?: number\n}\n\nexport interface VariantMetrics {\n  sessions: number\n  conversions: number\n  conversion_rate: number\n  average_engagement: number\n  average_session_duration: number\n  feature_adoption_rate: number\n  lead_quality_score: number\n  confidence_interval: { lower: number; upper: number }\n}\n\nexport interface PerformanceSnapshot {\n  timestamp: string\n  configuration_id: string\n  metrics: {\n    conversion_rate: number\n    engagement_score: number\n    session_count: number\n    lead_quality: number\n    feature_adoption: number\n  }\n  external_factors: ExternalFactor[]\n  notes?: string\n}\n\nexport interface ExternalFactor {\n  factor_type: 'traffic_source' | 'seasonality' | 'marketing_campaign' | 'product_update'\n  description: string\n  impact_estimate: number\n}\n\nexport interface OptimizationRecommendation {\n  id: string\n  optimizer_id: string\n  recommendation_type: 'configuration_change' | 'new_test' | 'traffic_reallocation' | 'winner_deployment'\n  title: string\n  description: string\n  expected_impact: number\n  confidence: number\n  implementation_effort: 'low' | 'medium' | 'high'\n  priority_score: number\n  suggested_changes: ConfigurationModification[]\n  test_hypothesis?: string\n  estimated_duration_days?: number\n  created_at: string\n}\n\nexport interface AutoOptimizationRule {\n  id: string\n  name: string\n  conditions: OptimizationCondition[]\n  actions: OptimizationAction[]\n  is_active: boolean\n  last_triggered?: string\n  trigger_count: number\n  success_rate: number\n}\n\nexport interface OptimizationCondition {\n  metric: string\n  operator: 'greater_than' | 'less_than' | 'equals' | 'range'\n  value: any\n  confidence_required: number\n}\n\nexport interface OptimizationAction {\n  action_type: 'deploy_winner' | 'pause_loser' | 'create_test' | 'adjust_traffic' | 'send_alert'\n  parameters: Record<string, any>\n}\n\nexport type OptimizationStrategy = 'conservative' | 'aggressive' | 'balanced' | 'exploratory'\nexport type OptimizerStatus = 'active' | 'paused' | 'completed' | 'draft'\n\n/**\n * Demo Scenario Optimization Engine\n * Automatically optimizes demo configurations for maximum conversion\n */\nexport class DemoScenarioOptimizer {\n  private supabase: SupabaseClient\n  private abTesting: ABTestingFramework\n  private conversionEngine: ConversionOptimizationEngine\n  private analytics: AdvancedDemoAnalytics\n  private activeOptimizers: Map<string, DemoOptimizer> = new Map()\n  private autoOptimizationRules: AutoOptimizationRule[] = []\n\n  constructor(supabaseClient: SupabaseClient) {\n    this.supabase = supabaseClient\n    this.abTesting = new ABTestingFramework(supabaseClient)\n    this.conversionEngine = new ConversionOptimizationEngine(supabaseClient)\n    this.analytics = new AdvancedDemoAnalytics(supabaseClient)\n    this.loadOptimizers()\n    this.loadAutoOptimizationRules()\n  }\n\n  /**\n   * Create a new demo optimizer for a business scenario\n   */\n  async createOptimizer(\n    name: string,\n    description: string,\n    businessScenario: BusinessScenario,\n    optimizationGoals: OptimizationGoal[],\n    strategy: OptimizationStrategy = 'balanced'\n  ): Promise<{ optimizer: DemoOptimizer; error?: string }> {\n    try {\n      const optimizerId = uuidv4()\n      const now = new Date().toISOString()\n\n      // Get current baseline configuration\n      const baselineConfiguration = await this.getBaselineConfiguration(businessScenario)\n\n      // Create baseline variant\n      const baselineVariant: DemoVariant = {\n        id: uuidv4(),\n        name: 'Baseline',\n        description: 'Current configuration baseline',\n        configuration: baselineConfiguration,\n        performance_metrics: {\n          sessions: 0,\n          conversions: 0,\n          conversion_rate: 0,\n          average_engagement: 0,\n          average_session_duration: 0,\n          feature_adoption_rate: 0,\n          lead_quality_score: 0,\n          confidence_interval: { lower: 0, upper: 0 }\n        },\n        is_control: true,\n        traffic_allocation: 50,\n        status: 'active',\n        created_at: now\n      }\n\n      const optimizer: DemoOptimizer = {\n        id: optimizerId,\n        name,\n        description,\n        business_scenario: businessScenario,\n        optimization_goals: optimizationGoals,\n        current_configuration: baselineConfiguration,\n        test_variants: [baselineVariant],\n        performance_history: [],\n        auto_optimization_enabled: true,\n        confidence_threshold: 95,\n        minimum_sample_size: 1000,\n        optimization_strategy: strategy,\n        created_at: now,\n        updated_at: now,\n        last_optimization: now,\n        status: 'active'\n      }\n\n      // Store optimizer\n      await this.storeOptimizer(optimizer)\n\n      // Generate initial optimization variants\n      const initialVariants = await this.generateOptimizationVariants(optimizer)\n      optimizer.test_variants.push(...initialVariants)\n\n      // Create A/B test for the variants\n      await this.createOptimizationTest(optimizer)\n\n      // Cache active optimizer\n      this.activeOptimizers.set(optimizerId, optimizer)\n\n      return { optimizer }\n    } catch (error) {\n      console.error('Error creating demo optimizer:', error)\n      return {\n        optimizer: null as any,\n        error: error instanceof Error ? error.message : 'Failed to create optimizer'\n      }\n    }\n  }\n\n  /**\n   * Generate optimization variants based on current performance and goals\n   */\n  async generateOptimizationVariants(optimizer: DemoOptimizer): Promise<DemoVariant[]> {\n    const variants: DemoVariant[] = []\n    const baseConfig = optimizer.current_configuration\n\n    // Generate variants based on optimization strategy\n    switch (optimizer.optimization_strategy) {\n      case 'conservative':\n        variants.push(...await this.generateConservativeVariants(baseConfig, optimizer.optimization_goals))\n        break\n      case 'aggressive':\n        variants.push(...await this.generateAggressiveVariants(baseConfig, optimizer.optimization_goals))\n        break\n      case 'balanced':\n        variants.push(...await this.generateBalancedVariants(baseConfig, optimizer.optimization_goals))\n        break\n      case 'exploratory':\n        variants.push(...await this.generateExploratoryVariants(baseConfig, optimizer.optimization_goals))\n        break\n    }\n\n    return variants\n  }\n\n  /**\n   * Analyze test results and automatically deploy winners\n   */\n  async analyzeAndOptimize(optimizerId: string): Promise<{\n    recommendations: OptimizationRecommendation[]\n    actions_taken: string[]\n    next_optimization?: Date\n  }> {\n    try {\n      const optimizer = await this.getOptimizer(optimizerId)\n      if (!optimizer) throw new Error('Optimizer not found')\n\n      const recommendations: OptimizationRecommendation[] = []\n      const actionsTaken: string[] = []\n\n      // Get current test results\n      const activeTests = await this.getActiveTestsForOptimizer(optimizerId)\n\n      for (const test of activeTests) {\n        const results = await this.abTesting.calculateResults(test.id)\n        if (!results) continue\n\n        // Check if test has reached statistical significance\n        if (results.statistical_significance.is_significant) {\n          const winner = this.identifyWinner(results)\n\n          if (winner && optimizer.auto_optimization_enabled) {\n            // Deploy winner automatically\n            await this.deployWinner(optimizer, winner, results)\n            actionsTaken.push(`Deployed winning variant: ${winner.variant_name}`)\n\n            // Generate next optimization test\n            const nextVariants = await this.generateNextOptimizationRound(optimizer, results)\n            if (nextVariants.length > 0) {\n              await this.createFollowUpTest(optimizer, nextVariants)\n              actionsTaken.push('Created follow-up optimization test')\n            }\n          } else {\n            // Generate recommendation for manual review\n            recommendations.push(await this.createWinnerRecommendation(optimizer, winner, results))\n          }\n        } else {\n          // Check if test should continue or be modified\n          const testRecommendations = await this.analyzeInProgressTest(optimizer, test, results)\n          recommendations.push(...testRecommendations)\n        }\n      }\n\n      // Generate general optimization recommendations\n      const generalRecommendations = await this.generateGeneralRecommendations(optimizer)\n      recommendations.push(...generalRecommendations)\n\n      // Update optimizer performance history\n      await this.updatePerformanceHistory(optimizer)\n\n      // Calculate next optimization schedule\n      const nextOptimization = this.calculateNextOptimizationDate(optimizer)\n\n      return {\n        recommendations: recommendations.sort((a, b) => b.priority_score - a.priority_score),\n        actions_taken: actionsTaken,\n        next_optimization: nextOptimization\n      }\n    } catch (error) {\n      console.error('Error analyzing and optimizing:', error)\n      return {\n        recommendations: [],\n        actions_taken: [],\n        next_optimization: undefined\n      }\n    }\n  }\n\n  /**\n   * Get optimization performance summary\n   */\n  async getOptimizationSummary(optimizerId: string): Promise<{\n    current_performance: VariantMetrics\n    improvement_over_baseline: number\n    total_tests_run: number\n    successful_optimizations: number\n    roi_impact: number\n    top_winning_changes: ConfigurationModification[]\n  }> {\n    try {\n      const optimizer = await this.getOptimizer(optimizerId)\n      if (!optimizer) throw new Error('Optimizer not found')\n\n      const currentPerformance = await this.calculateCurrentPerformance(optimizer)\n      const baselinePerformance = this.getBaselinePerformance(optimizer)\n      const improvementOverBaseline = this.calculateImprovement(currentPerformance, baselinePerformance)\n\n      // Get test history\n      const testHistory = await this.getOptimizerTestHistory(optimizerId)\n      const totalTests = testHistory.length\n      const successfulOptimizations = testHistory.filter(test =>\n        test.results?.statistical_significance?.is_significant &&\n        test.winner_deployed\n      ).length\n\n      // Calculate ROI impact\n      const roiImpact = await this.calculateROIImpact(optimizer)\n\n      // Identify top winning changes\n      const topWinningChanges = await this.identifyTopWinningChanges(testHistory)\n\n      return {\n        current_performance: currentPerformance,\n        improvement_over_baseline: improvementOverBaseline,\n        total_tests_run: totalTests,\n        successful_optimizations: successfulOptimizations,\n        roi_impact: roiImpact,\n        top_winning_changes: topWinningChanges\n      }\n    } catch (error) {\n      console.error('Error getting optimization summary:', error)\n      return {\n        current_performance: {\n          sessions: 0,\n          conversions: 0,\n          conversion_rate: 0,\n          average_engagement: 0,\n          average_session_duration: 0,\n          feature_adoption_rate: 0,\n          lead_quality_score: 0,\n          confidence_interval: { lower: 0, upper: 0 }\n        },\n        improvement_over_baseline: 0,\n        total_tests_run: 0,\n        successful_optimizations: 0,\n        roi_impact: 0,\n        top_winning_changes: []\n      }\n    }\n  }\n\n  /**\n   * Automatically run optimization cycle for all active optimizers\n   */\n  async runOptimizationCycle(): Promise<{\n    optimizers_processed: number\n    total_recommendations: number\n    auto_actions_taken: number\n    errors: string[]\n  }> {\n    const results = {\n      optimizers_processed: 0,\n      total_recommendations: 0,\n      auto_actions_taken: 0,\n      errors: [] as string[]\n    }\n\n    try {\n      const activeOptimizers = await this.getActiveOptimizers()\n\n      for (const optimizer of activeOptimizers) {\n        try {\n          const analysis = await this.analyzeAndOptimize(optimizer.id)\n          results.optimizers_processed++\n          results.total_recommendations += analysis.recommendations.length\n          results.auto_actions_taken += analysis.actions_taken.length\n\n          // Check auto-optimization rules\n          await this.processAutoOptimizationRules(optimizer)\n\n        } catch (error) {\n          const errorMsg = `Error processing optimizer ${optimizer.id}: ${error instanceof Error ? error.message : 'Unknown error'}`\n          results.errors.push(errorMsg)\n          console.error(errorMsg)\n        }\n      }\n\n      // Clean up completed optimizers\n      await this.cleanupCompletedOptimizers()\n\n    } catch (error) {\n      const errorMsg = `Error in optimization cycle: ${error instanceof Error ? error.message : 'Unknown error'}`\n      results.errors.push(errorMsg)\n      console.error(errorMsg)\n    }\n\n    return results\n  }\n\n  // Private helper methods\n\n  private async loadOptimizers(): Promise<void> {\n    try {\n      const { data: optimizers } = await this.supabase\n        .from('demo_optimizers')\n        .select('*')\n        .eq('status', 'active')\n\n      optimizers?.forEach(optimizer => {\n        this.activeOptimizers.set(optimizer.id, optimizer)\n      })\n    } catch (error) {\n      console.error('Error loading optimizers:', error)\n    }\n  }\n\n  private async loadAutoOptimizationRules(): Promise<void> {\n    try {\n      const { data: rules } = await this.supabase\n        .from('auto_optimization_rules')\n        .select('*')\n        .eq('is_active', true)\n\n      this.autoOptimizationRules = rules || []\n    } catch (error) {\n      console.error('Error loading auto-optimization rules:', error)\n    }\n  }\n\n  private async getBaselineConfiguration(scenario: BusinessScenario): Promise<DemoConfiguration> {\n    // Return default configuration for the scenario\n    const configurations: Record<BusinessScenario, DemoConfiguration> = {\n      retail: {\n        scenario_settings: {\n          data_density: 'moderate',\n          interaction_complexity: 'intermediate',\n          guided_tour_enabled: true,\n          feature_highlights: ['inventory_management', 'customer_analytics', 'order_processing'],\n          demo_duration_target: 600,\n          conversion_triggers: [\n            {\n              trigger_type: 'time_based',\n              condition: 'session_duration > 300',\n              action: 'show_signup_modal',\n              timing: 300,\n              active: true\n            }\n          ]\n        },\n        ui_configuration: {\n          color_scheme: 'blue',\n          layout_style: 'clean',\n          cta_placement: 'top',\n          cta_style: 'button',\n          cta_text: 'Start Free Trial',\n          progress_indicators: true,\n          help_tooltips: true\n        },\n        content_strategy: {\n          value_proposition: 'Streamline your retail operations with our all-in-one platform',\n          feature_descriptions: {\n            inventory_management: 'Track stock levels and automate reordering',\n            customer_analytics: 'Understand customer behavior and preferences',\n            order_processing: 'Streamline order fulfillment and shipping'\n          },\n          use_case_examples: [\n            'Reduce stockouts by 50%',\n            'Increase customer retention by 25%',\n            'Process orders 3x faster'\n          ],\n          social_proof_elements: ['5000+ retailers trust our platform'],\n          urgency_messaging: ['Limited time: 30% off first year'],\n          benefit_highlights: ['Save 10 hours per week', 'Increase sales by 20%']\n        },\n        flow_optimization: {\n          entry_point: 'homepage',\n          onboarding_steps: [\n            {\n              step_id: 'welcome',\n              title: 'Welcome to Your Demo',\n              description: 'Explore how our platform can transform your retail business',\n              duration_seconds: 30,\n              interactive: false,\n              required: true\n            }\n          ],\n          feature_sequence: ['inventory_management', 'customer_analytics', 'order_processing'],\n          conversion_path: [\n            {\n              step_id: 'feature_exploration',\n              trigger_condition: 'features_used >= 2',\n              action_type: 'modal',\n              content: 'Ready to transform your business?',\n              timing: 'conditional'\n            }\n          ],\n          exit_intent_handling: {\n            enabled: true,\n            trigger_delay: 2000,\n            offer_type: 'trial_extension',\n            message: 'Wait! Get 15 more days to explore all features',\n            conversion_boost: 15\n          }\n        },\n        personalization_rules: []\n      },\n      // Add other scenarios...\n      generic: {\n        scenario_settings: {\n          data_density: 'moderate',\n          interaction_complexity: 'intermediate',\n          guided_tour_enabled: true,\n          feature_highlights: ['dashboard', 'analytics', 'automation'],\n          demo_duration_target: 300,\n          conversion_triggers: []\n        },\n        ui_configuration: {\n          color_scheme: 'blue',\n          layout_style: 'clean',\n          cta_placement: 'top',\n          cta_style: 'button',\n          cta_text: 'Get Started',\n          progress_indicators: true,\n          help_tooltips: true\n        },\n        content_strategy: {\n          value_proposition: 'Powerful tools for modern businesses',\n          feature_descriptions: {},\n          use_case_examples: [],\n          social_proof_elements: [],\n          urgency_messaging: [],\n          benefit_highlights: []\n        },\n        flow_optimization: {\n          entry_point: 'homepage',\n          onboarding_steps: [],\n          feature_sequence: [],\n          conversion_path: [],\n          exit_intent_handling: {\n            enabled: false,\n            trigger_delay: 0,\n            offer_type: 'trial_extension',\n            message: '',\n            conversion_boost: 0\n          }\n        },\n        personalization_rules: []\n      }\n    }\n\n    return configurations[scenario] || configurations.generic\n  }\n\n  private async generateConservativeVariants(\n    baseConfig: DemoConfiguration,\n    goals: OptimizationGoal[]\n  ): Promise<DemoVariant[]> {\n    const variants: DemoVariant[] = []\n\n    // Conservative approach: small, incremental changes\n    if (goals.some(g => g.metric === 'conversion_rate')) {\n      // Test CTA text variations\n      const ctaVariant = this.createConfigVariant(baseConfig, {\n        property: 'ui_configuration.cta_text',\n        new_value: 'Start Your Free Trial Today',\n        reason: 'More specific CTA text may improve conversion'\n      }, 'CTA Text Optimization')\n      variants.push(ctaVariant)\n    }\n\n    if (goals.some(g => g.metric === 'engagement_score')) {\n      // Test guided tour improvements\n      const tourVariant = this.createConfigVariant(baseConfig, {\n        property: 'scenario_settings.guided_tour_enabled',\n        new_value: true,\n        reason: 'Enhanced guided tour may improve engagement'\n      }, 'Enhanced Guided Tour')\n      variants.push(tourVariant)\n    }\n\n    return variants\n  }\n\n  private async generateAggressiveVariants(\n    baseConfig: DemoConfiguration,\n    goals: OptimizationGoal[]\n  ): Promise<DemoVariant[]> {\n    const variants: DemoVariant[] = []\n\n    // Aggressive approach: major changes\n    if (goals.some(g => g.metric === 'conversion_rate')) {\n      // Complete flow redesign\n      const flowVariant = this.createConfigVariant(baseConfig, {\n        property: 'flow_optimization.entry_point',\n        new_value: 'direct_demo',\n        reason: 'Skip homepage, go directly to demo for higher conversion'\n      }, 'Direct Demo Entry')\n      variants.push(flowVariant)\n    }\n\n    return variants\n  }\n\n  private async generateBalancedVariants(\n    baseConfig: DemoConfiguration,\n    goals: OptimizationGoal[]\n  ): Promise<DemoVariant[]> {\n    const variants: DemoVariant[] = []\n\n    // Balanced approach: moderate changes with good impact potential\n    const colorVariant = this.createConfigVariant(baseConfig, {\n      property: 'ui_configuration.color_scheme',\n      new_value: 'green',\n      reason: 'Green color scheme may improve trust and conversion'\n    }, 'Green Color Scheme')\n    variants.push(colorVariant)\n\n    return variants\n  }\n\n  private async generateExploratoryVariants(\n    baseConfig: DemoConfiguration,\n    goals: OptimizationGoal[]\n  ): Promise<DemoVariant[]> {\n    const variants: DemoVariant[] = []\n\n    // Exploratory approach: test novel ideas\n    const personalizedVariant = this.createConfigVariant(baseConfig, {\n      property: 'personalization_rules',\n      new_value: [\n        {\n          rule_id: 'first_time_visitor',\n          trigger_conditions: { is_new_visitor: true },\n          modifications: [\n            {\n              property: 'content_strategy.value_proposition',\n              new_value: 'See why thousands of businesses choose our platform',\n              reason: 'Social proof for new visitors'\n            }\n          ],\n          target_audience: 'new_visitors',\n          expected_impact: 15\n        }\n      ],\n      reason: 'Personalized experience for different visitor types'\n    }, 'Personalized Experience')\n    variants.push(personalizedVariant)\n\n    return variants\n  }\n\n  private createConfigVariant(\n    baseConfig: DemoConfiguration,\n    modification: ConfigurationModification,\n    name: string\n  ): DemoVariant {\n    const newConfig = JSON.parse(JSON.stringify(baseConfig))\n\n    // Apply modification\n    const propertyPath = modification.property.split('.')\n    let current = newConfig\n    for (let i = 0; i < propertyPath.length - 1; i++) {\n      current = current[propertyPath[i]]\n    }\n    current[propertyPath[propertyPath.length - 1]] = modification.new_value\n\n    return {\n      id: uuidv4(),\n      name,\n      description: modification.reason,\n      configuration: newConfig,\n      performance_metrics: {\n        sessions: 0,\n        conversions: 0,\n        conversion_rate: 0,\n        average_engagement: 0,\n        average_session_duration: 0,\n        feature_adoption_rate: 0,\n        lead_quality_score: 0,\n        confidence_interval: { lower: 0, upper: 0 }\n      },\n      is_control: false,\n      traffic_allocation: 25,\n      status: 'active',\n      created_at: new Date().toISOString()\n    }\n  }\n\n  private async storeOptimizer(optimizer: DemoOptimizer): Promise<void> {\n    await this.supabase.from('demo_optimizers').insert({\n      id: optimizer.id,\n      name: optimizer.name,\n      description: optimizer.description,\n      business_scenario: optimizer.business_scenario,\n      optimization_goals: optimizer.optimization_goals,\n      current_configuration: optimizer.current_configuration,\n      test_variants: optimizer.test_variants,\n      performance_history: optimizer.performance_history,\n      auto_optimization_enabled: optimizer.auto_optimization_enabled,\n      confidence_threshold: optimizer.confidence_threshold,\n      minimum_sample_size: optimizer.minimum_sample_size,\n      optimization_strategy: optimizer.optimization_strategy,\n      status: optimizer.status,\n      created_at: optimizer.created_at,\n      updated_at: optimizer.updated_at,\n      last_optimization: optimizer.last_optimization\n    })\n  }\n\n  private async createOptimizationTest(optimizer: DemoOptimizer): Promise<void> {\n    const testVariants = optimizer.test_variants.map(variant => ({\n      name: variant.name,\n      description: variant.description,\n      traffic_split: variant.traffic_allocation,\n      configuration: variant.configuration,\n      is_control: variant.is_control\n    }))\n\n    await this.abTesting.createTest({\n      name: `${optimizer.name} - Optimization Test`,\n      description: `Auto-generated optimization test for ${optimizer.business_scenario}`,\n      business_scenario: optimizer.business_scenario,\n      variants: testVariants,\n      metrics: optimizer.optimization_goals.map(goal => ({\n        name: goal.metric,\n        type: this.mapGoalMetricToTestMetric(goal.metric),\n        goal: goal.improvement_type === 'maximize' ? 'increase' : 'decrease',\n        primary: goal.weight > 0.5,\n        weight: goal.weight\n      })),\n      traffic_allocation: 100,\n      confidence_level: optimizer.confidence_threshold,\n      minimum_sample_size: optimizer.minimum_sample_size\n    }, 'system')\n  }\n\n  private mapGoalMetricToTestMetric(metric: string): 'conversion' | 'engagement' | 'revenue' | 'time_spent' | 'custom' {\n    const mapping: Record<string, any> = {\n      conversion_rate: 'conversion',\n      engagement_score: 'engagement',\n      lead_quality: 'revenue',\n      time_to_conversion: 'time_spent',\n      feature_adoption: 'custom'\n    }\n    return mapping[metric] || 'custom'\n  }\n\n  private async getOptimizer(optimizerId: string): Promise<DemoOptimizer | null> {\n    if (this.activeOptimizers.has(optimizerId)) {\n      return this.activeOptimizers.get(optimizerId)!\n    }\n\n    const { data, error } = await this.supabase\n      .from('demo_optimizers')\n      .select('*')\n      .eq('id', optimizerId)\n      .single()\n\n    return error ? null : data\n  }\n\n  private async getActiveTestsForOptimizer(optimizerId: string): Promise<ABTest[]> {\n    // Implementation would fetch active tests for this optimizer\n    return []\n  }\n\n  private identifyWinner(results: ABTestResults): any {\n    return results.variant_results.reduce((winner, current) =>\n      current.conversion_rate > winner.conversion_rate ? current : winner\n    )\n  }\n\n  private async deployWinner(\n    optimizer: DemoOptimizer,\n    winner: any,\n    results: ABTestResults\n  ): Promise<void> {\n    // Update optimizer configuration with winning variant\n    const winningVariant = optimizer.test_variants.find(v => v.id === winner.variant_id)\n    if (winningVariant) {\n      optimizer.current_configuration = winningVariant.configuration\n      optimizer.updated_at = new Date().toISOString()\n      optimizer.last_optimization = new Date().toISOString()\n\n      await this.updateOptimizer(optimizer)\n    }\n  }\n\n  private async updateOptimizer(optimizer: DemoOptimizer): Promise<void> {\n    await this.supabase\n      .from('demo_optimizers')\n      .update({\n        current_configuration: optimizer.current_configuration,\n        test_variants: optimizer.test_variants,\n        performance_history: optimizer.performance_history,\n        updated_at: optimizer.updated_at,\n        last_optimization: optimizer.last_optimization\n      })\n      .eq('id', optimizer.id)\n\n    this.activeOptimizers.set(optimizer.id, optimizer)\n  }\n\n  // Additional helper methods would be implemented here...\n  private async generateNextOptimizationRound(optimizer: DemoOptimizer, results: ABTestResults): Promise<DemoVariant[]> { return [] }\n  private async createFollowUpTest(optimizer: DemoOptimizer, variants: DemoVariant[]): Promise<void> {}\n  private async createWinnerRecommendation(optimizer: DemoOptimizer, winner: any, results: ABTestResults): Promise<OptimizationRecommendation> { return {} as OptimizationRecommendation }\n  private async analyzeInProgressTest(optimizer: DemoOptimizer, test: ABTest, results: ABTestResults): Promise<OptimizationRecommendation[]> { return [] }\n  private async generateGeneralRecommendations(optimizer: DemoOptimizer): Promise<OptimizationRecommendation[]> { return [] }\n  private async updatePerformanceHistory(optimizer: DemoOptimizer): Promise<void> {}\n  private calculateNextOptimizationDate(optimizer: DemoOptimizer): Date { return new Date() }\n  private async calculateCurrentPerformance(optimizer: DemoOptimizer): Promise<VariantMetrics> { return {} as VariantMetrics }\n  private getBaselinePerformance(optimizer: DemoOptimizer): VariantMetrics { return {} as VariantMetrics }\n  private calculateImprovement(current: VariantMetrics, baseline: VariantMetrics): number { return 0 }\n  private async getOptimizerTestHistory(optimizerId: string): Promise<any[]> { return [] }\n  private async calculateROIImpact(optimizer: DemoOptimizer): Promise<number> { return 0 }\n  private async identifyTopWinningChanges(testHistory: any[]): Promise<ConfigurationModification[]> { return [] }\n  private async getActiveOptimizers(): Promise<DemoOptimizer[]> { return Array.from(this.activeOptimizers.values()) }\n  private async processAutoOptimizationRules(optimizer: DemoOptimizer): Promise<void> {}\n  private async cleanupCompletedOptimizers(): Promise<void> {}\n}\n\n/**\n * Demo Optimization Utilities\n */\nexport const DemoOptimizationUtils = {\n  /**\n   * Calculate optimization priority score\n   */\n  calculatePriorityScore(\n    expectedImpact: number,\n    confidence: number,\n    implementationEffort: 'low' | 'medium' | 'high'\n  ): number {\n    const effortMultiplier = { low: 1, medium: 0.7, high: 0.4 }[implementationEffort]\n    return Math.round(expectedImpact * confidence * effortMultiplier)\n  },\n\n  /**\n   * Format optimization results for display\n   */\n  formatOptimizationResults(summary: any): {\n    performanceGrade: string\n    improvementSummary: string\n    nextActions: string[]\n  } {\n    const improvementPercent = summary.improvement_over_baseline\n    const performanceGrade =\n      improvementPercent >= 20 ? 'A' :\n      improvementPercent >= 10 ? 'B' :\n      improvementPercent >= 5 ? 'C' :\n      improvementPercent >= 0 ? 'D' : 'F'\n\n    const improvementSummary = improvementPercent > 0\n      ? `${improvementPercent.toFixed(1)}% improvement over baseline`\n      : 'No significant improvement detected'\n\n    const nextActions = []\n    if (performanceGrade === 'A') {\n      nextActions.push('Continue current optimization strategy')\n      nextActions.push('Explore advanced personalization')\n    } else if (performanceGrade === 'F') {\n      nextActions.push('Review optimization strategy')\n      nextActions.push('Consider major configuration changes')\n    } else {\n      nextActions.push('Continue testing new variants')\n      nextActions.push('Focus on high-impact opportunities')\n    }\n\n    return { performanceGrade, improvementSummary, nextActions }\n  }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}