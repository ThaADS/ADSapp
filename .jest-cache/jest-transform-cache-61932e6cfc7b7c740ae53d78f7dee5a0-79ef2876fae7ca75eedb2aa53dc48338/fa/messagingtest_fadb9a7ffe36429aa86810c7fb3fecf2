286e21af47aeaff6b08cb7438704dec7
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _globals = require("@jest/globals");
const _react = require("@testing-library/react");
const _userevent = /*#__PURE__*/ _interop_require_default(require("@testing-library/user-event"));
const _enhancedmessageinterface = /*#__PURE__*/ _interop_require_default(require("../../src/components/messaging/enhanced-message-interface"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Mock file reader
global.FileReader = _globals.jest.fn().mockImplementation(function() {
    this.readAsDataURL = _globals.jest.fn(function() {
        // Trigger onload after a short delay
        setTimeout(()=>{
            if (this.onload) {
                this.onload({
                    target: {
                        result: 'data:image/png;base64,mock-image-data'
                    }
                });
            }
        }, 10);
    });
    this.onload = null;
    this.result = 'data:image/png;base64,mock-image-data';
    return this;
});
// Mock navigator.mediaDevices
Object.defineProperty(global.navigator, 'mediaDevices', {
    writable: true,
    value: {
        getUserMedia: _globals.jest.fn()
    }
});
// Mock scrollIntoView
Element.prototype.scrollIntoView = _globals.jest.fn();
(0, _globals.describe)('Messaging Components', ()=>{
    const mockOnSendMessage = _globals.jest.fn();
    const defaultProps = {
        contactId: 'contact-123',
        contactName: 'John Doe',
        onSendMessage: mockOnSendMessage
    };
    (0, _globals.beforeEach)(()=>{
        _globals.jest.clearAllMocks();
    });
    (0, _globals.describe)('EnhancedMessageInterface - Message Display', ()=>{
        (0, _globals.it)('should render messages list with proper structure', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            // Check if sample messages are rendered
            (0, _globals.expect)(_react.screen.getByText(/hello! how can i help you today/i)).toBeInTheDocument();
            (0, _globals.expect)(_react.screen.getByText(/interested in your products/i)).toBeInTheDocument();
        });
        (0, _globals.it)('should display message timestamps in correct format', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            // All messages should have timestamps
            const messages = _react.screen.getAllByText(/\d{1,2}:\d{2}/);
            (0, _globals.expect)(messages.length).toBeGreaterThan(0);
        });
        (0, _globals.it)('should show message status indicators for sent messages', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            // Status icons should be present for user messages
            const userMessages = _react.screen.getAllByText(/hello! how can i help/i)[0].closest('div');
            (0, _globals.expect)(userMessages).toBeInTheDocument();
        });
        (0, _globals.it)('should support infinite scroll behavior', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            // Check if scrollable container exists
            const messagesContainer = _react.screen.getByText(/hello! how can i help/i).closest('.overflow-y-auto');
            (0, _globals.expect)(messagesContainer).toBeInTheDocument();
        });
    });
    (0, _globals.describe)('EnhancedMessageInterface - Message Input', ()=>{
        (0, _globals.it)('should render message input with proper placeholder', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            const input = _react.screen.getByPlaceholderText(/message john doe/i);
            (0, _globals.expect)(input).toBeInTheDocument();
            (0, _globals.expect)(input).toHaveAttribute('type', 'textarea');
        });
        (0, _globals.it)('should update input value on text entry', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            const input = _react.screen.getByPlaceholderText(/message john doe/i);
            await user.type(input, 'Hello, this is a test message');
            (0, _globals.expect)(input).toHaveValue('Hello, this is a test message');
        });
        (0, _globals.it)('should send message on Enter key press', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            const input = _react.screen.getByPlaceholderText(/message john doe/i);
            await user.type(input, 'Test message{Enter}');
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(mockOnSendMessage).toHaveBeenCalledWith(_globals.expect.objectContaining({
                    content: 'Test message',
                    sender: 'user',
                    type: 'text'
                }));
            });
        });
        (0, _globals.it)('should support Shift+Enter for new line', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            const input = _react.screen.getByPlaceholderText(/message john doe/i);
            await user.type(input, 'Line 1{Shift>}{Enter}{/Shift}Line 2');
            (0, _globals.expect)(input.value).toContain('Line 1\nLine 2');
            (0, _globals.expect)(mockOnSendMessage).not.toHaveBeenCalled();
        });
        (0, _globals.it)('should clear input after sending message', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            const input = _react.screen.getByPlaceholderText(/message john doe/i);
            await user.type(input, 'Message to send');
            const sendButton = _react.screen.getByTitle(/send message/i);
            await user.click(sendButton);
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(input).toHaveValue('');
            });
        });
    });
    (0, _globals.describe)('EnhancedMessageInterface - File Upload', ()=>{
        (0, _globals.it)('should open file picker when attach button is clicked', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            const attachButton = _react.screen.getByTitle(/attach file/i);
            (0, _globals.expect)(attachButton).toBeInTheDocument();
            await user.click(attachButton);
        // File input click is triggered internally
        });
        (0, _globals.it)('should display uploaded image preview', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            const file = new File([
                'image content'
            ], 'test.png', {
                type: 'image/png'
            });
            const fileInput = document.querySelector('input[type="file"]');
            if (fileInput) {
                Object.defineProperty(fileInput, 'files', {
                    value: [
                        file
                    ],
                    writable: false
                });
                _react.fireEvent.change(fileInput);
                await (0, _react.waitFor)(()=>{
                    const preview = document.querySelector('img[alt=""]');
                    (0, _globals.expect)(preview).toBeInTheDocument();
                });
            }
        });
        (0, _globals.it)('should show upload progress for attachments', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            const file = new File([
                'document'
            ], 'test.pdf', {
                type: 'application/pdf'
            });
            const fileInput = document.querySelector('input[type="file"]');
            if (fileInput) {
                Object.defineProperty(fileInput, 'files', {
                    value: [
                        file
                    ],
                    writable: false
                });
                _react.fireEvent.change(fileInput);
                // Progress indicator should appear
                await (0, _react.waitFor)(()=>{
                    const progress = _react.screen.queryByText(/\d+%/);
                    if (progress) {
                        (0, _globals.expect)(progress).toBeInTheDocument();
                    }
                });
            }
        });
        (0, _globals.it)('should allow removing attachments before sending', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            const file = new File([
                'test'
            ], 'test.txt', {
                type: 'text/plain'
            });
            const fileInput = document.querySelector('input[type="file"]');
            if (fileInput) {
                Object.defineProperty(fileInput, 'files', {
                    value: [
                        file
                    ],
                    writable: false
                });
                _react.fireEvent.change(fileInput);
                await (0, _react.waitFor)(async ()=>{
                    const removeButton = document.querySelector('button[class*="bg-red-500"]');
                    if (removeButton) {
                        await user.click(removeButton);
                    }
                });
            }
        });
    });
    (0, _globals.describe)('EnhancedMessageInterface - Emoji Picker', ()=>{
        (0, _globals.it)('should toggle emoji picker on button click', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            const emojiButton = _react.screen.getByTitle(/add emoji/i);
            await user.click(emojiButton);
            await (0, _react.waitFor)(()=>{
                // Emoji picker should be visible
                const emojiPicker = document.querySelector('.grid.grid-cols-8');
                (0, _globals.expect)(emojiPicker).toBeInTheDocument();
            });
        });
        (0, _globals.it)('should insert emoji at cursor position', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            const input = _react.screen.getByPlaceholderText(/message john doe/i);
            await user.type(input, 'Hello ');
            const emojiButton = _react.screen.getByTitle(/add emoji/i);
            await user.click(emojiButton);
            await (0, _react.waitFor)(async ()=>{
                const emojiButtons = document.querySelectorAll('.grid.grid-cols-8 button');
                if (emojiButtons.length > 0) {
                    await user.click(emojiButtons[0]);
                }
            });
            // Input should contain the emoji
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(input).toHaveValue(_globals.expect.stringContaining('Hello'));
            });
        });
    });
    (0, _globals.describe)('EnhancedMessageInterface - Templates', ()=>{
        (0, _globals.it)('should display template panel on button click', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            const templateButton = _react.screen.getByTitle(/use template/i);
            await user.click(templateButton);
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText(/message templates/i)).toBeInTheDocument();
            });
        });
        (0, _globals.it)('should show available message templates', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            const templateButton = _react.screen.getByTitle(/use template/i);
            await user.click(templateButton);
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText(/welcome message/i)).toBeInTheDocument();
                (0, _globals.expect)(_react.screen.getByText(/order confirmation/i)).toBeInTheDocument();
                (0, _globals.expect)(_react.screen.getByText(/support response/i)).toBeInTheDocument();
            });
        });
        (0, _globals.it)('should insert template content into input field', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            const templateButton = _react.screen.getByTitle(/use template/i);
            await user.click(templateButton);
            await (0, _react.waitFor)(async ()=>{
                const welcomeTemplate = _react.screen.getByText(/welcome message/i).closest('button');
                if (welcomeTemplate) {
                    await user.click(welcomeTemplate);
                }
            });
            const input = _react.screen.getByPlaceholderText(/message john doe/i);
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(input).toHaveValue(_globals.expect.stringContaining('Hello'));
            });
        });
    });
    (0, _globals.describe)('EnhancedMessageInterface - Voice Recording', ()=>{
        (0, _globals.it)('should show voice recording button when input is empty', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            const micButton = _react.screen.getByTitle(/hold to record/i);
            (0, _globals.expect)(micButton).toBeInTheDocument();
        });
        (0, _globals.it)('should start recording on mouse down', async ()=>{
            const mockGetUserMedia = _globals.jest.fn().mockResolvedValue({
                getTracks: ()=>[
                        {
                            stop: _globals.jest.fn()
                        }
                    ]
            });
            navigator.mediaDevices.getUserMedia = mockGetUserMedia;
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            const micButton = _react.screen.getByTitle(/hold to record/i);
            _react.fireEvent.mouseDown(micButton);
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(mockGetUserMedia).toHaveBeenCalledWith({
                    audio: true
                });
            });
        });
        (0, _globals.it)('should show recording time during voice recording', async ()=>{
            const mockStream = {
                getTracks: ()=>[
                        {
                            stop: _globals.jest.fn()
                        }
                    ]
            };
            navigator.mediaDevices.getUserMedia.mockResolvedValue(mockStream);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            const micButton = _react.screen.getByTitle(/hold to record/i);
            _react.fireEvent.mouseDown(micButton);
            await (0, _react.waitFor)(()=>{
                const recordingTime = _react.screen.queryByText(/\d+:\d{2}/);
                if (recordingTime) {
                    (0, _globals.expect)(recordingTime).toBeInTheDocument();
                }
            }, {
                timeout: 2000
            });
        });
    });
    (0, _globals.describe)('EnhancedMessageInterface - Accessibility', ()=>{
        (0, _globals.it)('should support keyboard navigation through controls', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            await user.tab();
            // First focusable element should be attach button or input
            const attachButton = _react.screen.getByTitle(/attach file/i);
            const messageInput = _react.screen.getByPlaceholderText(/message john doe/i);
            (0, _globals.expect)(attachButton === document.activeElement || messageInput === document.activeElement).toBe(true);
        });
        (0, _globals.it)('should have proper ARIA labels for all interactive elements', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            const attachButton = _react.screen.getByTitle(/attach file/i);
            const emojiButton = _react.screen.getByTitle(/add emoji/i);
            const templateButton = _react.screen.getByTitle(/use template/i);
            (0, _globals.expect)(attachButton).toHaveAttribute('title');
            (0, _globals.expect)(emojiButton).toHaveAttribute('title');
            (0, _globals.expect)(templateButton).toHaveAttribute('title');
        });
        (0, _globals.it)('should announce message sending status to screen readers', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            const input = _react.screen.getByPlaceholderText(/message john doe/i);
            await user.type(input, 'Test message');
            const sendButton = _react.screen.getByTitle(/send message/i);
            await user.click(sendButton);
            await (0, _react.waitFor)(()=>{
                // Message should be added to the list
                (0, _globals.expect)(_react.screen.getByText('Test message')).toBeInTheDocument();
            });
        });
        (0, _globals.it)('should support screen reader navigation through message history', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            // Messages should be in a scrollable region
            const messagesArea = document.querySelector('.overflow-y-auto');
            (0, _globals.expect)(messagesArea).toBeInTheDocument();
        });
    });
    (0, _globals.describe)('EnhancedMessageInterface - Real-time Features', ()=>{
        (0, _globals.it)('should show typing indicator', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            const input = _react.screen.getByPlaceholderText(/message john doe/i);
            await user.type(input, 'Typing...');
            // Typing indicator appears for self (in implementation)
            // This tests the component renders correctly
            (0, _globals.expect)(input).toHaveValue('Typing...');
        });
        (0, _globals.it)('should auto-scroll to bottom when new messages arrive', async ()=>{
            const user = _userevent.default.setup();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_enhancedmessageinterface.default, {
                ...defaultProps
            }));
            const input = _react.screen.getByPlaceholderText(/message john doe/i);
            await user.type(input, 'New message{Enter}');
            await (0, _react.waitFor)(()=>{
                const messagesArea = document.querySelector('.overflow-y-auto');
                // Auto-scroll effect is applied (tested via component behavior)
                (0, _globals.expect)(messagesArea).toBeInTheDocument();
            });
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxBaSBQcm9qZWN0ZW5cXEFEU2FwcFxcdGVzdHNcXGNvbXBvbmVudHNcXG1lc3NhZ2luZy50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZXNjcmliZSwgaXQsIGV4cGVjdCwgamVzdCwgYmVmb3JlRWFjaCB9IGZyb20gJ0BqZXN0L2dsb2JhbHMnO1xuaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIGZpcmVFdmVudCwgd2FpdEZvciwgd2l0aGluIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgdXNlckV2ZW50IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvdXNlci1ldmVudCc7XG5pbXBvcnQgRW5oYW5jZWRNZXNzYWdlSW50ZXJmYWNlIGZyb20gJ0AvY29tcG9uZW50cy9tZXNzYWdpbmcvZW5oYW5jZWQtbWVzc2FnZS1pbnRlcmZhY2UnO1xuXG4vLyBNb2NrIGZpbGUgcmVhZGVyXG5nbG9iYWwuRmlsZVJlYWRlciA9IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oZnVuY3Rpb24odGhpczogYW55KSB7XG4gIHRoaXMucmVhZEFzRGF0YVVSTCA9IGplc3QuZm4oZnVuY3Rpb24odGhpczogYW55KSB7XG4gICAgLy8gVHJpZ2dlciBvbmxvYWQgYWZ0ZXIgYSBzaG9ydCBkZWxheVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMub25sb2FkKSB7XG4gICAgICAgIHRoaXMub25sb2FkKHsgdGFyZ2V0OiB7IHJlc3VsdDogJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxtb2NrLWltYWdlLWRhdGEnIH0gfSk7XG4gICAgICB9XG4gICAgfSwgMTApO1xuICB9KTtcbiAgdGhpcy5vbmxvYWQgPSBudWxsO1xuICB0aGlzLnJlc3VsdCA9ICdkYXRhOmltYWdlL3BuZztiYXNlNjQsbW9jay1pbWFnZS1kYXRhJztcbiAgcmV0dXJuIHRoaXM7XG59KSBhcyBhbnk7XG5cbi8vIE1vY2sgbmF2aWdhdG9yLm1lZGlhRGV2aWNlc1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGdsb2JhbC5uYXZpZ2F0b3IsICdtZWRpYURldmljZXMnLCB7XG4gIHdyaXRhYmxlOiB0cnVlLFxuICB2YWx1ZToge1xuICAgIGdldFVzZXJNZWRpYTogamVzdC5mbigpLFxuICB9LFxufSk7XG5cbi8vIE1vY2sgc2Nyb2xsSW50b1ZpZXdcbkVsZW1lbnQucHJvdG90eXBlLnNjcm9sbEludG9WaWV3ID0gamVzdC5mbigpO1xuXG5kZXNjcmliZSgnTWVzc2FnaW5nIENvbXBvbmVudHMnLCAoKSA9PiB7XG4gIGNvbnN0IG1vY2tPblNlbmRNZXNzYWdlID0gamVzdC5mbigpO1xuICBjb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gICAgY29udGFjdElkOiAnY29udGFjdC0xMjMnLFxuICAgIGNvbnRhY3ROYW1lOiAnSm9obiBEb2UnLFxuICAgIG9uU2VuZE1lc3NhZ2U6IG1vY2tPblNlbmRNZXNzYWdlLFxuICB9O1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICB9KTtcblxuICBkZXNjcmliZSgnRW5oYW5jZWRNZXNzYWdlSW50ZXJmYWNlIC0gTWVzc2FnZSBEaXNwbGF5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmVuZGVyIG1lc3NhZ2VzIGxpc3Qgd2l0aCBwcm9wZXIgc3RydWN0dXJlJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxFbmhhbmNlZE1lc3NhZ2VJbnRlcmZhY2Ugey4uLmRlZmF1bHRQcm9wc30gLz4pO1xuXG4gICAgICAvLyBDaGVjayBpZiBzYW1wbGUgbWVzc2FnZXMgYXJlIHJlbmRlcmVkXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvaGVsbG8hIGhvdyBjYW4gaSBoZWxwIHlvdSB0b2RheS9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9pbnRlcmVzdGVkIGluIHlvdXIgcHJvZHVjdHMvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgbWVzc2FnZSB0aW1lc3RhbXBzIGluIGNvcnJlY3QgZm9ybWF0JywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxFbmhhbmNlZE1lc3NhZ2VJbnRlcmZhY2Ugey4uLmRlZmF1bHRQcm9wc30gLz4pO1xuXG4gICAgICAvLyBBbGwgbWVzc2FnZXMgc2hvdWxkIGhhdmUgdGltZXN0YW1wc1xuICAgICAgY29uc3QgbWVzc2FnZXMgPSBzY3JlZW4uZ2V0QWxsQnlUZXh0KC9cXGR7MSwyfTpcXGR7Mn0vKTtcbiAgICAgIGV4cGVjdChtZXNzYWdlcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2hvdyBtZXNzYWdlIHN0YXR1cyBpbmRpY2F0b3JzIGZvciBzZW50IG1lc3NhZ2VzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxFbmhhbmNlZE1lc3NhZ2VJbnRlcmZhY2Ugey4uLmRlZmF1bHRQcm9wc30gLz4pO1xuXG4gICAgICAvLyBTdGF0dXMgaWNvbnMgc2hvdWxkIGJlIHByZXNlbnQgZm9yIHVzZXIgbWVzc2FnZXNcbiAgICAgIGNvbnN0IHVzZXJNZXNzYWdlcyA9IHNjcmVlbi5nZXRBbGxCeVRleHQoL2hlbGxvISBob3cgY2FuIGkgaGVscC9pKVswXS5jbG9zZXN0KCdkaXYnKTtcbiAgICAgIGV4cGVjdCh1c2VyTWVzc2FnZXMpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHN1cHBvcnQgaW5maW5pdGUgc2Nyb2xsIGJlaGF2aW9yJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxFbmhhbmNlZE1lc3NhZ2VJbnRlcmZhY2Ugey4uLmRlZmF1bHRQcm9wc30gLz4pO1xuXG4gICAgICAvLyBDaGVjayBpZiBzY3JvbGxhYmxlIGNvbnRhaW5lciBleGlzdHNcbiAgICAgIGNvbnN0IG1lc3NhZ2VzQ29udGFpbmVyID0gc2NyZWVuLmdldEJ5VGV4dCgvaGVsbG8hIGhvdyBjYW4gaSBoZWxwL2kpLmNsb3Nlc3QoJy5vdmVyZmxvdy15LWF1dG8nKTtcbiAgICAgIGV4cGVjdChtZXNzYWdlc0NvbnRhaW5lcikudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0VuaGFuY2VkTWVzc2FnZUludGVyZmFjZSAtIE1lc3NhZ2UgSW5wdXQnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgbWVzc2FnZSBpbnB1dCB3aXRoIHByb3BlciBwbGFjZWhvbGRlcicsICgpID0+IHtcbiAgICAgIHJlbmRlcig8RW5oYW5jZWRNZXNzYWdlSW50ZXJmYWNlIHsuLi5kZWZhdWx0UHJvcHN9IC8+KTtcblxuICAgICAgY29uc3QgaW5wdXQgPSBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoL21lc3NhZ2Ugam9obiBkb2UvaSk7XG4gICAgICBleHBlY3QoaW5wdXQpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3QoaW5wdXQpLnRvSGF2ZUF0dHJpYnV0ZSgndHlwZScsICd0ZXh0YXJlYScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB1cGRhdGUgaW5wdXQgdmFsdWUgb24gdGV4dCBlbnRyeScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIHJlbmRlcig8RW5oYW5jZWRNZXNzYWdlSW50ZXJmYWNlIHsuLi5kZWZhdWx0UHJvcHN9IC8+KTtcblxuICAgICAgY29uc3QgaW5wdXQgPSBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoL21lc3NhZ2Ugam9obiBkb2UvaSk7XG4gICAgICBhd2FpdCB1c2VyLnR5cGUoaW5wdXQsICdIZWxsbywgdGhpcyBpcyBhIHRlc3QgbWVzc2FnZScpO1xuXG4gICAgICBleHBlY3QoaW5wdXQpLnRvSGF2ZVZhbHVlKCdIZWxsbywgdGhpcyBpcyBhIHRlc3QgbWVzc2FnZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzZW5kIG1lc3NhZ2Ugb24gRW50ZXIga2V5IHByZXNzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgcmVuZGVyKDxFbmhhbmNlZE1lc3NhZ2VJbnRlcmZhY2Ugey4uLmRlZmF1bHRQcm9wc30gLz4pO1xuXG4gICAgICBjb25zdCBpbnB1dCA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgvbWVzc2FnZSBqb2huIGRvZS9pKTtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShpbnB1dCwgJ1Rlc3QgbWVzc2FnZXtFbnRlcn0nKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChtb2NrT25TZW5kTWVzc2FnZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgICAgY29udGVudDogJ1Rlc3QgbWVzc2FnZScsXG4gICAgICAgICAgICBzZW5kZXI6ICd1c2VyJyxcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHN1cHBvcnQgU2hpZnQrRW50ZXIgZm9yIG5ldyBsaW5lJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgcmVuZGVyKDxFbmhhbmNlZE1lc3NhZ2VJbnRlcmZhY2Ugey4uLmRlZmF1bHRQcm9wc30gLz4pO1xuXG4gICAgICBjb25zdCBpbnB1dCA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgvbWVzc2FnZSBqb2huIGRvZS9pKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50O1xuICAgICAgYXdhaXQgdXNlci50eXBlKGlucHV0LCAnTGluZSAxe1NoaWZ0Pn17RW50ZXJ9ey9TaGlmdH1MaW5lIDInKTtcblxuICAgICAgZXhwZWN0KGlucHV0LnZhbHVlKS50b0NvbnRhaW4oJ0xpbmUgMVxcbkxpbmUgMicpO1xuICAgICAgZXhwZWN0KG1vY2tPblNlbmRNZXNzYWdlKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjbGVhciBpbnB1dCBhZnRlciBzZW5kaW5nIG1lc3NhZ2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICByZW5kZXIoPEVuaGFuY2VkTWVzc2FnZUludGVyZmFjZSB7Li4uZGVmYXVsdFByb3BzfSAvPik7XG5cbiAgICAgIGNvbnN0IGlucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KC9tZXNzYWdlIGpvaG4gZG9lL2kpO1xuICAgICAgYXdhaXQgdXNlci50eXBlKGlucHV0LCAnTWVzc2FnZSB0byBzZW5kJyk7XG5cbiAgICAgIGNvbnN0IHNlbmRCdXR0b24gPSBzY3JlZW4uZ2V0QnlUaXRsZSgvc2VuZCBtZXNzYWdlL2kpO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhzZW5kQnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChpbnB1dCkudG9IYXZlVmFsdWUoJycpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdFbmhhbmNlZE1lc3NhZ2VJbnRlcmZhY2UgLSBGaWxlIFVwbG9hZCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIG9wZW4gZmlsZSBwaWNrZXIgd2hlbiBhdHRhY2ggYnV0dG9uIGlzIGNsaWNrZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICByZW5kZXIoPEVuaGFuY2VkTWVzc2FnZUludGVyZmFjZSB7Li4uZGVmYXVsdFByb3BzfSAvPik7XG5cbiAgICAgIGNvbnN0IGF0dGFjaEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRpdGxlKC9hdHRhY2ggZmlsZS9pKTtcbiAgICAgIGV4cGVjdChhdHRhY2hCdXR0b24pLnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soYXR0YWNoQnV0dG9uKTtcbiAgICAgIC8vIEZpbGUgaW5wdXQgY2xpY2sgaXMgdHJpZ2dlcmVkIGludGVybmFsbHlcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZGlzcGxheSB1cGxvYWRlZCBpbWFnZSBwcmV2aWV3JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgcmVuZGVyKDxFbmhhbmNlZE1lc3NhZ2VJbnRlcmZhY2Ugey4uLmRlZmF1bHRQcm9wc30gLz4pO1xuXG4gICAgICBjb25zdCBmaWxlID0gbmV3IEZpbGUoWydpbWFnZSBjb250ZW50J10sICd0ZXN0LnBuZycsIHsgdHlwZTogJ2ltYWdlL3BuZycgfSk7XG4gICAgICBjb25zdCBmaWxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwiZmlsZVwiXScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgICAgIGlmIChmaWxlSW5wdXQpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZpbGVJbnB1dCwgJ2ZpbGVzJywge1xuICAgICAgICAgIHZhbHVlOiBbZmlsZV0sXG4gICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICB9KTtcblxuICAgICAgICBmaXJlRXZlbnQuY2hhbmdlKGZpbGVJbnB1dCk7XG5cbiAgICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgICAgY29uc3QgcHJldmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2ltZ1thbHQ9XCJcIl0nKTtcbiAgICAgICAgICBleHBlY3QocHJldmlldykudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNob3cgdXBsb2FkIHByb2dyZXNzIGZvciBhdHRhY2htZW50cycsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8RW5oYW5jZWRNZXNzYWdlSW50ZXJmYWNlIHsuLi5kZWZhdWx0UHJvcHN9IC8+KTtcblxuICAgICAgY29uc3QgZmlsZSA9IG5ldyBGaWxlKFsnZG9jdW1lbnQnXSwgJ3Rlc3QucGRmJywgeyB0eXBlOiAnYXBwbGljYXRpb24vcGRmJyB9KTtcbiAgICAgIGNvbnN0IGZpbGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJmaWxlXCJdJykgYXMgSFRNTElucHV0RWxlbWVudDtcblxuICAgICAgaWYgKGZpbGVJbnB1dCkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZmlsZUlucHV0LCAnZmlsZXMnLCB7XG4gICAgICAgICAgdmFsdWU6IFtmaWxlXSxcbiAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZpcmVFdmVudC5jaGFuZ2UoZmlsZUlucHV0KTtcblxuICAgICAgICAvLyBQcm9ncmVzcyBpbmRpY2F0b3Igc2hvdWxkIGFwcGVhclxuICAgICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgICBjb25zdCBwcm9ncmVzcyA9IHNjcmVlbi5xdWVyeUJ5VGV4dCgvXFxkKyUvKTtcbiAgICAgICAgICBpZiAocHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIGV4cGVjdChwcm9ncmVzcykudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBhbGxvdyByZW1vdmluZyBhdHRhY2htZW50cyBiZWZvcmUgc2VuZGluZycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIHJlbmRlcig8RW5oYW5jZWRNZXNzYWdlSW50ZXJmYWNlIHsuLi5kZWZhdWx0UHJvcHN9IC8+KTtcblxuICAgICAgY29uc3QgZmlsZSA9IG5ldyBGaWxlKFsndGVzdCddLCAndGVzdC50eHQnLCB7IHR5cGU6ICd0ZXh0L3BsYWluJyB9KTtcbiAgICAgIGNvbnN0IGZpbGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJmaWxlXCJdJykgYXMgSFRNTElucHV0RWxlbWVudDtcblxuICAgICAgaWYgKGZpbGVJbnB1dCkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZmlsZUlucHV0LCAnZmlsZXMnLCB7XG4gICAgICAgICAgdmFsdWU6IFtmaWxlXSxcbiAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZpcmVFdmVudC5jaGFuZ2UoZmlsZUlucHV0KTtcblxuICAgICAgICBhd2FpdCB3YWl0Rm9yKGFzeW5jICgpID0+IHtcbiAgICAgICAgICBjb25zdCByZW1vdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bY2xhc3MqPVwiYmctcmVkLTUwMFwiXScpO1xuICAgICAgICAgIGlmIChyZW1vdmVCdXR0b24pIHtcbiAgICAgICAgICAgIGF3YWl0IHVzZXIuY2xpY2socmVtb3ZlQnV0dG9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRW5oYW5jZWRNZXNzYWdlSW50ZXJmYWNlIC0gRW1vamkgUGlja2VyJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdG9nZ2xlIGVtb2ppIHBpY2tlciBvbiBidXR0b24gY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICByZW5kZXIoPEVuaGFuY2VkTWVzc2FnZUludGVyZmFjZSB7Li4uZGVmYXVsdFByb3BzfSAvPik7XG5cbiAgICAgIGNvbnN0IGVtb2ppQnV0dG9uID0gc2NyZWVuLmdldEJ5VGl0bGUoL2FkZCBlbW9qaS9pKTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soZW1vamlCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgLy8gRW1vamkgcGlja2VyIHNob3VsZCBiZSB2aXNpYmxlXG4gICAgICAgIGNvbnN0IGVtb2ppUGlja2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdyaWQuZ3JpZC1jb2xzLTgnKTtcbiAgICAgICAgZXhwZWN0KGVtb2ppUGlja2VyKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGluc2VydCBlbW9qaSBhdCBjdXJzb3IgcG9zaXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICByZW5kZXIoPEVuaGFuY2VkTWVzc2FnZUludGVyZmFjZSB7Li4uZGVmYXVsdFByb3BzfSAvPik7XG5cbiAgICAgIGNvbnN0IGlucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KC9tZXNzYWdlIGpvaG4gZG9lL2kpO1xuICAgICAgYXdhaXQgdXNlci50eXBlKGlucHV0LCAnSGVsbG8gJyk7XG5cbiAgICAgIGNvbnN0IGVtb2ppQnV0dG9uID0gc2NyZWVuLmdldEJ5VGl0bGUoL2FkZCBlbW9qaS9pKTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soZW1vamlCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgZW1vamlCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmdyaWQuZ3JpZC1jb2xzLTggYnV0dG9uJyk7XG4gICAgICAgIGlmIChlbW9qaUJ1dHRvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGF3YWl0IHVzZXIuY2xpY2soZW1vamlCdXR0b25zWzBdKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIElucHV0IHNob3VsZCBjb250YWluIHRoZSBlbW9qaVxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChpbnB1dCkudG9IYXZlVmFsdWUoZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ0hlbGxvJykpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdFbmhhbmNlZE1lc3NhZ2VJbnRlcmZhY2UgLSBUZW1wbGF0ZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBkaXNwbGF5IHRlbXBsYXRlIHBhbmVsIG9uIGJ1dHRvbiBjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIHJlbmRlcig8RW5oYW5jZWRNZXNzYWdlSW50ZXJmYWNlIHsuLi5kZWZhdWx0UHJvcHN9IC8+KTtcblxuICAgICAgY29uc3QgdGVtcGxhdGVCdXR0b24gPSBzY3JlZW4uZ2V0QnlUaXRsZSgvdXNlIHRlbXBsYXRlL2kpO1xuICAgICAgYXdhaXQgdXNlci5jbGljayh0ZW1wbGF0ZUJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvbWVzc2FnZSB0ZW1wbGF0ZXMvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2hvdyBhdmFpbGFibGUgbWVzc2FnZSB0ZW1wbGF0ZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICByZW5kZXIoPEVuaGFuY2VkTWVzc2FnZUludGVyZmFjZSB7Li4uZGVmYXVsdFByb3BzfSAvPik7XG5cbiAgICAgIGNvbnN0IHRlbXBsYXRlQnV0dG9uID0gc2NyZWVuLmdldEJ5VGl0bGUoL3VzZSB0ZW1wbGF0ZS9pKTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2sodGVtcGxhdGVCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL3dlbGNvbWUgbWVzc2FnZS9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL29yZGVyIGNvbmZpcm1hdGlvbi9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL3N1cHBvcnQgcmVzcG9uc2UvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaW5zZXJ0IHRlbXBsYXRlIGNvbnRlbnQgaW50byBpbnB1dCBmaWVsZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIHJlbmRlcig8RW5oYW5jZWRNZXNzYWdlSW50ZXJmYWNlIHsuLi5kZWZhdWx0UHJvcHN9IC8+KTtcblxuICAgICAgY29uc3QgdGVtcGxhdGVCdXR0b24gPSBzY3JlZW4uZ2V0QnlUaXRsZSgvdXNlIHRlbXBsYXRlL2kpO1xuICAgICAgYXdhaXQgdXNlci5jbGljayh0ZW1wbGF0ZUJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB3ZWxjb21lVGVtcGxhdGUgPSBzY3JlZW4uZ2V0QnlUZXh0KC93ZWxjb21lIG1lc3NhZ2UvaSkuY2xvc2VzdCgnYnV0dG9uJyk7XG4gICAgICAgIGlmICh3ZWxjb21lVGVtcGxhdGUpIHtcbiAgICAgICAgICBhd2FpdCB1c2VyLmNsaWNrKHdlbGNvbWVUZW1wbGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBpbnB1dCA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgvbWVzc2FnZSBqb2huIGRvZS9pKTtcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QoaW5wdXQpLnRvSGF2ZVZhbHVlKGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdIZWxsbycpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRW5oYW5jZWRNZXNzYWdlSW50ZXJmYWNlIC0gVm9pY2UgUmVjb3JkaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgc2hvdyB2b2ljZSByZWNvcmRpbmcgYnV0dG9uIHdoZW4gaW5wdXQgaXMgZW1wdHknLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEVuaGFuY2VkTWVzc2FnZUludGVyZmFjZSB7Li4uZGVmYXVsdFByb3BzfSAvPik7XG5cbiAgICAgIGNvbnN0IG1pY0J1dHRvbiA9IHNjcmVlbi5nZXRCeVRpdGxlKC9ob2xkIHRvIHJlY29yZC9pKTtcbiAgICAgIGV4cGVjdChtaWNCdXR0b24pLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHN0YXJ0IHJlY29yZGluZyBvbiBtb3VzZSBkb3duJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0dldFVzZXJNZWRpYSA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGdldFRyYWNrczogKCkgPT4gW3sgc3RvcDogamVzdC5mbigpIH1dLFxuICAgICAgfSk7XG5cbiAgICAgIChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSBhcyBqZXN0Lk1vY2spID0gbW9ja0dldFVzZXJNZWRpYTtcblxuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgcmVuZGVyKDxFbmhhbmNlZE1lc3NhZ2VJbnRlcmZhY2Ugey4uLmRlZmF1bHRQcm9wc30gLz4pO1xuXG4gICAgICBjb25zdCBtaWNCdXR0b24gPSBzY3JlZW4uZ2V0QnlUaXRsZSgvaG9sZCB0byByZWNvcmQvaSk7XG4gICAgICBmaXJlRXZlbnQubW91c2VEb3duKG1pY0J1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobW9ja0dldFVzZXJNZWRpYSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoeyBhdWRpbzogdHJ1ZSB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzaG93IHJlY29yZGluZyB0aW1lIGR1cmluZyB2b2ljZSByZWNvcmRpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrU3RyZWFtID0ge1xuICAgICAgICBnZXRUcmFja3M6ICgpID0+IFt7IHN0b3A6IGplc3QuZm4oKSB9XSxcbiAgICAgIH07XG5cbiAgICAgIChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tTdHJlYW0pO1xuXG4gICAgICByZW5kZXIoPEVuaGFuY2VkTWVzc2FnZUludGVyZmFjZSB7Li4uZGVmYXVsdFByb3BzfSAvPik7XG5cbiAgICAgIGNvbnN0IG1pY0J1dHRvbiA9IHNjcmVlbi5nZXRCeVRpdGxlKC9ob2xkIHRvIHJlY29yZC9pKTtcbiAgICAgIGZpcmVFdmVudC5tb3VzZURvd24obWljQnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlY29yZGluZ1RpbWUgPSBzY3JlZW4ucXVlcnlCeVRleHQoL1xcZCs6XFxkezJ9Lyk7XG4gICAgICAgIGlmIChyZWNvcmRpbmdUaW1lKSB7XG4gICAgICAgICAgZXhwZWN0KHJlY29yZGluZ1RpbWUpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHsgdGltZW91dDogMjAwMCB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0VuaGFuY2VkTWVzc2FnZUludGVyZmFjZSAtIEFjY2Vzc2liaWxpdHknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBzdXBwb3J0IGtleWJvYXJkIG5hdmlnYXRpb24gdGhyb3VnaCBjb250cm9scycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIHJlbmRlcig8RW5oYW5jZWRNZXNzYWdlSW50ZXJmYWNlIHsuLi5kZWZhdWx0UHJvcHN9IC8+KTtcblxuICAgICAgYXdhaXQgdXNlci50YWIoKTtcblxuICAgICAgLy8gRmlyc3QgZm9jdXNhYmxlIGVsZW1lbnQgc2hvdWxkIGJlIGF0dGFjaCBidXR0b24gb3IgaW5wdXRcbiAgICAgIGNvbnN0IGF0dGFjaEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRpdGxlKC9hdHRhY2ggZmlsZS9pKTtcbiAgICAgIGNvbnN0IG1lc3NhZ2VJbnB1dCA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgvbWVzc2FnZSBqb2huIGRvZS9pKTtcblxuICAgICAgZXhwZWN0KFxuICAgICAgICBhdHRhY2hCdXR0b24gPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgfHwgbWVzc2FnZUlucHV0ID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50XG4gICAgICApLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhdmUgcHJvcGVyIEFSSUEgbGFiZWxzIGZvciBhbGwgaW50ZXJhY3RpdmUgZWxlbWVudHMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEVuaGFuY2VkTWVzc2FnZUludGVyZmFjZSB7Li4uZGVmYXVsdFByb3BzfSAvPik7XG5cbiAgICAgIGNvbnN0IGF0dGFjaEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRpdGxlKC9hdHRhY2ggZmlsZS9pKTtcbiAgICAgIGNvbnN0IGVtb2ppQnV0dG9uID0gc2NyZWVuLmdldEJ5VGl0bGUoL2FkZCBlbW9qaS9pKTtcbiAgICAgIGNvbnN0IHRlbXBsYXRlQnV0dG9uID0gc2NyZWVuLmdldEJ5VGl0bGUoL3VzZSB0ZW1wbGF0ZS9pKTtcblxuICAgICAgZXhwZWN0KGF0dGFjaEJ1dHRvbikudG9IYXZlQXR0cmlidXRlKCd0aXRsZScpO1xuICAgICAgZXhwZWN0KGVtb2ppQnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ3RpdGxlJyk7XG4gICAgICBleHBlY3QodGVtcGxhdGVCdXR0b24pLnRvSGF2ZUF0dHJpYnV0ZSgndGl0bGUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYW5ub3VuY2UgbWVzc2FnZSBzZW5kaW5nIHN0YXR1cyB0byBzY3JlZW4gcmVhZGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIHJlbmRlcig8RW5oYW5jZWRNZXNzYWdlSW50ZXJmYWNlIHsuLi5kZWZhdWx0UHJvcHN9IC8+KTtcblxuICAgICAgY29uc3QgaW5wdXQgPSBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoL21lc3NhZ2Ugam9obiBkb2UvaSk7XG4gICAgICBhd2FpdCB1c2VyLnR5cGUoaW5wdXQsICdUZXN0IG1lc3NhZ2UnKTtcblxuICAgICAgY29uc3Qgc2VuZEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRpdGxlKC9zZW5kIG1lc3NhZ2UvaSk7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHNlbmRCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgLy8gTWVzc2FnZSBzaG91bGQgYmUgYWRkZWQgdG8gdGhlIGxpc3RcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Rlc3QgbWVzc2FnZScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHN1cHBvcnQgc2NyZWVuIHJlYWRlciBuYXZpZ2F0aW9uIHRocm91Z2ggbWVzc2FnZSBoaXN0b3J5JywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxFbmhhbmNlZE1lc3NhZ2VJbnRlcmZhY2Ugey4uLmRlZmF1bHRQcm9wc30gLz4pO1xuXG4gICAgICAvLyBNZXNzYWdlcyBzaG91bGQgYmUgaW4gYSBzY3JvbGxhYmxlIHJlZ2lvblxuICAgICAgY29uc3QgbWVzc2FnZXNBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm92ZXJmbG93LXktYXV0bycpO1xuICAgICAgZXhwZWN0KG1lc3NhZ2VzQXJlYSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0VuaGFuY2VkTWVzc2FnZUludGVyZmFjZSAtIFJlYWwtdGltZSBGZWF0dXJlcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHNob3cgdHlwaW5nIGluZGljYXRvcicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIHJlbmRlcig8RW5oYW5jZWRNZXNzYWdlSW50ZXJmYWNlIHsuLi5kZWZhdWx0UHJvcHN9IC8+KTtcblxuICAgICAgY29uc3QgaW5wdXQgPSBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoL21lc3NhZ2Ugam9obiBkb2UvaSk7XG4gICAgICBhd2FpdCB1c2VyLnR5cGUoaW5wdXQsICdUeXBpbmcuLi4nKTtcblxuICAgICAgLy8gVHlwaW5nIGluZGljYXRvciBhcHBlYXJzIGZvciBzZWxmIChpbiBpbXBsZW1lbnRhdGlvbilcbiAgICAgIC8vIFRoaXMgdGVzdHMgdGhlIGNvbXBvbmVudCByZW5kZXJzIGNvcnJlY3RseVxuICAgICAgZXhwZWN0KGlucHV0KS50b0hhdmVWYWx1ZSgnVHlwaW5nLi4uJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGF1dG8tc2Nyb2xsIHRvIGJvdHRvbSB3aGVuIG5ldyBtZXNzYWdlcyBhcnJpdmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICByZW5kZXIoPEVuaGFuY2VkTWVzc2FnZUludGVyZmFjZSB7Li4uZGVmYXVsdFByb3BzfSAvPik7XG5cbiAgICAgIGNvbnN0IGlucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KC9tZXNzYWdlIGpvaG4gZG9lL2kpO1xuICAgICAgYXdhaXQgdXNlci50eXBlKGlucHV0LCAnTmV3IG1lc3NhZ2V7RW50ZXJ9Jyk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBtZXNzYWdlc0FyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3ZlcmZsb3cteS1hdXRvJyk7XG4gICAgICAgIC8vIEF1dG8tc2Nyb2xsIGVmZmVjdCBpcyBhcHBsaWVkICh0ZXN0ZWQgdmlhIGNvbXBvbmVudCBiZWhhdmlvcilcbiAgICAgICAgZXhwZWN0KG1lc3NhZ2VzQXJlYSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImdsb2JhbCIsIkZpbGVSZWFkZXIiLCJqZXN0IiwiZm4iLCJtb2NrSW1wbGVtZW50YXRpb24iLCJyZWFkQXNEYXRhVVJMIiwic2V0VGltZW91dCIsIm9ubG9hZCIsInRhcmdldCIsInJlc3VsdCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwibmF2aWdhdG9yIiwid3JpdGFibGUiLCJ2YWx1ZSIsImdldFVzZXJNZWRpYSIsIkVsZW1lbnQiLCJwcm90b3R5cGUiLCJzY3JvbGxJbnRvVmlldyIsImRlc2NyaWJlIiwibW9ja09uU2VuZE1lc3NhZ2UiLCJkZWZhdWx0UHJvcHMiLCJjb250YWN0SWQiLCJjb250YWN0TmFtZSIsIm9uU2VuZE1lc3NhZ2UiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwicmVuZGVyIiwiRW5oYW5jZWRNZXNzYWdlSW50ZXJmYWNlIiwiZXhwZWN0Iiwic2NyZWVuIiwiZ2V0QnlUZXh0IiwidG9CZUluVGhlRG9jdW1lbnQiLCJtZXNzYWdlcyIsImdldEFsbEJ5VGV4dCIsImxlbmd0aCIsInRvQmVHcmVhdGVyVGhhbiIsInVzZXJNZXNzYWdlcyIsImNsb3Nlc3QiLCJtZXNzYWdlc0NvbnRhaW5lciIsImlucHV0IiwiZ2V0QnlQbGFjZWhvbGRlclRleHQiLCJ0b0hhdmVBdHRyaWJ1dGUiLCJ1c2VyIiwidXNlckV2ZW50Iiwic2V0dXAiLCJ0eXBlIiwidG9IYXZlVmFsdWUiLCJ3YWl0Rm9yIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJvYmplY3RDb250YWluaW5nIiwiY29udGVudCIsInNlbmRlciIsInRvQ29udGFpbiIsIm5vdCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJzZW5kQnV0dG9uIiwiZ2V0QnlUaXRsZSIsImNsaWNrIiwiYXR0YWNoQnV0dG9uIiwiZmlsZSIsIkZpbGUiLCJmaWxlSW5wdXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJmaXJlRXZlbnQiLCJjaGFuZ2UiLCJwcmV2aWV3IiwicHJvZ3Jlc3MiLCJxdWVyeUJ5VGV4dCIsInJlbW92ZUJ1dHRvbiIsImVtb2ppQnV0dG9uIiwiZW1vamlQaWNrZXIiLCJlbW9qaUJ1dHRvbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwic3RyaW5nQ29udGFpbmluZyIsInRlbXBsYXRlQnV0dG9uIiwid2VsY29tZVRlbXBsYXRlIiwibWljQnV0dG9uIiwibW9ja0dldFVzZXJNZWRpYSIsIm1vY2tSZXNvbHZlZFZhbHVlIiwiZ2V0VHJhY2tzIiwic3RvcCIsIm1lZGlhRGV2aWNlcyIsIm1vdXNlRG93biIsImF1ZGlvIiwibW9ja1N0cmVhbSIsInJlY29yZGluZ1RpbWUiLCJ0aW1lb3V0IiwidGFiIiwibWVzc2FnZUlucHV0IiwiYWN0aXZlRWxlbWVudCIsInRvQmUiLCJtZXNzYWdlc0FyZWEiXSwibWFwcGluZ3MiOiI7Ozs7O3lCQUF1RDt1QkFDSTtrRUFDckM7aUZBQ2U7Ozs7OztBQUVyQyxtQkFBbUI7QUFDbkJBLE9BQU9DLFVBQVUsR0FBR0MsYUFBSSxDQUFDQyxFQUFFLEdBQUdDLGtCQUFrQixDQUFDO0lBQy9DLElBQUksQ0FBQ0MsYUFBYSxHQUFHSCxhQUFJLENBQUNDLEVBQUUsQ0FBQztRQUMzQixxQ0FBcUM7UUFDckNHLFdBQVc7WUFDVCxJQUFJLElBQUksQ0FBQ0MsTUFBTSxFQUFFO2dCQUNmLElBQUksQ0FBQ0EsTUFBTSxDQUFDO29CQUFFQyxRQUFRO3dCQUFFQyxRQUFRO29CQUF3QztnQkFBRTtZQUM1RTtRQUNGLEdBQUc7SUFDTDtJQUNBLElBQUksQ0FBQ0YsTUFBTSxHQUFHO0lBQ2QsSUFBSSxDQUFDRSxNQUFNLEdBQUc7SUFDZCxPQUFPLElBQUk7QUFDYjtBQUVBLDhCQUE4QjtBQUM5QkMsT0FBT0MsY0FBYyxDQUFDWCxPQUFPWSxTQUFTLEVBQUUsZ0JBQWdCO0lBQ3REQyxVQUFVO0lBQ1ZDLE9BQU87UUFDTEMsY0FBY2IsYUFBSSxDQUFDQyxFQUFFO0lBQ3ZCO0FBQ0Y7QUFFQSxzQkFBc0I7QUFDdEJhLFFBQVFDLFNBQVMsQ0FBQ0MsY0FBYyxHQUFHaEIsYUFBSSxDQUFDQyxFQUFFO0FBRTFDZ0IsSUFBQUEsaUJBQVEsRUFBQyx3QkFBd0I7SUFDL0IsTUFBTUMsb0JBQW9CbEIsYUFBSSxDQUFDQyxFQUFFO0lBQ2pDLE1BQU1rQixlQUFlO1FBQ25CQyxXQUFXO1FBQ1hDLGFBQWE7UUFDYkMsZUFBZUo7SUFDakI7SUFFQUssSUFBQUEsbUJBQVUsRUFBQztRQUNUdkIsYUFBSSxDQUFDd0IsYUFBYTtJQUNwQjtJQUVBUCxJQUFBQSxpQkFBUSxFQUFDLDhDQUE4QztRQUNyRFEsSUFBQUEsV0FBRSxFQUFDLHFEQUFxRDtZQUN0REMsSUFBQUEsYUFBTSxnQkFBQyxxQkFBQ0MsaUNBQXdCO2dCQUFFLEdBQUdSLFlBQVk7O1lBRWpELHdDQUF3QztZQUN4Q1MsSUFBQUEsZUFBTSxFQUFDQyxhQUFNLENBQUNDLFNBQVMsQ0FBQyxxQ0FBcUNDLGlCQUFpQjtZQUM5RUgsSUFBQUEsZUFBTSxFQUFDQyxhQUFNLENBQUNDLFNBQVMsQ0FBQyxpQ0FBaUNDLGlCQUFpQjtRQUM1RTtRQUVBTixJQUFBQSxXQUFFLEVBQUMsdURBQXVEO1lBQ3hEQyxJQUFBQSxhQUFNLGdCQUFDLHFCQUFDQyxpQ0FBd0I7Z0JBQUUsR0FBR1IsWUFBWTs7WUFFakQsc0NBQXNDO1lBQ3RDLE1BQU1hLFdBQVdILGFBQU0sQ0FBQ0ksWUFBWSxDQUFDO1lBQ3JDTCxJQUFBQSxlQUFNLEVBQUNJLFNBQVNFLE1BQU0sRUFBRUMsZUFBZSxDQUFDO1FBQzFDO1FBRUFWLElBQUFBLFdBQUUsRUFBQywyREFBMkQ7WUFDNURDLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLGlDQUF3QjtnQkFBRSxHQUFHUixZQUFZOztZQUVqRCxtREFBbUQ7WUFDbkQsTUFBTWlCLGVBQWVQLGFBQU0sQ0FBQ0ksWUFBWSxDQUFDLHlCQUF5QixDQUFDLEVBQUUsQ0FBQ0ksT0FBTyxDQUFDO1lBQzlFVCxJQUFBQSxlQUFNLEVBQUNRLGNBQWNMLGlCQUFpQjtRQUN4QztRQUVBTixJQUFBQSxXQUFFLEVBQUMsMkNBQTJDO1lBQzVDQyxJQUFBQSxhQUFNLGdCQUFDLHFCQUFDQyxpQ0FBd0I7Z0JBQUUsR0FBR1IsWUFBWTs7WUFFakQsdUNBQXVDO1lBQ3ZDLE1BQU1tQixvQkFBb0JULGFBQU0sQ0FBQ0MsU0FBUyxDQUFDLDBCQUEwQk8sT0FBTyxDQUFDO1lBQzdFVCxJQUFBQSxlQUFNLEVBQUNVLG1CQUFtQlAsaUJBQWlCO1FBQzdDO0lBQ0Y7SUFFQWQsSUFBQUEsaUJBQVEsRUFBQyw0Q0FBNEM7UUFDbkRRLElBQUFBLFdBQUUsRUFBQyx1REFBdUQ7WUFDeERDLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLGlDQUF3QjtnQkFBRSxHQUFHUixZQUFZOztZQUVqRCxNQUFNb0IsUUFBUVYsYUFBTSxDQUFDVyxvQkFBb0IsQ0FBQztZQUMxQ1osSUFBQUEsZUFBTSxFQUFDVyxPQUFPUixpQkFBaUI7WUFDL0JILElBQUFBLGVBQU0sRUFBQ1csT0FBT0UsZUFBZSxDQUFDLFFBQVE7UUFDeEM7UUFFQWhCLElBQUFBLFdBQUUsRUFBQywyQ0FBMkM7WUFDNUMsTUFBTWlCLE9BQU9DLGtCQUFTLENBQUNDLEtBQUs7WUFDNUJsQixJQUFBQSxhQUFNLGdCQUFDLHFCQUFDQyxpQ0FBd0I7Z0JBQUUsR0FBR1IsWUFBWTs7WUFFakQsTUFBTW9CLFFBQVFWLGFBQU0sQ0FBQ1csb0JBQW9CLENBQUM7WUFDMUMsTUFBTUUsS0FBS0csSUFBSSxDQUFDTixPQUFPO1lBRXZCWCxJQUFBQSxlQUFNLEVBQUNXLE9BQU9PLFdBQVcsQ0FBQztRQUM1QjtRQUVBckIsSUFBQUEsV0FBRSxFQUFDLDBDQUEwQztZQUMzQyxNQUFNaUIsT0FBT0Msa0JBQVMsQ0FBQ0MsS0FBSztZQUM1QmxCLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLGlDQUF3QjtnQkFBRSxHQUFHUixZQUFZOztZQUVqRCxNQUFNb0IsUUFBUVYsYUFBTSxDQUFDVyxvQkFBb0IsQ0FBQztZQUMxQyxNQUFNRSxLQUFLRyxJQUFJLENBQUNOLE9BQU87WUFFdkIsTUFBTVEsSUFBQUEsY0FBTyxFQUFDO2dCQUNabkIsSUFBQUEsZUFBTSxFQUFDVixtQkFBbUI4QixvQkFBb0IsQ0FDNUNwQixlQUFNLENBQUNxQixnQkFBZ0IsQ0FBQztvQkFDdEJDLFNBQVM7b0JBQ1RDLFFBQVE7b0JBQ1JOLE1BQU07Z0JBQ1I7WUFFSjtRQUNGO1FBRUFwQixJQUFBQSxXQUFFLEVBQUMsMkNBQTJDO1lBQzVDLE1BQU1pQixPQUFPQyxrQkFBUyxDQUFDQyxLQUFLO1lBQzVCbEIsSUFBQUEsYUFBTSxnQkFBQyxxQkFBQ0MsaUNBQXdCO2dCQUFFLEdBQUdSLFlBQVk7O1lBRWpELE1BQU1vQixRQUFRVixhQUFNLENBQUNXLG9CQUFvQixDQUFDO1lBQzFDLE1BQU1FLEtBQUtHLElBQUksQ0FBQ04sT0FBTztZQUV2QlgsSUFBQUEsZUFBTSxFQUFDVyxNQUFNM0IsS0FBSyxFQUFFd0MsU0FBUyxDQUFDO1lBQzlCeEIsSUFBQUEsZUFBTSxFQUFDVixtQkFBbUJtQyxHQUFHLENBQUNDLGdCQUFnQjtRQUNoRDtRQUVBN0IsSUFBQUEsV0FBRSxFQUFDLDRDQUE0QztZQUM3QyxNQUFNaUIsT0FBT0Msa0JBQVMsQ0FBQ0MsS0FBSztZQUM1QmxCLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLGlDQUF3QjtnQkFBRSxHQUFHUixZQUFZOztZQUVqRCxNQUFNb0IsUUFBUVYsYUFBTSxDQUFDVyxvQkFBb0IsQ0FBQztZQUMxQyxNQUFNRSxLQUFLRyxJQUFJLENBQUNOLE9BQU87WUFFdkIsTUFBTWdCLGFBQWExQixhQUFNLENBQUMyQixVQUFVLENBQUM7WUFDckMsTUFBTWQsS0FBS2UsS0FBSyxDQUFDRjtZQUVqQixNQUFNUixJQUFBQSxjQUFPLEVBQUM7Z0JBQ1puQixJQUFBQSxlQUFNLEVBQUNXLE9BQU9PLFdBQVcsQ0FBQztZQUM1QjtRQUNGO0lBQ0Y7SUFFQTdCLElBQUFBLGlCQUFRLEVBQUMsMENBQTBDO1FBQ2pEUSxJQUFBQSxXQUFFLEVBQUMseURBQXlEO1lBQzFELE1BQU1pQixPQUFPQyxrQkFBUyxDQUFDQyxLQUFLO1lBQzVCbEIsSUFBQUEsYUFBTSxnQkFBQyxxQkFBQ0MsaUNBQXdCO2dCQUFFLEdBQUdSLFlBQVk7O1lBRWpELE1BQU11QyxlQUFlN0IsYUFBTSxDQUFDMkIsVUFBVSxDQUFDO1lBQ3ZDNUIsSUFBQUEsZUFBTSxFQUFDOEIsY0FBYzNCLGlCQUFpQjtZQUV0QyxNQUFNVyxLQUFLZSxLQUFLLENBQUNDO1FBQ2pCLDJDQUEyQztRQUM3QztRQUVBakMsSUFBQUEsV0FBRSxFQUFDLHlDQUF5QztZQUMxQyxNQUFNaUIsT0FBT0Msa0JBQVMsQ0FBQ0MsS0FBSztZQUM1QmxCLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLGlDQUF3QjtnQkFBRSxHQUFHUixZQUFZOztZQUVqRCxNQUFNd0MsT0FBTyxJQUFJQyxLQUFLO2dCQUFDO2FBQWdCLEVBQUUsWUFBWTtnQkFBRWYsTUFBTTtZQUFZO1lBQ3pFLE1BQU1nQixZQUFZQyxTQUFTQyxhQUFhLENBQUM7WUFFekMsSUFBSUYsV0FBVztnQkFDYnJELE9BQU9DLGNBQWMsQ0FBQ29ELFdBQVcsU0FBUztvQkFDeENqRCxPQUFPO3dCQUFDK0M7cUJBQUs7b0JBQ2JoRCxVQUFVO2dCQUNaO2dCQUVBcUQsZ0JBQVMsQ0FBQ0MsTUFBTSxDQUFDSjtnQkFFakIsTUFBTWQsSUFBQUEsY0FBTyxFQUFDO29CQUNaLE1BQU1tQixVQUFVSixTQUFTQyxhQUFhLENBQUM7b0JBQ3ZDbkMsSUFBQUEsZUFBTSxFQUFDc0MsU0FBU25DLGlCQUFpQjtnQkFDbkM7WUFDRjtRQUNGO1FBRUFOLElBQUFBLFdBQUUsRUFBQywrQ0FBK0M7WUFDaERDLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLGlDQUF3QjtnQkFBRSxHQUFHUixZQUFZOztZQUVqRCxNQUFNd0MsT0FBTyxJQUFJQyxLQUFLO2dCQUFDO2FBQVcsRUFBRSxZQUFZO2dCQUFFZixNQUFNO1lBQWtCO1lBQzFFLE1BQU1nQixZQUFZQyxTQUFTQyxhQUFhLENBQUM7WUFFekMsSUFBSUYsV0FBVztnQkFDYnJELE9BQU9DLGNBQWMsQ0FBQ29ELFdBQVcsU0FBUztvQkFDeENqRCxPQUFPO3dCQUFDK0M7cUJBQUs7b0JBQ2JoRCxVQUFVO2dCQUNaO2dCQUVBcUQsZ0JBQVMsQ0FBQ0MsTUFBTSxDQUFDSjtnQkFFakIsbUNBQW1DO2dCQUNuQyxNQUFNZCxJQUFBQSxjQUFPLEVBQUM7b0JBQ1osTUFBTW9CLFdBQVd0QyxhQUFNLENBQUN1QyxXQUFXLENBQUM7b0JBQ3BDLElBQUlELFVBQVU7d0JBQ1p2QyxJQUFBQSxlQUFNLEVBQUN1QyxVQUFVcEMsaUJBQWlCO29CQUNwQztnQkFDRjtZQUNGO1FBQ0Y7UUFFQU4sSUFBQUEsV0FBRSxFQUFDLG9EQUFvRDtZQUNyRCxNQUFNaUIsT0FBT0Msa0JBQVMsQ0FBQ0MsS0FBSztZQUM1QmxCLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLGlDQUF3QjtnQkFBRSxHQUFHUixZQUFZOztZQUVqRCxNQUFNd0MsT0FBTyxJQUFJQyxLQUFLO2dCQUFDO2FBQU8sRUFBRSxZQUFZO2dCQUFFZixNQUFNO1lBQWE7WUFDakUsTUFBTWdCLFlBQVlDLFNBQVNDLGFBQWEsQ0FBQztZQUV6QyxJQUFJRixXQUFXO2dCQUNickQsT0FBT0MsY0FBYyxDQUFDb0QsV0FBVyxTQUFTO29CQUN4Q2pELE9BQU87d0JBQUMrQztxQkFBSztvQkFDYmhELFVBQVU7Z0JBQ1o7Z0JBRUFxRCxnQkFBUyxDQUFDQyxNQUFNLENBQUNKO2dCQUVqQixNQUFNZCxJQUFBQSxjQUFPLEVBQUM7b0JBQ1osTUFBTXNCLGVBQWVQLFNBQVNDLGFBQWEsQ0FBQztvQkFDNUMsSUFBSU0sY0FBYzt3QkFDaEIsTUFBTTNCLEtBQUtlLEtBQUssQ0FBQ1k7b0JBQ25CO2dCQUNGO1lBQ0Y7UUFDRjtJQUNGO0lBRUFwRCxJQUFBQSxpQkFBUSxFQUFDLDJDQUEyQztRQUNsRFEsSUFBQUEsV0FBRSxFQUFDLDhDQUE4QztZQUMvQyxNQUFNaUIsT0FBT0Msa0JBQVMsQ0FBQ0MsS0FBSztZQUM1QmxCLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLGlDQUF3QjtnQkFBRSxHQUFHUixZQUFZOztZQUVqRCxNQUFNbUQsY0FBY3pDLGFBQU0sQ0FBQzJCLFVBQVUsQ0FBQztZQUN0QyxNQUFNZCxLQUFLZSxLQUFLLENBQUNhO1lBRWpCLE1BQU12QixJQUFBQSxjQUFPLEVBQUM7Z0JBQ1osaUNBQWlDO2dCQUNqQyxNQUFNd0IsY0FBY1QsU0FBU0MsYUFBYSxDQUFDO2dCQUMzQ25DLElBQUFBLGVBQU0sRUFBQzJDLGFBQWF4QyxpQkFBaUI7WUFDdkM7UUFDRjtRQUVBTixJQUFBQSxXQUFFLEVBQUMsMENBQTBDO1lBQzNDLE1BQU1pQixPQUFPQyxrQkFBUyxDQUFDQyxLQUFLO1lBQzVCbEIsSUFBQUEsYUFBTSxnQkFBQyxxQkFBQ0MsaUNBQXdCO2dCQUFFLEdBQUdSLFlBQVk7O1lBRWpELE1BQU1vQixRQUFRVixhQUFNLENBQUNXLG9CQUFvQixDQUFDO1lBQzFDLE1BQU1FLEtBQUtHLElBQUksQ0FBQ04sT0FBTztZQUV2QixNQUFNK0IsY0FBY3pDLGFBQU0sQ0FBQzJCLFVBQVUsQ0FBQztZQUN0QyxNQUFNZCxLQUFLZSxLQUFLLENBQUNhO1lBRWpCLE1BQU12QixJQUFBQSxjQUFPLEVBQUM7Z0JBQ1osTUFBTXlCLGVBQWVWLFNBQVNXLGdCQUFnQixDQUFDO2dCQUMvQyxJQUFJRCxhQUFhdEMsTUFBTSxHQUFHLEdBQUc7b0JBQzNCLE1BQU1RLEtBQUtlLEtBQUssQ0FBQ2UsWUFBWSxDQUFDLEVBQUU7Z0JBQ2xDO1lBQ0Y7WUFFQSxpQ0FBaUM7WUFDakMsTUFBTXpCLElBQUFBLGNBQU8sRUFBQztnQkFDWm5CLElBQUFBLGVBQU0sRUFBQ1csT0FBT08sV0FBVyxDQUFDbEIsZUFBTSxDQUFDOEMsZ0JBQWdCLENBQUM7WUFDcEQ7UUFDRjtJQUNGO0lBRUF6RCxJQUFBQSxpQkFBUSxFQUFDLHdDQUF3QztRQUMvQ1EsSUFBQUEsV0FBRSxFQUFDLGlEQUFpRDtZQUNsRCxNQUFNaUIsT0FBT0Msa0JBQVMsQ0FBQ0MsS0FBSztZQUM1QmxCLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLGlDQUF3QjtnQkFBRSxHQUFHUixZQUFZOztZQUVqRCxNQUFNd0QsaUJBQWlCOUMsYUFBTSxDQUFDMkIsVUFBVSxDQUFDO1lBQ3pDLE1BQU1kLEtBQUtlLEtBQUssQ0FBQ2tCO1lBRWpCLE1BQU01QixJQUFBQSxjQUFPLEVBQUM7Z0JBQ1puQixJQUFBQSxlQUFNLEVBQUNDLGFBQU0sQ0FBQ0MsU0FBUyxDQUFDLHVCQUF1QkMsaUJBQWlCO1lBQ2xFO1FBQ0Y7UUFFQU4sSUFBQUEsV0FBRSxFQUFDLDJDQUEyQztZQUM1QyxNQUFNaUIsT0FBT0Msa0JBQVMsQ0FBQ0MsS0FBSztZQUM1QmxCLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLGlDQUF3QjtnQkFBRSxHQUFHUixZQUFZOztZQUVqRCxNQUFNd0QsaUJBQWlCOUMsYUFBTSxDQUFDMkIsVUFBVSxDQUFDO1lBQ3pDLE1BQU1kLEtBQUtlLEtBQUssQ0FBQ2tCO1lBRWpCLE1BQU01QixJQUFBQSxjQUFPLEVBQUM7Z0JBQ1puQixJQUFBQSxlQUFNLEVBQUNDLGFBQU0sQ0FBQ0MsU0FBUyxDQUFDLHFCQUFxQkMsaUJBQWlCO2dCQUM5REgsSUFBQUEsZUFBTSxFQUFDQyxhQUFNLENBQUNDLFNBQVMsQ0FBQyx3QkFBd0JDLGlCQUFpQjtnQkFDakVILElBQUFBLGVBQU0sRUFBQ0MsYUFBTSxDQUFDQyxTQUFTLENBQUMsc0JBQXNCQyxpQkFBaUI7WUFDakU7UUFDRjtRQUVBTixJQUFBQSxXQUFFLEVBQUMsbURBQW1EO1lBQ3BELE1BQU1pQixPQUFPQyxrQkFBUyxDQUFDQyxLQUFLO1lBQzVCbEIsSUFBQUEsYUFBTSxnQkFBQyxxQkFBQ0MsaUNBQXdCO2dCQUFFLEdBQUdSLFlBQVk7O1lBRWpELE1BQU13RCxpQkFBaUI5QyxhQUFNLENBQUMyQixVQUFVLENBQUM7WUFDekMsTUFBTWQsS0FBS2UsS0FBSyxDQUFDa0I7WUFFakIsTUFBTTVCLElBQUFBLGNBQU8sRUFBQztnQkFDWixNQUFNNkIsa0JBQWtCL0MsYUFBTSxDQUFDQyxTQUFTLENBQUMsb0JBQW9CTyxPQUFPLENBQUM7Z0JBQ3JFLElBQUl1QyxpQkFBaUI7b0JBQ25CLE1BQU1sQyxLQUFLZSxLQUFLLENBQUNtQjtnQkFDbkI7WUFDRjtZQUVBLE1BQU1yQyxRQUFRVixhQUFNLENBQUNXLG9CQUFvQixDQUFDO1lBQzFDLE1BQU1PLElBQUFBLGNBQU8sRUFBQztnQkFDWm5CLElBQUFBLGVBQU0sRUFBQ1csT0FBT08sV0FBVyxDQUFDbEIsZUFBTSxDQUFDOEMsZ0JBQWdCLENBQUM7WUFDcEQ7UUFDRjtJQUNGO0lBRUF6RCxJQUFBQSxpQkFBUSxFQUFDLDhDQUE4QztRQUNyRFEsSUFBQUEsV0FBRSxFQUFDLDBEQUEwRDtZQUMzREMsSUFBQUEsYUFBTSxnQkFBQyxxQkFBQ0MsaUNBQXdCO2dCQUFFLEdBQUdSLFlBQVk7O1lBRWpELE1BQU0wRCxZQUFZaEQsYUFBTSxDQUFDMkIsVUFBVSxDQUFDO1lBQ3BDNUIsSUFBQUEsZUFBTSxFQUFDaUQsV0FBVzlDLGlCQUFpQjtRQUNyQztRQUVBTixJQUFBQSxXQUFFLEVBQUMsd0NBQXdDO1lBQ3pDLE1BQU1xRCxtQkFBbUI5RSxhQUFJLENBQUNDLEVBQUUsR0FBRzhFLGlCQUFpQixDQUFDO2dCQUNuREMsV0FBVyxJQUFNO3dCQUFDOzRCQUFFQyxNQUFNakYsYUFBSSxDQUFDQyxFQUFFO3dCQUFHO3FCQUFFO1lBQ3hDO1lBRUNTLFVBQVV3RSxZQUFZLENBQUNyRSxZQUFZLEdBQWlCaUU7WUFFckQsTUFBTXBDLE9BQU9DLGtCQUFTLENBQUNDLEtBQUs7WUFDNUJsQixJQUFBQSxhQUFNLGdCQUFDLHFCQUFDQyxpQ0FBd0I7Z0JBQUUsR0FBR1IsWUFBWTs7WUFFakQsTUFBTTBELFlBQVloRCxhQUFNLENBQUMyQixVQUFVLENBQUM7WUFDcENRLGdCQUFTLENBQUNtQixTQUFTLENBQUNOO1lBRXBCLE1BQU05QixJQUFBQSxjQUFPLEVBQUM7Z0JBQ1puQixJQUFBQSxlQUFNLEVBQUNrRCxrQkFBa0I5QixvQkFBb0IsQ0FBQztvQkFBRW9DLE9BQU87Z0JBQUs7WUFDOUQ7UUFDRjtRQUVBM0QsSUFBQUEsV0FBRSxFQUFDLHFEQUFxRDtZQUN0RCxNQUFNNEQsYUFBYTtnQkFDakJMLFdBQVcsSUFBTTt3QkFBQzs0QkFBRUMsTUFBTWpGLGFBQUksQ0FBQ0MsRUFBRTt3QkFBRztxQkFBRTtZQUN4QztZQUVDUyxVQUFVd0UsWUFBWSxDQUFDckUsWUFBWSxDQUFla0UsaUJBQWlCLENBQUNNO1lBRXJFM0QsSUFBQUEsYUFBTSxnQkFBQyxxQkFBQ0MsaUNBQXdCO2dCQUFFLEdBQUdSLFlBQVk7O1lBRWpELE1BQU0wRCxZQUFZaEQsYUFBTSxDQUFDMkIsVUFBVSxDQUFDO1lBQ3BDUSxnQkFBUyxDQUFDbUIsU0FBUyxDQUFDTjtZQUVwQixNQUFNOUIsSUFBQUEsY0FBTyxFQUFDO2dCQUNaLE1BQU11QyxnQkFBZ0J6RCxhQUFNLENBQUN1QyxXQUFXLENBQUM7Z0JBQ3pDLElBQUlrQixlQUFlO29CQUNqQjFELElBQUFBLGVBQU0sRUFBQzBELGVBQWV2RCxpQkFBaUI7Z0JBQ3pDO1lBQ0YsR0FBRztnQkFBRXdELFNBQVM7WUFBSztRQUNyQjtJQUNGO0lBRUF0RSxJQUFBQSxpQkFBUSxFQUFDLDRDQUE0QztRQUNuRFEsSUFBQUEsV0FBRSxFQUFDLHVEQUF1RDtZQUN4RCxNQUFNaUIsT0FBT0Msa0JBQVMsQ0FBQ0MsS0FBSztZQUM1QmxCLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLGlDQUF3QjtnQkFBRSxHQUFHUixZQUFZOztZQUVqRCxNQUFNdUIsS0FBSzhDLEdBQUc7WUFFZCwyREFBMkQ7WUFDM0QsTUFBTTlCLGVBQWU3QixhQUFNLENBQUMyQixVQUFVLENBQUM7WUFDdkMsTUFBTWlDLGVBQWU1RCxhQUFNLENBQUNXLG9CQUFvQixDQUFDO1lBRWpEWixJQUFBQSxlQUFNLEVBQ0o4QixpQkFBaUJJLFNBQVM0QixhQUFhLElBQUlELGlCQUFpQjNCLFNBQVM0QixhQUFhLEVBQ2xGQyxJQUFJLENBQUM7UUFDVDtRQUVBbEUsSUFBQUEsV0FBRSxFQUFDLCtEQUErRDtZQUNoRUMsSUFBQUEsYUFBTSxnQkFBQyxxQkFBQ0MsaUNBQXdCO2dCQUFFLEdBQUdSLFlBQVk7O1lBRWpELE1BQU11QyxlQUFlN0IsYUFBTSxDQUFDMkIsVUFBVSxDQUFDO1lBQ3ZDLE1BQU1jLGNBQWN6QyxhQUFNLENBQUMyQixVQUFVLENBQUM7WUFDdEMsTUFBTW1CLGlCQUFpQjlDLGFBQU0sQ0FBQzJCLFVBQVUsQ0FBQztZQUV6QzVCLElBQUFBLGVBQU0sRUFBQzhCLGNBQWNqQixlQUFlLENBQUM7WUFDckNiLElBQUFBLGVBQU0sRUFBQzBDLGFBQWE3QixlQUFlLENBQUM7WUFDcENiLElBQUFBLGVBQU0sRUFBQytDLGdCQUFnQmxDLGVBQWUsQ0FBQztRQUN6QztRQUVBaEIsSUFBQUEsV0FBRSxFQUFDLDREQUE0RDtZQUM3RCxNQUFNaUIsT0FBT0Msa0JBQVMsQ0FBQ0MsS0FBSztZQUM1QmxCLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLGlDQUF3QjtnQkFBRSxHQUFHUixZQUFZOztZQUVqRCxNQUFNb0IsUUFBUVYsYUFBTSxDQUFDVyxvQkFBb0IsQ0FBQztZQUMxQyxNQUFNRSxLQUFLRyxJQUFJLENBQUNOLE9BQU87WUFFdkIsTUFBTWdCLGFBQWExQixhQUFNLENBQUMyQixVQUFVLENBQUM7WUFDckMsTUFBTWQsS0FBS2UsS0FBSyxDQUFDRjtZQUVqQixNQUFNUixJQUFBQSxjQUFPLEVBQUM7Z0JBQ1osc0NBQXNDO2dCQUN0Q25CLElBQUFBLGVBQU0sRUFBQ0MsYUFBTSxDQUFDQyxTQUFTLENBQUMsaUJBQWlCQyxpQkFBaUI7WUFDNUQ7UUFDRjtRQUVBTixJQUFBQSxXQUFFLEVBQUMsbUVBQW1FO1lBQ3BFQyxJQUFBQSxhQUFNLGdCQUFDLHFCQUFDQyxpQ0FBd0I7Z0JBQUUsR0FBR1IsWUFBWTs7WUFFakQsNENBQTRDO1lBQzVDLE1BQU15RSxlQUFlOUIsU0FBU0MsYUFBYSxDQUFDO1lBQzVDbkMsSUFBQUEsZUFBTSxFQUFDZ0UsY0FBYzdELGlCQUFpQjtRQUN4QztJQUNGO0lBRUFkLElBQUFBLGlCQUFRLEVBQUMsaURBQWlEO1FBQ3hEUSxJQUFBQSxXQUFFLEVBQUMsZ0NBQWdDO1lBQ2pDLE1BQU1pQixPQUFPQyxrQkFBUyxDQUFDQyxLQUFLO1lBQzVCbEIsSUFBQUEsYUFBTSxnQkFBQyxxQkFBQ0MsaUNBQXdCO2dCQUFFLEdBQUdSLFlBQVk7O1lBRWpELE1BQU1vQixRQUFRVixhQUFNLENBQUNXLG9CQUFvQixDQUFDO1lBQzFDLE1BQU1FLEtBQUtHLElBQUksQ0FBQ04sT0FBTztZQUV2Qix3REFBd0Q7WUFDeEQsNkNBQTZDO1lBQzdDWCxJQUFBQSxlQUFNLEVBQUNXLE9BQU9PLFdBQVcsQ0FBQztRQUM1QjtRQUVBckIsSUFBQUEsV0FBRSxFQUFDLHlEQUF5RDtZQUMxRCxNQUFNaUIsT0FBT0Msa0JBQVMsQ0FBQ0MsS0FBSztZQUM1QmxCLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLGlDQUF3QjtnQkFBRSxHQUFHUixZQUFZOztZQUVqRCxNQUFNb0IsUUFBUVYsYUFBTSxDQUFDVyxvQkFBb0IsQ0FBQztZQUMxQyxNQUFNRSxLQUFLRyxJQUFJLENBQUNOLE9BQU87WUFFdkIsTUFBTVEsSUFBQUEsY0FBTyxFQUFDO2dCQUNaLE1BQU02QyxlQUFlOUIsU0FBU0MsYUFBYSxDQUFDO2dCQUM1QyxnRUFBZ0U7Z0JBQ2hFbkMsSUFBQUEsZUFBTSxFQUFDZ0UsY0FBYzdELGlCQUFpQjtZQUN4QztRQUNGO0lBQ0Y7QUFDRiJ9