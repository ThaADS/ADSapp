{"version":3,"names":["DashboardPage","cov_1zoqfgh87u","f","profile","s","_auth","requireOrganization","supabase","_server","createClient","data","conversations","messages","contacts","Promise","all","from","select","eq","organization_id","order","ascending","limit","gte","Date","now","toISOString","stats","totalConversations","b","length","todayMessages","totalContacts","openConversations","filter","c","status","_jsxruntime","jsxs","className","jsx","full_name","_stats","DashboardStats","_recentconversations","RecentConversations","_activityfeed","ActivityFeed","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d"],"sources":["C:\\Ai Projecten\\ADSapp\\src\\app\\dashboard\\page.tsx"],"sourcesContent":["import { requireOrganization } from '@/lib/auth'\nimport { createClient } from '@/lib/supabase/server'\nimport { DashboardStats } from '@/components/dashboard/stats'\nimport { RecentConversations } from '@/components/dashboard/recent-conversations'\nimport { ActivityFeed } from '@/components/dashboard/activity-feed'\n\nexport default async function DashboardPage() {\n  const profile = await requireOrganization()\n  const supabase = await createClient()\n\n  // Fetch dashboard data\n  const [\n    { data: conversations },\n    { data: messages },\n    { data: contacts },\n  ] = await Promise.all([\n    supabase\n      .from('conversations')\n      .select('*, contact:contacts(*), last_message:messages(*)')\n      .eq('organization_id', profile.organization_id)\n      .order('updated_at', { ascending: false })\n      .limit(5),\n\n    supabase\n      .from('messages')\n      .select('*, conversation:conversations!inner(*)')\n      .eq('conversation.organization_id', profile.organization_id)\n      .gte('created_at', new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString())\n      .order('created_at', { ascending: false })\n      .limit(10),\n\n    supabase\n      .from('contacts')\n      .select('*')\n      .eq('organization_id', profile.organization_id)\n  ])\n\n  const stats = {\n    totalConversations: conversations?.length || 0,\n    todayMessages: messages?.length || 0,\n    totalContacts: contacts?.length || 0,\n    openConversations: conversations?.filter(c => c.status === 'open').length || 0,\n  }\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Page header */}\n      <div>\n        <h1 className=\"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight\">\n          Dashboard\n        </h1>\n        <p className=\"mt-2 text-sm text-gray-500\">\n          Welcome back, {profile.full_name}. Here's what's happening with your WhatsApp inbox.\n        </p>\n      </div>\n\n      {/* Stats */}\n      <DashboardStats stats={stats} />\n\n      {/* Main content grid */}\n      <div className=\"grid grid-cols-1 gap-6 lg:grid-cols-2\">\n        {/* Recent conversations */}\n        <div className=\"bg-white shadow rounded-lg\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h3 className=\"text-lg leading-6 font-medium text-gray-900\">\n              Recent Conversations\n            </h3>\n          </div>\n          <RecentConversations conversations={conversations || []} />\n        </div>\n\n        {/* Activity feed */}\n        <div className=\"bg-white shadow rounded-lg\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h3 className=\"text-lg leading-6 font-medium text-gray-900\">\n              Recent Activity\n            </h3>\n          </div>\n          <ActivityFeed messages={messages || []} />\n        </div>\n      </div>\n\n      {/* Quick actions */}\n      <div className=\"bg-white shadow rounded-lg\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h3 className=\"text-lg leading-6 font-medium text-gray-900\">\n            Quick Actions\n          </h3>\n        </div>\n        <div className=\"p-6\">\n          <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4\">\n            <button className=\"flex flex-col items-center p-4 text-center bg-green-50 rounded-lg hover:bg-green-100 transition-colors\">\n              <div className=\"w-8 h-8 mb-2\">\n                <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" className=\"text-green-600\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n                </svg>\n              </div>\n              <span className=\"text-sm font-medium text-gray-900\">New Conversation</span>\n            </button>\n\n            <button className=\"flex flex-col items-center p-4 text-center bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors\">\n              <div className=\"w-8 h-8 mb-2\">\n                <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" className=\"text-blue-600\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a4 4 0 11-8 0 4 4 0 018 0z\" />\n                </svg>\n              </div>\n              <span className=\"text-sm font-medium text-gray-900\">Add Contact</span>\n            </button>\n\n            <button className=\"flex flex-col items-center p-4 text-center bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors\">\n              <div className=\"w-8 h-8 mb-2\">\n                <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" className=\"text-purple-600\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n              </div>\n              <span className=\"text-sm font-medium text-gray-900\">Create Template</span>\n            </button>\n\n            <button className=\"flex flex-col items-center p-4 text-center bg-orange-50 rounded-lg hover:bg-orange-100 transition-colors\">\n              <div className=\"w-8 h-8 mb-2\">\n                <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" className=\"text-orange-600\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n                </svg>\n              </div>\n              <span className=\"text-sm font-medium text-gray-900\">Setup Automation</span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}"],"mappings":"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","ignoreList":[]}