{"version":3,"sources":["C:\\Ai Projecten\\ADSapp\\tests\\setup.ts"],"sourcesContent":["/**\n * Jest Test Setup Configuration\n *\n * This file runs before all tests to configure the test environment,\n * set up global mocks, and provide utility functions for testing.\n */\n\nimport { TextEncoder, TextDecoder } from 'util'\nimport '@testing-library/jest-dom'\n\n// =============================================================================\n// Global Environment Setup\n// =============================================================================\n\n// Polyfill TextEncoder/TextDecoder for Node environment\nglobal.TextEncoder = TextEncoder\nglobal.TextDecoder = TextDecoder as typeof global.TextDecoder\n\n// Mock window.matchMedia\nObject.defineProperty(window, 'matchMedia', {\n  writable: true,\n  value: jest.fn().mockImplementation((query) => ({\n    matches: false,\n    media: query,\n    onchange: null,\n    addListener: jest.fn(),\n    removeListener: jest.fn(),\n    addEventListener: jest.fn(),\n    removeEventListener: jest.fn(),\n    dispatchEvent: jest.fn(),\n  })),\n})\n\n// Mock IntersectionObserver\nglobal.IntersectionObserver = class IntersectionObserver {\n  constructor() {}\n  disconnect() {}\n  observe() {}\n  takeRecords() {\n    return []\n  }\n  unobserve() {}\n} as any\n\n// Mock ResizeObserver\nglobal.ResizeObserver = class ResizeObserver {\n  constructor() {}\n  disconnect() {}\n  observe() {}\n  unobserve() {}\n} as any\n\n// Mock scrollTo\nglobal.scrollTo = jest.fn()\n\n// =============================================================================\n// Environment Variables Setup\n// =============================================================================\n\nprocess.env.NODE_ENV = 'test'\nprocess.env.NEXT_PUBLIC_APP_URL = 'http://localhost:3000'\nprocess.env.NEXT_PUBLIC_APP_NAME = 'ADSapp Test'\n\n// Supabase Test Configuration\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://test-project.supabase.co'\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'test-anon-key-1234567890'\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'test-service-role-key-1234567890'\n\n// Stripe Test Configuration\nprocess.env.STRIPE_PUBLIC_KEY = 'pk_test_mock'\nprocess.env.STRIPE_SECRET_KEY = 'sk_test_mock'\nprocess.env.STRIPE_WEBHOOK_SECRET = 'whsec_test_mock'\n\n// WhatsApp Test Configuration\nprocess.env.WHATSAPP_ACCESS_TOKEN = 'test_whatsapp_token'\nprocess.env.WHATSAPP_PHONE_NUMBER_ID = 'test_phone_number_id'\nprocess.env.WHATSAPP_BUSINESS_ACCOUNT_ID = 'test_business_account_id'\nprocess.env.WHATSAPP_WEBHOOK_VERIFY_TOKEN = 'test_verify_token'\n\n// Email Test Configuration\nprocess.env.RESEND_API_KEY = 're_test_mock'\n\n// =============================================================================\n// Supabase Client Mocking\n// =============================================================================\n\n// Mock Supabase client\njest.mock('@/lib/supabase/server', () => ({\n  createClient: jest.fn(() => ({\n    auth: {\n      getSession: jest.fn().mockResolvedValue({\n        data: {\n          session: {\n            user: {\n              id: 'test-user-id',\n              email: 'test@example.com',\n              user_metadata: {\n                full_name: 'Test User',\n              },\n            },\n            access_token: 'test-access-token',\n            refresh_token: 'test-refresh-token',\n          },\n        },\n        error: null,\n      }),\n      getUser: jest.fn().mockResolvedValue({\n        data: {\n          user: {\n            id: 'test-user-id',\n            email: 'test@example.com',\n            user_metadata: {\n              full_name: 'Test User',\n            },\n          },\n        },\n        error: null,\n      }),\n      signIn: jest.fn().mockResolvedValue({\n        data: { session: { user: { id: 'test-user-id' } } },\n        error: null,\n      }),\n      signOut: jest.fn().mockResolvedValue({ error: null }),\n      signUp: jest.fn().mockResolvedValue({\n        data: { user: { id: 'test-user-id' } },\n        error: null,\n      }),\n    },\n    from: jest.fn((table: string) => ({\n      select: jest.fn().mockReturnThis(),\n      insert: jest.fn().mockReturnThis(),\n      update: jest.fn().mockReturnThis(),\n      delete: jest.fn().mockReturnThis(),\n      eq: jest.fn().mockReturnThis(),\n      neq: jest.fn().mockReturnThis(),\n      gt: jest.fn().mockReturnThis(),\n      gte: jest.fn().mockReturnThis(),\n      lt: jest.fn().mockReturnThis(),\n      lte: jest.fn().mockReturnThis(),\n      like: jest.fn().mockReturnThis(),\n      ilike: jest.fn().mockReturnThis(),\n      in: jest.fn().mockReturnThis(),\n      is: jest.fn().mockReturnThis(),\n      order: jest.fn().mockReturnThis(),\n      limit: jest.fn().mockReturnThis(),\n      range: jest.fn().mockReturnThis(),\n      single: jest.fn().mockResolvedValue({ data: {}, error: null }),\n      maybeSingle: jest.fn().mockResolvedValue({ data: {}, error: null }),\n    })),\n    rpc: jest.fn().mockResolvedValue({ data: null, error: null }),\n    storage: {\n      from: jest.fn(() => ({\n        upload: jest.fn().mockResolvedValue({ data: { path: 'test-path' }, error: null }),\n        download: jest.fn().mockResolvedValue({ data: new Blob(), error: null }),\n        remove: jest.fn().mockResolvedValue({ data: null, error: null }),\n        list: jest.fn().mockResolvedValue({ data: [], error: null }),\n        getPublicUrl: jest.fn().mockReturnValue({ data: { publicUrl: 'https://test.com/file' } }),\n      })),\n    },\n  })),\n}))\n\n// Mock Supabase client for browser\njest.mock('@/lib/supabase/client', () => ({\n  createClient: jest.fn(() => ({\n    auth: {\n      getSession: jest.fn().mockResolvedValue({\n        data: { session: { user: { id: 'test-user-id' } } },\n        error: null,\n      }),\n      getUser: jest.fn().mockResolvedValue({\n        data: { user: { id: 'test-user-id' } },\n        error: null,\n      }),\n      onAuthStateChange: jest.fn(() => ({\n        data: { subscription: { unsubscribe: jest.fn() } },\n      })),\n    },\n    from: jest.fn((table: string) => ({\n      select: jest.fn().mockReturnThis(),\n      insert: jest.fn().mockReturnThis(),\n      update: jest.fn().mockReturnThis(),\n      delete: jest.fn().mockReturnThis(),\n      eq: jest.fn().mockReturnThis(),\n      single: jest.fn().mockResolvedValue({ data: {}, error: null }),\n    })),\n  })),\n}))\n\n// =============================================================================\n// Next.js Mocking\n// =============================================================================\n\n// Mock next/navigation\njest.mock('next/navigation', () => ({\n  useRouter: jest.fn(() => ({\n    push: jest.fn(),\n    replace: jest.fn(),\n    prefetch: jest.fn(),\n    back: jest.fn(),\n    forward: jest.fn(),\n    refresh: jest.fn(),\n    pathname: '/',\n    query: {},\n    asPath: '/',\n  })),\n  usePathname: jest.fn(() => '/'),\n  useSearchParams: jest.fn(() => new URLSearchParams()),\n  useParams: jest.fn(() => ({})),\n  redirect: jest.fn(),\n  notFound: jest.fn(),\n}))\n\n// Mock next/headers\njest.mock('next/headers', () => ({\n  cookies: jest.fn(() => ({\n    get: jest.fn(),\n    set: jest.fn(),\n    delete: jest.fn(),\n    has: jest.fn(),\n    getAll: jest.fn(() => []),\n  })),\n  headers: jest.fn(() => ({\n    get: jest.fn(),\n    has: jest.fn(),\n    forEach: jest.fn(),\n    entries: jest.fn(),\n    keys: jest.fn(),\n    values: jest.fn(),\n  })),\n}))\n\n// =============================================================================\n// Stripe Mocking\n// =============================================================================\n\njest.mock('stripe', () => {\n  return jest.fn().mockImplementation(() => ({\n    customers: {\n      create: jest.fn().mockResolvedValue({ id: 'cus_test123' }),\n      retrieve: jest.fn().mockResolvedValue({ id: 'cus_test123' }),\n      update: jest.fn().mockResolvedValue({ id: 'cus_test123' }),\n      del: jest.fn().mockResolvedValue({ deleted: true }),\n    },\n    subscriptions: {\n      create: jest.fn().mockResolvedValue({ id: 'sub_test123', status: 'active' }),\n      retrieve: jest.fn().mockResolvedValue({ id: 'sub_test123', status: 'active' }),\n      update: jest.fn().mockResolvedValue({ id: 'sub_test123', status: 'active' }),\n      cancel: jest.fn().mockResolvedValue({ id: 'sub_test123', status: 'canceled' }),\n      list: jest.fn().mockResolvedValue({ data: [] }),\n    },\n    paymentIntents: {\n      create: jest.fn().mockResolvedValue({ id: 'pi_test123', status: 'succeeded' }),\n      retrieve: jest.fn().mockResolvedValue({ id: 'pi_test123', status: 'succeeded' }),\n      confirm: jest.fn().mockResolvedValue({ id: 'pi_test123', status: 'succeeded' }),\n      cancel: jest.fn().mockResolvedValue({ id: 'pi_test123', status: 'canceled' }),\n    },\n    webhooks: {\n      constructEvent: jest.fn((payload, signature, secret) => ({\n        id: 'evt_test123',\n        type: 'payment_intent.succeeded',\n        data: {\n          object: { id: 'pi_test123' },\n        },\n      })),\n    },\n    prices: {\n      list: jest.fn().mockResolvedValue({ data: [] }),\n      retrieve: jest.fn().mockResolvedValue({ id: 'price_test123' }),\n    },\n    products: {\n      list: jest.fn().mockResolvedValue({ data: [] }),\n      retrieve: jest.fn().mockResolvedValue({ id: 'prod_test123' }),\n    },\n  }))\n})\n\n// =============================================================================\n// Fetch API Mocking\n// =============================================================================\n\nglobal.fetch = jest.fn((url: string | URL | Request, options?: RequestInit) => {\n  const urlString = typeof url === 'string' ? url : url.toString()\n\n  // Mock WhatsApp API\n  if (urlString.includes('graph.facebook.com')) {\n    return Promise.resolve({\n      ok: true,\n      status: 200,\n      json: async () => ({ success: true, message_id: 'wamid_test123' }),\n      text: async () => JSON.stringify({ success: true }),\n      headers: new Headers(),\n    } as Response)\n  }\n\n  // Mock Stripe API\n  if (urlString.includes('api.stripe.com')) {\n    return Promise.resolve({\n      ok: true,\n      status: 200,\n      json: async () => ({ id: 'test_123', object: 'customer' }),\n      text: async () => JSON.stringify({ id: 'test_123' }),\n      headers: new Headers(),\n    } as Response)\n  }\n\n  // Default mock response\n  return Promise.resolve({\n    ok: true,\n    status: 200,\n    json: async () => ({}),\n    text: async () => '{}',\n    headers: new Headers(),\n  } as Response)\n}) as jest.Mock\n\n// =============================================================================\n// Console Mocking (suppress expected errors in tests)\n// =============================================================================\n// Note: Console mocking moved to jest.setup.js to avoid ReferenceError with expect\n\n// =============================================================================\n// Test Cleanup\n// =============================================================================\n\nafterEach(() => {\n  jest.clearAllMocks()\n})\n\n// =============================================================================\n// Global Test Utilities\n// =============================================================================\n\n// Wait for async updates\nexport const waitForAsync = () =>\n  new Promise((resolve) => setTimeout(resolve, 0))\n\n// Wait for specific time\nexport const wait = (ms: number) =>\n  new Promise((resolve) => setTimeout(resolve, ms))\n\n// Flush promises\nexport const flushPromises = () =>\n  new Promise((resolve) => setImmediate(resolve))\n\n// Mock successful API response\nexport const mockSuccessResponse = (data: any) => ({\n  ok: true,\n  status: 200,\n  json: async () => data,\n  text: async () => JSON.stringify(data),\n  headers: new Headers(),\n})\n\n// Mock error API response\nexport const mockErrorResponse = (status: number, message: string) => ({\n  ok: false,\n  status,\n  json: async () => ({ error: message }),\n  text: async () => JSON.stringify({ error: message }),\n  headers: new Headers(),\n})\n\n// =============================================================================\n// Export Test Configuration\n// =============================================================================\n\nexport default {\n  testEnvironment: 'jsdom',\n  setupComplete: true,\n}\n"],"names":["jest","mock","createClient","fn","auth","getSession","mockResolvedValue","data","session","user","id","email","user_metadata","full_name","access_token","refresh_token","error","getUser","signIn","signOut","signUp","from","table","select","mockReturnThis","insert","update","delete","eq","neq","gt","gte","lt","lte","like","ilike","in","is","order","limit","range","single","maybeSingle","rpc","storage","upload","path","download","Blob","remove","list","getPublicUrl","mockReturnValue","publicUrl","onAuthStateChange","subscription","unsubscribe","useRouter","push","replace","prefetch","back","forward","refresh","pathname","query","asPath","usePathname","useSearchParams","URLSearchParams","useParams","redirect","notFound","cookies","get","set","has","getAll","headers","forEach","entries","keys","values","mockImplementation","customers","create","retrieve","del","deleted","subscriptions","status","cancel","paymentIntents","confirm","webhooks","constructEvent","payload","signature","secret","type","object","prices","products","flushPromises","mockErrorResponse","mockSuccessResponse","wait","waitForAsync","global","TextEncoder","TextDecoder","Object","defineProperty","window","writable","value","matches","media","onchange","addListener","removeListener","addEventListener","removeEventListener","dispatchEvent","IntersectionObserver","disconnect","observe","takeRecords","unobserve","ResizeObserver","scrollTo","process","env","NODE_ENV","NEXT_PUBLIC_APP_URL","NEXT_PUBLIC_APP_NAME","NEXT_PUBLIC_SUPABASE_URL","NEXT_PUBLIC_SUPABASE_ANON_KEY","SUPABASE_SERVICE_ROLE_KEY","STRIPE_PUBLIC_KEY","STRIPE_SECRET_KEY","STRIPE_WEBHOOK_SECRET","WHATSAPP_ACCESS_TOKEN","WHATSAPP_PHONE_NUMBER_ID","WHATSAPP_BUSINESS_ACCOUNT_ID","WHATSAPP_WEBHOOK_VERIFY_TOKEN","RESEND_API_KEY","fetch","url","options","urlString","toString","includes","Promise","resolve","ok","json","success","message_id","text","JSON","stringify","Headers","afterEach","clearAllMocks","setTimeout","ms","setImmediate","message","testEnvironment","setupComplete"],"mappings":"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"}