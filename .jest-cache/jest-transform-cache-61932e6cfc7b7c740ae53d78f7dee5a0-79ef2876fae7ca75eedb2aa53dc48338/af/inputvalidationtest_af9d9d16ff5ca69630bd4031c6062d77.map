{"version":3,"sources":["C:\\Ai Projecten\\ADSapp\\tests\\unit\\validation\\input-validation.test.ts"],"sourcesContent":["/**\n * Input Validation Tests\n *\n * Tests for UUID validation and email validation with edge cases.\n *\n * @module tests/unit/validation/input-validation\n */\n\nimport { z } from 'zod';\n\ndescribe('Input Validation', () => {\n  describe('Test 19: UUID Validation (Valid and Invalid)', () => {\n    // UUID validation schema\n    const uuidSchema = z.string().uuid('Invalid UUID format');\n\n    it('should validate correct UUID v4 format', () => {\n      // Arrange\n      const validUUIDs = [\n        '550e8400-e29b-41d4-a716-446655440000',\n        '6ba7b810-9dad-11d1-80b4-00c04fd430c8',\n        'f47ac10b-58cc-4372-a567-0e02b2c3d479',\n        'a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11',\n      ];\n\n      // Act & Assert\n      for (const uuid of validUUIDs) {\n        const result = uuidSchema.safeParse(uuid);\n        expect(result.success).toBe(true);\n      }\n    });\n\n    it('should reject invalid UUID formats', () => {\n      // Arrange\n      const invalidUUIDs = [\n        'not-a-uuid',\n        '12345',\n        '',\n        'g50e8400-e29b-41d4-a716-446655440000', // Invalid character 'g'\n        '550e8400e29b41d4a716446655440000', // Missing hyphens\n        '550e8400-e29b-41d4-a716', // Too short\n        '550e8400-e29b-41d4-a716-446655440000-extra', // Extra characters\n      ];\n\n      // Act & Assert\n      for (const uuid of invalidUUIDs) {\n        const result = uuidSchema.safeParse(uuid);\n        expect(result.success).toBe(false);\n        if (!result.success) {\n          expect(result.error.issues[0].message).toContain('Invalid UUID');\n        }\n      }\n    });\n\n    it('should reject null and undefined values', () => {\n      // Arrange & Act & Assert\n      expect(uuidSchema.safeParse(null).success).toBe(false);\n      expect(uuidSchema.safeParse(undefined).success).toBe(false);\n    });\n\n    it('should reject UUID with wrong case but accept any case', () => {\n      // Arrange\n      const upperCaseUUID = '550E8400-E29B-41D4-A716-446655440000';\n      const lowerCaseUUID = '550e8400-e29b-41d4-a716-446655440000';\n      const mixedCaseUUID = '550e8400-E29B-41d4-A716-446655440000';\n\n      // Act & Assert\n      // UUIDs are typically case-insensitive\n      expect(uuidSchema.safeParse(upperCaseUUID).success).toBe(true);\n      expect(uuidSchema.safeParse(lowerCaseUUID).success).toBe(true);\n      expect(uuidSchema.safeParse(mixedCaseUUID).success).toBe(true);\n    });\n\n    it('should handle UUID with extra whitespace', () => {\n      // Arrange\n      const uuidWithWhitespace = '  550e8400-e29b-41d4-a716-446655440000  ';\n\n      // Create schema with trim\n      const trimmedUuidSchema = z.string().trim().uuid();\n\n      // Act\n      const result = trimmedUuidSchema.safeParse(uuidWithWhitespace);\n\n      // Assert\n      expect(result.success).toBe(true);\n    });\n\n    it('should validate UUID in database ID context', () => {\n      // Arrange\n      const organizationIdSchema = z.object({\n        id: z.string().uuid(),\n        name: z.string(),\n      });\n\n      const validOrganization = {\n        id: '550e8400-e29b-41d4-a716-446655440000',\n        name: 'Test Organization',\n      };\n\n      const invalidOrganization = {\n        id: 'not-a-uuid',\n        name: 'Test Organization',\n      };\n\n      // Act & Assert\n      expect(organizationIdSchema.safeParse(validOrganization).success).toBe(true);\n      expect(organizationIdSchema.safeParse(invalidOrganization).success).toBe(false);\n    });\n\n    it('should handle UUID arrays validation', () => {\n      // Arrange\n      const uuidArraySchema = z.array(z.string().uuid());\n\n      const validUUIDs = [\n        '550e8400-e29b-41d4-a716-446655440000',\n        '6ba7b810-9dad-11d1-80b4-00c04fd430c8',\n      ];\n\n      const mixedUUIDs = [\n        '550e8400-e29b-41d4-a716-446655440000',\n        'not-a-uuid',\n      ];\n\n      // Act & Assert\n      expect(uuidArraySchema.safeParse(validUUIDs).success).toBe(true);\n      expect(uuidArraySchema.safeParse(mixedUUIDs).success).toBe(false);\n    });\n\n    it('should validate optional UUID field', () => {\n      // Arrange\n      const optionalUuidSchema = z.object({\n        id: z.string().uuid(),\n        parentId: z.string().uuid().optional(),\n      });\n\n      const withParent = {\n        id: '550e8400-e29b-41d4-a716-446655440000',\n        parentId: '6ba7b810-9dad-11d1-80b4-00c04fd430c8',\n      };\n\n      const withoutParent = {\n        id: '550e8400-e29b-41d4-a716-446655440000',\n      };\n\n      // Act & Assert\n      expect(optionalUuidSchema.safeParse(withParent).success).toBe(true);\n      expect(optionalUuidSchema.safeParse(withoutParent).success).toBe(true);\n    });\n  });\n\n  describe('Test 20: Email Validation with Edge Cases', () => {\n    // Email validation schema with security checks\n    const emailSchema = z\n      .string()\n      .email('Invalid email format')\n      .min(5, 'Email must be at least 5 characters')\n      .max(254, 'Email must not exceed 254 characters')\n      .refine(\n        (email) => !email.includes('..'),\n        'Email cannot contain consecutive dots'\n      )\n      .refine(\n        (email) => !email.startsWith('.') && !email.endsWith('.'),\n        'Email cannot start or end with a dot'\n      );\n\n    it('should validate standard email addresses', () => {\n      // Arrange\n      const validEmails = [\n        'user@example.com',\n        'john.doe@company.co.uk',\n        'admin+test@domain.org',\n        'name_123@subdomain.example.com',\n        'user.name+tag@example.travel',\n      ];\n\n      // Act & Assert\n      for (const email of validEmails) {\n        const result = emailSchema.safeParse(email);\n        expect(result.success).toBe(true);\n      }\n    });\n\n    it('should reject invalid email formats', () => {\n      // Arrange\n      const invalidEmails = [\n        'not-an-email',\n        '@example.com',\n        'user@',\n        'user..name@example.com', // Consecutive dots\n        '.user@example.com', // Starts with dot\n        'user.@example.com', // Ends with dot before @\n        'user@example..com', // Consecutive dots in domain\n        'user name@example.com', // Space in email\n        'user@.com', // Invalid domain\n      ];\n\n      // Act & Assert\n      for (const email of invalidEmails) {\n        const result = emailSchema.safeParse(email);\n        expect(result.success).toBe(false);\n      }\n    });\n\n    it('should enforce minimum and maximum length', () => {\n      // Arrange\n      const exactMin = 'a@b.c'; // 5 characters, exactly at minimum\n      const tooLong = 'a'.repeat(240) + '@example.com'; // Exceeds 254 characters\n\n      // Act & Assert\n      // Note: 'a@b.c' is 5 characters but may fail email format validation\n      // Use a proper email format at minimum length\n      const validMin = 'a@b.co'; // 6 characters, valid email format\n      expect(emailSchema.safeParse(validMin).success).toBe(true);\n      expect(emailSchema.safeParse(tooLong).success).toBe(false); // Exceeds maximum\n    });\n\n    it('should handle email with special characters', () => {\n      // Arrange\n      const emailsWithSpecialChars = [\n        'user+tag@example.com', // Plus sign (valid)\n        'user_name@example.com', // Underscore (valid)\n        'user-name@example.com', // Hyphen (valid)\n        'user.name@example.com', // Dot (valid)\n      ];\n\n      // Act & Assert\n      for (const email of emailsWithSpecialChars) {\n        const result = emailSchema.safeParse(email);\n        expect(result.success).toBe(true);\n      }\n    });\n\n    it('should reject emails with consecutive dots', () => {\n      // Arrange\n      const emailWithConsecutiveDots = 'user..name@example.com';\n\n      // Act\n      const result = emailSchema.safeParse(emailWithConsecutiveDots);\n\n      // Assert\n      expect(result.success).toBe(false);\n      if (!result.success) {\n        // The refine function provides the custom message\n        const messages = result.error.issues.map(i => i.message);\n        const hasConsecutiveDotsMessage = messages.some(m => m.includes('consecutive dots'));\n        expect(hasConsecutiveDotsMessage).toBe(true);\n      }\n    });\n\n    it('should reject emails starting or ending with dot', () => {\n      // Arrange\n      const startingWithDot = '.user@example.com';\n      const endingWithDot = 'user.@example.com';\n\n      // Act & Assert\n      expect(emailSchema.safeParse(startingWithDot).success).toBe(false);\n      expect(emailSchema.safeParse(endingWithDot).success).toBe(false);\n    });\n\n    it('should handle international domain names', () => {\n      // Arrange\n      const internationalEmails = [\n        'user@example.co.uk',\n        'user@example.com.br',\n        'user@subdomain.example.org',\n      ];\n\n      // Act & Assert\n      for (const email of internationalEmails) {\n        const result = emailSchema.safeParse(email);\n        expect(result.success).toBe(true);\n      }\n    });\n\n    it('should reject emails with missing domain parts', () => {\n      // Arrange\n      const invalidDomainEmails = [\n        'user@example',\n        'user@.example.com',\n        'user@example.',\n      ];\n\n      // Act & Assert\n      for (const email of invalidDomainEmails) {\n        const result = emailSchema.safeParse(email);\n        expect(result.success).toBe(false);\n      }\n    });\n\n    it('should handle email case sensitivity correctly', () => {\n      // Arrange\n      const upperCaseEmail = 'USER@EXAMPLE.COM';\n      const lowerCaseEmail = 'user@example.com';\n      const mixedCaseEmail = 'User@Example.Com';\n\n      // Act & Assert\n      // Email validation should accept any case\n      expect(emailSchema.safeParse(upperCaseEmail).success).toBe(true);\n      expect(emailSchema.safeParse(lowerCaseEmail).success).toBe(true);\n      expect(emailSchema.safeParse(mixedCaseEmail).success).toBe(true);\n    });\n\n    it('should validate email in user registration context', () => {\n      // Arrange\n      const userSchema = z.object({\n        email: emailSchema,\n        name: z.string().min(1),\n        password: z.string().min(8),\n      });\n\n      const validUser = {\n        email: 'newuser@example.com',\n        name: 'John Doe',\n        password: 'SecurePass123!',\n      };\n\n      const invalidUser = {\n        email: 'invalid-email',\n        name: 'John Doe',\n        password: 'SecurePass123!',\n      };\n\n      // Act & Assert\n      expect(userSchema.safeParse(validUser).success).toBe(true);\n      expect(userSchema.safeParse(invalidUser).success).toBe(false);\n    });\n\n    it('should handle empty and whitespace-only emails', () => {\n      // Arrange\n      const emptyEmail = '';\n      const whitespaceEmail = '   ';\n\n      // Act & Assert\n      expect(emailSchema.safeParse(emptyEmail).success).toBe(false);\n      expect(emailSchema.safeParse(whitespaceEmail).success).toBe(false);\n    });\n\n    it('should trim whitespace before validation', () => {\n      // Arrange\n      const emailWithWhitespace = '  user@example.com  ';\n      const trimmedEmailSchema = z.string().trim().email();\n\n      // Act\n      const result = trimmedEmailSchema.safeParse(emailWithWhitespace);\n\n      // Assert\n      expect(result.success).toBe(true);\n      if (result.success) {\n        expect(result.data).toBe('user@example.com');\n      }\n    });\n  });\n});\n"],"names":["describe","uuidSchema","z","string","uuid","it","validUUIDs","result","safeParse","expect","success","toBe","invalidUUIDs","error","issues","message","toContain","undefined","upperCaseUUID","lowerCaseUUID","mixedCaseUUID","uuidWithWhitespace","trimmedUuidSchema","trim","organizationIdSchema","object","id","name","validOrganization","invalidOrganization","uuidArraySchema","array","mixedUUIDs","optionalUuidSchema","parentId","optional","withParent","withoutParent","emailSchema","email","min","max","refine","includes","startsWith","endsWith","validEmails","invalidEmails","exactMin","tooLong","repeat","validMin","emailsWithSpecialChars","emailWithConsecutiveDots","messages","map","i","hasConsecutiveDotsMessage","some","m","startingWithDot","endingWithDot","internationalEmails","invalidDomainEmails","upperCaseEmail","lowerCaseEmail","mixedCaseEmail","userSchema","password","validUser","invalidUser","emptyEmail","whitespaceEmail","emailWithWhitespace","trimmedEmailSchema","data"],"mappings":"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"}