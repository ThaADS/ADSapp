bf5f6a970886730884a6d0e1953e5949
/**
 * Authentication API Integration Tests
 *
 * Tests for /api/auth/* endpoints including signin, signup,
 * password reset, and multi-factor authentication.
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _globals = require("@jest/globals");
const _apitesthelpers = require("../../utils/api-test-helpers");
const _testhelpers = require("../../utils/test-helpers");
// Mock Next.js and Supabase
_globals.jest.mock('@/lib/supabase/server');
_globals.jest.mock('next/server');
// Helper to parse Response
async function parseResponse(response) {
    const text = await response.text();
    let data;
    try {
        data = JSON.parse(text);
    } catch  {
        data = text;
    }
    return {
        status: response.status,
        data,
        headers: response.headers
    };
}
// Helper to expect error response
function expectErrorResponse(data, status, message) {
    (0, _globals.expect)(data).toHaveProperty('error');
    if (status) (0, _globals.expect)(data.statusCode || data.status || status).toBe(status);
    if (message) (0, _globals.expect)(data.message || data.error).toContain(message);
}
// Helper to create mock request
function createMockRequest(method, url, body, headers) {
    return (0, _apitesthelpers.mockApiRequest)({
        method,
        url,
        body,
        headers
    });
}
(0, _globals.describe)('POST /api/auth/signin', ()=>{
    let mockSupabase;
    (0, _globals.beforeEach)(()=>{
        mockSupabase = (0, _testhelpers.createMockSupabaseClient)();
        _globals.jest.clearAllMocks();
    });
    (0, _globals.it)('should authenticate valid user and return session', async ()=>{
        const mockUser = (0, _testhelpers.createMockUser)();
        const mockOrg = (0, _testhelpers.createMockOrganization)({
            id: mockUser.organization_id
        });
        mockSupabase.auth.signInWithPassword = _globals.jest.fn().mockResolvedValue({
            data: {
                user: {
                    id: mockUser.id,
                    email: mockUser.email
                },
                session: {
                    access_token: 'mock-token',
                    refresh_token: 'mock-refresh'
                }
            },
            error: null
        });
        mockSupabase.from = _globals.jest.fn().mockReturnValue({
            select: _globals.jest.fn().mockReturnThis(),
            eq: _globals.jest.fn().mockReturnThis(),
            single: _globals.jest.fn().mockResolvedValue({
                data: {
                    ...mockUser,
                    organization: mockOrg
                },
                error: null
            })
        });
        const request = createMockRequest('POST', '/api/auth/signin', {
            email: mockUser.email,
            password: 'validpassword123'
        });
        // Simulate API route handler
        const response = await simulateSignIn(request, mockSupabase);
        const { status, data } = await parseResponse(response);
        (0, _globals.expect)(status).toBe(200);
        (0, _globals.expect)(data).toHaveProperty('user');
        (0, _globals.expect)(data).toHaveProperty('session');
        (0, _globals.expect)(data.user.email).toBe(mockUser.email);
        (0, _globals.expect)(data.session.access_token).toBe('mock-token');
    });
    (0, _globals.it)('should reject invalid credentials', async ()=>{
        mockSupabase.auth.signInWithPassword = _globals.jest.fn().mockResolvedValue({
            data: {
                user: null,
                session: null
            },
            error: {
                message: 'Invalid login credentials'
            }
        });
        const request = createMockRequest('POST', '/api/auth/signin', {
            email: 'wrong@example.com',
            password: 'wrongpassword'
        });
        const response = await simulateSignIn(request, mockSupabase);
        const { status, data } = await parseResponse(response);
        (0, _globals.expect)(status).toBe(401);
        expectErrorResponse(data, 401, 'Invalid login credentials');
    });
    (0, _globals.it)('should validate email format', async ()=>{
        const request = createMockRequest('POST', '/api/auth/signin', {
            email: 'invalid-email',
            password: 'password123'
        });
        const response = await simulateSignIn(request, mockSupabase);
        const { status, data } = await parseResponse(response);
        (0, _globals.expect)(status).toBe(400);
        expectErrorResponse(data, 400, 'Invalid email format');
    });
    (0, _globals.it)('should require password field', async ()=>{
        const request = createMockRequest('POST', '/api/auth/signin', {
            email: 'test@example.com'
        });
        const response = await simulateSignIn(request, mockSupabase);
        const { status, data } = await parseResponse(response);
        (0, _globals.expect)(status).toBe(400);
        expectErrorResponse(data, 400, 'Password is required');
    });
});
(0, _globals.describe)('POST /api/auth/signup', ()=>{
    let mockSupabase;
    (0, _globals.beforeEach)(()=>{
        mockSupabase = (0, _testhelpers.createMockSupabaseClient)();
        _globals.jest.clearAllMocks();
    });
    (0, _globals.it)('should create new user with organization', async ()=>{
        const newUser = {
            email: 'newuser@example.com',
            password: 'SecurePass123!',
            full_name: 'New User',
            organization_name: 'New Organization'
        };
        mockSupabase.auth.signUp = _globals.jest.fn().mockResolvedValue({
            data: {
                user: {
                    id: 'new-user-id',
                    email: newUser.email
                },
                session: {
                    access_token: 'new-token'
                }
            },
            error: null
        });
        mockSupabase.from = _globals.jest.fn().mockReturnValue({
            insert: _globals.jest.fn().mockReturnThis(),
            select: _globals.jest.fn().mockReturnThis(),
            single: _globals.jest.fn().mockResolvedValue({
                data: {
                    id: 'new-org-id',
                    name: newUser.organization_name
                },
                error: null
            })
        });
        const request = createMockRequest('POST', '/api/auth/signup', newUser);
        const response = await simulateSignUp(request, mockSupabase);
        const { status, data } = await parseResponse(response);
        (0, _globals.expect)(status).toBe(201);
        (0, _globals.expect)(data).toHaveProperty('user');
        (0, _globals.expect)(data).toHaveProperty('organization');
        (0, _globals.expect)(data.user.email).toBe(newUser.email);
        (0, _globals.expect)(data.organization.name).toBe(newUser.organization_name);
    });
    (0, _globals.it)('should reject duplicate email', async ()=>{
        mockSupabase.auth.signUp = _globals.jest.fn().mockResolvedValue({
            data: {
                user: null,
                session: null
            },
            error: {
                message: 'User already registered'
            }
        });
        const request = createMockRequest('POST', '/api/auth/signup', {
            email: 'existing@example.com',
            password: 'password123',
            full_name: 'Duplicate User',
            organization_name: 'Test Org'
        });
        const response = await simulateSignUp(request, mockSupabase);
        const { status, data } = await parseResponse(response);
        (0, _globals.expect)(status).toBe(409);
        expectErrorResponse(data, 409, 'already registered');
    });
    (0, _globals.it)('should validate password strength', async ()=>{
        const request = createMockRequest('POST', '/api/auth/signup', {
            email: 'test@example.com',
            password: 'weak',
            full_name: 'Test User',
            organization_name: 'Test Org'
        });
        const response = await simulateSignUp(request, mockSupabase);
        const { status, data } = await parseResponse(response);
        (0, _globals.expect)(status).toBe(400);
        expectErrorResponse(data, 400, 'Password must be at least 8 characters');
    });
    (0, _globals.it)('should require organization name', async ()=>{
        const request = createMockRequest('POST', '/api/auth/signup', {
            email: 'test@example.com',
            password: 'SecurePass123!',
            full_name: 'Test User'
        });
        const response = await simulateSignUp(request, mockSupabase);
        const { status, data } = await parseResponse(response);
        (0, _globals.expect)(status).toBe(400);
        expectErrorResponse(data, 400, 'Organization name is required');
    });
});
(0, _globals.describe)('POST /api/auth/forgot-password', ()=>{
    let mockSupabase;
    (0, _globals.beforeEach)(()=>{
        mockSupabase = (0, _testhelpers.createMockSupabaseClient)();
        _globals.jest.clearAllMocks();
    });
    (0, _globals.it)('should send password reset email for valid email', async ()=>{
        mockSupabase.auth.resetPasswordForEmail = _globals.jest.fn().mockResolvedValue({
            data: {},
            error: null
        });
        const request = createMockRequest('POST', '/api/auth/forgot-password', {
            email: 'user@example.com'
        });
        const response = await simulateForgotPassword(request, mockSupabase);
        const { status, data } = await parseResponse(response);
        (0, _globals.expect)(status).toBe(200);
        (0, _globals.expect)(data.message).toContain('Password reset email sent');
        (0, _globals.expect)(mockSupabase.auth.resetPasswordForEmail).toHaveBeenCalledWith('user@example.com', _globals.expect.any(Object));
    });
    (0, _globals.it)('should return success even for non-existent email (security)', async ()=>{
        mockSupabase.auth.resetPasswordForEmail = _globals.jest.fn().mockResolvedValue({
            data: {},
            error: null
        });
        const request = createMockRequest('POST', '/api/auth/forgot-password', {
            email: 'nonexistent@example.com'
        });
        const response = await simulateForgotPassword(request, mockSupabase);
        const { status, data } = await parseResponse(response);
        // Should return success to prevent email enumeration
        (0, _globals.expect)(status).toBe(200);
        (0, _globals.expect)(data.message).toContain('Password reset email sent');
    });
});
(0, _globals.describe)('POST /api/auth/reset-password', ()=>{
    let mockSupabase;
    (0, _globals.beforeEach)(()=>{
        mockSupabase = (0, _testhelpers.createMockSupabaseClient)();
        _globals.jest.clearAllMocks();
    });
    (0, _globals.it)('should reset password with valid token', async ()=>{
        mockSupabase.auth.updateUser = _globals.jest.fn().mockResolvedValue({
            data: {
                user: {
                    id: 'user-id'
                }
            },
            error: null
        });
        const request = createMockRequest('POST', '/api/auth/reset-password', {
            token: 'valid-reset-token',
            password: 'NewSecurePass123!'
        });
        const response = await simulateResetPassword(request, mockSupabase);
        const { status, data } = await parseResponse(response);
        (0, _globals.expect)(status).toBe(200);
        (0, _globals.expect)(data.message).toContain('Password updated successfully');
    });
    (0, _globals.it)('should reject expired or invalid token', async ()=>{
        mockSupabase.auth.updateUser = _globals.jest.fn().mockResolvedValue({
            data: {
                user: null
            },
            error: {
                message: 'Invalid or expired token'
            }
        });
        const request = createMockRequest('POST', '/api/auth/reset-password', {
            token: 'expired-token',
            password: 'NewSecurePass123!'
        });
        const response = await simulateResetPassword(request, mockSupabase);
        const { status, data } = await parseResponse(response);
        (0, _globals.expect)(status).toBe(400);
        expectErrorResponse(data, 400, 'Invalid or expired token');
    });
});
// =============================================================================
// Helper Functions to Simulate API Route Handlers
// =============================================================================
async function simulateSignIn(request, supabase) {
    try {
        const body = await request.json();
        const { email, password } = body;
        // Validation
        if (!email || !password) {
            return new Response(JSON.stringify({
                error: 'Email and password are required'
            }), {
                status: 400,
                headers: {
                    'Content-Type': 'application/json'
                }
            });
        }
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email)) {
            return new Response(JSON.stringify({
                error: 'Invalid email format'
            }), {
                status: 400,
                headers: {
                    'Content-Type': 'application/json'
                }
            });
        }
        if (!password) {
            return new Response(JSON.stringify({
                error: 'Password is required'
            }), {
                status: 400,
                headers: {
                    'Content-Type': 'application/json'
                }
            });
        }
        // Attempt sign in
        const { data, error } = await supabase.auth.signInWithPassword({
            email,
            password
        });
        if (error || !data.session) {
            return new Response(JSON.stringify({
                error: 'Invalid login credentials'
            }), {
                status: 401,
                headers: {
                    'Content-Type': 'application/json'
                }
            });
        }
        // Get user profile
        const { data: profile } = await supabase.from('profiles').select('*, organization:organizations(*)').eq('id', data.user.id).single();
        return new Response(JSON.stringify({
            user: {
                ...data.user,
                ...profile
            },
            session: data.session
        }), {
            status: 200,
            headers: {
                'Content-Type': 'application/json'
            }
        });
    } catch (error) {
        return new Response(JSON.stringify({
            error: error.message
        }), {
            status: 500,
            headers: {
                'Content-Type': 'application/json'
            }
        });
    }
}
async function simulateSignUp(request, supabase) {
    try {
        const body = await request.json();
        const { email, password, full_name, organization_name } = body;
        // Validation
        if (!email || !password || !full_name || !organization_name) {
            let errorMsg = 'Missing required fields: ';
            if (!email) errorMsg += 'email ';
            if (!password) errorMsg += 'password ';
            if (!full_name) errorMsg += 'full_name ';
            if (!organization_name) errorMsg += 'Organization name is required';
            return new Response(JSON.stringify({
                error: errorMsg
            }), {
                status: 400,
                headers: {
                    'Content-Type': 'application/json'
                }
            });
        }
        if (password.length < 8) {
            return new Response(JSON.stringify({
                error: 'Password must be at least 8 characters'
            }), {
                status: 400,
                headers: {
                    'Content-Type': 'application/json'
                }
            });
        }
        // Attempt sign up
        const { data, error } = await supabase.auth.signUp({
            email,
            password
        });
        if (error) {
            const status = error.message.includes('already registered') ? 409 : 400;
            return new Response(JSON.stringify({
                error: error.message
            }), {
                status,
                headers: {
                    'Content-Type': 'application/json'
                }
            });
        }
        // Create organization
        const { data: org } = await supabase.from('organizations').insert({
            name: organization_name
        }).select().single();
        return new Response(JSON.stringify({
            user: data.user,
            organization: org,
            session: data.session
        }), {
            status: 201,
            headers: {
                'Content-Type': 'application/json'
            }
        });
    } catch (error) {
        return new Response(JSON.stringify({
            error: error.message
        }), {
            status: 500,
            headers: {
                'Content-Type': 'application/json'
            }
        });
    }
}
async function simulateForgotPassword(request, supabase) {
    try {
        const body = await request.json();
        const { email } = body;
        if (!email) {
            return new Response(JSON.stringify({
                error: 'Email is required'
            }), {
                status: 400,
                headers: {
                    'Content-Type': 'application/json'
                }
            });
        }
        await supabase.auth.resetPasswordForEmail(email, {
            redirectTo: `${process.env.NEXT_PUBLIC_APP_URL}/auth/reset-password`
        });
        // Always return success (security best practice)
        return new Response(JSON.stringify({
            message: 'Password reset email sent if account exists'
        }), {
            status: 200,
            headers: {
                'Content-Type': 'application/json'
            }
        });
    } catch (error) {
        return new Response(JSON.stringify({
            error: error.message
        }), {
            status: 500,
            headers: {
                'Content-Type': 'application/json'
            }
        });
    }
}
async function simulateResetPassword(request, supabase) {
    try {
        const body = await request.json();
        const { token, password } = body;
        if (!token || !password) {
            return new Response(JSON.stringify({
                error: 'Token and password are required'
            }), {
                status: 400,
                headers: {
                    'Content-Type': 'application/json'
                }
            });
        }
        const { data, error } = await supabase.auth.updateUser({
            password
        });
        if (error) {
            return new Response(JSON.stringify({
                error: error.message
            }), {
                status: 400,
                headers: {
                    'Content-Type': 'application/json'
                }
            });
        }
        return new Response(JSON.stringify({
            message: 'Password updated successfully'
        }), {
            status: 200,
            headers: {
                'Content-Type': 'application/json'
            }
        });
    } catch (error) {
        return new Response(JSON.stringify({
            error: error.message
        }), {
            status: 500,
            headers: {
                'Content-Type': 'application/json'
            }
        });
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxBaSBQcm9qZWN0ZW5cXEFEU2FwcFxcdGVzdHNcXGludGVncmF0aW9uXFxhcGlcXGF1dGgudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEF1dGhlbnRpY2F0aW9uIEFQSSBJbnRlZ3JhdGlvbiBUZXN0c1xuICpcbiAqIFRlc3RzIGZvciAvYXBpL2F1dGgvKiBlbmRwb2ludHMgaW5jbHVkaW5nIHNpZ25pbiwgc2lnbnVwLFxuICogcGFzc3dvcmQgcmVzZXQsIGFuZCBtdWx0aS1mYWN0b3IgYXV0aGVudGljYXRpb24uXG4gKi9cblxuaW1wb3J0IHsgZGVzY3JpYmUsIGl0LCBleHBlY3QsIGJlZm9yZUVhY2gsIGplc3QgfSBmcm9tICdAamVzdC9nbG9iYWxzJ1xuaW1wb3J0IHsgTmV4dFJlcXVlc3QgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7XG4gIG1vY2tBcGlSZXF1ZXN0LFxuICBjcmVhdGVBdXRoZW50aWNhdGVkUmVxdWVzdCxcbiAgZXh0cmFjdFJlc3BvbnNlRGF0YSxcbiAgZXhwZWN0RXJyb3JSZXNwb25zZSBhcyBleHBlY3RFcnJvclJlc3BvbnNlSGVscGVyLFxuICBleHBlY3RTdWNjZXNzUmVzcG9uc2UgYXMgZXhwZWN0U3VjY2Vzc1Jlc3BvbnNlSGVscGVyLFxufSBmcm9tICcuLi8uLi91dGlscy9hcGktdGVzdC1oZWxwZXJzJ1xuaW1wb3J0IHtcbiAgY3JlYXRlTW9ja1VzZXIsXG4gIGNyZWF0ZU1vY2tPcmdhbml6YXRpb24sXG4gIGNyZWF0ZU1vY2tTdXBhYmFzZUNsaWVudCxcbn0gZnJvbSAnLi4vLi4vdXRpbHMvdGVzdC1oZWxwZXJzJ1xuXG4vLyBNb2NrIE5leHQuanMgYW5kIFN1cGFiYXNlXG5qZXN0Lm1vY2soJ0AvbGliL3N1cGFiYXNlL3NlcnZlcicpXG5qZXN0Lm1vY2soJ25leHQvc2VydmVyJylcblxuLy8gSGVscGVyIHRvIHBhcnNlIFJlc3BvbnNlXG5hc3luYyBmdW5jdGlvbiBwYXJzZVJlc3BvbnNlKHJlc3BvbnNlOiBhbnkpIHtcbiAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKVxuICBsZXQgZGF0YTogYW55XG4gIHRyeSB7XG4gICAgZGF0YSA9IEpTT04ucGFyc2UodGV4dClcbiAgfSBjYXRjaCB7XG4gICAgZGF0YSA9IHRleHRcbiAgfVxuICByZXR1cm4geyBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cywgZGF0YSwgaGVhZGVyczogcmVzcG9uc2UuaGVhZGVycyB9XG59XG5cbi8vIEhlbHBlciB0byBleHBlY3QgZXJyb3IgcmVzcG9uc2VcbmZ1bmN0aW9uIGV4cGVjdEVycm9yUmVzcG9uc2UoZGF0YTogYW55LCBzdGF0dXM/OiBudW1iZXIsIG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgZXhwZWN0KGRhdGEpLnRvSGF2ZVByb3BlcnR5KCdlcnJvcicpXG4gIGlmIChzdGF0dXMpIGV4cGVjdChkYXRhLnN0YXR1c0NvZGUgfHwgZGF0YS5zdGF0dXMgfHwgc3RhdHVzKS50b0JlKHN0YXR1cylcbiAgaWYgKG1lc3NhZ2UpIGV4cGVjdChkYXRhLm1lc3NhZ2UgfHwgZGF0YS5lcnJvcikudG9Db250YWluKG1lc3NhZ2UpXG59XG5cbi8vIEhlbHBlciB0byBjcmVhdGUgbW9jayByZXF1ZXN0XG5mdW5jdGlvbiBjcmVhdGVNb2NrUmVxdWVzdChtZXRob2Q6IHN0cmluZywgdXJsOiBzdHJpbmcsIGJvZHk/OiBhbnksIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KSB7XG4gIHJldHVybiBtb2NrQXBpUmVxdWVzdCh7XG4gICAgbWV0aG9kLFxuICAgIHVybCxcbiAgICBib2R5LFxuICAgIGhlYWRlcnMsXG4gIH0pXG59XG5cbmRlc2NyaWJlKCdQT1NUIC9hcGkvYXV0aC9zaWduaW4nLCAoKSA9PiB7XG4gIGxldCBtb2NrU3VwYWJhc2U6IGFueVxuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIG1vY2tTdXBhYmFzZSA9IGNyZWF0ZU1vY2tTdXBhYmFzZUNsaWVudCgpXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKClcbiAgfSlcblxuICBpdCgnc2hvdWxkIGF1dGhlbnRpY2F0ZSB2YWxpZCB1c2VyIGFuZCByZXR1cm4gc2Vzc2lvbicsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBtb2NrVXNlciA9IGNyZWF0ZU1vY2tVc2VyKClcbiAgICBjb25zdCBtb2NrT3JnID0gY3JlYXRlTW9ja09yZ2FuaXphdGlvbih7IGlkOiBtb2NrVXNlci5vcmdhbml6YXRpb25faWQgfSlcblxuICAgIG1vY2tTdXBhYmFzZS5hdXRoLnNpZ25JbldpdGhQYXNzd29yZCA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIHVzZXI6IHsgaWQ6IG1vY2tVc2VyLmlkLCBlbWFpbDogbW9ja1VzZXIuZW1haWwgfSxcbiAgICAgICAgc2Vzc2lvbjogeyBhY2Nlc3NfdG9rZW46ICdtb2NrLXRva2VuJywgcmVmcmVzaF90b2tlbjogJ21vY2stcmVmcmVzaCcgfSxcbiAgICAgIH0sXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICB9KVxuXG4gICAgbW9ja1N1cGFiYXNlLmZyb20gPSBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICBlcTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICBzaW5nbGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IHsgLi4ubW9ja1VzZXIsIG9yZ2FuaXphdGlvbjogbW9ja09yZyB9LFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH0pLFxuICAgIH0pXG5cbiAgICBjb25zdCByZXF1ZXN0ID0gY3JlYXRlTW9ja1JlcXVlc3QoJ1BPU1QnLCAnL2FwaS9hdXRoL3NpZ25pbicsIHtcbiAgICAgIGVtYWlsOiBtb2NrVXNlci5lbWFpbCxcbiAgICAgIHBhc3N3b3JkOiAndmFsaWRwYXNzd29yZDEyMycsXG4gICAgfSlcblxuICAgIC8vIFNpbXVsYXRlIEFQSSByb3V0ZSBoYW5kbGVyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzaW11bGF0ZVNpZ25JbihyZXF1ZXN0LCBtb2NrU3VwYWJhc2UpXG4gICAgY29uc3QgeyBzdGF0dXMsIGRhdGEgfSA9IGF3YWl0IHBhcnNlUmVzcG9uc2UocmVzcG9uc2UpXG5cbiAgICBleHBlY3Qoc3RhdHVzKS50b0JlKDIwMClcbiAgICBleHBlY3QoZGF0YSkudG9IYXZlUHJvcGVydHkoJ3VzZXInKVxuICAgIGV4cGVjdChkYXRhKS50b0hhdmVQcm9wZXJ0eSgnc2Vzc2lvbicpXG4gICAgZXhwZWN0KGRhdGEudXNlci5lbWFpbCkudG9CZShtb2NrVXNlci5lbWFpbClcbiAgICBleHBlY3QoZGF0YS5zZXNzaW9uLmFjY2Vzc190b2tlbikudG9CZSgnbW9jay10b2tlbicpXG4gIH0pXG5cbiAgaXQoJ3Nob3VsZCByZWplY3QgaW52YWxpZCBjcmVkZW50aWFscycsIGFzeW5jICgpID0+IHtcbiAgICBtb2NrU3VwYWJhc2UuYXV0aC5zaWduSW5XaXRoUGFzc3dvcmQgPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgZGF0YTogeyB1c2VyOiBudWxsLCBzZXNzaW9uOiBudWxsIH0sXG4gICAgICBlcnJvcjogeyBtZXNzYWdlOiAnSW52YWxpZCBsb2dpbiBjcmVkZW50aWFscycgfSxcbiAgICB9KVxuXG4gICAgY29uc3QgcmVxdWVzdCA9IGNyZWF0ZU1vY2tSZXF1ZXN0KCdQT1NUJywgJy9hcGkvYXV0aC9zaWduaW4nLCB7XG4gICAgICBlbWFpbDogJ3dyb25nQGV4YW1wbGUuY29tJyxcbiAgICAgIHBhc3N3b3JkOiAnd3JvbmdwYXNzd29yZCcsXG4gICAgfSlcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2ltdWxhdGVTaWduSW4ocmVxdWVzdCwgbW9ja1N1cGFiYXNlKVxuICAgIGNvbnN0IHsgc3RhdHVzLCBkYXRhIH0gPSBhd2FpdCBwYXJzZVJlc3BvbnNlKHJlc3BvbnNlKVxuXG4gICAgZXhwZWN0KHN0YXR1cykudG9CZSg0MDEpXG4gICAgZXhwZWN0RXJyb3JSZXNwb25zZShkYXRhLCA0MDEsICdJbnZhbGlkIGxvZ2luIGNyZWRlbnRpYWxzJylcbiAgfSlcblxuICBpdCgnc2hvdWxkIHZhbGlkYXRlIGVtYWlsIGZvcm1hdCcsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCByZXF1ZXN0ID0gY3JlYXRlTW9ja1JlcXVlc3QoJ1BPU1QnLCAnL2FwaS9hdXRoL3NpZ25pbicsIHtcbiAgICAgIGVtYWlsOiAnaW52YWxpZC1lbWFpbCcsXG4gICAgICBwYXNzd29yZDogJ3Bhc3N3b3JkMTIzJyxcbiAgICB9KVxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzaW11bGF0ZVNpZ25JbihyZXF1ZXN0LCBtb2NrU3VwYWJhc2UpXG4gICAgY29uc3QgeyBzdGF0dXMsIGRhdGEgfSA9IGF3YWl0IHBhcnNlUmVzcG9uc2UocmVzcG9uc2UpXG5cbiAgICBleHBlY3Qoc3RhdHVzKS50b0JlKDQwMClcbiAgICBleHBlY3RFcnJvclJlc3BvbnNlKGRhdGEsIDQwMCwgJ0ludmFsaWQgZW1haWwgZm9ybWF0JylcbiAgfSlcblxuICBpdCgnc2hvdWxkIHJlcXVpcmUgcGFzc3dvcmQgZmllbGQnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IGNyZWF0ZU1vY2tSZXF1ZXN0KCdQT1NUJywgJy9hcGkvYXV0aC9zaWduaW4nLCB7XG4gICAgICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxuICAgIH0pXG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNpbXVsYXRlU2lnbkluKHJlcXVlc3QsIG1vY2tTdXBhYmFzZSlcbiAgICBjb25zdCB7IHN0YXR1cywgZGF0YSB9ID0gYXdhaXQgcGFyc2VSZXNwb25zZShyZXNwb25zZSlcblxuICAgIGV4cGVjdChzdGF0dXMpLnRvQmUoNDAwKVxuICAgIGV4cGVjdEVycm9yUmVzcG9uc2UoZGF0YSwgNDAwLCAnUGFzc3dvcmQgaXMgcmVxdWlyZWQnKVxuICB9KVxufSlcblxuZGVzY3JpYmUoJ1BPU1QgL2FwaS9hdXRoL3NpZ251cCcsICgpID0+IHtcbiAgbGV0IG1vY2tTdXBhYmFzZTogYW55XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgbW9ja1N1cGFiYXNlID0gY3JlYXRlTW9ja1N1cGFiYXNlQ2xpZW50KClcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgY3JlYXRlIG5ldyB1c2VyIHdpdGggb3JnYW5pemF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG5ld1VzZXIgPSB7XG4gICAgICBlbWFpbDogJ25ld3VzZXJAZXhhbXBsZS5jb20nLFxuICAgICAgcGFzc3dvcmQ6ICdTZWN1cmVQYXNzMTIzIScsXG4gICAgICBmdWxsX25hbWU6ICdOZXcgVXNlcicsXG4gICAgICBvcmdhbml6YXRpb25fbmFtZTogJ05ldyBPcmdhbml6YXRpb24nLFxuICAgIH1cblxuICAgIG1vY2tTdXBhYmFzZS5hdXRoLnNpZ25VcCA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIHVzZXI6IHsgaWQ6ICduZXctdXNlci1pZCcsIGVtYWlsOiBuZXdVc2VyLmVtYWlsIH0sXG4gICAgICAgIHNlc3Npb246IHsgYWNjZXNzX3Rva2VuOiAnbmV3LXRva2VuJyB9LFxuICAgICAgfSxcbiAgICAgIGVycm9yOiBudWxsLFxuICAgIH0pXG5cbiAgICBtb2NrU3VwYWJhc2UuZnJvbSA9IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgaW5zZXJ0OiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICBzaW5nbGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IHsgaWQ6ICduZXctb3JnLWlkJywgbmFtZTogbmV3VXNlci5vcmdhbml6YXRpb25fbmFtZSB9LFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH0pLFxuICAgIH0pXG5cbiAgICBjb25zdCByZXF1ZXN0ID0gY3JlYXRlTW9ja1JlcXVlc3QoJ1BPU1QnLCAnL2FwaS9hdXRoL3NpZ251cCcsIG5ld1VzZXIpXG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNpbXVsYXRlU2lnblVwKHJlcXVlc3QsIG1vY2tTdXBhYmFzZSlcbiAgICBjb25zdCB7IHN0YXR1cywgZGF0YSB9ID0gYXdhaXQgcGFyc2VSZXNwb25zZShyZXNwb25zZSlcblxuICAgIGV4cGVjdChzdGF0dXMpLnRvQmUoMjAxKVxuICAgIGV4cGVjdChkYXRhKS50b0hhdmVQcm9wZXJ0eSgndXNlcicpXG4gICAgZXhwZWN0KGRhdGEpLnRvSGF2ZVByb3BlcnR5KCdvcmdhbml6YXRpb24nKVxuICAgIGV4cGVjdChkYXRhLnVzZXIuZW1haWwpLnRvQmUobmV3VXNlci5lbWFpbClcbiAgICBleHBlY3QoZGF0YS5vcmdhbml6YXRpb24ubmFtZSkudG9CZShuZXdVc2VyLm9yZ2FuaXphdGlvbl9uYW1lKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgcmVqZWN0IGR1cGxpY2F0ZSBlbWFpbCcsIGFzeW5jICgpID0+IHtcbiAgICBtb2NrU3VwYWJhc2UuYXV0aC5zaWduVXAgPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgZGF0YTogeyB1c2VyOiBudWxsLCBzZXNzaW9uOiBudWxsIH0sXG4gICAgICBlcnJvcjogeyBtZXNzYWdlOiAnVXNlciBhbHJlYWR5IHJlZ2lzdGVyZWQnIH0sXG4gICAgfSlcblxuICAgIGNvbnN0IHJlcXVlc3QgPSBjcmVhdGVNb2NrUmVxdWVzdCgnUE9TVCcsICcvYXBpL2F1dGgvc2lnbnVwJywge1xuICAgICAgZW1haWw6ICdleGlzdGluZ0BleGFtcGxlLmNvbScsXG4gICAgICBwYXNzd29yZDogJ3Bhc3N3b3JkMTIzJyxcbiAgICAgIGZ1bGxfbmFtZTogJ0R1cGxpY2F0ZSBVc2VyJyxcbiAgICAgIG9yZ2FuaXphdGlvbl9uYW1lOiAnVGVzdCBPcmcnLFxuICAgIH0pXG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNpbXVsYXRlU2lnblVwKHJlcXVlc3QsIG1vY2tTdXBhYmFzZSlcbiAgICBjb25zdCB7IHN0YXR1cywgZGF0YSB9ID0gYXdhaXQgcGFyc2VSZXNwb25zZShyZXNwb25zZSlcblxuICAgIGV4cGVjdChzdGF0dXMpLnRvQmUoNDA5KVxuICAgIGV4cGVjdEVycm9yUmVzcG9uc2UoZGF0YSwgNDA5LCAnYWxyZWFkeSByZWdpc3RlcmVkJylcbiAgfSlcblxuICBpdCgnc2hvdWxkIHZhbGlkYXRlIHBhc3N3b3JkIHN0cmVuZ3RoJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHJlcXVlc3QgPSBjcmVhdGVNb2NrUmVxdWVzdCgnUE9TVCcsICcvYXBpL2F1dGgvc2lnbnVwJywge1xuICAgICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcbiAgICAgIHBhc3N3b3JkOiAnd2VhaycsXG4gICAgICBmdWxsX25hbWU6ICdUZXN0IFVzZXInLFxuICAgICAgb3JnYW5pemF0aW9uX25hbWU6ICdUZXN0IE9yZycsXG4gICAgfSlcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2ltdWxhdGVTaWduVXAocmVxdWVzdCwgbW9ja1N1cGFiYXNlKVxuICAgIGNvbnN0IHsgc3RhdHVzLCBkYXRhIH0gPSBhd2FpdCBwYXJzZVJlc3BvbnNlKHJlc3BvbnNlKVxuXG4gICAgZXhwZWN0KHN0YXR1cykudG9CZSg0MDApXG4gICAgZXhwZWN0RXJyb3JSZXNwb25zZShkYXRhLCA0MDAsICdQYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IDggY2hhcmFjdGVycycpXG4gIH0pXG5cbiAgaXQoJ3Nob3VsZCByZXF1aXJlIG9yZ2FuaXphdGlvbiBuYW1lJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHJlcXVlc3QgPSBjcmVhdGVNb2NrUmVxdWVzdCgnUE9TVCcsICcvYXBpL2F1dGgvc2lnbnVwJywge1xuICAgICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcbiAgICAgIHBhc3N3b3JkOiAnU2VjdXJlUGFzczEyMyEnLFxuICAgICAgZnVsbF9uYW1lOiAnVGVzdCBVc2VyJyxcbiAgICB9KVxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzaW11bGF0ZVNpZ25VcChyZXF1ZXN0LCBtb2NrU3VwYWJhc2UpXG4gICAgY29uc3QgeyBzdGF0dXMsIGRhdGEgfSA9IGF3YWl0IHBhcnNlUmVzcG9uc2UocmVzcG9uc2UpXG5cbiAgICBleHBlY3Qoc3RhdHVzKS50b0JlKDQwMClcbiAgICBleHBlY3RFcnJvclJlc3BvbnNlKGRhdGEsIDQwMCwgJ09yZ2FuaXphdGlvbiBuYW1lIGlzIHJlcXVpcmVkJylcbiAgfSlcbn0pXG5cbmRlc2NyaWJlKCdQT1NUIC9hcGkvYXV0aC9mb3Jnb3QtcGFzc3dvcmQnLCAoKSA9PiB7XG4gIGxldCBtb2NrU3VwYWJhc2U6IGFueVxuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIG1vY2tTdXBhYmFzZSA9IGNyZWF0ZU1vY2tTdXBhYmFzZUNsaWVudCgpXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKClcbiAgfSlcblxuICBpdCgnc2hvdWxkIHNlbmQgcGFzc3dvcmQgcmVzZXQgZW1haWwgZm9yIHZhbGlkIGVtYWlsJywgYXN5bmMgKCkgPT4ge1xuICAgIG1vY2tTdXBhYmFzZS5hdXRoLnJlc2V0UGFzc3dvcmRGb3JFbWFpbCA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICBkYXRhOiB7fSxcbiAgICAgIGVycm9yOiBudWxsLFxuICAgIH0pXG5cbiAgICBjb25zdCByZXF1ZXN0ID0gY3JlYXRlTW9ja1JlcXVlc3QoJ1BPU1QnLCAnL2FwaS9hdXRoL2ZvcmdvdC1wYXNzd29yZCcsIHtcbiAgICAgIGVtYWlsOiAndXNlckBleGFtcGxlLmNvbScsXG4gICAgfSlcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2ltdWxhdGVGb3Jnb3RQYXNzd29yZChyZXF1ZXN0LCBtb2NrU3VwYWJhc2UpXG4gICAgY29uc3QgeyBzdGF0dXMsIGRhdGEgfSA9IGF3YWl0IHBhcnNlUmVzcG9uc2UocmVzcG9uc2UpXG5cbiAgICBleHBlY3Qoc3RhdHVzKS50b0JlKDIwMClcbiAgICBleHBlY3QoZGF0YS5tZXNzYWdlKS50b0NvbnRhaW4oJ1Bhc3N3b3JkIHJlc2V0IGVtYWlsIHNlbnQnKVxuICAgIGV4cGVjdChtb2NrU3VwYWJhc2UuYXV0aC5yZXNldFBhc3N3b3JkRm9yRW1haWwpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCd1c2VyQGV4YW1wbGUuY29tJywgZXhwZWN0LmFueShPYmplY3QpKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgcmV0dXJuIHN1Y2Nlc3MgZXZlbiBmb3Igbm9uLWV4aXN0ZW50IGVtYWlsIChzZWN1cml0eSknLCBhc3luYyAoKSA9PiB7XG4gICAgbW9ja1N1cGFiYXNlLmF1dGgucmVzZXRQYXNzd29yZEZvckVtYWlsID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgIGRhdGE6IHt9LFxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgfSlcblxuICAgIGNvbnN0IHJlcXVlc3QgPSBjcmVhdGVNb2NrUmVxdWVzdCgnUE9TVCcsICcvYXBpL2F1dGgvZm9yZ290LXBhc3N3b3JkJywge1xuICAgICAgZW1haWw6ICdub25leGlzdGVudEBleGFtcGxlLmNvbScsXG4gICAgfSlcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2ltdWxhdGVGb3Jnb3RQYXNzd29yZChyZXF1ZXN0LCBtb2NrU3VwYWJhc2UpXG4gICAgY29uc3QgeyBzdGF0dXMsIGRhdGEgfSA9IGF3YWl0IHBhcnNlUmVzcG9uc2UocmVzcG9uc2UpXG5cbiAgICAvLyBTaG91bGQgcmV0dXJuIHN1Y2Nlc3MgdG8gcHJldmVudCBlbWFpbCBlbnVtZXJhdGlvblxuICAgIGV4cGVjdChzdGF0dXMpLnRvQmUoMjAwKVxuICAgIGV4cGVjdChkYXRhLm1lc3NhZ2UpLnRvQ29udGFpbignUGFzc3dvcmQgcmVzZXQgZW1haWwgc2VudCcpXG4gIH0pXG59KVxuXG5kZXNjcmliZSgnUE9TVCAvYXBpL2F1dGgvcmVzZXQtcGFzc3dvcmQnLCAoKSA9PiB7XG4gIGxldCBtb2NrU3VwYWJhc2U6IGFueVxuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIG1vY2tTdXBhYmFzZSA9IGNyZWF0ZU1vY2tTdXBhYmFzZUNsaWVudCgpXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKClcbiAgfSlcblxuICBpdCgnc2hvdWxkIHJlc2V0IHBhc3N3b3JkIHdpdGggdmFsaWQgdG9rZW4nLCBhc3luYyAoKSA9PiB7XG4gICAgbW9ja1N1cGFiYXNlLmF1dGgudXBkYXRlVXNlciA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICBkYXRhOiB7IHVzZXI6IHsgaWQ6ICd1c2VyLWlkJyB9IH0sXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICB9KVxuXG4gICAgY29uc3QgcmVxdWVzdCA9IGNyZWF0ZU1vY2tSZXF1ZXN0KCdQT1NUJywgJy9hcGkvYXV0aC9yZXNldC1wYXNzd29yZCcsIHtcbiAgICAgIHRva2VuOiAndmFsaWQtcmVzZXQtdG9rZW4nLFxuICAgICAgcGFzc3dvcmQ6ICdOZXdTZWN1cmVQYXNzMTIzIScsXG4gICAgfSlcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2ltdWxhdGVSZXNldFBhc3N3b3JkKHJlcXVlc3QsIG1vY2tTdXBhYmFzZSlcbiAgICBjb25zdCB7IHN0YXR1cywgZGF0YSB9ID0gYXdhaXQgcGFyc2VSZXNwb25zZShyZXNwb25zZSlcblxuICAgIGV4cGVjdChzdGF0dXMpLnRvQmUoMjAwKVxuICAgIGV4cGVjdChkYXRhLm1lc3NhZ2UpLnRvQ29udGFpbignUGFzc3dvcmQgdXBkYXRlZCBzdWNjZXNzZnVsbHknKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgcmVqZWN0IGV4cGlyZWQgb3IgaW52YWxpZCB0b2tlbicsIGFzeW5jICgpID0+IHtcbiAgICBtb2NrU3VwYWJhc2UuYXV0aC51cGRhdGVVc2VyID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgIGRhdGE6IHsgdXNlcjogbnVsbCB9LFxuICAgICAgZXJyb3I6IHsgbWVzc2FnZTogJ0ludmFsaWQgb3IgZXhwaXJlZCB0b2tlbicgfSxcbiAgICB9KVxuXG4gICAgY29uc3QgcmVxdWVzdCA9IGNyZWF0ZU1vY2tSZXF1ZXN0KCdQT1NUJywgJy9hcGkvYXV0aC9yZXNldC1wYXNzd29yZCcsIHtcbiAgICAgIHRva2VuOiAnZXhwaXJlZC10b2tlbicsXG4gICAgICBwYXNzd29yZDogJ05ld1NlY3VyZVBhc3MxMjMhJyxcbiAgICB9KVxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzaW11bGF0ZVJlc2V0UGFzc3dvcmQocmVxdWVzdCwgbW9ja1N1cGFiYXNlKVxuICAgIGNvbnN0IHsgc3RhdHVzLCBkYXRhIH0gPSBhd2FpdCBwYXJzZVJlc3BvbnNlKHJlc3BvbnNlKVxuXG4gICAgZXhwZWN0KHN0YXR1cykudG9CZSg0MDApXG4gICAgZXhwZWN0RXJyb3JSZXNwb25zZShkYXRhLCA0MDAsICdJbnZhbGlkIG9yIGV4cGlyZWQgdG9rZW4nKVxuICB9KVxufSlcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEhlbHBlciBGdW5jdGlvbnMgdG8gU2ltdWxhdGUgQVBJIFJvdXRlIEhhbmRsZXJzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5hc3luYyBmdW5jdGlvbiBzaW11bGF0ZVNpZ25JbihyZXF1ZXN0OiBOZXh0UmVxdWVzdCwgc3VwYWJhc2U6IGFueSk6IFByb21pc2U8YW55PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG4gICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IGJvZHlcblxuICAgIC8vIFZhbGlkYXRpb25cbiAgICBpZiAoIWVtYWlsIHx8ICFwYXNzd29yZCkge1xuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IGVycm9yOiAnRW1haWwgYW5kIHBhc3N3b3JkIGFyZSByZXF1aXJlZCcgfSksIHtcbiAgICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgfSlcbiAgICB9XG5cbiAgICBjb25zdCBlbWFpbFJlZ2V4ID0gL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC9cbiAgICBpZiAoIWVtYWlsUmVnZXgudGVzdChlbWFpbCkpIHtcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogJ0ludmFsaWQgZW1haWwgZm9ybWF0JyB9KSwge1xuICAgICAgICBzdGF0dXM6IDQwMCxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmICghcGFzc3dvcmQpIHtcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogJ1Bhc3N3b3JkIGlzIHJlcXVpcmVkJyB9KSwge1xuICAgICAgICBzdGF0dXM6IDQwMCxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vIEF0dGVtcHQgc2lnbiBpblxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguc2lnbkluV2l0aFBhc3N3b3JkKHsgZW1haWwsIHBhc3N3b3JkIH0pXG5cbiAgICBpZiAoZXJyb3IgfHwgIWRhdGEuc2Vzc2lvbikge1xuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IGVycm9yOiAnSW52YWxpZCBsb2dpbiBjcmVkZW50aWFscycgfSksIHtcbiAgICAgICAgc3RhdHVzOiA0MDEsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBHZXQgdXNlciBwcm9maWxlXG4gICAgY29uc3QgeyBkYXRhOiBwcm9maWxlIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3Byb2ZpbGVzJylcbiAgICAgIC5zZWxlY3QoJyosIG9yZ2FuaXphdGlvbjpvcmdhbml6YXRpb25zKCopJylcbiAgICAgIC5lcSgnaWQnLCBkYXRhLnVzZXIuaWQpXG4gICAgICAuc2luZ2xlKClcblxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHVzZXI6IHsgLi4uZGF0YS51c2VyLCAuLi5wcm9maWxlIH0sXG4gICAgICAgIHNlc3Npb246IGRhdGEuc2Vzc2lvbixcbiAgICAgIH0pLFxuICAgICAge1xuICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICB9XG4gICAgKVxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0pLCB7XG4gICAgICBzdGF0dXM6IDUwMCxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgIH0pXG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gc2ltdWxhdGVTaWduVXAocmVxdWVzdDogTmV4dFJlcXVlc3QsIHN1cGFiYXNlOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKVxuICAgIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkLCBmdWxsX25hbWUsIG9yZ2FuaXphdGlvbl9uYW1lIH0gPSBib2R5XG5cbiAgICAvLyBWYWxpZGF0aW9uXG4gICAgaWYgKCFlbWFpbCB8fCAhcGFzc3dvcmQgfHwgIWZ1bGxfbmFtZSB8fCAhb3JnYW5pemF0aW9uX25hbWUpIHtcbiAgICAgIGxldCBlcnJvck1zZyA9ICdNaXNzaW5nIHJlcXVpcmVkIGZpZWxkczogJ1xuICAgICAgaWYgKCFlbWFpbCkgZXJyb3JNc2cgKz0gJ2VtYWlsICdcbiAgICAgIGlmICghcGFzc3dvcmQpIGVycm9yTXNnICs9ICdwYXNzd29yZCAnXG4gICAgICBpZiAoIWZ1bGxfbmFtZSkgZXJyb3JNc2cgKz0gJ2Z1bGxfbmFtZSAnXG4gICAgICBpZiAoIW9yZ2FuaXphdGlvbl9uYW1lKSBlcnJvck1zZyArPSAnT3JnYW5pemF0aW9uIG5hbWUgaXMgcmVxdWlyZWQnXG5cbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogZXJyb3JNc2cgfSksIHtcbiAgICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAocGFzc3dvcmQubGVuZ3RoIDwgOCkge1xuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IGVycm9yOiAnUGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCA4IGNoYXJhY3RlcnMnIH0pLCB7XG4gICAgICAgIHN0YXR1czogNDAwLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gQXR0ZW1wdCBzaWduIHVwXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduVXAoeyBlbWFpbCwgcGFzc3dvcmQgfSlcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc3Qgc3RhdHVzID0gZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnYWxyZWFkeSByZWdpc3RlcmVkJykgPyA0MDkgOiA0MDBcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KSwge1xuICAgICAgICBzdGF0dXMsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgb3JnYW5pemF0aW9uXG4gICAgY29uc3QgeyBkYXRhOiBvcmcgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnb3JnYW5pemF0aW9ucycpXG4gICAgICAuaW5zZXJ0KHsgbmFtZTogb3JnYW5pemF0aW9uX25hbWUgfSlcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB1c2VyOiBkYXRhLnVzZXIsXG4gICAgICAgIG9yZ2FuaXphdGlvbjogb3JnLFxuICAgICAgICBzZXNzaW9uOiBkYXRhLnNlc3Npb24sXG4gICAgICB9KSxcbiAgICAgIHtcbiAgICAgICAgc3RhdHVzOiAyMDEsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgfVxuICAgIClcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KSwge1xuICAgICAgc3RhdHVzOiA1MDAsXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICB9KVxuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNpbXVsYXRlRm9yZ290UGFzc3dvcmQocmVxdWVzdDogTmV4dFJlcXVlc3QsIHN1cGFiYXNlOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKVxuICAgIGNvbnN0IHsgZW1haWwgfSA9IGJvZHlcblxuICAgIGlmICghZW1haWwpIHtcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogJ0VtYWlsIGlzIHJlcXVpcmVkJyB9KSwge1xuICAgICAgICBzdGF0dXM6IDQwMCxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICB9KVxuICAgIH1cblxuICAgIGF3YWl0IHN1cGFiYXNlLmF1dGgucmVzZXRQYXNzd29yZEZvckVtYWlsKGVtYWlsLCB7XG4gICAgICByZWRpcmVjdFRvOiBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUFBfVVJMfS9hdXRoL3Jlc2V0LXBhc3N3b3JkYCxcbiAgICB9KVxuXG4gICAgLy8gQWx3YXlzIHJldHVybiBzdWNjZXNzIChzZWN1cml0eSBiZXN0IHByYWN0aWNlKVxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7IG1lc3NhZ2U6ICdQYXNzd29yZCByZXNldCBlbWFpbCBzZW50IGlmIGFjY291bnQgZXhpc3RzJyB9KSxcbiAgICAgIHtcbiAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgfVxuICAgIClcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KSwge1xuICAgICAgc3RhdHVzOiA1MDAsXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICB9KVxuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNpbXVsYXRlUmVzZXRQYXNzd29yZChyZXF1ZXN0OiBOZXh0UmVxdWVzdCwgc3VwYWJhc2U6IGFueSk6IFByb21pc2U8YW55PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG4gICAgY29uc3QgeyB0b2tlbiwgcGFzc3dvcmQgfSA9IGJvZHlcblxuICAgIGlmICghdG9rZW4gfHwgIXBhc3N3b3JkKSB7XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6ICdUb2tlbiBhbmQgcGFzc3dvcmQgYXJlIHJlcXVpcmVkJyB9KSwge1xuICAgICAgICBzdGF0dXM6IDQwMCxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICB9KVxuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGgudXBkYXRlVXNlcih7IHBhc3N3b3JkIH0pXG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KSwge1xuICAgICAgICBzdGF0dXM6IDQwMCxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7IG1lc3NhZ2U6ICdQYXNzd29yZCB1cGRhdGVkIHN1Y2Nlc3NmdWxseScgfSksXG4gICAgICB7XG4gICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIH1cbiAgICApXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSksIHtcbiAgICAgIHN0YXR1czogNTAwLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgfSlcbiAgfVxufVxuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwicGFyc2VSZXNwb25zZSIsInJlc3BvbnNlIiwidGV4dCIsImRhdGEiLCJKU09OIiwicGFyc2UiLCJzdGF0dXMiLCJoZWFkZXJzIiwiZXhwZWN0RXJyb3JSZXNwb25zZSIsIm1lc3NhZ2UiLCJleHBlY3QiLCJ0b0hhdmVQcm9wZXJ0eSIsInN0YXR1c0NvZGUiLCJ0b0JlIiwiZXJyb3IiLCJ0b0NvbnRhaW4iLCJjcmVhdGVNb2NrUmVxdWVzdCIsIm1ldGhvZCIsInVybCIsImJvZHkiLCJtb2NrQXBpUmVxdWVzdCIsImRlc2NyaWJlIiwibW9ja1N1cGFiYXNlIiwiYmVmb3JlRWFjaCIsImNyZWF0ZU1vY2tTdXBhYmFzZUNsaWVudCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsIm1vY2tVc2VyIiwiY3JlYXRlTW9ja1VzZXIiLCJtb2NrT3JnIiwiY3JlYXRlTW9ja09yZ2FuaXphdGlvbiIsImlkIiwib3JnYW5pemF0aW9uX2lkIiwiYXV0aCIsInNpZ25JbldpdGhQYXNzd29yZCIsImZuIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJ1c2VyIiwiZW1haWwiLCJzZXNzaW9uIiwiYWNjZXNzX3Rva2VuIiwicmVmcmVzaF90b2tlbiIsImZyb20iLCJtb2NrUmV0dXJuVmFsdWUiLCJzZWxlY3QiLCJtb2NrUmV0dXJuVGhpcyIsImVxIiwic2luZ2xlIiwib3JnYW5pemF0aW9uIiwicmVxdWVzdCIsInBhc3N3b3JkIiwic2ltdWxhdGVTaWduSW4iLCJuZXdVc2VyIiwiZnVsbF9uYW1lIiwib3JnYW5pemF0aW9uX25hbWUiLCJzaWduVXAiLCJpbnNlcnQiLCJuYW1lIiwic2ltdWxhdGVTaWduVXAiLCJyZXNldFBhc3N3b3JkRm9yRW1haWwiLCJzaW11bGF0ZUZvcmdvdFBhc3N3b3JkIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJhbnkiLCJPYmplY3QiLCJ1cGRhdGVVc2VyIiwidG9rZW4iLCJzaW11bGF0ZVJlc2V0UGFzc3dvcmQiLCJzdXBhYmFzZSIsImpzb24iLCJSZXNwb25zZSIsInN0cmluZ2lmeSIsImVtYWlsUmVnZXgiLCJ0ZXN0IiwicHJvZmlsZSIsImVycm9yTXNnIiwibGVuZ3RoIiwiaW5jbHVkZXMiLCJvcmciLCJyZWRpcmVjdFRvIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQUF9VUkwiXSwibWFwcGluZ3MiOiJBQUFBOzs7OztDQUtDOzs7O3lCQUVzRDtnQ0FRaEQ7NkJBS0E7QUFFUCw0QkFBNEI7QUFDNUJBLGFBQUksQ0FBQ0MsSUFBSSxDQUFDO0FBQ1ZELGFBQUksQ0FBQ0MsSUFBSSxDQUFDO0FBRVYsMkJBQTJCO0FBQzNCLGVBQWVDLGNBQWNDLFFBQWE7SUFDeEMsTUFBTUMsT0FBTyxNQUFNRCxTQUFTQyxJQUFJO0lBQ2hDLElBQUlDO0lBQ0osSUFBSTtRQUNGQSxPQUFPQyxLQUFLQyxLQUFLLENBQUNIO0lBQ3BCLEVBQUUsT0FBTTtRQUNOQyxPQUFPRDtJQUNUO0lBQ0EsT0FBTztRQUFFSSxRQUFRTCxTQUFTSyxNQUFNO1FBQUVIO1FBQU1JLFNBQVNOLFNBQVNNLE9BQU87SUFBQztBQUNwRTtBQUVBLGtDQUFrQztBQUNsQyxTQUFTQyxvQkFBb0JMLElBQVMsRUFBRUcsTUFBZSxFQUFFRyxPQUFnQjtJQUN2RUMsSUFBQUEsZUFBTSxFQUFDUCxNQUFNUSxjQUFjLENBQUM7SUFDNUIsSUFBSUwsUUFBUUksSUFBQUEsZUFB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