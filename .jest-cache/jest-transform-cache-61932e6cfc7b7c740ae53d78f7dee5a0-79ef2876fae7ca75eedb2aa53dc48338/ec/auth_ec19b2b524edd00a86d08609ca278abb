3bc1d240f8dfe44680ac494f40e7538f
"use strict";

/* istanbul ignore next */
function cov_1nif3ylbc9() {
  var path = "C:\\Ai Projecten\\ADSapp\\src\\lib\\auth.ts";
  var hash = "bfc1d2eb73e4839391787d37c08e86173e54d5f0";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Ai Projecten\\ADSapp\\src\\lib\\auth.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "2": {
        start: {
          line: 6,
          column: 24
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "3": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 30,
          column: 3
        }
      },
      "4": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 23
        }
      },
      "5": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 30
        }
      },
      "6": {
        start: {
          line: 19,
          column: 8
        },
        end: {
          line: 19,
          column: 27
        }
      },
      "7": {
        start: {
          line: 22,
          column: 8
        },
        end: {
          line: 22,
          column: 35
        }
      },
      "8": {
        start: {
          line: 25,
          column: 8
        },
        end: {
          line: 25,
          column: 47
        }
      },
      "9": {
        start: {
          line: 28,
          column: 8
        },
        end: {
          line: 28,
          column: 23
        }
      },
      "10": {
        start: {
          line: 31,
          column: 16
        },
        end: {
          line: 31,
          column: 44
        }
      },
      "11": {
        start: {
          line: 32,
          column: 20
        },
        end: {
          line: 32,
          column: 46
        }
      },
      "12": {
        start: {
          line: 34,
          column: 21
        },
        end: {
          line: 34,
          column: 54
        }
      },
      "13": {
        start: {
          line: 35,
          column: 31
        },
        end: {
          line: 35,
          column: 60
        }
      },
      "14": {
        start: {
          line: 36,
          column: 4
        },
        end: {
          line: 36,
          column: 16
        }
      },
      "15": {
        start: {
          line: 39,
          column: 21
        },
        end: {
          line: 39,
          column: 54
        }
      },
      "16": {
        start: {
          line: 40,
          column: 17
        },
        end: {
          line: 40,
          column: 32
        }
      },
      "17": {
        start: {
          line: 41,
          column: 4
        },
        end: {
          line: 43,
          column: 5
        }
      },
      "18": {
        start: {
          line: 42,
          column: 8
        },
        end: {
          line: 42,
          column: 20
        }
      },
      "19": {
        start: {
          line: 44,
          column: 30
        },
        end: {
          line: 44,
          column: 131
        }
      },
      "20": {
        start: {
          line: 45,
          column: 4
        },
        end: {
          line: 45,
          column: 19
        }
      },
      "21": {
        start: {
          line: 48,
          column: 17
        },
        end: {
          line: 48,
          column: 32
        }
      },
      "22": {
        start: {
          line: 49,
          column: 4
        },
        end: {
          line: 51,
          column: 5
        }
      },
      "23": {
        start: {
          line: 50,
          column: 8
        },
        end: {
          line: 50,
          column: 50
        }
      },
      "24": {
        start: {
          line: 52,
          column: 4
        },
        end: {
          line: 52,
          column: 16
        }
      },
      "25": {
        start: {
          line: 55,
          column: 20
        },
        end: {
          line: 55,
          column: 42
        }
      },
      "26": {
        start: {
          line: 56,
          column: 4
        },
        end: {
          line: 64,
          column: 5
        }
      },
      "27": {
        start: {
          line: 58,
          column: 8
        },
        end: {
          line: 63,
          column: 9
        }
      },
      "28": {
        start: {
          line: 60,
          column: 12
        },
        end: {
          line: 60,
          column: 48
        }
      },
      "29": {
        start: {
          line: 62,
          column: 12
        },
        end: {
          line: 62,
          column: 53
        }
      },
      "30": {
        start: {
          line: 65,
          column: 4
        },
        end: {
          line: 65,
          column: 19
        }
      },
      "31": {
        start: {
          line: 68,
          column: 20
        },
        end: {
          line: 68,
          column: 42
        }
      },
      "32": {
        start: {
          line: 70,
          column: 4
        },
        end: {
          line: 72,
          column: 5
        }
      },
      "33": {
        start: {
          line: 71,
          column: 8
        },
        end: {
          line: 71,
          column: 23
        }
      },
      "34": {
        start: {
          line: 74,
          column: 4
        },
        end: {
          line: 76,
          column: 5
        }
      },
      "35": {
        start: {
          line: 75,
          column: 8
        },
        end: {
          line: 75,
          column: 49
        }
      },
      "36": {
        start: {
          line: 77,
          column: 4
        },
        end: {
          line: 77,
          column: 19
        }
      },
      "37": {
        start: {
          line: 80,
          column: 21
        },
        end: {
          line: 80,
          column: 54
        }
      },
      "38": {
        start: {
          line: 81,
          column: 4
        },
        end: {
          line: 81,
          column: 34
        }
      },
      "39": {
        start: {
          line: 82,
          column: 4
        },
        end: {
          line: 82,
          column: 46
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 16
          }
        },
        loc: {
          start: {
            line: 5,
            column: 30
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 5
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 4
          },
          end: {
            line: 12,
            column: 5
          }
        },
        loc: {
          start: {
            line: 12,
            column: 19
          },
          end: {
            line: 14,
            column: 5
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 26
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 18,
            column: 4
          },
          end: {
            line: 18,
            column: 5
          }
        },
        loc: {
          start: {
            line: 18,
            column: 23
          },
          end: {
            line: 20,
            column: 5
          }
        },
        line: 18
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 21,
            column: 4
          },
          end: {
            line: 21,
            column: 5
          }
        },
        loc: {
          start: {
            line: 21,
            column: 31
          },
          end: {
            line: 23,
            column: 5
          }
        },
        line: 21
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 24,
            column: 4
          },
          end: {
            line: 24,
            column: 5
          }
        },
        loc: {
          start: {
            line: 24,
            column: 43
          },
          end: {
            line: 26,
            column: 5
          }
        },
        line: 24
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 27,
            column: 4
          },
          end: {
            line: 27,
            column: 5
          }
        },
        loc: {
          start: {
            line: 27,
            column: 19
          },
          end: {
            line: 29,
            column: 5
          }
        },
        line: 27
      },
      "7": {
        name: "getUser",
        decl: {
          start: {
            line: 33,
            column: 15
          },
          end: {
            line: 33,
            column: 22
          }
        },
        loc: {
          start: {
            line: 33,
            column: 25
          },
          end: {
            line: 37,
            column: 1
          }
        },
        line: 33
      },
      "8": {
        name: "getUserProfile",
        decl: {
          start: {
            line: 38,
            column: 15
          },
          end: {
            line: 38,
            column: 29
          }
        },
        loc: {
          start: {
            line: 38,
            column: 32
          },
          end: {
            line: 46,
            column: 1
          }
        },
        line: 38
      },
      "9": {
        name: "requireAuth",
        decl: {
          start: {
            line: 47,
            column: 15
          },
          end: {
            line: 47,
            column: 26
          }
        },
        loc: {
          start: {
            line: 47,
            column: 29
          },
          end: {
            line: 53,
            column: 1
          }
        },
        line: 47
      },
      "10": {
        name: "requireOrganization",
        decl: {
          start: {
            line: 54,
            column: 15
          },
          end: {
            line: 54,
            column: 34
          }
        },
        loc: {
          start: {
            line: 54,
            column: 37
          },
          end: {
            line: 66,
            column: 1
          }
        },
        line: 54
      },
      "11": {
        name: "requireSuperAdminOrOrganization",
        decl: {
          start: {
            line: 67,
            column: 15
          },
          end: {
            line: 67,
            column: 46
          }
        },
        loc: {
          start: {
            line: 67,
            column: 49
          },
          end: {
            line: 78,
            column: 1
          }
        },
        line: 67
      },
      "12": {
        name: "signOut",
        decl: {
          start: {
            line: 79,
            column: 15
          },
          end: {
            line: 79,
            column: 22
          }
        },
        loc: {
          start: {
            line: 79,
            column: 25
          },
          end: {
            line: 83,
            column: 1
          }
        },
        line: 79
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 41,
            column: 4
          },
          end: {
            line: 43,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 41,
            column: 4
          },
          end: {
            line: 43,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 41
      },
      "1": {
        loc: {
          start: {
            line: 49,
            column: 4
          },
          end: {
            line: 51,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 49,
            column: 4
          },
          end: {
            line: 51,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 49
      },
      "2": {
        loc: {
          start: {
            line: 56,
            column: 4
          },
          end: {
            line: 64,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 56,
            column: 4
          },
          end: {
            line: 64,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 56
      },
      "3": {
        loc: {
          start: {
            line: 58,
            column: 8
          },
          end: {
            line: 63,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 58,
            column: 8
          },
          end: {
            line: 63,
            column: 9
          }
        }, {
          start: {
            line: 61,
            column: 15
          },
          end: {
            line: 63,
            column: 9
          }
        }],
        line: 58
      },
      "4": {
        loc: {
          start: {
            line: 70,
            column: 4
          },
          end: {
            line: 72,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 70,
            column: 4
          },
          end: {
            line: 72,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 70
      },
      "5": {
        loc: {
          start: {
            line: 74,
            column: 4
          },
          end: {
            line: 76,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 74,
            column: 4
          },
          end: {
            line: 76,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 74
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Ai Projecten\\ADSapp\\src\\lib\\auth.ts"],
      sourcesContent: ["import { createClient } from '@/lib/supabase/server'\nimport { redirect } from 'next/navigation'\n\nexport async function getUser() {\n  const supabase = await createClient()\n  const {\n    data: { user },\n  } = await supabase.auth.getUser()\n\n  return user\n}\n\nexport async function getUserProfile() {\n  const supabase = await createClient()\n  const user = await getUser()\n\n  if (!user) {\n    return null\n  }\n\n  const { data: profile } = await supabase\n    .from('profiles')\n    .select('*, organization:organizations(*)')\n    .eq('id', user.id)\n    .single()\n\n  return profile\n}\n\nexport async function requireAuth() {\n  const user = await getUser()\n\n  if (!user) {\n    redirect('/auth/signin')\n  }\n\n  return user\n}\n\nexport async function requireOrganization() {\n  const profile = await getUserProfile()\n\n  if (!profile?.organization_id) {\n    // Check if user is super admin - they don't need an organization\n    if (profile?.is_super_admin) {\n      // Super admins should go to admin dashboard instead\n      redirect('/admin')\n    } else {\n      redirect('/onboarding')\n    }\n  }\n\n  return profile\n}\n\nexport async function requireSuperAdminOrOrganization() {\n  const profile = await getUserProfile()\n\n  // If user is super admin, they can access without organization\n  if (profile?.is_super_admin) {\n    return profile\n  }\n\n  // Otherwise, require organization\n  if (!profile?.organization_id) {\n    redirect('/onboarding')\n  }\n\n  return profile\n}\n\nexport async function signOut() {\n  const supabase = await createClient()\n  await supabase.auth.signOut()\n  redirect('/auth/signin')\n}"],
      names: ["getUser", "getUserProfile", "requireAuth", "requireOrganization", "requireSuperAdminOrOrganization", "signOut", "supabase", "createClient", "data", "user", "auth", "profile", "from", "select", "eq", "id", "single", "redirect", "organization_id", "is_super_admin"],
      mappings: ";;;;;;;;;;;QAGsBA;eAAAA;;QASAC;eAAAA;;QAiBAC;eAAAA;;QAUAC;eAAAA;;QAgBAC;eAAAA;;QAgBAC;eAAAA;;;wBAvEO;4BACJ;AAElB,eAAeL;IACpB,MAAMM,WAAW,MAAMC,IAAAA,oBAAY;IACnC,MAAM,EACJC,MAAM,EAAEC,IAAI,EAAE,EACf,GAAG,MAAMH,SAASI,IAAI,CAACV,OAAO;IAE/B,OAAOS;AACT;AAEO,eAAeR;IACpB,MAAMK,WAAW,MAAMC,IAAAA,oBAAY;IACnC,MAAME,OAAO,MAAMT;IAEnB,IAAI,CAACS,MAAM;QACT,OAAO;IACT;IAEA,MAAM,EAAED,MAAMG,OAAO,EAAE,GAAG,MAAML,SAC7BM,IAAI,CAAC,YACLC,MAAM,CAAC,oCACPC,EAAE,CAAC,MAAML,KAAKM,EAAE,EAChBC,MAAM;IAET,OAAOL;AACT;AAEO,eAAeT;IACpB,MAAMO,OAAO,MAAMT;IAEnB,IAAI,CAACS,MAAM;QACTQ,IAAAA,oBAAQ,EAAC;IACX;IAEA,OAAOR;AACT;AAEO,eAAeN;IACpB,MAAMQ,UAAU,MAAMV;IAEtB,IAAI,CAACU,SAASO,iBAAiB;QAC7B,iEAAiE;QACjE,IAAIP,SAASQ,gBAAgB;YAC3B,oDAAoD;YACpDF,IAAAA,oBAAQ,EAAC;QACX,OAAO;YACLA,IAAAA,oBAAQ,EAAC;QACX;IACF;IAEA,OAAON;AACT;AAEO,eAAeP;IACpB,MAAMO,UAAU,MAAMV;IAEtB,+DAA+D;IAC/D,IAAIU,SAASQ,gBAAgB;QAC3B,OAAOR;IACT;IAEA,kCAAkC;IAClC,IAAI,CAACA,SAASO,iBAAiB;QAC7BD,IAAAA,oBAAQ,EAAC;IACX;IAEA,OAAON;AACT;AAEO,eAAeN;IACpB,MAAMC,WAAW,MAAMC,IAAAA,oBAAY;IACnC,MAAMD,SAASI,IAAI,CAACL,OAAO;IAC3BY,IAAAA,oBAAQ,EAAC;AACX"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "bfc1d2eb73e4839391787d37c08e86173e54d5f0"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1nif3ylbc9 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1nif3ylbc9();
cov_1nif3ylbc9().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_1nif3ylbc9().f[0]++;
  cov_1nif3ylbc9().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_1nif3ylbc9().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_1nif3ylbc9().s[3]++;
_export(exports, {
  get getUser() {
    /* istanbul ignore next */
    cov_1nif3ylbc9().f[1]++;
    cov_1nif3ylbc9().s[4]++;
    return getUser;
  },
  get getUserProfile() {
    /* istanbul ignore next */
    cov_1nif3ylbc9().f[2]++;
    cov_1nif3ylbc9().s[5]++;
    return getUserProfile;
  },
  get requireAuth() {
    /* istanbul ignore next */
    cov_1nif3ylbc9().f[3]++;
    cov_1nif3ylbc9().s[6]++;
    return requireAuth;
  },
  get requireOrganization() {
    /* istanbul ignore next */
    cov_1nif3ylbc9().f[4]++;
    cov_1nif3ylbc9().s[7]++;
    return requireOrganization;
  },
  get requireSuperAdminOrOrganization() {
    /* istanbul ignore next */
    cov_1nif3ylbc9().f[5]++;
    cov_1nif3ylbc9().s[8]++;
    return requireSuperAdminOrOrganization;
  },
  get signOut() {
    /* istanbul ignore next */
    cov_1nif3ylbc9().f[6]++;
    cov_1nif3ylbc9().s[9]++;
    return signOut;
  }
});
const _server =
/* istanbul ignore next */
(cov_1nif3ylbc9().s[10]++, require("./supabase/server"));
const _navigation =
/* istanbul ignore next */
(cov_1nif3ylbc9().s[11]++, require("next/navigation"));
async function getUser() {
  /* istanbul ignore next */
  cov_1nif3ylbc9().f[7]++;
  const supabase =
  /* istanbul ignore next */
  (cov_1nif3ylbc9().s[12]++, await (0, _server.createClient)());
  const {
    data: {
      user
    }
  } =
  /* istanbul ignore next */
  (cov_1nif3ylbc9().s[13]++, await supabase.auth.getUser());
  /* istanbul ignore next */
  cov_1nif3ylbc9().s[14]++;
  return user;
}
async function getUserProfile() {
  /* istanbul ignore next */
  cov_1nif3ylbc9().f[8]++;
  const supabase =
  /* istanbul ignore next */
  (cov_1nif3ylbc9().s[15]++, await (0, _server.createClient)());
  const user =
  /* istanbul ignore next */
  (cov_1nif3ylbc9().s[16]++, await getUser());
  /* istanbul ignore next */
  cov_1nif3ylbc9().s[17]++;
  if (!user) {
    /* istanbul ignore next */
    cov_1nif3ylbc9().b[0][0]++;
    cov_1nif3ylbc9().s[18]++;
    return null;
  } else
  /* istanbul ignore next */
  {
    cov_1nif3ylbc9().b[0][1]++;
  }
  const {
    data: profile
  } =
  /* istanbul ignore next */
  (cov_1nif3ylbc9().s[19]++, await supabase.from('profiles').select('*, organization:organizations(*)').eq('id', user.id).single());
  /* istanbul ignore next */
  cov_1nif3ylbc9().s[20]++;
  return profile;
}
async function requireAuth() {
  /* istanbul ignore next */
  cov_1nif3ylbc9().f[9]++;
  const user =
  /* istanbul ignore next */
  (cov_1nif3ylbc9().s[21]++, await getUser());
  /* istanbul ignore next */
  cov_1nif3ylbc9().s[22]++;
  if (!user) {
    /* istanbul ignore next */
    cov_1nif3ylbc9().b[1][0]++;
    cov_1nif3ylbc9().s[23]++;
    (0, _navigation.redirect)('/auth/signin');
  } else
  /* istanbul ignore next */
  {
    cov_1nif3ylbc9().b[1][1]++;
  }
  cov_1nif3ylbc9().s[24]++;
  return user;
}
async function requireOrganization() {
  /* istanbul ignore next */
  cov_1nif3ylbc9().f[10]++;
  const profile =
  /* istanbul ignore next */
  (cov_1nif3ylbc9().s[25]++, await getUserProfile());
  /* istanbul ignore next */
  cov_1nif3ylbc9().s[26]++;
  if (!profile?.organization_id) {
    /* istanbul ignore next */
    cov_1nif3ylbc9().b[2][0]++;
    cov_1nif3ylbc9().s[27]++;
    // Check if user is super admin - they don't need an organization
    if (profile?.is_super_admin) {
      /* istanbul ignore next */
      cov_1nif3ylbc9().b[3][0]++;
      cov_1nif3ylbc9().s[28]++;
      // Super admins should go to admin dashboard instead
      (0, _navigation.redirect)('/admin');
    } else {
      /* istanbul ignore next */
      cov_1nif3ylbc9().b[3][1]++;
      cov_1nif3ylbc9().s[29]++;
      (0, _navigation.redirect)('/onboarding');
    }
  } else
  /* istanbul ignore next */
  {
    cov_1nif3ylbc9().b[2][1]++;
  }
  cov_1nif3ylbc9().s[30]++;
  return profile;
}
async function requireSuperAdminOrOrganization() {
  /* istanbul ignore next */
  cov_1nif3ylbc9().f[11]++;
  const profile =
  /* istanbul ignore next */
  (cov_1nif3ylbc9().s[31]++, await getUserProfile());
  // If user is super admin, they can access without organization
  /* istanbul ignore next */
  cov_1nif3ylbc9().s[32]++;
  if (profile?.is_super_admin) {
    /* istanbul ignore next */
    cov_1nif3ylbc9().b[4][0]++;
    cov_1nif3ylbc9().s[33]++;
    return profile;
  } else
  /* istanbul ignore next */
  {
    cov_1nif3ylbc9().b[4][1]++;
  }
  // Otherwise, require organization
  cov_1nif3ylbc9().s[34]++;
  if (!profile?.organization_id) {
    /* istanbul ignore next */
    cov_1nif3ylbc9().b[5][0]++;
    cov_1nif3ylbc9().s[35]++;
    (0, _navigation.redirect)('/onboarding');
  } else
  /* istanbul ignore next */
  {
    cov_1nif3ylbc9().b[5][1]++;
  }
  cov_1nif3ylbc9().s[36]++;
  return profile;
}
async function signOut() {
  /* istanbul ignore next */
  cov_1nif3ylbc9().f[12]++;
  const supabase =
  /* istanbul ignore next */
  (cov_1nif3ylbc9().s[37]++, await (0, _server.createClient)());
  /* istanbul ignore next */
  cov_1nif3ylbc9().s[38]++;
  await supabase.auth.signOut();
  /* istanbul ignore next */
  cov_1nif3ylbc9().s[39]++;
  (0, _navigation.redirect)('/auth/signin');
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXRVc2VyIiwiY292XzFuaWYzeWxiYzkiLCJmIiwicyIsImdldFVzZXJQcm9maWxlIiwicmVxdWlyZUF1dGgiLCJyZXF1aXJlT3JnYW5pemF0aW9uIiwicmVxdWlyZVN1cGVyQWRtaW5Pck9yZ2FuaXphdGlvbiIsInNpZ25PdXQiLCJzdXBhYmFzZSIsIl9zZXJ2ZXIiLCJjcmVhdGVDbGllbnQiLCJkYXRhIiwidXNlciIsImF1dGgiLCJiIiwicHJvZmlsZSIsImZyb20iLCJzZWxlY3QiLCJlcSIsImlkIiwic2luZ2xlIiwiX25hdmlnYXRpb24iLCJyZWRpcmVjdCIsIm9yZ2FuaXphdGlvbl9pZCIsImlzX3N1cGVyX2FkbWluIl0sInNvdXJjZXMiOlsiQzpcXEFpIFByb2plY3RlblxcQURTYXBwXFxzcmNcXGxpYlxcYXV0aC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAL2xpYi9zdXBhYmFzZS9zZXJ2ZXInXG5pbXBvcnQgeyByZWRpcmVjdCB9IGZyb20gJ25leHQvbmF2aWdhdGlvbidcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXIoKSB7XG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KClcbiAgY29uc3Qge1xuICAgIGRhdGE6IHsgdXNlciB9LFxuICB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKClcblxuICByZXR1cm4gdXNlclxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlclByb2ZpbGUoKSB7XG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KClcbiAgY29uc3QgdXNlciA9IGF3YWl0IGdldFVzZXIoKVxuXG4gIGlmICghdXNlcikge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBjb25zdCB7IGRhdGE6IHByb2ZpbGUgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ3Byb2ZpbGVzJylcbiAgICAuc2VsZWN0KCcqLCBvcmdhbml6YXRpb246b3JnYW5pemF0aW9ucygqKScpXG4gICAgLmVxKCdpZCcsIHVzZXIuaWQpXG4gICAgLnNpbmdsZSgpXG5cbiAgcmV0dXJuIHByb2ZpbGVcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlcXVpcmVBdXRoKCkge1xuICBjb25zdCB1c2VyID0gYXdhaXQgZ2V0VXNlcigpXG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmVkaXJlY3QoJy9hdXRoL3NpZ25pbicpXG4gIH1cblxuICByZXR1cm4gdXNlclxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVxdWlyZU9yZ2FuaXphdGlvbigpIHtcbiAgY29uc3QgcHJvZmlsZSA9IGF3YWl0IGdldFVzZXJQcm9maWxlKClcblxuICBpZiAoIXByb2ZpbGU/Lm9yZ2FuaXphdGlvbl9pZCkge1xuICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgc3VwZXIgYWRtaW4gLSB0aGV5IGRvbid0IG5lZWQgYW4gb3JnYW5pemF0aW9uXG4gICAgaWYgKHByb2ZpbGU/LmlzX3N1cGVyX2FkbWluKSB7XG4gICAgICAvLyBTdXBlciBhZG1pbnMgc2hvdWxkIGdvIHRvIGFkbWluIGRhc2hib2FyZCBpbnN0ZWFkXG4gICAgICByZWRpcmVjdCgnL2FkbWluJylcbiAgICB9IGVsc2Uge1xuICAgICAgcmVkaXJlY3QoJy9vbmJvYXJkaW5nJylcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcHJvZmlsZVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVxdWlyZVN1cGVyQWRtaW5Pck9yZ2FuaXphdGlvbigpIHtcbiAgY29uc3QgcHJvZmlsZSA9IGF3YWl0IGdldFVzZXJQcm9maWxlKClcblxuICAvLyBJZiB1c2VyIGlzIHN1cGVyIGFkbWluLCB0aGV5IGNhbiBhY2Nlc3Mgd2l0aG91dCBvcmdhbml6YXRpb25cbiAgaWYgKHByb2ZpbGU/LmlzX3N1cGVyX2FkbWluKSB7XG4gICAgcmV0dXJuIHByb2ZpbGVcbiAgfVxuXG4gIC8vIE90aGVyd2lzZSwgcmVxdWlyZSBvcmdhbml6YXRpb25cbiAgaWYgKCFwcm9maWxlPy5vcmdhbml6YXRpb25faWQpIHtcbiAgICByZWRpcmVjdCgnL29uYm9hcmRpbmcnKVxuICB9XG5cbiAgcmV0dXJuIHByb2ZpbGVcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25PdXQoKSB7XG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KClcbiAgYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduT3V0KClcbiAgcmVkaXJlY3QoJy9hdXRoL3NpZ25pbicpXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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