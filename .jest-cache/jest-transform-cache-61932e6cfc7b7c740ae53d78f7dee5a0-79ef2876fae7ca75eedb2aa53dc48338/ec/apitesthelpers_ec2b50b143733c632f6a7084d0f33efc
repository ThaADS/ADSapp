aa225898f681b0eb5dbf4b612f1a7411
/**
 * API Test Helpers
 *
 * Utilities for testing API routes including request mocking,
 * response validation, and authentication helpers.
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get ApiErrors () {
        return ApiErrors;
    },
    get ApiTestScenarios () {
        return ApiTestScenarios;
    },
    get createApiError () {
        return createApiError;
    },
    get createAuthenticatedRequest () {
        return createAuthenticatedRequest;
    },
    get createInvalidRequestBodies () {
        return createInvalidRequestBodies;
    },
    get createMockJwtToken () {
        return createMockJwtToken;
    },
    get createMockRequest () {
        return createMockRequest;
    },
    get createPaginatedResponse () {
        return createPaginatedResponse;
    },
    get createPaginationParams () {
        return createPaginationParams;
    },
    get createUnauthenticatedRequest () {
        return createUnauthenticatedRequest;
    },
    get default () {
        return _default;
    },
    get expectErrorResponse () {
        return expectErrorResponse;
    },
    get expectSuccessResponse () {
        return expectSuccessResponse;
    },
    get extractResponseData () {
        return extractResponseData;
    },
    get mockApiRequest () {
        return mockApiRequest;
    },
    get mockApiResponse () {
        return mockApiResponse;
    },
    get mockAuthMiddlewareFailure () {
        return mockAuthMiddlewareFailure;
    },
    get mockAuthMiddlewareSuccess () {
        return mockAuthMiddlewareSuccess;
    },
    get mockDatabaseError () {
        return mockDatabaseError;
    },
    get mockDatabaseQuery () {
        return mockDatabaseQuery;
    },
    get mockErrorResponse () {
        return mockErrorResponse;
    },
    get mockTenantIsolation () {
        return mockTenantIsolation;
    },
    get parseResponse () {
        return parseResponse;
    },
    get simulateRateLimit () {
        return simulateRateLimit;
    },
    get simulateRateLimitOk () {
        return simulateRateLimitOk;
    },
    get validateRequestBody () {
        return validateRequestBody;
    }
});
const _server = require("next/server");
const _testhelpers = require("./test-helpers");
function mockApiRequest(options = {}) {
    const { method = 'GET', url = 'http://localhost:3000/api/test', body, headers = {}, searchParams = {}, cookies = {} } = options;
    // Construct URL with search params
    const urlObj = new URL(url);
    Object.entries(searchParams).forEach(([key, value])=>{
        urlObj.searchParams.set(key, value);
    });
    // Create request init object
    const init = {
        method,
        headers: new Headers({
            'Content-Type': 'application/json',
            ...headers
        })
    };
    // Add body if present
    if (body) {
        init.body = JSON.stringify(body);
    }
    // Create the request
    const request = new _server.NextRequest(urlObj.toString(), init);
    // Add cookies if present
    Object.entries(cookies).forEach(([key, value])=>{
        request.cookies.set(key, value);
    });
    return request;
}
function createAuthenticatedRequest(options = {}) {
    const user = (0, _testhelpers.createMockUser)(options.user);
    const organizationId = options.organizationId || user.organization_id;
    // Add authentication headers
    const headers = {
        ...options.headers,
        'x-user-id': user.id,
        'x-organization-id': organizationId,
        Authorization: `Bearer mock-jwt-token-${user.id}`
    };
    return mockApiRequest({
        ...options,
        headers
    });
}
function createUnauthenticatedRequest(options = {}) {
    return mockApiRequest(options);
}
function mockApiResponse(data, status = 200) {
    return _server.NextResponse.json(data, {
        status
    });
}
function mockErrorResponse(message, status = 400) {
    return _server.NextResponse.json({
        error: message
    }, {
        status
    });
}
async function extractResponseData(response) {
    const data = await response.json();
    return {
        status: response.status,
        data,
        headers: response.headers
    };
}
async function parseResponse(response) {
    const text = await response.text();
    let data;
    try {
        data = JSON.parse(text);
    } catch  {
        data = text;
    }
    return {
        status: response.status,
        data,
        headers: response.headers
    };
}
function expectSuccessResponse(response, expectedStatus = 200) {
    expect(response.status).toBe(expectedStatus);
    expect(response.headers.get('content-type')).toContain('application/json');
}
function expectErrorResponse(response, expectedStatus = 400, errorMessage) {
    expect(response.status).toBe(expectedStatus);
    expect(response.headers.get('content-type')).toContain('application/json');
    if (errorMessage) {
        response.json().then((data)=>{
            expect(data.error).toContain(errorMessage);
        });
    }
}
function createMockJwtToken(userId, organizationId) {
    const payload = {
        sub: userId,
        org_id: organizationId,
        role: 'agent',
        iat: Math.floor(Date.now() / 1000),
        exp: Math.floor(Date.now() / 1000) + 3600
    };
    // In real implementation, this would be signed with a secret
    const base64Payload = Buffer.from(JSON.stringify(payload)).toString('base64');
    return `mock.${base64Payload}.signature`;
}
function mockAuthMiddlewareSuccess(user) {
    jest.mock('@/lib/api-middleware', ()=>({
            withAuth: (handler)=>handler,
            getCurrentUser: jest.fn().mockResolvedValue(user),
            requireRole: (role)=>(handler)=>handler
        }));
}
function mockAuthMiddlewareFailure(error = 'Unauthorized') {
    jest.mock('@/lib/api-middleware', ()=>({
            withAuth: ()=>{
                throw new Error(error);
            },
            getCurrentUser: jest.fn().mockRejectedValue(new Error(error))
        }));
}
function validateRequestBody(body, requiredFields) {
    const missingFields = requiredFields.filter((field)=>!(field in body));
    return {
        valid: missingFields.length === 0,
        missingFields
    };
}
function createInvalidRequestBodies(validBody) {
    const invalidBodies = [];
    // Missing each required field
    Object.keys(validBody).forEach((key)=>{
        const body = {
            ...validBody
        };
        delete body[key];
        invalidBodies.push(body);
    });
    // Empty strings for string fields
    Object.entries(validBody).forEach(([key, value])=>{
        if (typeof value === 'string') {
            invalidBodies.push({
                ...validBody,
                [key]: ''
            });
        }
    });
    // Invalid types
    Object.entries(validBody).forEach(([key, value])=>{
        if (typeof value === 'string') {
            invalidBodies.push({
                ...validBody,
                [key]: 123
            });
        }
        if (typeof value === 'number') {
            invalidBodies.push({
                ...validBody,
                [key]: 'invalid'
            });
        }
    });
    return invalidBodies;
}
function mockDatabaseQuery(data) {
    return {
        data,
        error: null
    };
}
function mockDatabaseError(message) {
    return {
        data: null,
        error: {
            message,
            code: 'PGRST116'
        }
    };
}
function mockTenantIsolation(organizationId) {
    return jest.fn().mockImplementation((query)=>{
        return {
            ...query,
            eq: jest.fn((field, value)=>{
                if (field === 'organization_id') {
                    expect(value).toBe(organizationId);
                }
                return query;
            })
        };
    });
}
function simulateRateLimit(maxRequests = 100) {
    return {
        shouldBlock: true,
        remaining: 0
    };
}
function simulateRateLimitOk(remaining = 95) {
    return {
        shouldBlock: false,
        remaining
    };
}
const ApiErrors = {
    Unauthorized: {
        status: 401,
        message: 'Unauthorized - Please sign in'
    },
    Forbidden: {
        status: 403,
        message: 'Forbidden - Insufficient permissions'
    },
    NotFound: {
        status: 404,
        message: 'Resource not found'
    },
    BadRequest: {
        status: 400,
        message: 'Bad request - Invalid input'
    },
    Conflict: {
        status: 409,
        message: 'Conflict - Resource already exists'
    },
    InternalServerError: {
        status: 500,
        message: 'Internal server error'
    },
    TooManyRequests: {
        status: 429,
        message: 'Too many requests - Please try again later'
    }
};
function createApiError(errorType, customMessage) {
    const error = ApiErrors[errorType];
    return _server.NextResponse.json({
        error: customMessage || error.message
    }, {
        status: error.status
    });
}
function createPaginationParams(page = 1, limit = 20) {
    return {
        page,
        limit,
        offset: (page - 1) * limit
    };
}
function createPaginatedResponse(data, page, limit, total) {
    return {
        data,
        pagination: {
            page,
            limit,
            total,
            total_pages: Math.ceil(total / limit),
            has_next: page * limit < total,
            has_prev: page > 1
        }
    };
}
const ApiTestScenarios = {
    /**
   * Test authentication requirement
   */ requiresAuth: async (handler)=>{
        const request = createUnauthenticatedRequest();
        const response = await handler(request);
        expectErrorResponse(response, 401);
    },
    /**
   * Test tenant isolation
   */ enforcesTenantIsolation: async (handler, organizationId)=>{
        const request = createAuthenticatedRequest({
            organizationId
        });
        // Handler should only access data from this organization
        const response = await handler(request);
        expectSuccessResponse(response);
    },
    /**
   * Test input validation
   */ validatesInput: async (handler, validBody, requiredFields)=>{
        const invalidBodies = createInvalidRequestBodies(validBody);
        for (const body of invalidBodies){
            const request = createAuthenticatedRequest({
                body,
                method: 'POST'
            });
            const response = await handler(request);
            expectErrorResponse(response, 400);
        }
    },
    /**
   * Test rate limiting
   */ enforcesRateLimit: async (handler, maxRequests = 100)=>{
        // Simulate max requests
        for(let i = 0; i < maxRequests + 1; i++){
            const request = createAuthenticatedRequest();
            const response = await handler(request);
            if (i < maxRequests) {
                expect(response.status).not.toBe(429);
            } else {
                expectErrorResponse(response, 429);
            }
        }
    }
};
const createMockRequest = mockApiRequest;
const _default = {
    mockApiRequest,
    createMockRequest,
    createAuthenticatedRequest,
    createUnauthenticatedRequest,
    mockApiResponse,
    mockErrorResponse,
    extractResponseData,
    parseResponse,
    expectSuccessResponse,
    expectErrorResponse,
    createMockJwtToken,
    mockAuthMiddlewareSuccess,
    mockAuthMiddlewareFailure,
    validateRequestBody,
    createInvalidRequestBodies,
    mockDatabaseQuery,
    mockDatabaseError,
    mockTenantIsolation,
    simulateRateLimit,
    simulateRateLimitOk,
    ApiErrors,
    createApiError,
    createPaginationParams,
    createPaginatedResponse,
    ApiTestScenarios
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxBaSBQcm9qZWN0ZW5cXEFEU2FwcFxcdGVzdHNcXHV0aWxzXFxhcGktdGVzdC1oZWxwZXJzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQVBJIFRlc3QgSGVscGVyc1xuICpcbiAqIFV0aWxpdGllcyBmb3IgdGVzdGluZyBBUEkgcm91dGVzIGluY2x1ZGluZyByZXF1ZXN0IG1vY2tpbmcsXG4gKiByZXNwb25zZSB2YWxpZGF0aW9uLCBhbmQgYXV0aGVudGljYXRpb24gaGVscGVycy5cbiAqL1xuXG5pbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgdHlwZSB7IFByb2ZpbGUgfSBmcm9tICdAL3R5cGVzL2RhdGFiYXNlJ1xuaW1wb3J0IHsgY3JlYXRlTW9ja1VzZXIgfSBmcm9tICcuL3Rlc3QtaGVscGVycydcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFR5cGUgRGVmaW5pdGlvbnNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBpbnRlcmZhY2UgTW9ja1JlcXVlc3RPcHRpb25zIHtcbiAgbWV0aG9kPzogc3RyaW5nXG4gIHVybD86IHN0cmluZ1xuICBib2R5PzogYW55XG4gIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+XG4gIHNlYXJjaFBhcmFtcz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz5cbiAgY29va2llcz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBNb2NrQXV0aGVudGljYXRlZFJlcXVlc3RPcHRpb25zIGV4dGVuZHMgTW9ja1JlcXVlc3RPcHRpb25zIHtcbiAgdXNlcj86IFBhcnRpYWw8UHJvZmlsZT5cbiAgb3JnYW5pemF0aW9uSWQ/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBcGlUZXN0UmVzcG9uc2Uge1xuICBzdGF0dXM6IG51bWJlclxuICBkYXRhOiBhbnlcbiAgaGVhZGVyczogSGVhZGVyc1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gUmVxdWVzdCBNb2NraW5nXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIENyZWF0ZXMgYSBtb2NrIE5leHRSZXF1ZXN0IG9iamVjdCBmb3IgQVBJIHRlc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vY2tBcGlSZXF1ZXN0KG9wdGlvbnM6IE1vY2tSZXF1ZXN0T3B0aW9ucyA9IHt9KTogTmV4dFJlcXVlc3Qge1xuICBjb25zdCB7XG4gICAgbWV0aG9kID0gJ0dFVCcsXG4gICAgdXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdGVzdCcsXG4gICAgYm9keSxcbiAgICBoZWFkZXJzID0ge30sXG4gICAgc2VhcmNoUGFyYW1zID0ge30sXG4gICAgY29va2llcyA9IHt9LFxuICB9ID0gb3B0aW9uc1xuXG4gIC8vIENvbnN0cnVjdCBVUkwgd2l0aCBzZWFyY2ggcGFyYW1zXG4gIGNvbnN0IHVybE9iaiA9IG5ldyBVUkwodXJsKVxuICBPYmplY3QuZW50cmllcyhzZWFyY2hQYXJhbXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgIHVybE9iai5zZWFyY2hQYXJhbXMuc2V0KGtleSwgdmFsdWUpXG4gIH0pXG5cbiAgLy8gQ3JlYXRlIHJlcXVlc3QgaW5pdCBvYmplY3RcbiAgY29uc3QgaW5pdDogUmVxdWVzdEluaXQgPSB7XG4gICAgbWV0aG9kLFxuICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAuLi5oZWFkZXJzLFxuICAgIH0pLFxuICB9XG5cbiAgLy8gQWRkIGJvZHkgaWYgcHJlc2VudFxuICBpZiAoYm9keSkge1xuICAgIGluaXQuYm9keSA9IEpTT04uc3RyaW5naWZ5KGJvZHkpXG4gIH1cblxuICAvLyBDcmVhdGUgdGhlIHJlcXVlc3RcbiAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCh1cmxPYmoudG9TdHJpbmcoKSwgaW5pdClcblxuICAvLyBBZGQgY29va2llcyBpZiBwcmVzZW50XG4gIE9iamVjdC5lbnRyaWVzKGNvb2tpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgIHJlcXVlc3QuY29va2llcy5zZXQoa2V5LCB2YWx1ZSlcbiAgfSlcblxuICByZXR1cm4gcmVxdWVzdFxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBtb2NrIGF1dGhlbnRpY2F0ZWQgQVBJIHJlcXVlc3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUF1dGhlbnRpY2F0ZWRSZXF1ZXN0KFxuICBvcHRpb25zOiBNb2NrQXV0aGVudGljYXRlZFJlcXVlc3RPcHRpb25zID0ge31cbik6IE5leHRSZXF1ZXN0IHtcbiAgY29uc3QgdXNlciA9IGNyZWF0ZU1vY2tVc2VyKG9wdGlvbnMudXNlcilcbiAgY29uc3Qgb3JnYW5pemF0aW9uSWQgPSBvcHRpb25zLm9yZ2FuaXphdGlvbklkIHx8IHVzZXIub3JnYW5pemF0aW9uX2lkXG5cbiAgLy8gQWRkIGF1dGhlbnRpY2F0aW9uIGhlYWRlcnNcbiAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAuLi5vcHRpb25zLmhlYWRlcnMsXG4gICAgJ3gtdXNlci1pZCc6IHVzZXIuaWQsXG4gICAgJ3gtb3JnYW5pemF0aW9uLWlkJzogb3JnYW5pemF0aW9uSWQsXG4gICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciBtb2NrLWp3dC10b2tlbi0ke3VzZXIuaWR9YCxcbiAgfVxuXG4gIHJldHVybiBtb2NrQXBpUmVxdWVzdCh7XG4gICAgLi4ub3B0aW9ucyxcbiAgICBoZWFkZXJzLFxuICB9KVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBtb2NrIHVuYXV0aGVudGljYXRlZCBBUEkgcmVxdWVzdFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVW5hdXRoZW50aWNhdGVkUmVxdWVzdChvcHRpb25zOiBNb2NrUmVxdWVzdE9wdGlvbnMgPSB7fSk6IE5leHRSZXF1ZXN0IHtcbiAgcmV0dXJuIG1vY2tBcGlSZXF1ZXN0KG9wdGlvbnMpXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBSZXNwb25zZSBNb2NraW5nICYgVmFsaWRhdGlvblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBNb2NrcyBhIHN1Y2Nlc3NmdWwgQVBJIHJlc3BvbnNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb2NrQXBpUmVzcG9uc2UoZGF0YTogYW55LCBzdGF0dXMgPSAyMDApOiBOZXh0UmVzcG9uc2Uge1xuICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZGF0YSwgeyBzdGF0dXMgfSlcbn1cblxuLyoqXG4gKiBNb2NrcyBhbiBlcnJvciBBUEkgcmVzcG9uc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vY2tFcnJvclJlc3BvbnNlKG1lc3NhZ2U6IHN0cmluZywgc3RhdHVzID0gNDAwKTogTmV4dFJlc3BvbnNlIHtcbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IG1lc3NhZ2UgfSwgeyBzdGF0dXMgfSlcbn1cblxuLyoqXG4gKiBFeHRyYWN0cyByZXNwb25zZSBkYXRhIGZvciB0ZXN0aW5nXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBleHRyYWN0UmVzcG9uc2VEYXRhKHJlc3BvbnNlOiBOZXh0UmVzcG9uc2UpOiBQcm9taXNlPEFwaVRlc3RSZXNwb25zZT4ge1xuICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG4gIHJldHVybiB7XG4gICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgZGF0YSxcbiAgICBoZWFkZXJzOiByZXNwb25zZS5oZWFkZXJzLFxuICB9XG59XG5cbi8qKlxuICogUGFyc2VzIHJlc3BvbnNlIGZvciB0ZXN0aW5nICh3b3JrcyB3aXRoIGJvdGggTmV4dFJlc3BvbnNlIGFuZCBSZXNwb25zZSlcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlUmVzcG9uc2UocmVzcG9uc2U6IGFueSk6IFByb21pc2U8QXBpVGVzdFJlc3BvbnNlPiB7XG4gIGNvbnN0IHRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KClcbiAgbGV0IGRhdGE6IGFueVxuICB0cnkge1xuICAgIGRhdGEgPSBKU09OLnBhcnNlKHRleHQpXG4gIH0gY2F0Y2gge1xuICAgIGRhdGEgPSB0ZXh0XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICBkYXRhLFxuICAgIGhlYWRlcnM6IHJlc3BvbnNlLmhlYWRlcnNcbiAgfVxufVxuXG4vKipcbiAqIFZhbGlkYXRlcyBzdWNjZXNzZnVsIEFQSSByZXNwb25zZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhwZWN0U3VjY2Vzc1Jlc3BvbnNlKHJlc3BvbnNlOiBOZXh0UmVzcG9uc2UsIGV4cGVjdGVkU3RhdHVzID0gMjAwKTogdm9pZCB7XG4gIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoZXhwZWN0ZWRTdGF0dXMpXG4gIGV4cGVjdChyZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpLnRvQ29udGFpbignYXBwbGljYXRpb24vanNvbicpXG59XG5cbi8qKlxuICogVmFsaWRhdGVzIGVycm9yIEFQSSByZXNwb25zZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhwZWN0RXJyb3JSZXNwb25zZShcbiAgcmVzcG9uc2U6IE5leHRSZXNwb25zZSxcbiAgZXhwZWN0ZWRTdGF0dXMgPSA0MDAsXG4gIGVycm9yTWVzc2FnZT86IHN0cmluZ1xuKTogdm9pZCB7XG4gIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoZXhwZWN0ZWRTdGF0dXMpXG4gIGV4cGVjdChyZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpLnRvQ29udGFpbignYXBwbGljYXRpb24vanNvbicpXG5cbiAgaWYgKGVycm9yTWVzc2FnZSkge1xuICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvcikudG9Db250YWluKGVycm9yTWVzc2FnZSlcbiAgICB9KVxuICB9XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBBdXRoZW50aWNhdGlvbiBIZWxwZXJzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIENyZWF0ZXMgYSBtb2NrIEpXVCB0b2tlbiBmb3IgdGVzdGluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTW9ja0p3dFRva2VuKHVzZXJJZDogc3RyaW5nLCBvcmdhbml6YXRpb25JZDogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBzdWI6IHVzZXJJZCxcbiAgICBvcmdfaWQ6IG9yZ2FuaXphdGlvbklkLFxuICAgIHJvbGU6ICdhZ2VudCcsXG4gICAgaWF0OiBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSxcbiAgICBleHA6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApICsgMzYwMCxcbiAgfVxuXG4gIC8vIEluIHJlYWwgaW1wbGVtZW50YXRpb24sIHRoaXMgd291bGQgYmUgc2lnbmVkIHdpdGggYSBzZWNyZXRcbiAgY29uc3QgYmFzZTY0UGF5bG9hZCA9IEJ1ZmZlci5mcm9tKEpTT04uc3RyaW5naWZ5KHBheWxvYWQpKS50b1N0cmluZygnYmFzZTY0JylcbiAgcmV0dXJuIGBtb2NrLiR7YmFzZTY0UGF5bG9hZH0uc2lnbmF0dXJlYFxufVxuXG4vKipcbiAqIE1vY2tzIGF1dGhlbnRpY2F0aW9uIG1pZGRsZXdhcmUgc3VjY2Vzc1xuICovXG5leHBvcnQgZnVuY3Rpb24gbW9ja0F1dGhNaWRkbGV3YXJlU3VjY2Vzcyh1c2VyOiBQcm9maWxlKTogdm9pZCB7XG4gIGplc3QubW9jaygnQC9saWIvYXBpLW1pZGRsZXdhcmUnLCAoKSA9PiAoe1xuICAgIHdpdGhBdXRoOiAoaGFuZGxlcjogYW55KSA9PiBoYW5kbGVyLFxuICAgIGdldEN1cnJlbnRVc2VyOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodXNlciksXG4gICAgcmVxdWlyZVJvbGU6IChyb2xlOiBzdHJpbmcpID0+IChoYW5kbGVyOiBhbnkpID0+IGhhbmRsZXIsXG4gIH0pKVxufVxuXG4vKipcbiAqIE1vY2tzIGF1dGhlbnRpY2F0aW9uIG1pZGRsZXdhcmUgZmFpbHVyZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbW9ja0F1dGhNaWRkbGV3YXJlRmFpbHVyZShlcnJvcjogc3RyaW5nID0gJ1VuYXV0aG9yaXplZCcpOiB2b2lkIHtcbiAgamVzdC5tb2NrKCdAL2xpYi9hcGktbWlkZGxld2FyZScsICgpID0+ICh7XG4gICAgd2l0aEF1dGg6ICgpID0+IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcilcbiAgICB9LFxuICAgIGdldEN1cnJlbnRVc2VyOiBqZXN0LmZuKCkubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKGVycm9yKSksXG4gIH0pKVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gUmVxdWVzdCBCb2R5IFZhbGlkYXRpb25cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogVmFsaWRhdGVzIHJlcXVlc3QgYm9keSBhZ2FpbnN0IHNjaGVtYVxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVSZXF1ZXN0Qm9keShib2R5OiBhbnksIHJlcXVpcmVkRmllbGRzOiBzdHJpbmdbXSk6IHtcbiAgdmFsaWQ6IGJvb2xlYW5cbiAgbWlzc2luZ0ZpZWxkczogc3RyaW5nW11cbn0ge1xuICBjb25zdCBtaXNzaW5nRmllbGRzID0gcmVxdWlyZWRGaWVsZHMuZmlsdGVyKChmaWVsZCkgPT4gIShmaWVsZCBpbiBib2R5KSlcbiAgcmV0dXJuIHtcbiAgICB2YWxpZDogbWlzc2luZ0ZpZWxkcy5sZW5ndGggPT09IDAsXG4gICAgbWlzc2luZ0ZpZWxkcyxcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgaW52YWxpZCByZXF1ZXN0IGJvZGllcyBmb3IgdGVzdGluZyB2YWxpZGF0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbnZhbGlkUmVxdWVzdEJvZGllcyhcbiAgdmFsaWRCb2R5OiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4pOiBSZWNvcmQ8c3RyaW5nLCBhbnk+W10ge1xuICBjb25zdCBpbnZhbGlkQm9kaWVzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+W10gPSBbXVxuXG4gIC8vIE1pc3NpbmcgZWFjaCByZXF1aXJlZCBmaWVsZFxuICBPYmplY3Qua2V5cyh2YWxpZEJvZHkpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSB7IC4uLnZhbGlkQm9keSB9XG4gICAgZGVsZXRlIGJvZHlba2V5XVxuICAgIGludmFsaWRCb2RpZXMucHVzaChib2R5KVxuICB9KVxuXG4gIC8vIEVtcHR5IHN0cmluZ3MgZm9yIHN0cmluZyBmaWVsZHNcbiAgT2JqZWN0LmVudHJpZXModmFsaWRCb2R5KS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgaW52YWxpZEJvZGllcy5wdXNoKHsgLi4udmFsaWRCb2R5LCBba2V5XTogJycgfSlcbiAgICB9XG4gIH0pXG5cbiAgLy8gSW52YWxpZCB0eXBlc1xuICBPYmplY3QuZW50cmllcyh2YWxpZEJvZHkpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpbnZhbGlkQm9kaWVzLnB1c2goeyAuLi52YWxpZEJvZHksIFtrZXldOiAxMjMgfSlcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIGludmFsaWRCb2RpZXMucHVzaCh7IC4uLnZhbGlkQm9keSwgW2tleV06ICdpbnZhbGlkJyB9KVxuICAgIH1cbiAgfSlcblxuICByZXR1cm4gaW52YWxpZEJvZGllc1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gRGF0YWJhc2UgUXVlcnkgTW9ja2luZ1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBNb2NrcyBhIHN1Y2Nlc3NmdWwgZGF0YWJhc2UgcXVlcnlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vY2tEYXRhYmFzZVF1ZXJ5PFQ+KGRhdGE6IFQgfCBUW10pOiB7XG4gIGRhdGE6IFQgfCBUW11cbiAgZXJyb3I6IG51bGxcbn0ge1xuICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9XG59XG5cbi8qKlxuICogTW9ja3MgYSBmYWlsZWQgZGF0YWJhc2UgcXVlcnlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vY2tEYXRhYmFzZUVycm9yKG1lc3NhZ2U6IHN0cmluZyk6IHtcbiAgZGF0YTogbnVsbFxuICBlcnJvcjogeyBtZXNzYWdlOiBzdHJpbmc7IGNvZGU6IHN0cmluZyB9XG59IHtcbiAgcmV0dXJuIHtcbiAgICBkYXRhOiBudWxsLFxuICAgIGVycm9yOiB7XG4gICAgICBtZXNzYWdlLFxuICAgICAgY29kZTogJ1BHUlNUMTE2JyxcbiAgICB9LFxuICB9XG59XG5cbi8qKlxuICogTW9ja3MgdGVuYW50IGlzb2xhdGlvbiBjaGVja1xuICovXG5leHBvcnQgZnVuY3Rpb24gbW9ja1RlbmFudElzb2xhdGlvbihvcmdhbml6YXRpb25JZDogc3RyaW5nKTogamVzdC5Nb2NrIHtcbiAgcmV0dXJuIGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKHF1ZXJ5KSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnF1ZXJ5LFxuICAgICAgZXE6IGplc3QuZm4oKGZpZWxkOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgaWYgKGZpZWxkID09PSAnb3JnYW5pemF0aW9uX2lkJykge1xuICAgICAgICAgIGV4cGVjdCh2YWx1ZSkudG9CZShvcmdhbml6YXRpb25JZClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcXVlcnlcbiAgICAgIH0pLFxuICAgIH1cbiAgfSlcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFJhdGUgTGltaXRpbmcgSGVscGVyc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBTaW11bGF0ZXMgcmF0ZSBsaW1pdCByZWFjaGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaW11bGF0ZVJhdGVMaW1pdChcbiAgbWF4UmVxdWVzdHM6IG51bWJlciA9IDEwMFxuKTogeyBzaG91bGRCbG9jazogYm9vbGVhbjsgcmVtYWluaW5nOiBudW1iZXIgfSB7XG4gIHJldHVybiB7XG4gICAgc2hvdWxkQmxvY2s6IHRydWUsXG4gICAgcmVtYWluaW5nOiAwLFxuICB9XG59XG5cbi8qKlxuICogU2ltdWxhdGVzIHJhdGUgbGltaXQgbm90IHJlYWNoZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpbXVsYXRlUmF0ZUxpbWl0T2soXG4gIHJlbWFpbmluZzogbnVtYmVyID0gOTVcbik6IHsgc2hvdWxkQmxvY2s6IGJvb2xlYW47IHJlbWFpbmluZzogbnVtYmVyIH0ge1xuICByZXR1cm4ge1xuICAgIHNob3VsZEJsb2NrOiBmYWxzZSxcbiAgICByZW1haW5pbmcsXG4gIH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEFQSSBFcnJvciBIZWxwZXJzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgY29uc3QgQXBpRXJyb3JzID0ge1xuICBVbmF1dGhvcml6ZWQ6IHtcbiAgICBzdGF0dXM6IDQwMSxcbiAgICBtZXNzYWdlOiAnVW5hdXRob3JpemVkIC0gUGxlYXNlIHNpZ24gaW4nLFxuICB9LFxuICBGb3JiaWRkZW46IHtcbiAgICBzdGF0dXM6IDQwMyxcbiAgICBtZXNzYWdlOiAnRm9yYmlkZGVuIC0gSW5zdWZmaWNpZW50IHBlcm1pc3Npb25zJyxcbiAgfSxcbiAgTm90Rm91bmQ6IHtcbiAgICBzdGF0dXM6IDQwNCxcbiAgICBtZXNzYWdlOiAnUmVzb3VyY2Ugbm90IGZvdW5kJyxcbiAgfSxcbiAgQmFkUmVxdWVzdDoge1xuICAgIHN0YXR1czogNDAwLFxuICAgIG1lc3NhZ2U6ICdCYWQgcmVxdWVzdCAtIEludmFsaWQgaW5wdXQnLFxuICB9LFxuICBDb25mbGljdDoge1xuICAgIHN0YXR1czogNDA5LFxuICAgIG1lc3NhZ2U6ICdDb25mbGljdCAtIFJlc291cmNlIGFscmVhZHkgZXhpc3RzJyxcbiAgfSxcbiAgSW50ZXJuYWxTZXJ2ZXJFcnJvcjoge1xuICAgIHN0YXR1czogNTAwLFxuICAgIG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InLFxuICB9LFxuICBUb29NYW55UmVxdWVzdHM6IHtcbiAgICBzdGF0dXM6IDQyOSxcbiAgICBtZXNzYWdlOiAnVG9vIG1hbnkgcmVxdWVzdHMgLSBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyJyxcbiAgfSxcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIEFQSSBlcnJvciByZXNwb25zZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQXBpRXJyb3IoXG4gIGVycm9yVHlwZToga2V5b2YgdHlwZW9mIEFwaUVycm9ycyxcbiAgY3VzdG9tTWVzc2FnZT86IHN0cmluZ1xuKTogTmV4dFJlc3BvbnNlIHtcbiAgY29uc3QgZXJyb3IgPSBBcGlFcnJvcnNbZXJyb3JUeXBlXVxuICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgeyBlcnJvcjogY3VzdG9tTWVzc2FnZSB8fCBlcnJvci5tZXNzYWdlIH0sXG4gICAgeyBzdGF0dXM6IGVycm9yLnN0YXR1cyB9XG4gIClcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFBhZ2luYXRpb24gSGVscGVyc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBDcmVhdGVzIHBhZ2luYXRpb24gcGFyYW1ldGVyc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUGFnaW5hdGlvblBhcmFtcyhwYWdlID0gMSwgbGltaXQgPSAyMCk6IHtcbiAgcGFnZTogbnVtYmVyXG4gIGxpbWl0OiBudW1iZXJcbiAgb2Zmc2V0OiBudW1iZXJcbn0ge1xuICByZXR1cm4ge1xuICAgIHBhZ2UsXG4gICAgbGltaXQsXG4gICAgb2Zmc2V0OiAocGFnZSAtIDEpICogbGltaXQsXG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgcGFnaW5hdGVkIHJlc3BvbnNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQYWdpbmF0ZWRSZXNwb25zZTxUPihcbiAgZGF0YTogVFtdLFxuICBwYWdlOiBudW1iZXIsXG4gIGxpbWl0OiBudW1iZXIsXG4gIHRvdGFsOiBudW1iZXJcbik6IHtcbiAgZGF0YTogVFtdXG4gIHBhZ2luYXRpb246IHtcbiAgICBwYWdlOiBudW1iZXJcbiAgICBsaW1pdDogbnVtYmVyXG4gICAgdG90YWw6IG51bWJlclxuICAgIHRvdGFsX3BhZ2VzOiBudW1iZXJcbiAgICBoYXNfbmV4dDogYm9vbGVhblxuICAgIGhhc19wcmV2OiBib29sZWFuXG4gIH1cbn0ge1xuICByZXR1cm4ge1xuICAgIGRhdGEsXG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgcGFnZSxcbiAgICAgIGxpbWl0LFxuICAgICAgdG90YWwsXG4gICAgICB0b3RhbF9wYWdlczogTWF0aC5jZWlsKHRvdGFsIC8gbGltaXQpLFxuICAgICAgaGFzX25leHQ6IHBhZ2UgKiBsaW1pdCA8IHRvdGFsLFxuICAgICAgaGFzX3ByZXY6IHBhZ2UgPiAxLFxuICAgIH0sXG4gIH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFRlc3QgU2NlbmFyaW9zXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIENvbW1vbiB0ZXN0IHNjZW5hcmlvcyBmb3IgQVBJIHJvdXRlc1xuICovXG5leHBvcnQgY29uc3QgQXBpVGVzdFNjZW5hcmlvcyA9IHtcbiAgLyoqXG4gICAqIFRlc3QgYXV0aGVudGljYXRpb24gcmVxdWlyZW1lbnRcbiAgICovXG4gIHJlcXVpcmVzQXV0aDogYXN5bmMgKGhhbmRsZXI6IChyZXE6IE5leHRSZXF1ZXN0KSA9PiBQcm9taXNlPE5leHRSZXNwb25zZT4pID0+IHtcbiAgICBjb25zdCByZXF1ZXN0ID0gY3JlYXRlVW5hdXRoZW50aWNhdGVkUmVxdWVzdCgpXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBoYW5kbGVyKHJlcXVlc3QpXG4gICAgZXhwZWN0RXJyb3JSZXNwb25zZShyZXNwb25zZSwgNDAxKVxuICB9LFxuXG4gIC8qKlxuICAgKiBUZXN0IHRlbmFudCBpc29sYXRpb25cbiAgICovXG4gIGVuZm9yY2VzVGVuYW50SXNvbGF0aW9uOiBhc3luYyAoXG4gICAgaGFuZGxlcjogKHJlcTogTmV4dFJlcXVlc3QpID0+IFByb21pc2U8TmV4dFJlc3BvbnNlPixcbiAgICBvcmdhbml6YXRpb25JZDogc3RyaW5nXG4gICkgPT4ge1xuICAgIGNvbnN0IHJlcXVlc3QgPSBjcmVhdGVBdXRoZW50aWNhdGVkUmVxdWVzdCh7IG9yZ2FuaXphdGlvbklkIH0pXG4gICAgLy8gSGFuZGxlciBzaG91bGQgb25seSBhY2Nlc3MgZGF0YSBmcm9tIHRoaXMgb3JnYW5pemF0aW9uXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBoYW5kbGVyKHJlcXVlc3QpXG4gICAgZXhwZWN0U3VjY2Vzc1Jlc3BvbnNlKHJlc3BvbnNlKVxuICB9LFxuXG4gIC8qKlxuICAgKiBUZXN0IGlucHV0IHZhbGlkYXRpb25cbiAgICovXG4gIHZhbGlkYXRlc0lucHV0OiBhc3luYyAoXG4gICAgaGFuZGxlcjogKHJlcTogTmV4dFJlcXVlc3QpID0+IFByb21pc2U8TmV4dFJlc3BvbnNlPixcbiAgICB2YWxpZEJvZHk6IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gICAgcmVxdWlyZWRGaWVsZHM6IHN0cmluZ1tdXG4gICkgPT4ge1xuICAgIGNvbnN0IGludmFsaWRCb2RpZXMgPSBjcmVhdGVJbnZhbGlkUmVxdWVzdEJvZGllcyh2YWxpZEJvZHkpXG5cbiAgICBmb3IgKGNvbnN0IGJvZHkgb2YgaW52YWxpZEJvZGllcykge1xuICAgICAgY29uc3QgcmVxdWVzdCA9IGNyZWF0ZUF1dGhlbnRpY2F0ZWRSZXF1ZXN0KHsgYm9keSwgbWV0aG9kOiAnUE9TVCcgfSlcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgaGFuZGxlcihyZXF1ZXN0KVxuICAgICAgZXhwZWN0RXJyb3JSZXNwb25zZShyZXNwb25zZSwgNDAwKVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogVGVzdCByYXRlIGxpbWl0aW5nXG4gICAqL1xuICBlbmZvcmNlc1JhdGVMaW1pdDogYXN5bmMgKFxuICAgIGhhbmRsZXI6IChyZXE6IE5leHRSZXF1ZXN0KSA9PiBQcm9taXNlPE5leHRSZXNwb25zZT4sXG4gICAgbWF4UmVxdWVzdHMgPSAxMDBcbiAgKSA9PiB7XG4gICAgLy8gU2ltdWxhdGUgbWF4IHJlcXVlc3RzXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhSZXF1ZXN0cyArIDE7IGkrKykge1xuICAgICAgY29uc3QgcmVxdWVzdCA9IGNyZWF0ZUF1dGhlbnRpY2F0ZWRSZXF1ZXN0KClcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgaGFuZGxlcihyZXF1ZXN0KVxuXG4gICAgICBpZiAoaSA8IG1heFJlcXVlc3RzKSB7XG4gICAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLm5vdC50b0JlKDQyOSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV4cGVjdEVycm9yUmVzcG9uc2UocmVzcG9uc2UsIDQyOSlcbiAgICAgIH1cbiAgICB9XG4gIH0sXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBFeHBvcnQgQWxsIEhlbHBlcnNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogQWxpYXMgZm9yIG1vY2tBcGlSZXF1ZXN0IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVNb2NrUmVxdWVzdCA9IG1vY2tBcGlSZXF1ZXN0XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbW9ja0FwaVJlcXVlc3QsXG4gIGNyZWF0ZU1vY2tSZXF1ZXN0LFxuICBjcmVhdGVBdXRoZW50aWNhdGVkUmVxdWVzdCxcbiAgY3JlYXRlVW5hdXRoZW50aWNhdGVkUmVxdWVzdCxcbiAgbW9ja0FwaVJlc3BvbnNlLFxuICBtb2NrRXJyb3JSZXNwb25zZSxcbiAgZXh0cmFjdFJlc3BvbnNlRGF0YSxcbiAgcGFyc2VSZXNwb25zZSxcbiAgZXhwZWN0U3VjY2Vzc1Jlc3BvbnNlLFxuICBleHBlY3RFcnJvclJlc3BvbnNlLFxuICBjcmVhdGVNb2NrSnd0VG9rZW4sXG4gIG1vY2tBdXRoTWlkZGxld2FyZVN1Y2Nlc3MsXG4gIG1vY2tBdXRoTWlkZGxld2FyZUZhaWx1cmUsXG4gIHZhbGlkYXRlUmVxdWVzdEJvZHksXG4gIGNyZWF0ZUludmFsaWRSZXF1ZXN0Qm9kaWVzLFxuICBtb2NrRGF0YWJhc2VRdWVyeSxcbiAgbW9ja0RhdGFiYXNlRXJyb3IsXG4gIG1vY2tUZW5hbnRJc29sYXRpb24sXG4gIHNpbXVsYXRlUmF0ZUxpbWl0LFxuICBzaW11bGF0ZVJhdGVMaW1pdE9rLFxuICBBcGlFcnJvcnMsXG4gIGNyZWF0ZUFwaUVycm9yLFxuICBjcmVhdGVQYWdpbmF0aW9uUGFyYW1zLFxuICBjcmVhdGVQYWdpbmF0ZWRSZXNwb25zZSxcbiAgQXBpVGVzdFNjZW5hcmlvcyxcbn1cbiJdLCJuYW1lcyI6WyJBcGlFcnJvcnMiLCJBcGlUZXN0U2NlbmFyaW9zIiwiY3JlYXRlQXBpRXJyb3IiLCJjcmVhdGVBdXRoZW50aWNhdGVkUmVxdWVzdCIsImNyZWF0ZUludmFsaWRSZXF1ZXN0Qm9kaWVzIiwiY3JlYXRlTW9ja0p3dFRva2VuIiwiY3JlYXRlTW9ja1JlcXVlc3QiLCJjcmVhdGVQYWdpbmF0ZWRSZXNwb25zZSIsImNyZWF0ZVBhZ2luYXRpb25QYXJhbXMiLCJjcmVhdGVVbmF1dGhlbnRpY2F0ZWRSZXF1ZXN0IiwiZXhwZWN0RXJyb3JSZXNwb25zZSIsImV4cGVjdFN1Y2Nlc3NSZXNwb25zZSIsImV4dHJhY3RSZXNwb25zZURhdGEiLCJtb2NrQXBpUmVxdWVzdCIsIm1vY2tBcGlSZXNwb25zZSIsIm1vY2tBdXRoTWlkZGxld2FyZUZhaWx1cmUiLCJtb2NrQXV0aE1pZGRsZXdhcmVTdWNjZXNzIiwibW9ja0RhdGFiYXNlRXJyb3IiLCJtb2NrRGF0YWJhc2VRdWVyeSIsIm1vY2tFcnJvclJlc3BvbnNlIiwibW9ja1RlbmFudElzb2xhdGlvbiIsInBhcnNlUmVzcG9uc2UiLCJzaW11bGF0ZVJhdGVMaW1pdCIsInNpbXVsYXRlUmF0ZUxpbWl0T2siLCJ2YWxpZGF0ZVJlcXVlc3RCb2R5Iiwib3B0aW9ucyIsIm1ldGhvZCIsInVybCIsImJvZHkiLCJoZWFkZXJzIiwic2VhcmNoUGFyYW1zIiwiY29va2llcyIsInVybE9iaiIsIlVSTCIsIk9iamVjdCIsImVudHJpZXMiLCJmb3JFYWNoIiwia2V5IiwidmFsdWUiLCJzZXQiLCJpbml0IiwiSGVhZGVycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXF1ZXN0IiwiTmV4dFJlcXVlc3QiLCJ0b1N0cmluZyIsInVzZXIiLCJjcmVhdGVNb2NrVXNlciIsIm9yZ2FuaXphdGlvbklkIiwib3JnYW5pemF0aW9uX2lkIiwiaWQiLCJBdXRob3JpemF0aW9uIiwiZGF0YSIsInN0YXR1cyIsIk5leHRSZXNwb25zZSIsImpzb24iLCJtZXNzYWdlIiwiZXJyb3IiLCJyZXNwb25zZSIsInRleHQiLCJwYXJzZSIsImV4cGVjdGVkU3RhdHVzIiwiZXhwZWN0IiwidG9CZSIsImdldCIsInRvQ29udGFpbiIsImVycm9yTWVzc2FnZSIsInRoZW4iLCJ1c2VySWQiLCJwYXlsb2FkIiwic3ViIiwib3JnX2lkIiwicm9sZSIsImlhdCIsIk1hdGgiLCJmbG9vciIsIkRhdGUiLCJub3ciLCJleHAiLCJiYXNlNjRQYXlsb2FkIiwiQnVmZmVyIiwiZnJvbSIsImplc3QiLCJtb2NrIiwid2l0aEF1dGgiLCJoYW5kbGVyIiwiZ2V0Q3VycmVudFVzZXIiLCJmbiIsIm1vY2tSZXNvbHZlZFZhbHVlIiwicmVxdWlyZVJvbGUiLCJFcnJvciIsIm1vY2tSZWplY3RlZFZhbHVlIiwicmVxdWlyZWRGaWVsZHMiLCJtaXNzaW5nRmllbGRzIiwiZmlsdGVyIiwiZmllbGQiLCJ2YWxpZCIsImxlbmd0aCIsInZhbGlkQm9keSIsImludmFsaWRCb2RpZXMiLCJrZXlzIiwicHVzaCIsImNvZGUiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJxdWVyeSIsImVxIiwibWF4UmVxdWVzdHMiLCJzaG91bGRCbG9jayIsInJlbWFpbmluZyIsIlVuYXV0aG9yaXplZCIsIkZvcmJpZGRlbiIsIk5vdEZvdW5kIiwiQmFkUmVxdWVzdCIsIkNvbmZsaWN0IiwiSW50ZXJuYWxTZXJ2ZXJFcnJvciIsIlRvb01hbnlSZXF1ZXN0cyIsImVycm9yVHlwZSIsImN1c3RvbU1lc3NhZ2UiLCJwYWdlIiwibGltaXQiLCJvZmZzZXQiLCJ0b3RhbCIsInBhZ2luYXRpb24iLCJ0b3RhbF9wYWdlcyIsImNlaWwiLCJoYXNfbmV4dCIsImhhc19wcmV2IiwicmVxdWlyZXNBdXRoIiwiZW5mb3JjZXNUZW5hbnRJc29sYXRpb24iLCJ2YWxpZGF0ZXNJbnB1dCIsImVuZm9yY2VzUmF0ZUxpbWl0IiwiaSIsIm5vdCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0NBS0M7Ozs7Ozs7Ozs7O1FBc1dZQTtl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