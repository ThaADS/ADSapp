{"version":3,"names":["cov_ns6b9lara","actualCoverage","s","alertManager","AlertManager","getInstance","f","instance","b","constructor","alerts","rules","lastAlert","initializeDefaultRules","startMonitoring","id","name","type","severity","description","enabled","cooldown","condition","metrics","averageResponseTime","errorRate","memoryUsage","databaseStatus","failedLogins","paymentFailures","setInterval","checkAlerts","collectMetrics","rule","lastAlertTime","cooldownExpired","Date","now","triggerAlert","error","console","oneHourAgo","getAverageResponseTime","getErrorRate","getMemoryUsage","getDatabaseStatus","redisStatus","getRedisStatus","getFailedLogins","suspiciousActivity","getSuspiciousActivity","getPaymentFailures","activeUsers","getActiveUsers","subscriptionCancellations","getSubscriptionCancellations","alert","crypto","randomUUID","title","timestamp","toISOString","resolved","metadata","ruleId","sanitizeMetrics","push","sendNotifications","storeAlert","warn","sanitized","sensitive","notifications","sendEmailNotification","sendSlackNotification","process","env","NODE_ENV","sendSMSNotification","sendDiscordNotification","Promise","allSettled","response","fetch","method","headers","body","JSON","stringify","to","ALERT_EMAIL","subject","toUpperCase","html","generateEmailTemplate","ok","Error","statusText","SLACK_WEBHOOK_URL","color","low","medium","high","critical","payload","username","icon_emoji","attachments","text","fields","value","short","toLocaleString","footer","ts","Math","floor","getTime","log","DISCORD_WEBHOOK_URL","embedColor","avatar_url","embeds","inline","start","end","random","usage","heapUsed","heapTotal","health","json","services","supabase","status","redis","getAlerts","filter","undefined","resolveAlert","alertId","find","a","resolvedAt","addRule","updateRule","updates","r","Object","assign","getRules","window","_performance","performanceMonitor","init"],"sources":["C:\\Ai Projecten\\ADSapp\\src\\lib\\monitoring\\alerts.ts"],"sourcesContent":["import { performanceMonitor } from './performance'\n\nexport interface Alert {\n  id: string\n  type: 'performance' | 'error' | 'security' | 'business'\n  severity: 'low' | 'medium' | 'high' | 'critical'\n  title: string\n  description: string\n  timestamp: string\n  resolved: boolean\n  resolvedAt?: string\n  metadata?: Record<string, any>\n}\n\nexport interface AlertRule {\n  id: string\n  name: string\n  type: Alert['type']\n  condition: (metrics: any) => boolean\n  severity: Alert['severity']\n  description: string\n  enabled: boolean\n  cooldown: number // Minutes between alerts\n}\n\nclass AlertManager {\n  private static instance: AlertManager\n  private alerts: Alert[] = []\n  private rules: AlertRule[] = []\n  private lastAlert: { [ruleId: string]: number } = {}\n\n  static getInstance(): AlertManager {\n    if (!AlertManager.instance) {\n      AlertManager.instance = new AlertManager()\n    }\n    return AlertManager.instance\n  }\n\n  constructor() {\n    this.initializeDefaultRules()\n    this.startMonitoring()\n  }\n\n  private initializeDefaultRules() {\n    this.rules = [\n      // Performance Alerts\n      {\n        id: 'high-response-time',\n        name: 'High Response Time',\n        type: 'performance',\n        severity: 'medium',\n        description: 'API response time is above acceptable threshold',\n        enabled: true,\n        cooldown: 5,\n        condition: (metrics) => metrics.averageResponseTime > 2000\n      },\n      {\n        id: 'high-error-rate',\n        name: 'High Error Rate',\n        type: 'error',\n        severity: 'high',\n        description: 'Error rate is above 5%',\n        enabled: true,\n        cooldown: 2,\n        condition: (metrics) => metrics.errorRate > 0.05\n      },\n      {\n        id: 'memory-usage-high',\n        name: 'High Memory Usage',\n        type: 'performance',\n        severity: 'medium',\n        description: 'Memory usage is above 85%',\n        enabled: true,\n        cooldown: 10,\n        condition: (metrics) => metrics.memoryUsage > 0.85\n      },\n      {\n        id: 'database-connection-failure',\n        name: 'Database Connection Failure',\n        type: 'error',\n        severity: 'critical',\n        description: 'Database connection has failed',\n        enabled: true,\n        cooldown: 1,\n        condition: (metrics) => metrics.databaseStatus === 'down'\n      },\n      {\n        id: 'failed-logins-spike',\n        name: 'Failed Login Spike',\n        type: 'security',\n        severity: 'high',\n        description: 'Unusual number of failed login attempts',\n        enabled: true,\n        cooldown: 5,\n        condition: (metrics) => metrics.failedLogins > 10\n      },\n      {\n        id: 'subscription-failures',\n        name: 'Subscription Payment Failures',\n        type: 'business',\n        severity: 'high',\n        description: 'High number of subscription payment failures',\n        enabled: true,\n        cooldown: 15,\n        condition: (metrics) => metrics.paymentFailures > 5\n      }\n    ]\n  }\n\n  private startMonitoring() {\n    // Check alerts every minute\n    setInterval(() => {\n      this.checkAlerts()\n    }, 60000)\n  }\n\n  private async checkAlerts() {\n    try {\n      const metrics = await this.collectMetrics()\n\n      for (const rule of this.rules) {\n        if (!rule.enabled) continue\n\n        // Check cooldown\n        const lastAlertTime = this.lastAlert[rule.id] || 0\n        const cooldownExpired = Date.now() - lastAlertTime > rule.cooldown * 60 * 1000\n\n        if (!cooldownExpired) continue\n\n        // Check condition\n        if (rule.condition(metrics)) {\n          await this.triggerAlert(rule, metrics)\n          this.lastAlert[rule.id] = Date.now()\n        }\n      }\n    } catch (error) {\n      console.error('Alert monitoring error:', error)\n    }\n  }\n\n  private async collectMetrics() {\n    // Collect various metrics from different sources\n    const now = Date.now()\n    const oneHourAgo = now - 60 * 60 * 1000\n\n    return {\n      // Performance metrics\n      averageResponseTime: await this.getAverageResponseTime(oneHourAgo, now),\n      errorRate: await this.getErrorRate(oneHourAgo, now),\n      memoryUsage: this.getMemoryUsage(),\n\n      // System health\n      databaseStatus: await this.getDatabaseStatus(),\n      redisStatus: await this.getRedisStatus(),\n\n      // Security metrics\n      failedLogins: await this.getFailedLogins(oneHourAgo, now),\n      suspiciousActivity: await this.getSuspiciousActivity(oneHourAgo, now),\n\n      // Business metrics\n      paymentFailures: await this.getPaymentFailures(oneHourAgo, now),\n      activeUsers: await this.getActiveUsers(oneHourAgo, now),\n      subscriptionCancellations: await this.getSubscriptionCancellations(oneHourAgo, now),\n    }\n  }\n\n  private async triggerAlert(rule: AlertRule, metrics: any) {\n    const alert: Alert = {\n      id: crypto.randomUUID(),\n      type: rule.type,\n      severity: rule.severity,\n      title: rule.name,\n      description: rule.description,\n      timestamp: new Date().toISOString(),\n      resolved: false,\n      metadata: {\n        ruleId: rule.id,\n        metrics: this.sanitizeMetrics(metrics),\n      }\n    }\n\n    this.alerts.push(alert)\n\n    // Send notifications\n    await this.sendNotifications(alert)\n\n    // Store in database\n    await this.storeAlert(alert)\n\n    console.warn(`ðŸš¨ Alert triggered: ${alert.title}`, alert)\n  }\n\n  private sanitizeMetrics(metrics: any) {\n    // Remove sensitive data from metrics before storing\n    const sanitized = { ...metrics }\n    delete sanitized.sensitive\n    return sanitized\n  }\n\n  private async sendNotifications(alert: Alert) {\n    const notifications = []\n\n    // Email notifications for critical alerts\n    if (alert.severity === 'critical') {\n      notifications.push(this.sendEmailNotification(alert))\n    }\n\n    // Slack notifications\n    if (alert.severity === 'high' || alert.severity === 'critical') {\n      notifications.push(this.sendSlackNotification(alert))\n    }\n\n    // SMS for critical production issues\n    if (alert.severity === 'critical' && process.env.NODE_ENV === 'production') {\n      notifications.push(this.sendSMSNotification(alert))\n    }\n\n    // Discord webhook\n    notifications.push(this.sendDiscordNotification(alert))\n\n    await Promise.allSettled(notifications)\n  }\n\n  private async sendEmailNotification(alert: Alert) {\n    try {\n      const response = await fetch('/api/notifications/email', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          to: process.env.ALERT_EMAIL || 'admin@adsapp.com',\n          subject: `ðŸš¨ ${alert.severity.toUpperCase()}: ${alert.title}`,\n          html: this.generateEmailTemplate(alert),\n        }),\n      })\n\n      if (!response.ok) {\n        throw new Error(`Email notification failed: ${response.statusText}`)\n      }\n    } catch (error) {\n      console.error('Failed to send email notification:', error)\n    }\n  }\n\n  private async sendSlackNotification(alert: Alert) {\n    if (!process.env.SLACK_WEBHOOK_URL) return\n\n    try {\n      const color = {\n        low: '#36a64f',\n        medium: '#ff9500',\n        high: '#ff4500',\n        critical: '#ff0000',\n      }[alert.severity]\n\n      const payload = {\n        username: 'ADSapp Alerts',\n        icon_emoji: ':rotating_light:',\n        attachments: [\n          {\n            color,\n            title: alert.title,\n            text: alert.description,\n            fields: [\n              {\n                title: 'Severity',\n                value: alert.severity.toUpperCase(),\n                short: true,\n              },\n              {\n                title: 'Type',\n                value: alert.type,\n                short: true,\n              },\n              {\n                title: 'Time',\n                value: new Date(alert.timestamp).toLocaleString(),\n                short: false,\n              },\n            ],\n            footer: 'ADSapp Monitoring',\n            ts: Math.floor(new Date(alert.timestamp).getTime() / 1000),\n          },\n        ],\n      }\n\n      const response = await fetch(process.env.SLACK_WEBHOOK_URL, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload),\n      })\n\n      if (!response.ok) {\n        throw new Error(`Slack notification failed: ${response.statusText}`)\n      }\n    } catch (error) {\n      console.error('Failed to send Slack notification:', error)\n    }\n  }\n\n  private async sendSMSNotification(alert: Alert) {\n    // Implementation would depend on SMS provider (Twilio, AWS SNS, etc.)\n    console.log('SMS notification would be sent for critical alert:', alert.title)\n  }\n\n  private async sendDiscordNotification(alert: Alert) {\n    if (!process.env.DISCORD_WEBHOOK_URL) return\n\n    try {\n      const embedColor = {\n        low: 0x36a64f,\n        medium: 0xff9500,\n        high: 0xff4500,\n        critical: 0xff0000,\n      }[alert.severity]\n\n      const payload = {\n        username: 'ADSapp Alerts',\n        avatar_url: 'https://your-domain.com/alert-icon.png',\n        embeds: [\n          {\n            title: `ðŸš¨ ${alert.title}`,\n            description: alert.description,\n            color: embedColor,\n            fields: [\n              {\n                name: 'Severity',\n                value: alert.severity.toUpperCase(),\n                inline: true,\n              },\n              {\n                name: 'Type',\n                value: alert.type,\n                inline: true,\n              },\n            ],\n            timestamp: alert.timestamp,\n            footer: {\n              text: 'ADSapp Monitoring',\n            },\n          },\n        ],\n      }\n\n      const response = await fetch(process.env.DISCORD_WEBHOOK_URL, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload),\n      })\n\n      if (!response.ok) {\n        throw new Error(`Discord notification failed: ${response.statusText}`)\n      }\n    } catch (error) {\n      console.error('Failed to send Discord notification:', error)\n    }\n  }\n\n  private generateEmailTemplate(alert: Alert): string {\n    return `\n      <html>\n        <body style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n          <div style=\"background-color: #f8f9fa; padding: 20px; border-radius: 8px;\">\n            <h2 style=\"color: #dc3545; margin: 0;\">ðŸš¨ Alert: ${alert.title}</h2>\n            <p style=\"margin: 10px 0; color: #6c757d;\">\n              <strong>Severity:</strong> ${alert.severity.toUpperCase()}<br>\n              <strong>Type:</strong> ${alert.type}<br>\n              <strong>Time:</strong> ${new Date(alert.timestamp).toLocaleString()}\n            </p>\n            <div style=\"background-color: white; padding: 15px; border-radius: 4px; margin: 15px 0;\">\n              <p style=\"margin: 0; color: #495057;\">${alert.description}</p>\n            </div>\n            <p style=\"margin: 10px 0; font-size: 12px; color: #6c757d;\">\n              This alert was generated by ADSapp monitoring system.\n            </p>\n          </div>\n        </body>\n      </html>\n    `\n  }\n\n  private async storeAlert(alert: Alert) {\n    try {\n      await fetch('/api/alerts', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(alert),\n      })\n    } catch (error) {\n      console.error('Failed to store alert:', error)\n    }\n  }\n\n  // Metric collection methods\n  private async getAverageResponseTime(start: number, end: number): Promise<number> {\n    // Implementation would query your analytics database\n    return Math.random() * 3000 // Placeholder\n  }\n\n  private async getErrorRate(start: number, end: number): Promise<number> {\n    // Implementation would calculate error rate from logs\n    return Math.random() * 0.1 // Placeholder\n  }\n\n  private getMemoryUsage(): number {\n    const usage = process.memoryUsage()\n    return usage.heapUsed / usage.heapTotal\n  }\n\n  private async getDatabaseStatus(): Promise<string> {\n    try {\n      const response = await fetch('/api/health')\n      const health = await response.json()\n      return health.services?.supabase?.status || 'unknown'\n    } catch {\n      return 'down'\n    }\n  }\n\n  private async getRedisStatus(): Promise<string> {\n    try {\n      const response = await fetch('/api/health')\n      const health = await response.json()\n      return health.services?.redis?.status || 'unknown'\n    } catch {\n      return 'down'\n    }\n  }\n\n  private async getFailedLogins(start: number, end: number): Promise<number> {\n    // Implementation would query authentication logs\n    return Math.floor(Math.random() * 20) // Placeholder\n  }\n\n  private async getSuspiciousActivity(start: number, end: number): Promise<number> {\n    // Implementation would analyze security logs\n    return Math.floor(Math.random() * 5) // Placeholder\n  }\n\n  private async getPaymentFailures(start: number, end: number): Promise<number> {\n    // Implementation would query Stripe webhook logs\n    return Math.floor(Math.random() * 10) // Placeholder\n  }\n\n  private async getActiveUsers(start: number, end: number): Promise<number> {\n    // Implementation would query user activity\n    return Math.floor(Math.random() * 1000) // Placeholder\n  }\n\n  private async getSubscriptionCancellations(start: number, end: number): Promise<number> {\n    // Implementation would query subscription events\n    return Math.floor(Math.random() * 5) // Placeholder\n  }\n\n  // Public methods\n  public getAlerts(resolved?: boolean): Alert[] {\n    return this.alerts.filter(alert =>\n      resolved === undefined || alert.resolved === resolved\n    )\n  }\n\n  public resolveAlert(alertId: string) {\n    const alert = this.alerts.find(a => a.id === alertId)\n    if (alert) {\n      alert.resolved = true\n      alert.resolvedAt = new Date().toISOString()\n    }\n  }\n\n  public addRule(rule: AlertRule) {\n    this.rules.push(rule)\n  }\n\n  public updateRule(ruleId: string, updates: Partial<AlertRule>) {\n    const rule = this.rules.find(r => r.id === ruleId)\n    if (rule) {\n      Object.assign(rule, updates)\n    }\n  }\n\n  public getRules(): AlertRule[] {\n    return this.rules\n  }\n}\n\nexport const alertManager = AlertManager.getInstance()\n\n// Initialize performance monitoring with alerts\nif (typeof window !== 'undefined') {\n  performanceMonitor.init()\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAkCI;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAAAA,aAAA,GAAAE,CAAA;;;;;;+BAkcS;;;;;;WAAAC,YAAA;;;;;iCApesB;AAyBnC,MAAMC,YAAA;EAMJ,OAAOC,YAAA,EAA4B;IAAA;IAAAL,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IACjC,IAAI,CAACE,YAAA,CAAaG,QAAQ,EAAE;MAAA;MAAAP,aAAA,GAAAQ,CAAA;MAAAR,aAAA,GAAAE,CAAA;MAC1BE,YAAA,CAAaG,QAAQ,GAAG,IAAIH,YAAA;IAC9B;IAAA;IAAA;MAAAJ,aAAA,GAAAQ,CAAA;IAAA;IAAAR,aAAA,GAAAE,CAAA;IACA,OAAOE,YAAA,CAAaG,QAAQ;EAC9B;EAEAE,YAAA,EAAc;IAAA;IAAAT,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;SAXNQ,MAAA,GAAkB,EAAE;IAAA;IAAAV,aAAA,GAAAE,CAAA;SACpBS,KAAA,GAAqB,EAAE;IAAA;IAAAX,aAAA,GAAAE,CAAA;SACvBU,SAAA,GAA0C,CAAC;IAAA;IAAAZ,aAAA,GAAAE,CAAA;IAUjD,IAAI,CAACW,sBAAsB;IAAA;IAAAb,aAAA,GAAAE,CAAA;IAC3B,IAAI,CAACY,eAAe;EACtB;EAEQD,uBAAA,EAAyB;IAAA;IAAAb,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IAC/B,IAAI,CAACS,KAAK,GAAG;IACX;IACA;MACEI,EAAA,EAAI;MACJC,IAAA,EAAM;MACNC,IAAA,EAAM;MACNC,QAAA,EAAU;MACVC,WAAA,EAAa;MACbC,OAAA,EAAS;MACTC,QAAA,EAAU;MACVC,SAAA,EAAYC,OAAA,IAAY;QAAA;QAAAvB,aAAA,GAAAM,CAAA;QAAAN,aAAA,GAAAE,CAAA;QAAA,OAAAqB,OAAA,CAAQC,mBAAmB,GAAG;MAAA;IACxD,GACA;MACET,EAAA,EAAI;MACJC,IAAA,EAAM;MACNC,IAAA,EAAM;MACNC,QAAA,EAAU;MACVC,WAAA,EAAa;MACbC,OAAA,EAAS;MACTC,QAAA,EAAU;MACVC,SAAA,EAAYC,OAAA,IAAY;QAAA;QAAAvB,aAAA,GAAAM,CAAA;QAAAN,aAAA,GAAAE,CAAA;QAAA,OAAAqB,OAAA,CAAQE,SAAS,GAAG;MAAA;IAC9C,GACA;MACEV,EAAA,EAAI;MACJC,IAAA,EAAM;MACNC,IAAA,EAAM;MACNC,QAAA,EAAU;MACVC,WAAA,EAAa;MACbC,OAAA,EAAS;MACTC,QAAA,EAAU;MACVC,SAAA,EAAYC,OAAA,IAAY;QAAA;QAAAvB,aAAA,GAAAM,CAAA;QAAAN,aAAA,GAAAE,CAAA;QAAA,OAAAqB,OAAA,CAAQG,WAAW,GAAG;MAAA;IAChD,GACA;MACEX,EAAA,EAAI;MACJC,IAAA,EAAM;MACNC,IAAA,EAAM;MACNC,QAAA,EAAU;MACVC,WAAA,EAAa;MACbC,OAAA,EAAS;MACTC,QAAA,EAAU;MACVC,SAAA,EAAYC,OAAA,IAAY;QAAA;QAAAvB,aAAA,GAAAM,CAAA;QAAAN,aAAA,GAAAE,CAAA;QAAA,OAAAqB,OAAA,CAAQI,cAAc,KAAK;MAAA;IACrD,GACA;MACEZ,EAAA,EAAI;MACJC,IAAA,EAAM;MACNC,IAAA,EAAM;MACNC,QAAA,EAAU;MACVC,WAAA,EAAa;MACbC,OAAA,EAAS;MACTC,QAAA,EAAU;MACVC,SAAA,EAAYC,OAAA,IAAY;QAAA;QAAAvB,aAAA,GAAAM,CAAA;QAAAN,aAAA,GAAAE,CAAA;QAAA,OAAAqB,OAAA,CAAQK,YAAY,GAAG;MAAA;IACjD,GACA;MACEb,EAAA,EAAI;MACJC,IAAA,EAAM;MACNC,IAAA,EAAM;MACNC,QAAA,EAAU;MACVC,WAAA,EAAa;MACbC,OAAA,EAAS;MACTC,QAAA,EAAU;MACVC,SAAA,EAAYC,OAAA,IAAY;QAAA;QAAAvB,aAAA,GAAAM,CAAA;QAAAN,aAAA,GAAAE,CAAA;QAAA,OAAAqB,OAAA,CAAQM,eAAe,GAAG;MAAA;IACpD,EACD;EACH;EAEQf,gBAAA,EAAkB;IAAA;IAAAd,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IACxB;IACA4B,WAAA,CAAY;MAAA;MAAA9B,aAAA,GAAAM,CAAA;MAAAN,aAAA,GAAAE,CAAA;MACV,IAAI,CAAC6B,WAAW;IAClB,GAAG;EACL;EAEA,MAAcA,YAAA,EAAc;IAAA;IAAA/B,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IAC1B,IAAI;MACF,MAAMqB,OAAA;MAAA;MAAA,CAAAvB,aAAA,GAAAE,CAAA,QAAU,MAAM,IAAI,CAAC8B,cAAc;MAAA;MAAAhC,aAAA,GAAAE,CAAA;MAEzC,KAAK,MAAM+B,IAAA,IAAQ,IAAI,CAACtB,KAAK,EAAE;QAAA;QAAAX,aAAA,GAAAE,CAAA;QAC7B,IAAI,CAAC+B,IAAA,CAAKb,OAAO,EAAE;UAAA;UAAApB,aAAA,GAAAQ,CAAA;UAAAR,aAAA,GAAAE,CAAA;UAAA;QAAA;QAAA;QAAA;UAAAF,aAAA,GAAAQ,CAAA;QAAA;QAEnB;QACA,MAAM0B,aAAA;QAAA;QAAA,CAAAlC,aAAA,GAAAE,CAAA;QAAgB;QAAA,CAAAF,aAAA,GAAAQ,CAAA,cAAI,CAACI,SAAS,CAACqB,IAAA,CAAKlB,EAAE,CAAC;QAAA;QAAA,CAAAf,aAAA,GAAAQ,CAAA,UAAI;QACjD,MAAM2B,eAAA;QAAA;QAAA,CAAAnC,aAAA,GAAAE,CAAA,QAAkBkC,IAAA,CAAKC,GAAG,KAAKH,aAAA,GAAgBD,IAAA,CAAKZ,QAAQ,GAAG,KAAK;QAAA;QAAArB,aAAA,GAAAE,CAAA;QAE1E,IAAI,CAACiC,eAAA,EAAiB;UAAA;UAAAnC,aAAA,GAAAQ,CAAA;UAAAR,aAAA,GAAAE,CAAA;UAAA;QAAA;QAAA;QAAA;UAAAF,aAAA,GAAAQ,CAAA;QAAA;QAEtB;QAAAR,aAAA,GAAAE,CAAA;QACA,IAAI+B,IAAA,CAAKX,SAAS,CAACC,OAAA,GAAU;UAAA;UAAAvB,aAAA,GAAAQ,CAAA;UAAAR,aAAA,GAAAE,CAAA;UAC3B,MAAM,IAAI,CAACoC,YAAY,CAACL,IAAA,EAAMV,OAAA;UAAA;UAAAvB,aAAA,GAAAE,CAAA;UAC9B,IAAI,CAACU,SAAS,CAACqB,IAAA,CAAKlB,EAAE,CAAC,GAAGqB,IAAA,CAAKC,GAAG;QACpC;QAAA;QAAA;UAAArC,aAAA,GAAAQ,CAAA;QAAA;MACF;IACF,EAAE,OAAO+B,KAAA,EAAO;MAAA;MAAAvC,aAAA,GAAAE,CAAA;MACdsC,OAAA,CAAQD,KAAK,CAAC,2BAA2BA,KAAA;IAC3C;EACF;EAEA,MAAcP,eAAA,EAAiB;IAAA;IAAAhC,aAAA,GAAAM,CAAA;IAC7B;IACA,MAAM+B,GAAA;IAAA;IAAA,CAAArC,aAAA,GAAAE,CAAA,QAAMkC,IAAA,CAAKC,GAAG;IACpB,MAAMI,UAAA;IAAA;IAAA,CAAAzC,aAAA,GAAAE,CAAA,QAAamC,GAAA,GAAM,KAAK,KAAK;IAAA;IAAArC,aAAA,GAAAE,CAAA;IAEnC,OAAO;MACL;MACAsB,mBAAA,EAAqB,MAAM,IAAI,CAACkB,sBAAsB,CAACD,UAAA,EAAYJ,GAAA;MACnEZ,SAAA,EAAW,MAAM,IAAI,CAACkB,YAAY,CAACF,UAAA,EAAYJ,GAAA;MAC/CX,WAAA,EAAa,IAAI,CAACkB,cAAc;MAEhC;MACAjB,cAAA,EAAgB,MAAM,IAAI,CAACkB,iBAAiB;MAC5CC,WAAA,EAAa,MAAM,IAAI,CAACC,cAAc;MAEtC;MACAnB,YAAA,EAAc,MAAM,IAAI,CAACoB,eAAe,CAACP,UAAA,EAAYJ,GAAA;MACrDY,kBAAA,EAAoB,MAAM,IAAI,CAACC,qBAAqB,CAACT,UAAA,EAAYJ,GAAA;MAEjE;MACAR,eAAA,EAAiB,MAAM,IAAI,CAACsB,kBAAkB,CAACV,UAAA,EAAYJ,GAAA;MAC3De,WAAA,EAAa,MAAM,IAAI,CAACC,cAAc,CAACZ,UAAA,EAAYJ,GAAA;MACnDiB,yBAAA,EAA2B,MAAM,IAAI,CAACC,4BAA4B,CAACd,UAAA,EAAYJ,GAAA;IACjF;EACF;EAEA,MAAcC,aAAaL,IAAe,EAAEV,OAAY,EAAE;IAAA;IAAAvB,aAAA,GAAAM,CAAA;IACxD,MAAMkD,KAAA;IAAA;IAAA,CAAAxD,aAAA,GAAAE,CAAA,QAAe;MACnBa,EAAA,EAAI0C,MAAA,CAAOC,UAAU;MACrBzC,IAAA,EAAMgB,IAAA,CAAKhB,IAAI;MACfC,QAAA,EAAUe,IAAA,CAAKf,QAAQ;MACvByC,KAAA,EAAO1B,IAAA,CAAKjB,IAAI;MAChBG,WAAA,EAAac,IAAA,CAAKd,WAAW;MAC7ByC,SAAA,EAAW,IAAIxB,IAAA,GAAOyB,WAAW;MACjCC,QAAA,EAAU;MACVC,QAAA,EAAU;QACRC,MAAA,EAAQ/B,IAAA,CAAKlB,EAAE;QACfQ,OAAA,EAAS,IAAI,CAAC0C,eAAe,CAAC1C,OAAA;MAChC;IACF;IAAA;IAAAvB,aAAA,GAAAE,CAAA;IAEA,IAAI,CAACQ,MAAM,CAACwD,IAAI,CAACV,KAAA;IAEjB;IAAA;IAAAxD,aAAA,GAAAE,CAAA;IACA,MAAM,IAAI,CAACiE,iBAAiB,CAACX,KAAA;IAE7B;IAAA;IAAAxD,aAAA,GAAAE,CAAA;IACA,MAAM,IAAI,CAACkE,UAAU,CAACZ,KAAA;IAAA;IAAAxD,aAAA,GAAAE,CAAA;IAEtBsC,OAAA,CAAQ6B,IAAI,CAAC,uBAAuBb,KAAA,CAAMG,KAAK,EAAE,EAAEH,KAAA;EACrD;EAEQS,gBAAgB1C,OAAY,EAAE;IAAA;IAAAvB,aAAA,GAAAM,CAAA;IACpC;IACA,MAAMgE,SAAA;IAAA;IAAA,CAAAtE,aAAA,GAAAE,CAAA,QAAY;MAAE,GAAGqB;IAAQ;IAAA;IAAAvB,aAAA,GAAAE,CAAA;IAC/B,OAAOoE,SAAA,CAAUC,SAAS;IAAA;IAAAvE,aAAA,GAAAE,CAAA;IAC1B,OAAOoE,SAAA;EACT;EAEA,MAAcH,kBAAkBX,KAAY,EAAE;IAAA;IAAAxD,aAAA,GAAAM,CAAA;IAC5C,MAAMkE,aAAA;IAAA;IAAA,CAAAxE,aAAA,GAAAE,CAAA,QAAgB,EAAE;IAExB;IAAA;IAAAF,aAAA,GAAAE,CAAA;IACA,IAAIsD,KAAA,CAAMtC,QAAQ,KAAK,YAAY;MAAA;MAAAlB,aAAA,GAAAQ,CAAA;MAAAR,aAAA,GAAAE,CAAA;MACjCsE,aAAA,CAAcN,IAAI,CAAC,IAAI,CAACO,qBAAqB,CAACjB,KAAA;IAChD;IAAA;IAAA;MAAAxD,aAAA,GAAAQ,CAAA;IAAA;IAEA;IAAAR,aAAA,GAAAE,CAAA;IACA;IAAI;IAAA,CAAAF,aAAA,GAAAQ,CAAA,UAAAgD,KAAA,CAAMtC,QAAQ,KAAK;IAAA;IAAA,CAAAlB,aAAA,GAAAQ,CAAA,UAAUgD,KAAA,CAAMtC,QAAQ,KAAK,aAAY;MAAA;MAAAlB,aAAA,GAAAQ,CAAA;MAAAR,aAAA,GAAAE,CAAA;MAC9DsE,aAAA,CAAcN,IAAI,CAAC,IAAI,CAACQ,qBAAqB,CAAClB,KAAA;IAChD;IAAA;IAAA;MAAAxD,aAAA,GAAAQ,CAAA;IAAA;IAEA;IAAAR,aAAA,GAAAE,CAAA;IACA;IAAI;IAAA,CAAAF,aAAA,GAAAQ,CAAA,UAAAgD,KAAA,CAAMtC,QAAQ,KAAK;IAAA;IAAA,CAAAlB,aAAA,GAAAQ,CAAA,UAAcmE,OAAA,CAAQC,GAAG,CAACC,QAAQ,KAAK,eAAc;MAAA;MAAA7E,aAAA,GAAAQ,CAAA;MAAAR,aAAA,GAAAE,CAAA;MAC1EsE,aAAA,CAAcN,IAAI,CAAC,IAAI,CAACY,mBAAmB,CAACtB,KAAA;IAC9C;IAAA;IAAA;MAAAxD,aAAA,GAAAQ,CAAA;IAAA;IAEA;IAAAR,aAAA,GAAAE,CAAA;IACAsE,aAAA,CAAcN,IAAI,CAAC,IAAI,CAACa,uBAAuB,CAACvB,KAAA;IAAA;IAAAxD,aAAA,GAAAE,CAAA;IAEhD,MAAM8E,OAAA,CAAQC,UAAU,CAACT,aAAA;EAC3B;EAEA,MAAcC,sBAAsBjB,KAAY,EAAE;IAAA;IAAAxD,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IAChD,IAAI;MACF,MAAMgF,QAAA;MAAA;MAAA,CAAAlF,aAAA,GAAAE,CAAA,QAAW,MAAMiF,KAAA,CAAM,4BAA4B;QACvDC,MAAA,EAAQ;QACRC,OAAA,EAAS;UAAE,gBAAgB;QAAmB;QAC9CC,IAAA,EAAMC,IAAA,CAAKC,SAAS,CAAC;UACnBC,EAAA;UAAI;UAAA,CAAAzF,aAAA,GAAAQ,CAAA,WAAAmE,OAAA,CAAQC,GAAG,CAACc,WAAW;UAAA;UAAA,CAAA1F,aAAA,GAAAQ,CAAA,WAAI;UAC/BmF,OAAA,EAAS,MAAMnC,KAAA,CAAMtC,QAAQ,CAAC0E,WAAW,OAAOpC,KAAA,CAAMG,KAAK,EAAE;UAC7DkC,IAAA,EAAM,IAAI,CAACC,qBAAqB,CAACtC,KAAA;QACnC;MACF;MAAA;MAAAxD,aAAA,GAAAE,CAAA;MAEA,IAAI,CAACgF,QAAA,CAASa,EAAE,EAAE;QAAA;QAAA/F,aAAA,GAAAQ,CAAA;QAAAR,aAAA,GAAAE,CAAA;QAChB,MAAM,IAAI8F,KAAA,CAAM,8BAA8Bd,QAAA,CAASe,UAAU,EAAE;MACrE;MAAA;MAAA;QAAAjG,aAAA,GAAAQ,CAAA;MAAA;IACF,EAAE,OAAO+B,KAAA,EAAO;MAAA;MAAAvC,aAAA,GAAAE,CAAA;MACdsC,OAAA,CAAQD,KAAK,CAAC,sCAAsCA,KAAA;IACtD;EACF;EAEA,MAAcmC,sBAAsBlB,KAAY,EAAE;IAAA;IAAAxD,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IAChD,IAAI,CAACyE,OAAA,CAAQC,GAAG,CAACsB,iBAAiB,EAAE;MAAA;MAAAlG,aAAA,GAAAQ,CAAA;MAAAR,aAAA,GAAAE,CAAA;MAAA;IAAA;IAAA;IAAA;MAAAF,aAAA,GAAAQ,CAAA;IAAA;IAAAR,aAAA,GAAAE,CAAA;IAEpC,IAAI;MACF,MAAMiG,KAAA;MAAA;MAAA,CAAAnG,aAAA,GAAAE,CAAA,QAAQ;QACZkG,GAAA,EAAK;QACLC,MAAA,EAAQ;QACRC,IAAA,EAAM;QACNC,QAAA,EAAU;MACZ,CAAC,CAAC/C,KAAA,CAAMtC,QAAQ,CAAC;MAEjB,MAAMsF,OAAA;MAAA;MAAA,CAAAxG,aAAA,GAAAE,CAAA,QAAU;QACduG,QAAA,EAAU;QACVC,UAAA,EAAY;QACZC,WAAA,EAAa,CACX;UACER,KAAA;UACAxC,KAAA,EAAOH,KAAA,CAAMG,KAAK;UAClBiD,IAAA,EAAMpD,KAAA,CAAMrC,WAAW;UACvB0F,MAAA,EAAQ,CACN;YACElD,KAAA,EAAO;YACPmD,KAAA,EAAOtD,KAAA,CAAMtC,QAAQ,CAAC0E,WAAW;YACjCmB,KAAA,EAAO;UACT,GACA;YACEpD,KAAA,EAAO;YACPmD,KAAA,EAAOtD,KAAA,CAAMvC,IAAI;YACjB8F,KAAA,EAAO;UACT,GACA;YACEpD,KAAA,EAAO;YACPmD,KAAA,EAAO,IAAI1E,IAAA,CAAKoB,KAAA,CAAMI,SAAS,EAAEoD,cAAc;YAC/CD,KAAA,EAAO;UACT,EACD;UACDE,MAAA,EAAQ;UACRC,EAAA,EAAIC,IAAA,CAAKC,KAAK,CAAC,IAAIhF,IAAA,CAAKoB,KAAA,CAAMI,SAAS,EAAEyD,OAAO,KAAK;QACvD;MAEJ;MAEA,MAAMnC,QAAA;MAAA;MAAA,CAAAlF,aAAA,GAAAE,CAAA,QAAW,MAAMiF,KAAA,CAAMR,OAAA,CAAQC,GAAG,CAACsB,iBAAiB,EAAE;QAC1Dd,MAAA,EAAQ;QACRC,OAAA,EAAS;UAAE,gBAAgB;QAAmB;QAC9CC,IAAA,EAAMC,IAAA,CAAKC,SAAS,CAACgB,OAAA;MACvB;MAAA;MAAAxG,aAAA,GAAAE,CAAA;MAEA,IAAI,CAACgF,QAAA,CAASa,EAAE,EAAE;QAAA;QAAA/F,aAAA,GAAAQ,CAAA;QAAAR,aAAA,GAAAE,CAAA;QAChB,MAAM,IAAI8F,KAAA,CAAM,8BAA8Bd,QAAA,CAASe,UAAU,EAAE;MACrE;MAAA;MAAA;QAAAjG,aAAA,GAAAQ,CAAA;MAAA;IACF,EAAE,OAAO+B,KAAA,EAAO;MAAA;MAAAvC,aAAA,GAAAE,CAAA;MACdsC,OAAA,CAAQD,KAAK,CAAC,sCAAsCA,KAAA;IACtD;EACF;EAEA,MAAcuC,oBAAoBtB,KAAY,EAAE;IAAA;IAAAxD,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IAC9C;IACAsC,OAAA,CAAQ8E,GAAG,CAAC,sDAAsD9D,KAAA,CAAMG,KAAK;EAC/E;EAEA,MAAcoB,wBAAwBvB,KAAY,EAAE;IAAA;IAAAxD,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IAClD,IAAI,CAACyE,OAAA,CAAQC,GAAG,CAAC2C,mBAAmB,EAAE;MAAA;MAAAvH,aAAA,GAAAQ,CAAA;MAAAR,aAAA,GAAAE,CAAA;MAAA;IAAA;IAAA;IAAA;MAAAF,aAAA,GAAAQ,CAAA;IAAA;IAAAR,aAAA,GAAAE,CAAA;IAEtC,IAAI;MACF,MAAMsH,UAAA;MAAA;MAAA,CAAAxH,aAAA,GAAAE,CAAA,QAAa;QACjBkG,GAAA,EAAK;QACLC,MAAA,EAAQ;QACRC,IAAA,EAAM;QACNC,QAAA,EAAU;MACZ,CAAC,CAAC/C,KAAA,CAAMtC,QAAQ,CAAC;MAEjB,MAAMsF,OAAA;MAAA;MAAA,CAAAxG,aAAA,GAAAE,CAAA,QAAU;QACduG,QAAA,EAAU;QACVgB,UAAA,EAAY;QACZC,MAAA,EAAQ,CACN;UACE/D,KAAA,EAAO,MAAMH,KAAA,CAAMG,KAAK,EAAE;UAC1BxC,WAAA,EAAaqC,KAAA,CAAMrC,WAAW;UAC9BgF,KAAA,EAAOqB,UAAA;UACPX,MAAA,EAAQ,CACN;YACE7F,IAAA,EAAM;YACN8F,KAAA,EAAOtD,KAAA,CAAMtC,QAAQ,CAAC0E,WAAW;YACjC+B,MAAA,EAAQ;UACV,GACA;YACE3G,IAAA,EAAM;YACN8F,KAAA,EAAOtD,KAAA,CAAMvC,IAAI;YACjB0G,MAAA,EAAQ;UACV,EACD;UACD/D,SAAA,EAAWJ,KAAA,CAAMI,SAAS;UAC1BqD,MAAA,EAAQ;YACNL,IAAA,EAAM;UACR;QACF;MAEJ;MAEA,MAAM1B,QAAA;MAAA;MAAA,CAAAlF,aAAA,GAAAE,CAAA,QAAW,MAAMiF,KAAA,CAAMR,OAAA,CAAQC,GAAG,CAAC2C,mBAAmB,EAAE;QAC5DnC,MAAA,EAAQ;QACRC,OAAA,EAAS;UAAE,gBAAgB;QAAmB;QAC9CC,IAAA,EAAMC,IAAA,CAAKC,SAAS,CAACgB,OAAA;MACvB;MAAA;MAAAxG,aAAA,GAAAE,CAAA;MAEA,IAAI,CAACgF,QAAA,CAASa,EAAE,EAAE;QAAA;QAAA/F,aAAA,GAAAQ,CAAA;QAAAR,aAAA,GAAAE,CAAA;QAChB,MAAM,IAAI8F,KAAA,CAAM,gCAAgCd,QAAA,CAASe,UAAU,EAAE;MACvE;MAAA;MAAA;QAAAjG,aAAA,GAAAQ,CAAA;MAAA;IACF,EAAE,OAAO+B,KAAA,EAAO;MAAA;MAAAvC,aAAA,GAAAE,CAAA;MACdsC,OAAA,CAAQD,KAAK,CAAC,wCAAwCA,KAAA;IACxD;EACF;EAEQuD,sBAAsBtC,KAAY,EAAU;IAAA;IAAAxD,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IAClD,OAAO;;;;+DAIoDsD,KAAA,CAAMG,KAAK;;2CAE/BH,KAAA,CAAMtC,QAAQ,CAAC0E,WAAW;uCAC9BpC,KAAA,CAAMvC,IAAI;uCACV,IAAImB,IAAA,CAAKoB,KAAA,CAAMI,SAAS,EAAEoD,cAAc;;;sDAGzBxD,KAAA,CAAMrC,WAAW;;;;;;;;KAQlE;EACH;EAEA,MAAciD,WAAWZ,KAAY,EAAE;IAAA;IAAAxD,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IACrC,IAAI;MAAA;MAAAF,aAAA,GAAAE,CAAA;MACF,MAAMiF,KAAA,CAAM,eAAe;QACzBC,MAAA,EAAQ;QACRC,OAAA,EAAS;UAAE,gBAAgB;QAAmB;QAC9CC,IAAA,EAAMC,IAAA,CAAKC,SAAS,CAAChC,KAAA;MACvB;IACF,EAAE,OAAOjB,KAAA,EAAO;MAAA;MAAAvC,aAAA,GAAAE,CAAA;MACdsC,OAAA,CAAQD,KAAK,CAAC,0BAA0BA,KAAA;IAC1C;EACF;EAEA;EACA,MAAcG,uBAAuBkF,KAAa,EAAEC,GAAW,EAAmB;IAAA;IAAA7H,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IAChF;IACA,OAAOiH,IAAA,CAAKW,MAAM,KAAK,KAAK;IAAA;EAC9B;EAEA,MAAcnF,aAAaiF,KAAa,EAAEC,GAAW,EAAmB;IAAA;IAAA7H,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IACtE;IACA,OAAOiH,IAAA,CAAKW,MAAM,KAAK,IAAI;IAAA;EAC7B;EAEQlF,eAAA,EAAyB;IAAA;IAAA5C,aAAA,GAAAM,CAAA;IAC/B,MAAMyH,KAAA;IAAA;IAAA,CAAA/H,aAAA,GAAAE,CAAA,QAAQyE,OAAA,CAAQjD,WAAW;IAAA;IAAA1B,aAAA,GAAAE,CAAA;IACjC,OAAO6H,KAAA,CAAMC,QAAQ,GAAGD,KAAA,CAAME,SAAS;EACzC;EAEA,MAAcpF,kBAAA,EAAqC;IAAA;IAAA7C,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IACjD,IAAI;MACF,MAAMgF,QAAA;MAAA;MAAA,CAAAlF,aAAA,GAAAE,CAAA,QAAW,MAAMiF,KAAA,CAAM;MAC7B,MAAM+C,MAAA;MAAA;MAAA,CAAAlI,aAAA,GAAAE,CAAA,QAAS,MAAMgF,QAAA,CAASiD,IAAI;MAAA;MAAAnI,aAAA,GAAAE,CAAA;MAClC,OAAO,2BAAAF,aAAA,GAAAQ,CAAA,WAAA0H,MAAA,CAAOE,QAAQ,EAAEC,QAAA,EAAUC,MAAA;MAAA;MAAA,CAAAtI,aAAA,GAAAQ,CAAA,WAAU;IAC9C,EAAE,MAAM;MAAA;MAAAR,aAAA,GAAAE,CAAA;MACN,OAAO;IACT;EACF;EAEA,MAAc6C,eAAA,EAAkC;IAAA;IAAA/C,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IAC9C,IAAI;MACF,MAAMgF,QAAA;MAAA;MAAA,CAAAlF,aAAA,GAAAE,CAAA,QAAW,MAAMiF,KAAA,CAAM;MAC7B,MAAM+C,MAAA;MAAA;MAAA,CAAAlI,aAAA,GAAAE,CAAA,QAAS,MAAMgF,QAAA,CAASiD,IAAI;MAAA;MAAAnI,aAAA,GAAAE,CAAA;MAClC,OAAO,2BAAAF,aAAA,GAAAQ,CAAA,WAAA0H,MAAA,CAAOE,QAAQ,EAAEG,KAAA,EAAOD,MAAA;MAAA;MAAA,CAAAtI,aAAA,GAAAQ,CAAA,WAAU;IAC3C,EAAE,MAAM;MAAA;MAAAR,aAAA,GAAAE,CAAA;MACN,OAAO;IACT;EACF;EAEA,MAAc8C,gBAAgB4E,KAAa,EAAEC,GAAW,EAAmB;IAAA;IAAA7H,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IACzE;IACA,OAAOiH,IAAA,CAAKC,KAAK,CAACD,IAAA,CAAKW,MAAM,KAAK,IAAI;IAAA;EACxC;EAEA,MAAc5E,sBAAsB0E,KAAa,EAAEC,GAAW,EAAmB;IAAA;IAAA7H,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IAC/E;IACA,OAAOiH,IAAA,CAAKC,KAAK,CAACD,IAAA,CAAKW,MAAM,KAAK,GAAG;IAAA;EACvC;EAEA,MAAc3E,mBAAmByE,KAAa,EAAEC,GAAW,EAAmB;IAAA;IAAA7H,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IAC5E;IACA,OAAOiH,IAAA,CAAKC,KAAK,CAACD,IAAA,CAAKW,MAAM,KAAK,IAAI;IAAA;EACxC;EAEA,MAAczE,eAAeuE,KAAa,EAAEC,GAAW,EAAmB;IAAA;IAAA7H,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IACxE;IACA,OAAOiH,IAAA,CAAKC,KAAK,CAACD,IAAA,CAAKW,MAAM,KAAK,MAAM;IAAA;EAC1C;EAEA,MAAcvE,6BAA6BqE,KAAa,EAAEC,GAAW,EAAmB;IAAA;IAAA7H,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IACtF;IACA,OAAOiH,IAAA,CAAKC,KAAK,CAACD,IAAA,CAAKW,MAAM,KAAK,GAAG;IAAA;EACvC;EAEA;EACOU,UAAU1E,QAAkB,EAAW;IAAA;IAAA9D,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IAC5C,OAAO,IAAI,CAACQ,MAAM,CAAC+H,MAAM,CAACjF,KAAA,IACxB;MAAA;MAAAxD,aAAA,GAAAM,CAAA;MAAAN,aAAA,GAAAE,CAAA;MAAA,kCAAAF,aAAA,GAAAQ,CAAA,WAAAsD,QAAA,KAAa4E,SAAA;MAAA;MAAA,CAAA1I,aAAA,GAAAQ,CAAA,WAAagD,KAAA,CAAMM,QAAQ,KAAKA,QAAA;IAAA;EAEjD;EAEO6E,aAAaC,OAAe,EAAE;IAAA;IAAA5I,aAAA,GAAAM,CAAA;IACnC,MAAMkD,KAAA;IAAA;IAAA,CAAAxD,aAAA,GAAAE,CAAA,SAAQ,IAAI,CAACQ,MAAM,CAACmI,IAAI,CAACC,CAAA,IAAK;MAAA;MAAA9I,aAAA,GAAAM,CAAA;MAAAN,aAAA,GAAAE,CAAA;MAAA,OAAA4I,CAAA,CAAE/H,EAAE,KAAK6H,OAAA;IAAA;IAAA;IAAA5I,aAAA,GAAAE,CAAA;IAC7C,IAAIsD,KAAA,EAAO;MAAA;MAAAxD,aAAA,GAAAQ,CAAA;MAAAR,aAAA,GAAAE,CAAA;MACTsD,KAAA,CAAMM,QAAQ,GAAG;MAAA;MAAA9D,aAAA,GAAAE,CAAA;MACjBsD,KAAA,CAAMuF,UAAU,GAAG,IAAI3G,IAAA,GAAOyB,WAAW;IAC3C;IAAA;IAAA;MAAA7D,aAAA,GAAAQ,CAAA;IAAA;EACF;EAEOwI,QAAQ/G,IAAe,EAAE;IAAA;IAAAjC,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IAC9B,IAAI,CAACS,KAAK,CAACuD,IAAI,CAACjC,IAAA;EAClB;EAEOgH,WAAWjF,MAAc,EAAEkF,OAA2B,EAAE;IAAA;IAAAlJ,aAAA,GAAAM,CAAA;IAC7D,MAAM2B,IAAA;IAAA;IAAA,CAAAjC,aAAA,GAAAE,CAAA,SAAO,IAAI,CAACS,KAAK,CAACkI,IAAI,CAACM,CAAA,IAAK;MAAA;MAAAnJ,aAAA,GAAAM,CAAA;MAAAN,aAAA,GAAAE,CAAA;MAAA,OAAAiJ,CAAA,CAAEpI,EAAE,KAAKiD,MAAA;IAAA;IAAA;IAAAhE,aAAA,GAAAE,CAAA;IAC3C,IAAI+B,IAAA,EAAM;MAAA;MAAAjC,aAAA,GAAAQ,CAAA;MAAAR,aAAA,GAAAE,CAAA;MACRkJ,MAAA,CAAOC,MAAM,CAACpH,IAAA,EAAMiH,OAAA;IACtB;IAAA;IAAA;MAAAlJ,aAAA,GAAAQ,CAAA;IAAA;EACF;EAEO8I,SAAA,EAAwB;IAAA;IAAAtJ,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IAC7B,OAAO,IAAI,CAACS,KAAK;EACnB;AACF;AAEO,MAAMR,YAAA;AAAA;AAAA,CAAAH,aAAA,GAAAE,CAAA,SAAeE,YAAA,CAAaC,WAAW;AAEpD;AAAA;AAAAL,aAAA,GAAAE,CAAA;AACA,IAAI,OAAOqJ,MAAA,KAAW,aAAa;EAAA;EAAAvJ,aAAA,GAAAQ,CAAA;EAAAR,aAAA,GAAAE,CAAA;EACjCsJ,YAAA,CAAAC,kBAAkB,CAACC,IAAI;AACzB;AAAA;AAAA;EAAA1J,aAAA,GAAAQ,CAAA;AAAA","ignoreList":[]}