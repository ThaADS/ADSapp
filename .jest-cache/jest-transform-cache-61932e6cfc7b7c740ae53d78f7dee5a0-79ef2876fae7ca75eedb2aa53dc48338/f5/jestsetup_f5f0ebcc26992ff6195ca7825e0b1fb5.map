{"version":3,"sources":["C:\\Ai Projecten\\ADSapp\\jest.setup.js"],"sourcesContent":["import '@testing-library/jest-dom'\n\n// =============================================================================\n// Console Mocking (suppress expected warnings in tests)\n// =============================================================================\n\nconst originalError = console.error\nconst originalWarn = console.warn\n\nbeforeAll(() => {\n  console.error = (...args) => {\n    if (\n      typeof args[0] === 'string' &&\n      (args[0].includes('Warning: ReactDOM.render') ||\n        args[0].includes('Warning: useLayoutEffect') ||\n        args[0].includes('Not implemented: HTMLFormElement.prototype.submit'))\n    ) {\n      return\n    }\n    originalError.call(console, ...args)\n  }\n\n  console.warn = (...args) => {\n    if (\n      typeof args[0] === 'string' &&\n      args[0].includes('Warning: An update to')\n    ) {\n      return\n    }\n    originalWarn.call(console, ...args)\n  }\n})\n\nafterAll(() => {\n  console.error = originalError\n  console.warn = originalWarn\n})\n\n// =============================================================================\n// Test Cleanup\n// =============================================================================\n\nafterEach(() => {\n  jest.clearAllMocks()\n})\n\n// =============================================================================\n// Next.js Mocking\n// =============================================================================\n\n// Mock Next.js router\njest.mock('next/navigation', () => ({\n  useRouter: () => ({\n    push: jest.fn(),\n    replace: jest.fn(),\n    prefetch: jest.fn(),\n    back: jest.fn(),\n    forward: jest.fn(),\n    refresh: jest.fn(),\n  }),\n  useSearchParams: () => ({\n    get: jest.fn(),\n  }),\n  usePathname: () => '/dashboard',\n}))\n\n// Mock Supabase client\njest.mock('@/lib/supabase/client', () => ({\n  createClient: () => ({\n    auth: {\n      getUser: jest.fn().mockResolvedValue({ data: { user: null }, error: null }),\n      signOut: jest.fn().mockResolvedValue({ error: null }),\n    },\n    from: jest.fn(() => ({\n      select: jest.fn().mockReturnThis(),\n      insert: jest.fn().mockReturnThis(),\n      update: jest.fn().mockReturnThis(),\n      delete: jest.fn().mockReturnThis(),\n      eq: jest.fn().mockReturnThis(),\n      single: jest.fn().mockResolvedValue({ data: null, error: null }),\n    })),\n  }),\n}))\n\n// Mock Supabase server client\njest.mock('@/lib/supabase/server', () => ({\n  createClient: () => ({\n    auth: {\n      getUser: jest.fn().mockResolvedValue({ data: { user: null }, error: null }),\n    },\n    from: jest.fn(() => ({\n      select: jest.fn().mockReturnThis(),\n      insert: jest.fn().mockReturnThis(),\n      update: jest.fn().mockReturnThis(),\n      delete: jest.fn().mockReturnThis(),\n      eq: jest.fn().mockReturnThis(),\n      single: jest.fn().mockResolvedValue({ data: null, error: null }),\n    })),\n  }),\n}))\n\n// Mock window.location\nObject.defineProperty(window, 'location', {\n  value: {\n    href: '',\n    assign: jest.fn(),\n    replace: jest.fn(),\n    reload: jest.fn(),\n  },\n  writable: true,\n})\n\n// =============================================================================\n// Next.js Web API Mocking (Request/Response for API tests)\n// =============================================================================\n\n// Mock fetch API globally\nglobal.fetch = jest.fn(() =>\n  Promise.resolve({\n    ok: true,\n    json: async () => ({}),\n    text: async () => '',\n    status: 200,\n    statusText: 'OK',\n    headers: new Headers(),\n  })\n)\n\n// Mock Request and Response for Next.js API routes\nif (typeof Request === 'undefined') {\n  global.Request = class Request {\n    constructor(input, init = {}) {\n      this._url = typeof input === 'string' ? input : input.url\n      this._method = init.method || 'GET'\n      this._headers = new Headers(init.headers || {})\n      this._body = init.body || null\n      this._bodyInit = init.body\n      this._cache = init.cache || 'default'\n      this._credentials = init.credentials || 'same-origin'\n      this._integrity = init.integrity || ''\n      this._keepalive = init.keepalive || false\n      this._mode = init.mode || 'cors'\n      this._redirect = init.redirect || 'follow'\n      this._referrer = init.referrer || 'about:client'\n      this._referrerPolicy = init.referrerPolicy || ''\n      this._signal = init.signal || null\n    }\n\n    get url() {\n      return this._url\n    }\n\n    get method() {\n      return this._method\n    }\n\n    get headers() {\n      return this._headers\n    }\n\n    get body() {\n      return this._body\n    }\n\n    get bodyUsed() {\n      return false\n    }\n\n    get cache() {\n      return this._cache\n    }\n\n    get credentials() {\n      return this._credentials\n    }\n\n    get destination() {\n      return ''\n    }\n\n    get integrity() {\n      return this._integrity\n    }\n\n    get keepalive() {\n      return this._keepalive\n    }\n\n    get mode() {\n      return this._mode\n    }\n\n    get redirect() {\n      return this._redirect\n    }\n\n    get referrer() {\n      return this._referrer\n    }\n\n    get referrerPolicy() {\n      return this._referrerPolicy\n    }\n\n    get signal() {\n      return this._signal\n    }\n\n    async json() {\n      return this._bodyInit ? JSON.parse(this._bodyInit) : {}\n    }\n\n    async text() {\n      return this._bodyInit || ''\n    }\n\n    async arrayBuffer() {\n      return new ArrayBuffer(0)\n    }\n\n    async blob() {\n      return new Blob([this._bodyInit || ''])\n    }\n\n    async formData() {\n      return new FormData()\n    }\n\n    clone() {\n      return new Request(this._url, {\n        method: this._method,\n        headers: this._headers,\n        body: this._bodyInit,\n        cache: this._cache,\n        credentials: this._credentials,\n        integrity: this._integrity,\n        keepalive: this._keepalive,\n        mode: this._mode,\n        redirect: this._redirect,\n        referrer: this._referrer,\n        referrerPolicy: this._referrerPolicy,\n        signal: this._signal,\n      })\n    }\n  }\n}\n\nif (typeof Response === 'undefined') {\n  global.Response = class Response {\n    constructor(body, init) {\n      this.body = body\n      this.status = init?.status || 200\n      this.statusText = init?.statusText || 'OK'\n      this.headers = new Headers(init?.headers || {})\n      this.ok = this.status >= 200 && this.status < 300\n    }\n\n    async json() {\n      return typeof this.body === 'string' ? JSON.parse(this.body) : this.body\n    }\n\n    async text() {\n      return typeof this.body === 'string' ? this.body : JSON.stringify(this.body)\n    }\n\n    clone() {\n      return new Response(this.body, {\n        status: this.status,\n        statusText: this.statusText,\n        headers: this.headers,\n      })\n    }\n\n    static json(data, init) {\n      return new Response(JSON.stringify(data), {\n        ...init,\n        headers: {\n          'Content-Type': 'application/json',\n          ...init?.headers,\n        },\n      })\n    }\n  }\n}\n\nif (typeof Headers === 'undefined') {\n  global.Headers = class Headers {\n    constructor(init) {\n      this._headers = {}\n      if (init) {\n        Object.entries(init).forEach(([key, value]) => {\n          this._headers[key.toLowerCase()] = value\n        })\n      }\n    }\n\n    get(name) {\n      return this._headers[name.toLowerCase()] || null\n    }\n\n    set(name, value) {\n      this._headers[name.toLowerCase()] = value\n    }\n\n    has(name) {\n      return name.toLowerCase() in this._headers\n    }\n\n    delete(name) {\n      delete this._headers[name.toLowerCase()]\n    }\n\n    entries() {\n      return Object.entries(this._headers)\n    }\n\n    keys() {\n      return Object.keys(this._headers)\n    }\n\n    values() {\n      return Object.values(this._headers)\n    }\n\n    forEach(callback) {\n      Object.entries(this._headers).forEach(([key, value]) => callback(value, key, this))\n    }\n  }\n}"],"names":["jest","mock","useRouter","push","fn","replace","prefetch","back","forward","refresh","useSearchParams","get","usePathname","createClient","auth","getUser","mockResolvedValue","data","user","error","signOut","from","select","mockReturnThis","insert","update","delete","eq","single","originalError","console","originalWarn","warn","beforeAll","args","includes","call","afterAll","afterEach","clearAllMocks","Object","defineProperty","window","value","href","assign","reload","writable","global","fetch","Promise","resolve","ok","json","text","status","statusText","headers","Headers","Request","input","init","_url","url","_method","method","_headers","_body","body","_bodyInit","_cache","cache","_credentials","credentials","_integrity","integrity","_keepalive","keepalive","_mode","mode","_redirect","redirect","_referrer","referrer","_referrerPolicy","referrerPolicy","_signal","signal","bodyUsed","destination","JSON","parse","arrayBuffer","ArrayBuffer","blob","Blob","formData","FormData","clone","Response","stringify","entries","forEach","key","toLowerCase","name","set","has","keys","values","callback"],"mappings":"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"}