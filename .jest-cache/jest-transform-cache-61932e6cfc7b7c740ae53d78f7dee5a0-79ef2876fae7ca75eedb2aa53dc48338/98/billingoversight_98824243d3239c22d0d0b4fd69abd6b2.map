{"version":3,"names":["cov_1vfgondwlr","actualCoverage","s","BillingOversight","MetricCard","title","value","subtitle","icon","Icon","iconColor","iconBgColor","trend","f","_jsxruntime","jsx","className","jsxs","b","undefined","metrics","setMetrics","_react","useState","subscriptions","setSubscriptions","loading","setLoading","error","setError","filterStatus","setFilterStatus","useEffect","fetchBillingData","metricsRes","subscriptionsRes","Promise","all","fetch","ok","Error","metricsData","json","subscriptionsData","data","err","message","getStatusBadge","status","cancelAtPeriodEnd","_outline","ClockIcon","badges","active","CheckCircleIcon","class","text","trial","past_due","ExclamationTriangleIcon","cancelled","XCircleIcon","badge","BadgeIcon","filteredSubscriptions","filter","sub","totalRevenue","toLocaleString","CurrencyDollarIcon","monthlyRecurringRevenue","ArrowTrendingUpIcon","averageRevenuePerOrg","BuildingOfficeIcon","activeSubscriptions","trialSubscriptions","pastDueSubscriptions","CreditCardIcon","cancelledSubscriptions","onChange","e","target","map","organization_name","plan","cancel_at_period_end","currency","toUpperCase","amount","toFixed","Date","current_period_start","toLocaleDateString","current_period_end","id","length"],"sources":["C:\\Ai Projecten\\ADSapp\\src\\components\\admin\\billing-oversight.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport {\n  CurrencyDollarIcon,\n  ArrowTrendingUpIcon,\n  CheckCircleIcon,\n  ExclamationTriangleIcon,\n  ClockIcon,\n  XCircleIcon,\n  CreditCardIcon,\n  BuildingOfficeIcon,\n} from '@heroicons/react/24/outline';\n\ninterface BillingMetrics {\n  totalRevenue: number;\n  monthlyRecurringRevenue: number;\n  averageRevenuePerOrg: number;\n  activeSubscriptions: number;\n  trialSubscriptions: number;\n  pastDueSubscriptions: number;\n  cancelledSubscriptions: number;\n}\n\ninterface Subscription {\n  id: string;\n  organization_id: string;\n  organization_name: string;\n  plan: string;\n  status: 'active' | 'trial' | 'past_due' | 'cancelled';\n  amount: number;\n  currency: string;\n  current_period_start: string;\n  current_period_end: string;\n  cancel_at_period_end: boolean;\n}\n\ninterface MetricCardProps {\n  title: string;\n  value: string;\n  subtitle?: string;\n  icon: React.ElementType;\n  iconColor: string;\n  iconBgColor: string;\n  trend?: number;\n}\n\nfunction MetricCard({ title, value, subtitle, icon: Icon, iconColor, iconBgColor, trend }: MetricCardProps) {\n  return (\n    <div className=\"bg-white rounded-xl shadow-sm ring-1 ring-slate-900/5 p-6 hover:shadow-md transition-shadow\">\n      <div className=\"flex items-center gap-4\">\n        <div className={`rounded-xl ${iconBgColor} p-3`}>\n          <Icon className={`h-6 w-6 ${iconColor}`} />\n        </div>\n        <div className=\"flex-1\">\n          <p className=\"text-sm font-medium text-slate-600\">{title}</p>\n          <div className=\"flex items-baseline gap-2 mt-1\">\n            <p className=\"text-2xl font-bold text-slate-900\">{value}</p>\n            {trend !== undefined && (\n              <span className={`text-xs font-semibold ${trend >= 0 ? 'text-emerald-600' : 'text-red-600'}`}>\n                {trend >= 0 ? '+' : ''}{trend}%\n              </span>\n            )}\n          </div>\n          {subtitle && <p className=\"text-xs text-slate-500 mt-1\">{subtitle}</p>}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport function BillingOversight() {\n  const [metrics, setMetrics] = useState<BillingMetrics | null>(null);\n  const [subscriptions, setSubscriptions] = useState<Subscription[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [filterStatus, setFilterStatus] = useState<string>('all');\n\n  useEffect(() => {\n    fetchBillingData();\n  }, []);\n\n  const fetchBillingData = async () => {\n    try {\n      setLoading(true);\n      const [metricsRes, subscriptionsRes] = await Promise.all([\n        fetch('/api/admin/billing/metrics'),\n        fetch('/api/admin/billing/subscriptions'),\n      ]);\n\n      if (!metricsRes.ok || !subscriptionsRes.ok) {\n        throw new Error('Failed to fetch billing data');\n      }\n\n      const metricsData = await metricsRes.json();\n      const subscriptionsData = await subscriptionsRes.json();\n\n      setMetrics(metricsData.data);\n      setSubscriptions(subscriptionsData.data || []);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Unknown error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getStatusBadge = (status: string, cancelAtPeriodEnd: boolean) => {\n    if (cancelAtPeriodEnd) {\n      return (\n        <span className=\"inline-flex items-center gap-x-1.5 rounded-full px-3 py-1 text-xs font-medium bg-orange-50 text-orange-700 ring-1 ring-inset ring-orange-600/20\">\n          <ClockIcon className=\"h-3.5 w-3.5\" />\n          Cancelling\n        </span>\n      );\n    }\n\n    const badges = {\n      active: {\n        icon: CheckCircleIcon,\n        class: 'bg-emerald-50 text-emerald-700 ring-emerald-600/20',\n        text: 'Active',\n      },\n      trial: {\n        icon: ClockIcon,\n        class: 'bg-blue-50 text-blue-700 ring-blue-600/20',\n        text: 'Trial',\n      },\n      past_due: {\n        icon: ExclamationTriangleIcon,\n        class: 'bg-red-50 text-red-700 ring-red-600/20',\n        text: 'Past Due',\n      },\n      cancelled: {\n        icon: XCircleIcon,\n        class: 'bg-slate-50 text-slate-700 ring-slate-600/20',\n        text: 'Cancelled',\n      },\n    };\n\n    const badge = badges[status as keyof typeof badges] || badges.cancelled;\n    const BadgeIcon = badge.icon;\n\n    return (\n      <span className={`inline-flex items-center gap-x-1.5 rounded-full px-3 py-1 text-xs font-medium ring-1 ring-inset ${badge.class}`}>\n        <BadgeIcon className=\"h-3.5 w-3.5\" />\n        {badge.text}\n      </span>\n    );\n  };\n\n  const filteredSubscriptions = filterStatus === 'all'\n    ? subscriptions\n    : subscriptions.filter(sub => sub.status === filterStatus);\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-96\">\n        <div className=\"text-center\">\n          <div className=\"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600\"></div>\n          <p className=\"mt-4 text-sm text-slate-600\">Loading billing data...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"rounded-xl bg-red-50 p-6 ring-1 ring-red-600/10\">\n        <div className=\"flex\">\n          <div className=\"flex-shrink-0\">\n            <XCircleIcon className=\"h-5 w-5 text-red-400\" />\n          </div>\n          <div className=\"ml-3\">\n            <h3 className=\"text-sm font-medium text-red-800\">Error loading billing data</h3>\n            <div className=\"mt-2 text-sm text-red-700\">\n              <p>{error}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div>\n        <h2 className=\"text-2xl font-bold text-slate-900\">Billing Oversight</h2>\n        <p className=\"mt-2 text-sm text-slate-600\">\n          Monitor subscriptions, revenue, and billing metrics across all organizations\n        </p>\n      </div>\n\n      {/* Metrics Grid */}\n      {metrics && (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6\">\n          <MetricCard\n            title=\"Total Revenue\"\n            value={`$${(metrics.totalRevenue / 100).toLocaleString()}`}\n            subtitle=\"All time\"\n            icon={CurrencyDollarIcon}\n            iconColor=\"text-emerald-600\"\n            iconBgColor=\"bg-emerald-50\"\n            trend={12}\n          />\n          <MetricCard\n            title=\"Monthly Recurring Revenue\"\n            value={`$${(metrics.monthlyRecurringRevenue / 100).toLocaleString()}`}\n            subtitle=\"MRR\"\n            icon={ArrowTrendingUpIcon}\n            iconColor=\"text-blue-600\"\n            iconBgColor=\"bg-blue-50\"\n            trend={8}\n          />\n          <MetricCard\n            title=\"Average Revenue Per Org\"\n            value={`$${(metrics.averageRevenuePerOrg / 100).toLocaleString()}`}\n            subtitle=\"ARPO\"\n            icon={BuildingOfficeIcon}\n            iconColor=\"text-purple-600\"\n            iconBgColor=\"bg-purple-50\"\n          />\n          <MetricCard\n            title=\"Active Subscriptions\"\n            value={metrics.activeSubscriptions.toLocaleString()}\n            subtitle={`${metrics.trialSubscriptions} trials, ${metrics.pastDueSubscriptions} past due`}\n            icon={CreditCardIcon}\n            iconColor=\"text-orange-600\"\n            iconBgColor=\"bg-orange-50\"\n          />\n        </div>\n      )}\n\n      {/* Subscriptions Overview */}\n      {metrics && (\n        <div className=\"grid grid-cols-1 sm:grid-cols-4 gap-4\">\n          <div className=\"bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-xl p-4 ring-1 ring-emerald-600/20\">\n            <div className=\"flex items-center gap-3\">\n              <CheckCircleIcon className=\"h-8 w-8 text-emerald-600\" />\n              <div>\n                <p className=\"text-2xl font-bold text-emerald-900\">{metrics.activeSubscriptions}</p>\n                <p className=\"text-xs font-medium text-emerald-700\">Active</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4 ring-1 ring-blue-600/20\">\n            <div className=\"flex items-center gap-3\">\n              <ClockIcon className=\"h-8 w-8 text-blue-600\" />\n              <div>\n                <p className=\"text-2xl font-bold text-blue-900\">{metrics.trialSubscriptions}</p>\n                <p className=\"text-xs font-medium text-blue-700\">Trial</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-gradient-to-br from-red-50 to-red-100 rounded-xl p-4 ring-1 ring-red-600/20\">\n            <div className=\"flex items-center gap-3\">\n              <ExclamationTriangleIcon className=\"h-8 w-8 text-red-600\" />\n              <div>\n                <p className=\"text-2xl font-bold text-red-900\">{metrics.pastDueSubscriptions}</p>\n                <p className=\"text-xs font-medium text-red-700\">Past Due</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-gradient-to-br from-slate-50 to-slate-100 rounded-xl p-4 ring-1 ring-slate-600/20\">\n            <div className=\"flex items-center gap-3\">\n              <XCircleIcon className=\"h-8 w-8 text-slate-600\" />\n              <div>\n                <p className=\"text-2xl font-bold text-slate-900\">{metrics.cancelledSubscriptions}</p>\n                <p className=\"text-xs font-medium text-slate-700\">Cancelled</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Subscriptions Table */}\n      <div className=\"bg-white rounded-xl shadow-sm ring-1 ring-slate-900/5 overflow-hidden\">\n        <div className=\"p-6 border-b border-slate-200\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h3 className=\"text-lg font-semibold text-slate-900\">All Subscriptions</h3>\n              <p className=\"text-sm text-slate-600 mt-1\">Detailed view of all organization subscriptions</p>\n            </div>\n            <select\n              value={filterStatus}\n              onChange={(e) => setFilterStatus(e.target.value)}\n              className=\"rounded-lg border-slate-300 text-sm focus:ring-emerald-600 focus:border-emerald-600\"\n            >\n              <option value=\"all\">All Statuses</option>\n              <option value=\"active\">Active</option>\n              <option value=\"trial\">Trial</option>\n              <option value=\"past_due\">Past Due</option>\n              <option value=\"cancelled\">Cancelled</option>\n            </select>\n          </div>\n        </div>\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-slate-200\">\n            <thead className=\"bg-slate-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-semibold text-slate-900 uppercase tracking-wider\">\n                  Organization\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-semibold text-slate-900 uppercase tracking-wider\">\n                  Plan\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-semibold text-slate-900 uppercase tracking-wider\">\n                  Status\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-semibold text-slate-900 uppercase tracking-wider\">\n                  Amount\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-semibold text-slate-900 uppercase tracking-wider\">\n                  Current Period\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-slate-200 bg-white\">\n              {filteredSubscriptions.map((sub) => (\n                <tr key={sub.id} className=\"hover:bg-slate-50 transition-colors\">\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"h-8 w-8 rounded-lg bg-gradient-to-br from-emerald-400 to-emerald-600 flex items-center justify-center\">\n                        <BuildingOfficeIcon className=\"h-4 w-4 text-white\" />\n                      </div>\n                      <span className=\"font-medium text-slate-900\">{sub.organization_name}</span>\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <span className=\"text-sm font-medium text-slate-900 capitalize\">{sub.plan}</span>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    {getStatusBadge(sub.status, sub.cancel_at_period_end)}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <span className=\"text-sm font-semibold text-slate-900\">\n                      {sub.currency.toUpperCase()} ${(sub.amount / 100).toFixed(2)}\n                    </span>\n                    <span className=\"text-xs text-slate-500 ml-1\">/mo</span>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-slate-500\">\n                    {new Date(sub.current_period_start).toLocaleDateString()} -{' '}\n                    {new Date(sub.current_period_end).toLocaleDateString()}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n\n          {filteredSubscriptions.length === 0 && (\n            <div className=\"text-center py-12\">\n              <CreditCardIcon className=\"mx-auto h-12 w-12 text-slate-400\" />\n              <h3 className=\"mt-2 text-sm font-medium text-slate-900\">No subscriptions found</h3>\n              <p className=\"mt-1 text-sm text-slate-500\">\n                {filterStatus !== 'all' ? 'Try adjusting your filter.' : 'No subscriptions have been created yet.'}\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}