187c942abcf54cba4c6ec31ca4f20707
"use strict";

/* istanbul ignore next */
function cov_2hkem5d4cm() {
  var path = "C:\\Ai Projecten\\ADSapp\\src\\app\\api\\jobs\\import-contacts\\route.ts";
  var hash = "ef52b0409243541a69c639113f3d080459808a69";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Ai Projecten\\ADSapp\\src\\app\\api\\jobs\\import-contacts\\route.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 5,
          column: 0
        },
        end: {
          line: 10,
          column: 3
        }
      },
      "2": {
        start: {
          line: 8,
          column: 8
        },
        end: {
          line: 8,
          column: 20
        }
      },
      "3": {
        start: {
          line: 11,
          column: 16
        },
        end: {
          line: 11,
          column: 38
        }
      },
      "4": {
        start: {
          line: 12,
          column: 17
        },
        end: {
          line: 12,
          column: 59
        }
      },
      "5": {
        start: {
          line: 13,
          column: 22
        },
        end: {
          line: 13,
          column: 68
        }
      },
      "6": {
        start: {
          line: 14,
          column: 20
        },
        end: {
          line: 14,
          column: 64
        }
      },
      "7": {
        start: {
          line: 16,
          column: 4
        },
        end: {
          line: 112,
          column: 5
        }
      },
      "8": {
        start: {
          line: 17,
          column: 25
        },
        end: {
          line: 17,
          column: 59
        }
      },
      "9": {
        start: {
          line: 19,
          column: 53
        },
        end: {
          line: 19,
          column: 82
        }
      },
      "10": {
        start: {
          line: 20,
          column: 8
        },
        end: {
          line: 26,
          column: 9
        }
      },
      "11": {
        start: {
          line: 21,
          column: 12
        },
        end: {
          line: 25,
          column: 15
        }
      },
      "12": {
        start: {
          line: 28,
          column: 34
        },
        end: {
          line: 28,
          column: 124
        }
      },
      "13": {
        start: {
          line: 29,
          column: 8
        },
        end: {
          line: 35,
          column: 9
        }
      },
      "14": {
        start: {
          line: 30,
          column: 12
        },
        end: {
          line: 34,
          column: 15
        }
      },
      "15": {
        start: {
          line: 37,
          column: 8
        },
        end: {
          line: 46,
          column: 9
        }
      },
      "16": {
        start: {
          line: 41,
          column: 12
        },
        end: {
          line: 45,
          column: 15
        }
      },
      "17": {
        start: {
          line: 48,
          column: 21
        },
        end: {
          line: 48,
          column: 41
        }
      },
      "18": {
        start: {
          line: 49,
          column: 44
        },
        end: {
          line: 49,
          column: 48
        }
      },
      "19": {
        start: {
          line: 51,
          column: 8
        },
        end: {
          line: 57,
          column: 9
        }
      },
      "20": {
        start: {
          line: 52,
          column: 12
        },
        end: {
          line: 56,
          column: 15
        }
      },
      "21": {
        start: {
          line: 59,
          column: 32
        },
        end: {
          line: 59,
          column: 111
        }
      },
      "22": {
        start: {
          line: 59,
          column: 59
        },
        end: {
          line: 59,
          column: 110
        }
      },
      "23": {
        start: {
          line: 60,
          column: 8
        },
        end: {
          line: 67,
          column: 9
        }
      },
      "24": {
        start: {
          line: 61,
          column: 12
        },
        end: {
          line: 66,
          column: 15
        }
      },
      "25": {
        start: {
          line: 69,
          column: 24
        },
        end: {
          line: 73,
          column: 9
        }
      },
      "26": {
        start: {
          line: 75,
          column: 24
        },
        end: {
          line: 91,
          column: 9
        }
      },
      "27": {
        start: {
          line: 78,
          column: 47
        },
        end: {
          line: 84,
          column: 17
        }
      },
      "28": {
        start: {
          line: 93,
          column: 29
        },
        end: {
          line: 93,
          column: 65
        }
      },
      "29": {
        start: {
          line: 94,
          column: 22
        },
        end: {
          line: 96,
          column: 10
        }
      },
      "30": {
        start: {
          line: 97,
          column: 8
        },
        end: {
          line: 103,
          column: 11
        }
      },
      "31": {
        start: {
          line: 105,
          column: 8
        },
        end: {
          line: 105,
          column: 66
        }
      },
      "32": {
        start: {
          line: 106,
          column: 8
        },
        end: {
          line: 111,
          column: 11
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 7,
            column: 9
          },
          end: {
            line: 7,
            column: 10
          }
        },
        loc: {
          start: {
            line: 7,
            column: 20
          },
          end: {
            line: 9,
            column: 5
          }
        },
        line: 7
      },
      "1": {
        name: "POST",
        decl: {
          start: {
            line: 15,
            column: 15
          },
          end: {
            line: 15,
            column: 19
          }
        },
        loc: {
          start: {
            line: 15,
            column: 29
          },
          end: {
            line: 113,
            column: 1
          }
        },
        line: 15
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 59,
            column: 48
          },
          end: {
            line: 59,
            column: 49
          }
        },
        loc: {
          start: {
            line: 59,
            column: 59
          },
          end: {
            line: 59,
            column: 110
          }
        },
        line: 59
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 78,
            column: 35
          },
          end: {
            line: 78,
            column: 36
          }
        },
        loc: {
          start: {
            line: 78,
            column: 47
          },
          end: {
            line: 84,
            column: 17
          }
        },
        line: 78
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 20,
            column: 8
          },
          end: {
            line: 26,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 20,
            column: 8
          },
          end: {
            line: 26,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 20
      },
      "1": {
        loc: {
          start: {
            line: 20,
            column: 12
          },
          end: {
            line: 20,
            column: 30
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 20,
            column: 12
          },
          end: {
            line: 20,
            column: 21
          }
        }, {
          start: {
            line: 20,
            column: 25
          },
          end: {
            line: 20,
            column: 30
          }
        }],
        line: 20
      },
      "2": {
        loc: {
          start: {
            line: 29,
            column: 8
          },
          end: {
            line: 35,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 29,
            column: 8
          },
          end: {
            line: 35,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 29
      },
      "3": {
        loc: {
          start: {
            line: 37,
            column: 8
          },
          end: {
            line: 46,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 37,
            column: 8
          },
          end: {
            line: 46,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 37
      },
      "4": {
        loc: {
          start: {
            line: 51,
            column: 8
          },
          end: {
            line: 57,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 51,
            column: 8
          },
          end: {
            line: 57,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 51
      },
      "5": {
        loc: {
          start: {
            line: 51,
            column: 12
          },
          end: {
            line: 51,
            column: 74
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 51,
            column: 12
          },
          end: {
            line: 51,
            column: 21
          }
        }, {
          start: {
            line: 51,
            column: 25
          },
          end: {
            line: 51,
            column: 49
          }
        }, {
          start: {
            line: 51,
            column: 53
          },
          end: {
            line: 51,
            column: 74
          }
        }],
        line: 51
      },
      "6": {
        loc: {
          start: {
            line: 59,
            column: 59
          },
          end: {
            line: 59,
            column: 110
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 59,
            column: 59
          },
          end: {
            line: 59,
            column: 73
          }
        }, {
          start: {
            line: 59,
            column: 77
          },
          end: {
            line: 59,
            column: 110
          }
        }],
        line: 59
      },
      "7": {
        loc: {
          start: {
            line: 60,
            column: 8
          },
          end: {
            line: 67,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 60,
            column: 8
          },
          end: {
            line: 67,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 60
      },
      "8": {
        loc: {
          start: {
            line: 70,
            column: 28
          },
          end: {
            line: 70,
            column: 66
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 70,
            column: 28
          },
          end: {
            line: 70,
            column: 57
          }
        }, {
          start: {
            line: 70,
            column: 61
          },
          end: {
            line: 70,
            column: 66
          }
        }],
        line: 70
      },
      "9": {
        loc: {
          start: {
            line: 71,
            column: 28
          },
          end: {
            line: 71,
            column: 65
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 71,
            column: 28
          },
          end: {
            line: 71,
            column: 57
          }
        }, {
          start: {
            line: 71,
            column: 61
          },
          end: {
            line: 71,
            column: 65
          }
        }],
        line: 71
      },
      "10": {
        loc: {
          start: {
            line: 72,
            column: 27
          },
          end: {
            line: 72,
            column: 63
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 72,
            column: 27
          },
          end: {
            line: 72,
            column: 55
          }
        }, {
          start: {
            line: 72,
            column: 59
          },
          end: {
            line: 72,
            column: 63
          }
        }],
        line: 72
      },
      "11": {
        loc: {
          start: {
            line: 82,
            column: 26
          },
          end: {
            line: 82,
            column: 44
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 82,
            column: 26
          },
          end: {
            line: 82,
            column: 38
          }
        }, {
          start: {
            line: 82,
            column: 42
          },
          end: {
            line: 82,
            column: 44
          }
        }],
        line: 82
      },
      "12": {
        loc: {
          start: {
            line: 83,
            column: 34
          },
          end: {
            line: 83,
            column: 60
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 83,
            column: 34
          },
          end: {
            line: 83,
            column: 54
          }
        }, {
          start: {
            line: 83,
            column: 58
          },
          end: {
            line: 83,
            column: 60
          }
        }],
        line: 83
      },
      "13": {
        loc: {
          start: {
            line: 108,
            column: 21
          },
          end: {
            line: 108,
            column: 77
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 108,
            column: 46
          },
          end: {
            line: 108,
            column: 59
          }
        }, {
          start: {
            line: 108,
            column: 62
          },
          end: {
            line: 108,
            column: 77
          }
        }],
        line: 108
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Ai Projecten\\ADSapp\\src\\app\\api\\jobs\\import-contacts\\route.ts"],
      sourcesContent: ["import { NextRequest, NextResponse } from 'next/server';\nimport { createClient } from '@/lib/supabase/server';\nimport { getQueueManager } from '@/lib/queue/queue-manager';\nimport { QueueName, JobPriority } from '@/lib/queue/bull-config';\nimport { ContactImportJobData } from '@/lib/queue/processors/contact-import-processor';\n\n/**\n * POST /api/jobs/import-contacts\n * Queue a contact import job\n */\nexport async function POST(request: NextRequest) {\n  try {\n    const supabase = await createClient();\n\n    // Get authenticated user\n    const {\n      data: { user },\n      error: authError\n    } = await supabase.auth.getUser();\n\n    if (authError || !user) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    // Get user's organization\n    const { data: profile } = await supabase\n      .from('profiles')\n      .select('organization_id, role')\n      .eq('id', user.id)\n      .single();\n\n    if (!profile?.organization_id) {\n      return NextResponse.json(\n        { error: 'No organization found' },\n        { status: 400 }\n      );\n    }\n\n    // Check permissions (only admins and owners can import contacts)\n    if (!['owner', 'admin'].includes(profile.role)) {\n      return NextResponse.json(\n        { error: 'Insufficient permissions' },\n        { status: 403 }\n      );\n    }\n\n    // Parse request body\n    const body = await request.json();\n    const { contacts, importOptions } = body;\n\n    // Validate required fields\n    if (!contacts || !Array.isArray(contacts) || contacts.length === 0) {\n      return NextResponse.json(\n        { error: 'contacts is required and must be a non-empty array' },\n        { status: 400 }\n      );\n    }\n\n    // Validate contact structure\n    const invalidContacts = contacts.filter(\n      (contact) => !contact.phone || typeof contact.phone !== 'string'\n    );\n\n    if (invalidContacts.length > 0) {\n      return NextResponse.json(\n        {\n          error: 'All contacts must have a valid phone number',\n          invalidCount: invalidContacts.length\n        },\n        { status: 400 }\n      );\n    }\n\n    // Set default import options\n    const options = {\n      updateExisting: importOptions?.updateExisting ?? false,\n      skipDuplicates: importOptions?.skipDuplicates ?? true,\n      validatePhone: importOptions?.validatePhone ?? true\n    };\n\n    // Prepare job data\n    const jobData: ContactImportJobData = {\n      organizationId: profile.organization_id,\n      userId: user.id,\n      contacts: contacts.map((contact) => ({\n        phone: contact.phone,\n        name: contact.name,\n        email: contact.email,\n        tags: contact.tags || [],\n        customFields: contact.customFields || {}\n      })),\n      importOptions: options,\n      metadata: {\n        requestedBy: user.email,\n        requestedAt: new Date().toISOString(),\n        source: 'api'\n      }\n    };\n\n    // Get queue manager and add job\n    const queueManager = getQueueManager();\n    const jobId = await queueManager.addJob(\n      QueueName.CONTACT_IMPORT,\n      'import-contacts',\n      jobData,\n      {\n        priority: JobPriority.NORMAL\n      }\n    );\n\n    return NextResponse.json(\n      {\n        success: true,\n        jobId,\n        message: `Contact import job queued for ${contacts.length} contacts`\n      },\n      { status: 202 }\n    );\n  } catch (error) {\n    console.error('Error queuing contact import job:', error);\n    return NextResponse.json(\n      {\n        error: 'Failed to queue contact import job',\n        details: error instanceof Error ? error.message : 'Unknown error'\n      },\n      { status: 500 }\n    );\n  }\n}\n"],
      names: ["POST", "request", "supabase", "createClient", "data", "user", "error", "authError", "auth", "getUser", "NextResponse", "json", "status", "profile", "from", "select", "eq", "id", "single", "organization_id", "includes", "role", "body", "contacts", "importOptions", "Array", "isArray", "length", "invalidContacts", "filter", "contact", "phone", "invalidCount", "options", "updateExisting", "skipDuplicates", "validatePhone", "jobData", "organizationId", "userId", "map", "name", "email", "tags", "customFields", "metadata", "requestedBy", "requestedAt", "Date", "toISOString", "source", "queueManager", "getQueueManager", "jobId", "addJob", "QueueName", "CONTACT_IMPORT", "priority", "JobPriority", "NORMAL", "success", "message", "console", "details", "Error"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "ef52b0409243541a69c639113f3d080459808a69"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2hkem5d4cm = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2hkem5d4cm();
cov_2hkem5d4cm().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_2hkem5d4cm().s[1]++;
Object.defineProperty(exports, "POST", {
  enumerable: true,
  get: function () {
    /* istanbul ignore next */
    cov_2hkem5d4cm().f[0]++;
    cov_2hkem5d4cm().s[2]++;
    return POST;
  }
});
const _server =
/* istanbul ignore next */
(cov_2hkem5d4cm().s[3]++, require("next/server"));
const _server1 =
/* istanbul ignore next */
(cov_2hkem5d4cm().s[4]++, require("../../../../lib/supabase/server"));
const _queuemanager =
/* istanbul ignore next */
(cov_2hkem5d4cm().s[5]++, require("../../../../lib/queue/queue-manager"));
const _bullconfig =
/* istanbul ignore next */
(cov_2hkem5d4cm().s[6]++, require("../../../../lib/queue/bull-config"));
async function POST(request) {
  /* istanbul ignore next */
  cov_2hkem5d4cm().f[1]++;
  cov_2hkem5d4cm().s[7]++;
  try {
    const supabase =
    /* istanbul ignore next */
    (cov_2hkem5d4cm().s[8]++, await (0, _server1.createClient)());
    // Get authenticated user
    const {
      data: {
        user
      },
      error: authError
    } =
    /* istanbul ignore next */
    (cov_2hkem5d4cm().s[9]++, await supabase.auth.getUser());
    /* istanbul ignore next */
    cov_2hkem5d4cm().s[10]++;
    if (
    /* istanbul ignore next */
    (cov_2hkem5d4cm().b[1][0]++, authError) ||
    /* istanbul ignore next */
    (cov_2hkem5d4cm().b[1][1]++, !user)) {
      /* istanbul ignore next */
      cov_2hkem5d4cm().b[0][0]++;
      cov_2hkem5d4cm().s[11]++;
      return _server.NextResponse.json({
        error: 'Unauthorized'
      }, {
        status: 401
      });
    } else
    /* istanbul ignore next */
    {
      cov_2hkem5d4cm().b[0][1]++;
    }
    // Get user's organization
    const {
      data: profile
    } =
    /* istanbul ignore next */
    (cov_2hkem5d4cm().s[12]++, await supabase.from('profiles').select('organization_id, role').eq('id', user.id).single());
    /* istanbul ignore next */
    cov_2hkem5d4cm().s[13]++;
    if (!profile?.organization_id) {
      /* istanbul ignore next */
      cov_2hkem5d4cm().b[2][0]++;
      cov_2hkem5d4cm().s[14]++;
      return _server.NextResponse.json({
        error: 'No organization found'
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_2hkem5d4cm().b[2][1]++;
    }
    // Check permissions (only admins and owners can import contacts)
    cov_2hkem5d4cm().s[15]++;
    if (!['owner', 'admin'].includes(profile.role)) {
      /* istanbul ignore next */
      cov_2hkem5d4cm().b[3][0]++;
      cov_2hkem5d4cm().s[16]++;
      return _server.NextResponse.json({
        error: 'Insufficient permissions'
      }, {
        status: 403
      });
    } else
    /* istanbul ignore next */
    {
      cov_2hkem5d4cm().b[3][1]++;
    }
    // Parse request body
    const body =
    /* istanbul ignore next */
    (cov_2hkem5d4cm().s[17]++, await request.json());
    const {
      contacts,
      importOptions
    } =
    /* istanbul ignore next */
    (cov_2hkem5d4cm().s[18]++, body);
    // Validate required fields
    /* istanbul ignore next */
    cov_2hkem5d4cm().s[19]++;
    if (
    /* istanbul ignore next */
    (cov_2hkem5d4cm().b[5][0]++, !contacts) ||
    /* istanbul ignore next */
    (cov_2hkem5d4cm().b[5][1]++, !Array.isArray(contacts)) ||
    /* istanbul ignore next */
    (cov_2hkem5d4cm().b[5][2]++, contacts.length === 0)) {
      /* istanbul ignore next */
      cov_2hkem5d4cm().b[4][0]++;
      cov_2hkem5d4cm().s[20]++;
      return _server.NextResponse.json({
        error: 'contacts is required and must be a non-empty array'
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_2hkem5d4cm().b[4][1]++;
    }
    // Validate contact structure
    const invalidContacts =
    /* istanbul ignore next */
    (cov_2hkem5d4cm().s[21]++, contacts.filter(contact => {
      /* istanbul ignore next */
      cov_2hkem5d4cm().f[2]++;
      cov_2hkem5d4cm().s[22]++;
      return /* istanbul ignore next */(cov_2hkem5d4cm().b[6][0]++, !contact.phone) ||
      /* istanbul ignore next */
      (cov_2hkem5d4cm().b[6][1]++, typeof contact.phone !== 'string');
    }));
    /* istanbul ignore next */
    cov_2hkem5d4cm().s[23]++;
    if (invalidContacts.length > 0) {
      /* istanbul ignore next */
      cov_2hkem5d4cm().b[7][0]++;
      cov_2hkem5d4cm().s[24]++;
      return _server.NextResponse.json({
        error: 'All contacts must have a valid phone number',
        invalidCount: invalidContacts.length
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_2hkem5d4cm().b[7][1]++;
    }
    // Set default import options
    const options =
    /* istanbul ignore next */
    (cov_2hkem5d4cm().s[25]++, {
      updateExisting:
      /* istanbul ignore next */
      (cov_2hkem5d4cm().b[8][0]++, importOptions?.updateExisting) ??
      /* istanbul ignore next */
      (cov_2hkem5d4cm().b[8][1]++, false),
      skipDuplicates:
      /* istanbul ignore next */
      (cov_2hkem5d4cm().b[9][0]++, importOptions?.skipDuplicates) ??
      /* istanbul ignore next */
      (cov_2hkem5d4cm().b[9][1]++, true),
      validatePhone:
      /* istanbul ignore next */
      (cov_2hkem5d4cm().b[10][0]++, importOptions?.validatePhone) ??
      /* istanbul ignore next */
      (cov_2hkem5d4cm().b[10][1]++, true)
    });
    // Prepare job data
    const jobData =
    /* istanbul ignore next */
    (cov_2hkem5d4cm().s[26]++, {
      organizationId: profile.organization_id,
      userId: user.id,
      contacts: contacts.map(contact => {
        /* istanbul ignore next */
        cov_2hkem5d4cm().f[3]++;
        cov_2hkem5d4cm().s[27]++;
        return {
          phone: contact.phone,
          name: contact.name,
          email: contact.email,
          tags:
          /* istanbul ignore next */
          (cov_2hkem5d4cm().b[11][0]++, contact.tags) ||
          /* istanbul ignore next */
          (cov_2hkem5d4cm().b[11][1]++, []),
          customFields:
          /* istanbul ignore next */
          (cov_2hkem5d4cm().b[12][0]++, contact.customFields) ||
          /* istanbul ignore next */
          (cov_2hkem5d4cm().b[12][1]++, {})
        };
      }),
      importOptions: options,
      metadata: {
        requestedBy: user.email,
        requestedAt: new Date().toISOString(),
        source: 'api'
      }
    });
    // Get queue manager and add job
    const queueManager =
    /* istanbul ignore next */
    (cov_2hkem5d4cm().s[28]++, (0, _queuemanager.getQueueManager)());
    const jobId =
    /* istanbul ignore next */
    (cov_2hkem5d4cm().s[29]++, await queueManager.addJob(_bullconfig.QueueName.CONTACT_IMPORT, 'import-contacts', jobData, {
      priority: _bullconfig.JobPriority.NORMAL
    }));
    /* istanbul ignore next */
    cov_2hkem5d4cm().s[30]++;
    return _server.NextResponse.json({
      success: true,
      jobId,
      message: `Contact import job queued for ${contacts.length} contacts`
    }, {
      status: 202
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_2hkem5d4cm().s[31]++;
    console.error('Error queuing contact import job:', error);
    /* istanbul ignore next */
    cov_2hkem5d4cm().s[32]++;
    return _server.NextResponse.json({
      error: 'Failed to queue contact import job',
      details: error instanceof Error ?
      /* istanbul ignore next */
      (cov_2hkem5d4cm().b[13][0]++, error.message) :
      /* istanbul ignore next */
      (cov_2hkem5d4cm().b[13][1]++, 'Unknown error')
    }, {
      status: 500
    });
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMmhrZW01ZDRjbSIsImFjdHVhbENvdmVyYWdlIiwicyIsIlBPU1QiLCJyZXF1ZXN0IiwiZiIsInN1cGFiYXNlIiwiX3NlcnZlcjEiLCJjcmVhdGVDbGllbnQiLCJkYXRhIiwidXNlciIsImVycm9yIiwiYXV0aEVycm9yIiwiYXV0aCIsImdldFVzZXIiLCJiIiwiX3NlcnZlciIsIk5leHRSZXNwb25zZSIsImpzb24iLCJzdGF0dXMiLCJwcm9maWxlIiwiZnJvbSIsInNlbGVjdCIsImVxIiwiaWQiLCJzaW5nbGUiLCJvcmdhbml6YXRpb25faWQiLCJpbmNsdWRlcyIsInJvbGUiLCJib2R5IiwiY29udGFjdHMiLCJpbXBvcnRPcHRpb25zIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiaW52YWxpZENvbnRhY3RzIiwiZmlsdGVyIiwiY29udGFjdCIsInBob25lIiwiaW52YWxpZENvdW50Iiwib3B0aW9ucyIsInVwZGF0ZUV4aXN0aW5nIiwic2tpcER1cGxpY2F0ZXMiLCJ2YWxpZGF0ZVBob25lIiwiam9iRGF0YSIsIm9yZ2FuaXphdGlvbklkIiwidXNlcklkIiwibWFwIiwibmFtZSIsImVtYWlsIiwidGFncyIsImN1c3RvbUZpZWxkcyIsIm1ldGFkYXRhIiwicmVxdWVzdGVkQnkiLCJyZXF1ZXN0ZWRBdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInNvdXJjZSIsInF1ZXVlTWFuYWdlciIsIl9xdWV1ZW1hbmFnZXIiLCJnZXRRdWV1ZU1hbmFnZXIiLCJqb2JJZCIsImFkZEpvYiIsIl9idWxsY29uZmlnIiwiUXVldWVOYW1lIiwiQ09OVEFDVF9JTVBPUlQiLCJwcmlvcml0eSIsIkpvYlByaW9yaXR5IiwiTk9STUFMIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJjb25zb2xlIiwiZGV0YWlscyIsIkVycm9yIl0sInNvdXJjZXMiOlsiQzpcXEFpIFByb2plY3RlblxcQURTYXBwXFxzcmNcXGFwcFxcYXBpXFxqb2JzXFxpbXBvcnQtY29udGFjdHNcXHJvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAL2xpYi9zdXBhYmFzZS9zZXJ2ZXInO1xuaW1wb3J0IHsgZ2V0UXVldWVNYW5hZ2VyIH0gZnJvbSAnQC9saWIvcXVldWUvcXVldWUtbWFuYWdlcic7XG5pbXBvcnQgeyBRdWV1ZU5hbWUsIEpvYlByaW9yaXR5IH0gZnJvbSAnQC9saWIvcXVldWUvYnVsbC1jb25maWcnO1xuaW1wb3J0IHsgQ29udGFjdEltcG9ydEpvYkRhdGEgfSBmcm9tICdAL2xpYi9xdWV1ZS9wcm9jZXNzb3JzL2NvbnRhY3QtaW1wb3J0LXByb2Nlc3Nvcic7XG5cbi8qKlxuICogUE9TVCAvYXBpL2pvYnMvaW1wb3J0LWNvbnRhY3RzXG4gKiBRdWV1ZSBhIGNvbnRhY3QgaW1wb3J0IGpvYlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cbiAgICAvLyBHZXQgYXV0aGVudGljYXRlZCB1c2VyXG4gICAgY29uc3Qge1xuICAgICAgZGF0YTogeyB1c2VyIH0sXG4gICAgICBlcnJvcjogYXV0aEVycm9yXG4gICAgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG4gICAgaWYgKGF1dGhFcnJvciB8fCAhdXNlcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSk7XG4gICAgfVxuXG4gICAgLy8gR2V0IHVzZXIncyBvcmdhbml6YXRpb25cbiAgICBjb25zdCB7IGRhdGE6IHByb2ZpbGUgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncHJvZmlsZXMnKVxuICAgICAgLnNlbGVjdCgnb3JnYW5pemF0aW9uX2lkLCByb2xlJylcbiAgICAgIC5lcSgnaWQnLCB1c2VyLmlkKVxuICAgICAgLnNpbmdsZSgpO1xuXG4gICAgaWYgKCFwcm9maWxlPy5vcmdhbml6YXRpb25faWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ05vIG9yZ2FuaXphdGlvbiBmb3VuZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIENoZWNrIHBlcm1pc3Npb25zIChvbmx5IGFkbWlucyBhbmQgb3duZXJzIGNhbiBpbXBvcnQgY29udGFjdHMpXG4gICAgaWYgKCFbJ293bmVyJywgJ2FkbWluJ10uaW5jbHVkZXMocHJvZmlsZS5yb2xlKSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnSW5zdWZmaWNpZW50IHBlcm1pc3Npb25zJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAzIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gUGFyc2UgcmVxdWVzdCBib2R5XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgIGNvbnN0IHsgY29udGFjdHMsIGltcG9ydE9wdGlvbnMgfSA9IGJvZHk7XG5cbiAgICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgICBpZiAoIWNvbnRhY3RzIHx8ICFBcnJheS5pc0FycmF5KGNvbnRhY3RzKSB8fCBjb250YWN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ2NvbnRhY3RzIGlzIHJlcXVpcmVkIGFuZCBtdXN0IGJlIGEgbm9uLWVtcHR5IGFycmF5JyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgY29udGFjdCBzdHJ1Y3R1cmVcbiAgICBjb25zdCBpbnZhbGlkQ29udGFjdHMgPSBjb250YWN0cy5maWx0ZXIoXG4gICAgICAoY29udGFjdCkgPT4gIWNvbnRhY3QucGhvbmUgfHwgdHlwZW9mIGNvbnRhY3QucGhvbmUgIT09ICdzdHJpbmcnXG4gICAgKTtcblxuICAgIGlmIChpbnZhbGlkQ29udGFjdHMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7XG4gICAgICAgICAgZXJyb3I6ICdBbGwgY29udGFjdHMgbXVzdCBoYXZlIGEgdmFsaWQgcGhvbmUgbnVtYmVyJyxcbiAgICAgICAgICBpbnZhbGlkQ291bnQ6IGludmFsaWRDb250YWN0cy5sZW5ndGhcbiAgICAgICAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIFNldCBkZWZhdWx0IGltcG9ydCBvcHRpb25zXG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgIHVwZGF0ZUV4aXN0aW5nOiBpbXBvcnRPcHRpb25zPy51cGRhdGVFeGlzdGluZyA/PyBmYWxzZSxcbiAgICAgIHNraXBEdXBsaWNhdGVzOiBpbXBvcnRPcHRpb25zPy5za2lwRHVwbGljYXRlcyA/PyB0cnVlLFxuICAgICAgdmFsaWRhdGVQaG9uZTogaW1wb3J0T3B0aW9ucz8udmFsaWRhdGVQaG9uZSA/PyB0cnVlXG4gICAgfTtcblxuICAgIC8vIFByZXBhcmUgam9iIGRhdGFcbiAgICBjb25zdCBqb2JEYXRhOiBDb250YWN0SW1wb3J0Sm9iRGF0YSA9IHtcbiAgICAgIG9yZ2FuaXphdGlvbklkOiBwcm9maWxlLm9yZ2FuaXphdGlvbl9pZCxcbiAgICAgIHVzZXJJZDogdXNlci5pZCxcbiAgICAgIGNvbnRhY3RzOiBjb250YWN0cy5tYXAoKGNvbnRhY3QpID0+ICh7XG4gICAgICAgIHBob25lOiBjb250YWN0LnBob25lLFxuICAgICAgICBuYW1lOiBjb250YWN0Lm5hbWUsXG4gICAgICAgIGVtYWlsOiBjb250YWN0LmVtYWlsLFxuICAgICAgICB0YWdzOiBjb250YWN0LnRhZ3MgfHwgW10sXG4gICAgICAgIGN1c3RvbUZpZWxkczogY29udGFjdC5jdXN0b21GaWVsZHMgfHwge31cbiAgICAgIH0pKSxcbiAgICAgIGltcG9ydE9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICByZXF1ZXN0ZWRCeTogdXNlci5lbWFpbCxcbiAgICAgICAgcmVxdWVzdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgc291cmNlOiAnYXBpJ1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBHZXQgcXVldWUgbWFuYWdlciBhbmQgYWRkIGpvYlxuICAgIGNvbnN0IHF1ZXVlTWFuYWdlciA9IGdldFF1ZXVlTWFuYWdlcigpO1xuICAgIGNvbnN0IGpvYklkID0gYXdhaXQgcXVldWVNYW5hZ2VyLmFkZEpvYihcbiAgICAgIFF1ZXVlTmFtZS5DT05UQUNUX0lNUE9SVCxcbiAgICAgICdpbXBvcnQtY29udGFjdHMnLFxuICAgICAgam9iRGF0YSxcbiAgICAgIHtcbiAgICAgICAgcHJpb3JpdHk6IEpvYlByaW9yaXR5Lk5PUk1BTFxuICAgICAgfVxuICAgICk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGpvYklkLFxuICAgICAgICBtZXNzYWdlOiBgQ29udGFjdCBpbXBvcnQgam9iIHF1ZXVlZCBmb3IgJHtjb250YWN0cy5sZW5ndGh9IGNvbnRhY3RzYFxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiAyMDIgfVxuICAgICk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcXVldWluZyBjb250YWN0IGltcG9ydCBqb2I6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHtcbiAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gcXVldWUgY29udGFjdCBpbXBvcnQgam9iJyxcbiAgICAgICAgZGV0YWlsczogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcidcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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