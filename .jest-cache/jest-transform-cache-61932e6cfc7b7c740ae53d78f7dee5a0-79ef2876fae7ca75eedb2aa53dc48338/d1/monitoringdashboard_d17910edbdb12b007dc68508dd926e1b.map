{"version":3,"names":["cov_9daxm52h2","actualCoverage","s","MonitoringDashboard","isAdmin","f","alerts","setAlerts","_react","useState","rules","setRules","loading","setLoading","activeTab","setActiveTab","metrics","setMetrics","useEffect","fetchAlerts","fetchMetrics","b","fetchRules","interval","setInterval","clearInterval","response","fetch","ok","data","json","error","console","resolveAlert","alertId","method","headers","body","JSON","stringify","resolved","filter","alert","id","getSeverityColor","severity","getStatusColor","status","_jsxruntime","jsx","className","jsxs","Date","toLocaleTimeString","map","tab","onClick","charAt","toUpperCase","slice","length","title","type","description","timestamp","toLocaleString","Math","floor","uptime","environment","version","system","memory","used","total","style","width","percentage","Object","entries","services","service","responseTime","rule","name","enabled","cooldown"],"sources":["C:\\Ai Projecten\\ADSapp\\src\\components\\monitoring\\monitoring-dashboard.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { Alert, AlertRule } from '@/lib/monitoring/alerts'\n\ninterface MonitoringDashboardProps {\n  isAdmin: boolean\n}\n\nexport function MonitoringDashboard({ isAdmin }: MonitoringDashboardProps) {\n  const [alerts, setAlerts] = useState<Alert[]>([])\n  const [rules, setRules] = useState<AlertRule[]>([])\n  const [loading, setLoading] = useState(true)\n  const [activeTab, setActiveTab] = useState<'alerts' | 'rules' | 'metrics'>('alerts')\n  const [metrics, setMetrics] = useState<any>({})\n\n  useEffect(() => {\n    fetchAlerts()\n    fetchMetrics()\n    if (isAdmin) {\n      fetchRules()\n    }\n\n    // Refresh every 30 seconds\n    const interval = setInterval(() => {\n      fetchAlerts()\n      fetchMetrics()\n    }, 30000)\n\n    return () => clearInterval(interval)\n  }, [isAdmin])\n\n  const fetchAlerts = async () => {\n    try {\n      const response = await fetch('/api/alerts?resolved=false')\n      if (response.ok) {\n        const data = await response.json()\n        setAlerts(data.alerts)\n      }\n    } catch (error) {\n      console.error('Failed to fetch alerts:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const fetchRules = async () => {\n    try {\n      const response = await fetch('/api/alerts/rules')\n      if (response.ok) {\n        const data = await response.json()\n        setRules(data.rules)\n      }\n    } catch (error) {\n      console.error('Failed to fetch rules:', error)\n    }\n  }\n\n  const fetchMetrics = async () => {\n    try {\n      const response = await fetch('/api/health')\n      if (response.ok) {\n        const data = await response.json()\n        setMetrics(data)\n      }\n    } catch (error) {\n      console.error('Failed to fetch metrics:', error)\n    }\n  }\n\n  const resolveAlert = async (alertId: string) => {\n    try {\n      const response = await fetch(`/api/alerts?id=${alertId}`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ resolved: true })\n      })\n\n      if (response.ok) {\n        setAlerts(alerts.filter(alert => alert.id !== alertId))\n      }\n    } catch (error) {\n      console.error('Failed to resolve alert:', error)\n    }\n  }\n\n  const getSeverityColor = (severity: string) => {\n    switch (severity) {\n      case 'critical': return 'text-red-600 bg-red-50 border-red-200'\n      case 'high': return 'text-orange-600 bg-orange-50 border-orange-200'\n      case 'medium': return 'text-yellow-600 bg-yellow-50 border-yellow-200'\n      case 'low': return 'text-green-600 bg-green-50 border-green-200'\n      default: return 'text-gray-600 bg-gray-50 border-gray-200'\n    }\n  }\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'up': return 'text-green-600'\n      case 'down': return 'text-red-600'\n      case 'degraded': return 'text-yellow-600'\n      default: return 'text-gray-600'\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center p-8\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">System Monitoring</h1>\n        <div className=\"flex items-center space-x-2\">\n          <div className=\"flex items-center space-x-1\">\n            <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\n            <span className=\"text-sm text-gray-600\">System Healthy</span>\n          </div>\n          <span className=\"text-sm text-gray-500\">\n            Last updated: {new Date().toLocaleTimeString()}\n          </span>\n        </div>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"border-b border-gray-200\">\n        <nav className=\"-mb-px flex space-x-8\">\n          {['alerts', 'metrics', 'rules'].map((tab) => (\n            <button\n              key={tab}\n              onClick={() => setActiveTab(tab as any)}\n              className={`py-2 px-1 border-b-2 font-medium text-sm ${\n                activeTab === tab\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              {tab.charAt(0).toUpperCase() + tab.slice(1)}\n              {tab === 'alerts' && alerts.length > 0 && (\n                <span className=\"ml-2 bg-red-100 text-red-600 py-0.5 px-2 rounded-full text-xs\">\n                  {alerts.length}\n                </span>\n              )}\n            </button>\n          ))}\n        </nav>\n      </div>\n\n      {/* Active Alerts Tab */}\n      {activeTab === 'alerts' && (\n        <div className=\"space-y-4\">\n          {alerts.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <div className=\"text-green-500 text-4xl mb-2\">âœ…</div>\n              <h3 className=\"text-lg font-medium text-gray-900\">No Active Alerts</h3>\n              <p className=\"text-gray-500\">All systems are operating normally</p>\n            </div>\n          ) : (\n            alerts.map((alert) => (\n              <div\n                key={alert.id}\n                className={`p-4 border rounded-lg ${getSeverityColor(alert.severity)}`}\n              >\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center space-x-2 mb-2\">\n                      <h3 className=\"font-medium\">{alert.title}</h3>\n                      <span className={`px-2 py-1 text-xs font-medium rounded-full border ${getSeverityColor(alert.severity)}`}>\n                        {alert.severity.toUpperCase()}\n                      </span>\n                      <span className=\"text-xs text-gray-500\">{alert.type}</span>\n                    </div>\n                    <p className=\"text-sm mb-2\">{alert.description}</p>\n                    <p className=\"text-xs text-gray-500\">\n                      {new Date(alert.timestamp).toLocaleString()}\n                    </p>\n                  </div>\n                  <button\n                    onClick={() => resolveAlert(alert.id)}\n                    className=\"ml-4 px-3 py-1 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50\"\n                  >\n                    Resolve\n                  </button>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      )}\n\n      {/* Metrics Tab */}\n      {activeTab === 'metrics' && (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {/* System Status */}\n          <div className=\"bg-white p-6 border rounded-lg\">\n            <h3 className=\"text-lg font-medium mb-4\">System Status</h3>\n            <div className=\"space-y-3\">\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-sm text-gray-600\">Uptime</span>\n                <span className=\"font-medium\">{Math.floor(metrics.uptime / 3600)}h</span>\n              </div>\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-sm text-gray-600\">Environment</span>\n                <span className=\"font-medium\">{metrics.environment}</span>\n              </div>\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-sm text-gray-600\">Version</span>\n                <span className=\"font-medium\">{metrics.version}</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Memory Usage */}\n          <div className=\"bg-white p-6 border rounded-lg\">\n            <h3 className=\"text-lg font-medium mb-4\">Memory Usage</h3>\n            <div className=\"space-y-3\">\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-sm text-gray-600\">Used</span>\n                <span className=\"font-medium\">{metrics.system?.memory?.used}MB</span>\n              </div>\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-sm text-gray-600\">Total</span>\n                <span className=\"font-medium\">{metrics.system?.memory?.total}MB</span>\n              </div>\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                <div\n                  className=\"bg-blue-600 h-2 rounded-full\"\n                  style={{ width: `${metrics.system?.memory?.percentage || 0}%` }}\n                ></div>\n              </div>\n            </div>\n          </div>\n\n          {/* Services Status */}\n          <div className=\"bg-white p-6 border rounded-lg\">\n            <h3 className=\"text-lg font-medium mb-4\">Services</h3>\n            <div className=\"space-y-3\">\n              {Object.entries(metrics.services || {}).map(([service, status]: [string, any]) => (\n                <div key={service} className=\"flex justify-between items-center\">\n                  <span className=\"text-sm text-gray-600 capitalize\">{service}</span>\n                  <span className={`font-medium ${getStatusColor(status.status)}`}>\n                    {status.status}\n                  </span>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          {/* Response Times */}\n          <div className=\"bg-white p-6 border rounded-lg\">\n            <h3 className=\"text-lg font-medium mb-4\">Response Times</h3>\n            <div className=\"space-y-3\">\n              {Object.entries(metrics.services || {}).map(([service, status]: [string, any]) => (\n                status.responseTime && (\n                  <div key={service} className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-600 capitalize\">{service}</span>\n                    <span className=\"font-medium\">{status.responseTime}ms</span>\n                  </div>\n                )\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Rules Tab (Admin Only) */}\n      {activeTab === 'rules' && isAdmin && (\n        <div className=\"space-y-4\">\n          {rules.map((rule) => (\n            <div key={rule.id} className=\"bg-white p-4 border rounded-lg\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <h3 className=\"font-medium\">{rule.name}</h3>\n                <div className=\"flex items-center space-x-2\">\n                  <span className={`px-2 py-1 text-xs font-medium rounded-full ${\n                    rule.enabled ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'\n                  }`}>\n                    {rule.enabled ? 'Enabled' : 'Disabled'}\n                  </span>\n                  <span className={`px-2 py-1 text-xs font-medium rounded-full border ${getSeverityColor(rule.severity)}`}>\n                    {rule.severity.toUpperCase()}\n                  </span>\n                </div>\n              </div>\n              <p className=\"text-sm text-gray-600 mb-2\">{rule.description}</p>\n              <div className=\"flex items-center justify-between text-xs text-gray-500\">\n                <span>Type: {rule.type}</span>\n                <span>Cooldown: {rule.cooldown} minutes</span>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  )\n}"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAWS;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAAAA,aAAA,GAAAE,CAAA;;;;;;+BAFO;;;;;;WAAAC,mBAAA;;;;;;;;iCAPoB;AAO7B,SAASA,oBAAoB;EAAEC;AAAO,CAA4B;EAAA;EAAAJ,aAAA,GAAAK,CAAA;EACvE,MAAM,CAACC,MAAA,EAAQC,SAAA,CAAU;EAAA;EAAA,CAAAP,aAAA,GAAAE,CAAA,OAAG,IAAAM,MAAA,CAAAC,QAAQ,EAAU,EAAE;EAChD,MAAM,CAACC,KAAA,EAAOC,QAAA,CAAS;EAAA;EAAA,CAAAX,aAAA,GAAAE,CAAA,OAAG,IAAAM,MAAA,CAAAC,QAAQ,EAAc,EAAE;EAClD,MAAM,CAACG,OAAA,EAASC,UAAA,CAAW;EAAA;EAAA,CAAAb,aAAA,GAAAE,CAAA,OAAG,IAAAM,MAAA,CAAAC,QAAQ,EAAC;EACvC,MAAM,CAACK,SAAA,EAAWC,YAAA,CAAa;EAAA;EAAA,CAAAf,aAAA,GAAAE,CAAA,OAAG,IAAAM,MAAA,CAAAC,QAAQ,EAAiC;EAC3E,MAAM,CAACO,OAAA,EAASC,UAAA,CAAW;EAAA;EAAA,CAAAjB,aAAA,GAAAE,CAAA,OAAG,IAAAM,MAAA,CAAAC,QAAQ,EAAM,CAAC;EAAA;EAAAT,aAAA,GAAAE,CAAA;EAE7C,IAAAM,MAAA,CAAAU,SAAS,EAAC;IAAA;IAAAlB,aAAA,GAAAK,CAAA;IAAAL,aAAA,GAAAE,CAAA;IACRiB,WAAA;IAAA;IAAAnB,aAAA,GAAAE,CAAA;IACAkB,YAAA;IAAA;IAAApB,aAAA,GAAAE,CAAA;IACA,IAAIE,OAAA,EAAS;MAAA;MAAAJ,aAAA,GAAAqB,CAAA;MAAArB,aAAA,GAAAE,CAAA;MACXoB,UAAA;IACF;IAAA;IAAA;MAAAtB,aAAA,GAAAqB,CAAA;IAAA;IAEA;IACA,MAAME,QAAA;IAAA;IAAA,CAAAvB,aAAA,GAAAE,CAAA,QAAWsB,WAAA,CAAY;MAAA;MAAAxB,aAAA,GAAAK,CAAA;MAAAL,aAAA,GAAAE,CAAA;MAC3BiB,WAAA;MAAA;MAAAnB,aAAA,GAAAE,CAAA;MACAkB,YAAA;IACF,GAAG;IAAA;IAAApB,aAAA,GAAAE,CAAA;IAEH,OAAO,MAAM;MAAA;MAAAF,aAAA,GAAAK,CAAA;MAAAL,aAAA,GAAAE,CAAA;MAAA,OAAAuB,aAAA,CAAcF,QAAA;IAAA;EAC7B,GAAG,CAACnB,OAAA,CAAQ;EAAA;EAAAJ,aAAA,GAAAE,CAAA;EAEZ,MAAMiB,WAAA,GAAc,MAAAA,CAAA;IAAA;IAAAnB,aAAA,GAAAK,CAAA;IAAAL,aAAA,GAAAE,CAAA;IAClB,IAAI;MACF,MAAMwB,QAAA;MAAA;MAAA,CAAA1B,aAAA,GAAAE,CAAA,QAAW,MAAMyB,KAAA,CAAM;MAAA;MAAA3B,aAAA,GAAAE,CAAA;MAC7B,IAAIwB,QAAA,CAASE,EAAE,EAAE;QAAA;QAAA5B,aAAA,GAAAqB,CAAA;QACf,MAAMQ,IAAA;QAAA;QAAA,CAAA7B,aAAA,GAAAE,CAAA,QAAO,MAAMwB,QAAA,CAASI,IAAI;QAAA;QAAA9B,aAAA,GAAAE,CAAA;QAChCK,SAAA,CAAUsB,IAAA,CAAKvB,MAAM;MACvB;MAAA;MAAA;QAAAN,aAAA,GAAAqB,CAAA;MAAA;IACF,EAAE,OAAOU,KAAA,EAAO;MAAA;MAAA/B,aAAA,GAAAE,CAAA;MACd8B,OAAA,CAAQD,KAAK,CAAC,2BAA2BA,KAAA;IAC3C,UAAU;MAAA;MAAA/B,aAAA,GAAAE,CAAA;MACRW,UAAA,CAAW;IACb;EACF;EAAA;EAAAb,aAAA,GAAAE,CAAA;EAEA,MAAMoB,UAAA,GAAa,MAAAA,CAAA;IAAA;IAAAtB,aAAA,GAAAK,CAAA;IAAAL,aAAA,GAAAE,CAAA;IACjB,IAAI;MACF,MAAMwB,QAAA;MAAA;MAAA,CAAA1B,aAAA,GAAAE,CAAA,QAAW,MAAMyB,KAAA,CAAM;MAAA;MAAA3B,aAAA,GAAAE,CAAA;MAC7B,IAAIwB,QAAA,CAASE,EAAE,EAAE;QAAA;QAAA5B,aAAA,GAAAqB,CAAA;QACf,MAAMQ,IAAA;QAAA;QAAA,CAAA7B,aAAA,GAAAE,CAAA,QAAO,MAAMwB,QAAA,CAASI,IAAI;QAAA;QAAA9B,aAAA,GAAAE,CAAA;QAChCS,QAAA,CAASkB,IAAA,CAAKnB,KAAK;MACrB;MAAA;MAAA;QAAAV,aAAA,GAAAqB,CAAA;MAAA;IACF,EAAE,OAAOU,KAAA,EAAO;MAAA;MAAA/B,aAAA,GAAAE,CAAA;MACd8B,OAAA,CAAQD,KAAK,CAAC,0BAA0BA,KAAA;IAC1C;EACF;EAAA;EAAA/B,aAAA,GAAAE,CAAA;EAEA,MAAMkB,YAAA,GAAe,MAAAA,CAAA;IAAA;IAAApB,aAAA,GAAAK,CAAA;IAAAL,aAAA,GAAAE,CAAA;IACnB,IAAI;MACF,MAAMwB,QAAA;MAAA;MAAA,CAAA1B,aAAA,GAAAE,CAAA,QAAW,MAAMyB,KAAA,CAAM;MAAA;MAAA3B,aAAA,GAAAE,CAAA;MAC7B,IAAIwB,QAAA,CAASE,EAAE,EAAE;QAAA;QAAA5B,aAAA,GAAAqB,CAAA;QACf,MAAMQ,IAAA;QAAA;QAAA,CAAA7B,aAAA,GAAAE,CAAA,QAAO,MAAMwB,QAAA,CAASI,IAAI;QAAA;QAAA9B,aAAA,GAAAE,CAAA;QAChCe,UAAA,CAAWY,IAAA;MACb;MAAA;MAAA;QAAA7B,aAAA,GAAAqB,CAAA;MAAA;IACF,EAAE,OAAOU,KAAA,EAAO;MAAA;MAAA/B,aAAA,GAAAE,CAAA;MACd8B,OAAA,CAAQD,KAAK,CAAC,4BAA4BA,KAAA;IAC5C;EACF;EAAA;EAAA/B,aAAA,GAAAE,CAAA;EAEA,MAAM+B,YAAA,GAAe,MAAOC,OAAA;IAAA;IAAAlC,aAAA,GAAAK,CAAA;IAAAL,aAAA,GAAAE,CAAA;IAC1B,IAAI;MACF,MAAMwB,QAAA;MAAA;MAAA,CAAA1B,aAAA,GAAAE,CAAA,QAAW,MAAMyB,KAAA,CAAM,kBAAkBO,OAAA,EAAS,EAAE;QACxDC,MAAA,EAAQ;QACRC,OAAA,EAAS;UAAE,gBAAgB;QAAmB;QAC9CC,IAAA,EAAMC,IAAA,CAAKC,SAAS,CAAC;UAAEC,QAAA,EAAU;QAAK;MACxC;MAAA;MAAAxC,aAAA,GAAAE,CAAA;MAEA,IAAIwB,QAAA,CAASE,EAAE,EAAE;QAAA;QAAA5B,aAAA,GAAAqB,CAAA;QAAArB,aAAA,GAAAE,CAAA;QACfK,SAAA,CAAUD,MAAA,CAAOmC,MAAM,CAACC,KAAA,IAAS;UAAA;UAAA1C,aAAA,GAAAK,CAAA;UAAAL,aAAA,GAAAE,CAAA;UAAA,OAAAwC,KAAA,CAAMC,EAAE,KAAKT,OAAA;QAAA;MAChD;MAAA;MAAA;QAAAlC,aAAA,GAAAqB,CAAA;MAAA;IACF,EAAE,OAAOU,KAAA,EAAO;MAAA;MAAA/B,aAAA,GAAAE,CAAA;MACd8B,OAAA,CAAQD,KAAK,CAAC,4BAA4BA,KAAA;IAC5C;EACF;EAAA;EAAA/B,aAAA,GAAAE,CAAA;EAEA,MAAM0C,gBAAA,GAAoBC,QAAA;IAAA;IAAA7C,aAAA,GAAAK,CAAA;IAAAL,aAAA,GAAAE,CAAA;IACxB,QAAQ2C,QAAA;MACN,KAAK;QAAA;QAAA7C,aAAA,GAAAqB,CAAA;QAAArB,aAAA,GAAAE,CAAA;QAAY,OAAO;MACxB,KAAK;QAAA;QAAAF,aAAA,GAAAqB,CAAA;QAAArB,aAAA,GAAAE,CAAA;QAAQ,OAAO;MACpB,KAAK;QAAA;QAAAF,aAAA,GAAAqB,CAAA;QAAArB,aAAA,GAAAE,CAAA;QAAU,OAAO;MACtB,KAAK;QAAA;QAAAF,aAAA,GAAAqB,CAAA;QAAArB,aAAA,GAAAE,CAAA;QAAO,OAAO;MACnB;QAAA;QAAAF,aAAA,GAAAqB,CAAA;QAAArB,aAAA,GAAAE,CAAA;QAAS,OAAO;IAClB;EACF;EAAA;EAAAF,aAAA,GAAAE,CAAA;EAEA,MAAM4C,cAAA,GAAkBC,MAAA;IAAA;IAAA/C,aAAA,GAAAK,CAAA;IAAAL,aAAA,GAAAE,CAAA;IACtB,QAAQ6C,MAAA;MACN,KAAK;QAAA;QAAA/C,aAAA,GAAAqB,CAAA;QAAArB,aAAA,GAAAE,CAAA;QAAM,OAAO;MAClB,KAAK;QAAA;QAAAF,aAAA,GAAAqB,CAAA;QAAArB,aAAA,GAAAE,CAAA;QAAQ,OAAO;MACpB,KAAK;QAAA;QAAAF,aAAA,GAAAqB,CAAA;QAAArB,aAAA,GAAAE,CAAA;QAAY,OAAO;MACxB;QAAA;QAAAF,aAAA,GAAAqB,CAAA;QAAArB,aAAA,GAAAE,CAAA;QAAS,OAAO;IAClB;EACF;EAAA;EAAAF,aAAA,GAAAE,CAAA;EAEA,IAAIU,OAAA,EAAS;IAAA;IAAAZ,aAAA,GAAAqB,CAAA;IAAArB,aAAA,GAAAE,CAAA;IACX,oBACE,IAAA8C,WAAA,CAAAC,GAAA,EAAC;MAAIC,SAAA,EAAU;gBACb,iBAAAF,WAAA,CAAAC,GAAA,EAAC;QAAIC,SAAA,EAAU;;;EAGrB;EAAA;EAAA;IAAAlD,aAAA,GAAAqB,CAAA;EAAA;EAAArB,aAAA,GAAAE,CAAA;EAEA,oBACE,IAAA8C,WAAA,CAAAG,IAAA,EAAC;IAAID,SAAA,EAAU;4BAEb,IAAAF,WAAA,CAAAG,IAAA,EAAC;MAAID,SAAA,EAAU;8BACb,IAAAF,WAAA,CAAAC,GAAA,EAAC;QAAGC,SAAA,EAAU;kBAAmC;uBACjD,IAAAF,WAAA,CAAAG,IAAA,EAAC;QAAID,SAAA,EAAU;gCACb,IAAAF,WAAA,CAAAG,IAAA,EAAC;UAAID,SAAA,EAAU;kCACb,IAAAF,WAAA,CAAAC,GAAA,EAAC;YAAIC,SAAA,EAAU;2BACf,IAAAF,WAAA,CAAAC,GAAA,EAAC;YAAKC,SAAA,EAAU;sBAAwB;;yBAE1C,IAAAF,WAAA,CAAAG,IAAA,EAAC;UAAKD,SAAA,EAAU;qBAAwB,kBACvB,IAAIE,IAAA,GAAOC,kBAAkB;;;qBAMlD,IAAAL,WAAA,CAAAC,GAAA,EAAC;MAAIC,SAAA,EAAU;gBACb,iBAAAF,WAAA,CAAAC,GAAA,EAAC;QAAIC,SAAA,EAAU;kBACZ,CAAC,UAAU,WAAW,QAAQ,CAACI,GAAG,CAAEC,GAAA,IACnC;UAAA;UAAAvD,aAAA,GAAAK,CAAA;UAAAL,aAAA,GAAAE,CAAA;UAAA,OADmC,aACnC,IAAA8C,WAAA,CAAAG,IAAA,EAAC;YAECK,OAAA,EAASA,CAAA,KAAM;cAAA;cAAAxD,aAAA,GAAAK,CAAA;cAAAL,aAAA,GAAAE,CAAA;cAAA,OAAAa,YAAA,CAAawC,GAAA;YAAA;YAC5BL,SAAA,EAAW,4CACTpC,SAAA,KAAcyC,GAAA;YAAA;YAAA,CAAAvD,aAAA,GAAAqB,CAAA,UACV;YAAA;YAAA,CAAArB,aAAA,GAAAqB,CAAA,UACA,+EACJ;uBAEDkC,GAAA,CAAIE,MAAM,CAAC,GAAGC,WAAW,KAAKH,GAAA,CAAII,KAAK,CAAC;YACxC;YAAA,CAAA3D,aAAA,GAAAqB,CAAA,UAAAkC,GAAA,KAAQ;YAAA;YAAA,CAAAvD,aAAA,GAAAqB,CAAA,UAAYf,MAAA,CAAOsD,MAAM,GAAG;YAAA;YAAA,CAAA5D,aAAA,GAAAqB,CAAA,uBACnC,IAAA2B,WAAA,CAAAC,GAAA,EAAC;cAAKC,SAAA,EAAU;wBACb5C,MAAA,CAAOsD;;aAXPL,GAAA;QAAA;;;IAoBZ;IAAA,CAAAvD,aAAA,GAAAqB,CAAA,WAAAP,SAAA,KAAc;IAAA;IAAA,CAAAd,aAAA,GAAAqB,CAAA,wBACb,IAAA2B,WAAA,CAAAC,GAAA,EAAC;MAAIC,SAAA,EAAU;gBACZ5C,MAAA,CAAOsD,MAAM,KAAK;MAAA;MAAA,cAAA5D,aAAA,GAAAqB,CAAA,WACjB,IAAA2B,WAAA,CAAAG,IAAA,EAAC;QAAID,SAAA,EAAU;gCACb,IAAAF,WAAA,CAAAC,GAAA,EAAC;UAAIC,SAAA,EAAU;oBAA+B;yBAC9C,IAAAF,WAAA,CAAAC,GAAA,EAAC;UAAGC,SAAA,EAAU;oBAAoC;yBAClD,IAAAF,WAAA,CAAAC,GAAA,EAAC;UAAEC,SAAA,EAAU;oBAAgB;;;;mCAG/B5C,MAAA,CAAOgD,GAAG,CAAEZ,KAAA,IACV;QAAA;QAAA1C,aAAA,GAAAK,CAAA;QAAAL,aAAA,GAAAE,CAAA;QAAA,OADU,aACV,IAAA8C,WAAA,CAAAC,GAAA,EAAC;UAECC,SAAA,EAAW,yBAAyBN,gBAAA,CAAiBF,KAAA,CAAMG,QAAQ,GAAG;oBAEtE,iBAAAG,WAAA,CAAAG,IAAA,EAAC;YAAID,SAAA,EAAU;oCACb,IAAAF,WAAA,CAAAG,IAAA,EAAC;cAAID,SAAA,EAAU;sCACb,IAAAF,WAAA,CAAAG,IAAA,EAAC;gBAAID,SAAA,EAAU;wCACb,IAAAF,WAAA,CAAAC,GAAA,EAAC;kBAAGC,SAAA,EAAU;4BAAeR,KAAA,CAAMmB;iCACnC,IAAAb,WAAA,CAAAC,GAAA,EAAC;kBAAKC,SAAA,EAAW,qDAAqDN,gBAAA,CAAiBF,KAAA,CAAMG,QAAQ,GAAG;4BACrGH,KAAA,CAAMG,QAAQ,CAACa,WAAW;iCAE7B,IAAAV,WAAA,CAAAC,GAAA,EAAC;kBAAKC,SAAA,EAAU;4BAAyBR,KAAA,CAAMoB;;+BAEjD,IAAAd,WAAA,CAAAC,GAAA,EAAC;gBAAEC,SAAA,EAAU;0BAAgBR,KAAA,CAAMqB;+BACnC,IAAAf,WAAA,CAAAC,GAAA,EAAC;gBAAEC,SAAA,EAAU;0BACV,IAAIE,IAAA,CAAKV,KAAA,CAAMsB,SAAS,EAAEC,cAAc;;6BAG7C,IAAAjB,WAAA,CAAAC,GAAA,EAAC;cACCO,OAAA,EAASA,CAAA,KAAM;gBAAA;gBAAAxD,aAAA,GAAAK,CAAA;gBAAAL,aAAA,GAAAE,CAAA;gBAAA,OAAA+B,YAAA,CAAaS,KAAA,CAAMC,EAAE;cAAA;cACpCO,SAAA,EAAU;wBACX;;;WApBER,KAAA,CAAMC,EAAE;MAAA;;IA+BtB;IAAA,CAAA3C,aAAA,GAAAqB,CAAA,WAAAP,SAAA,KAAc;IAAA;IAAA,CAAAd,aAAA,GAAAqB,CAAA,wBACb,IAAA2B,WAAA,CAAAG,IAAA,EAAC;MAAID,SAAA,EAAU;8BAEb,IAAAF,WAAA,CAAAG,IAAA,EAAC;QAAID,SAAA,EAAU;gCACb,IAAAF,WAAA,CAAAC,GAAA,EAAC;UAAGC,SAAA,EAAU;oBAA2B;yBACzC,IAAAF,WAAA,CAAAG,IAAA,EAAC;UAAID,SAAA,EAAU;kCACb,IAAAF,WAAA,CAAAG,IAAA,EAAC;YAAID,SAAA,EAAU;oCACb,IAAAF,WAAA,CAAAC,GAAA,EAAC;cAAKC,SAAA,EAAU;wBAAwB;6BACxC,IAAAF,WAAA,CAAAG,IAAA,EAAC;cAAKD,SAAA,EAAU;yBAAegB,IAAA,CAAKC,KAAK,CAACnD,OAAA,CAAQoD,MAAM,GAAG,OAAM;;2BAEnE,IAAApB,WAAA,CAAAG,IAAA,EAAC;YAAID,SAAA,EAAU;oCACb,IAAAF,WAAA,CAAAC,GAAA,EAAC;cAAKC,SAAA,EAAU;wBAAwB;6BACxC,IAAAF,WAAA,CAAAC,GAAA,EAAC;cAAKC,SAAA,EAAU;wBAAelC,OAAA,CAAQqD;;2BAEzC,IAAArB,WAAA,CAAAG,IAAA,EAAC;YAAID,SAAA,EAAU;oCACb,IAAAF,WAAA,CAAAC,GAAA,EAAC;cAAKC,SAAA,EAAU;wBAAwB;6BACxC,IAAAF,WAAA,CAAAC,GAAA,EAAC;cAAKC,SAAA,EAAU;wBAAelC,OAAA,CAAQsD;;;;uBAM7C,IAAAtB,WAAA,CAAAG,IAAA,EAAC;QAAID,SAAA,EAAU;gCACb,IAAAF,WAAA,CAAAC,GAAA,EAAC;UAAGC,SAAA,EAAU;oBAA2B;yBACzC,IAAAF,WAAA,CAAAG,IAAA,EAAC;UAAID,SAAA,EAAU;kCACb,IAAAF,WAAA,CAAAG,IAAA,EAAC;YAAID,SAAA,EAAU;oCACb,IAAAF,WAAA,CAAAC,GAAA,EAAC;cAAKC,SAAA,EAAU;wBAAwB;6BACxC,IAAAF,WAAA,CAAAG,IAAA,EAAC;cAAKD,SAAA,EAAU;yBAAelC,OAAA,CAAQuD,MAAM,EAAEC,MAAA,EAAQC,IAAA,EAAK;;2BAE9D,IAAAzB,WAAA,CAAAG,IAAA,EAAC;YAAID,SAAA,EAAU;oCACb,IAAAF,WAAA,CAAAC,GAAA,EAAC;cAAKC,SAAA,EAAU;wBAAwB;6BACxC,IAAAF,WAAA,CAAAG,IAAA,EAAC;cAAKD,SAAA,EAAU;yBAAelC,OAAA,CAAQuD,MAAM,EAAEC,MAAA,EAAQE,KAAA,EAAM;;2BAE/D,IAAA1B,WAAA,CAAAC,GAAA,EAAC;YAAIC,SAAA,EAAU;sBACb,iBAAAF,WAAA,CAAAC,GAAA,EAAC;cACCC,SAAA,EAAU;cACVyB,KAAA,EAAO;gBAAEC,KAAA,EAAO;gBAAG;gBAAA,CAAA5E,aAAA,GAAAqB,CAAA,WAAAL,OAAA,CAAQuD,MAAM,EAAEC,MAAA,EAAQK,UAAA;gBAAA;gBAAA,CAAA7E,aAAA,GAAAqB,CAAA,WAAc;cAAK;;;;uBAOtE,IAAA2B,WAAA,CAAAG,IAAA,EAAC;QAAID,SAAA,EAAU;gCACb,IAAAF,WAAA,CAAAC,GAAA,EAAC;UAAGC,SAAA,EAAU;oBAA2B;yBACzC,IAAAF,WAAA,CAAAC,GAAA,EAAC;UAAIC,SAAA,EAAU;oBACZ4B,MAAA,CAAOC,OAAO;UAAC;UAAA,CAAA/E,aAAA,GAAAqB,CAAA,WAAAL,OAAA,CAAQgE,QAAQ;UAAA;UAAA,CAAAhF,aAAA,GAAAqB,CAAA,WAAI,CAAC,IAAGiC,GAAG,CAAC,CAAC,CAAC2B,OAAA,EAASlC,MAAA,CAAsB,KAC3E;YAAA;YAAA/C,aAAA,GAAAK,CAAA;YAAAL,aAAA,GAAAE,CAAA;YAAA,OAD2E,aAC3E,IAAA8C,WAAA,CAAAG,IAAA,EAAC;cAAkBD,SAAA,EAAU;sCAC3B,IAAAF,WAAA,CAAAC,GAAA,EAAC;gBAAKC,SAAA,EAAU;0BAAoC+B;+BACpD,IAAAjC,WAAA,CAAAC,GAAA,EAAC;gBAAKC,SAAA,EAAW,eAAeJ,cAAA,CAAeC,MAAA,CAAOA,MAAM,GAAG;0BAC5DA,MAAA,CAAOA;;eAHFkC,OAAA;UAAA;;uBAWhB,IAAAjC,WAAA,CAAAG,IAAA,EAAC;QAAID,SAAA,EAAU;gCACb,IAAAF,WAAA,CAAAC,GAAA,EAAC;UAAGC,SAAA,EAAU;oBAA2B;yBACzC,IAAAF,WAAA,CAAAC,GAAA,EAAC;UAAIC,SAAA,EAAU;oBACZ4B,MAAA,CAAOC,OAAO;UAAC;UAAA,CAAA/E,aAAA,GAAAqB,CAAA,WAAAL,OAAA,CAAQgE,QAAQ;UAAA;UAAA,CAAAhF,aAAA,GAAAqB,CAAA,WAAI,CAAC,IAAGiC,GAAG,CAAC,CAAC,CAAC2B,OAAA,EAASlC,MAAA,CAAsB,KAC3E;YAAA;YAAA/C,aAAA,GAAAK,CAAA;YAAAL,aAAA,GAAAE,CAAA;YAAA,kCAAAF,aAAA,GAAAqB,CAAA,WAAA0B,MAAA,CAAOmC,YAAY;YAAA;YAAA,CAAAlF,aAAA,GAAAqB,CAAA,wBACjB,IAAA2B,WAAA,CAAAG,IAAA,EAAC;cAAkBD,SAAA,EAAU;sCAC3B,IAAAF,WAAA,CAAAC,GAAA,EAAC;gBAAKC,SAAA,EAAU;0BAAoC+B;+BACpD,IAAAjC,WAAA,CAAAG,IAAA,EAAC;gBAAKD,SAAA,EAAU;2BAAeH,MAAA,CAAOmC,YAAY,EAAC;;eAF3CD,OAAA;UAAA;;;;IAYrB;IAAA,CAAAjF,aAAA,GAAAqB,CAAA,WAAAP,SAAA,KAAc;IAAA;IAAA,CAAAd,aAAA,GAAAqB,CAAA,WAAWjB,OAAA;IAAA;IAAA,CAAAJ,aAAA,GAAAqB,CAAA,wBACxB,IAAA2B,WAAA,CAAAC,GAAA,EAAC;MAAIC,SAAA,EAAU;gBACZxC,KAAA,CAAM4C,GAAG,CAAE6B,IAAA,IACV;QAAA;QAAAnF,aAAA,GAAAK,CAAA;QAAAL,aAAA,GAAAE,CAAA;QAAA,OADU,aACV,IAAA8C,WAAA,CAAAG,IAAA,EAAC;UAAkBD,SAAA,EAAU;kCAC3B,IAAAF,WAAA,CAAAG,IAAA,EAAC;YAAID,SAAA,EAAU;oCACb,IAAAF,WAAA,CAAAC,GAAA,EAAC;cAAGC,SAAA,EAAU;wBAAeiC,IAAA,CAAKC;6BAClC,IAAApC,WAAA,CAAAG,IAAA,EAAC;cAAID,SAAA,EAAU;sCACb,IAAAF,WAAA,CAAAC,GAAA,EAAC;gBAAKC,SAAA,EAAW,8CACfiC,IAAA,CAAKE,OAAO;gBAAA;gBAAA,CAAArF,aAAA,GAAAqB,CAAA,WAAG;gBAAA;gBAAA,CAAArB,aAAA,GAAAqB,CAAA,WAAgC,8BAC/C;0BACC8D,IAAA,CAAKE,OAAO;gBAAA;gBAAA,CAAArF,aAAA,GAAAqB,CAAA,WAAG;gBAAA;gBAAA,CAAArB,aAAA,GAAAqB,CAAA,WAAY;+BAE9B,IAAA2B,WAAA,CAAAC,GAAA,EAAC;gBAAKC,SAAA,EAAW,qDAAqDN,gBAAA,CAAiBuC,IAAA,CAAKtC,QAAQ,GAAG;0BACpGsC,IAAA,CAAKtC,QAAQ,CAACa,WAAW;;;2BAIhC,IAAAV,WAAA,CAAAC,GAAA,EAAC;YAAEC,SAAA,EAAU;sBAA8BiC,IAAA,CAAKpB;2BAChD,IAAAf,WAAA,CAAAG,IAAA,EAAC;YAAID,SAAA,EAAU;oCACb,IAAAF,WAAA,CAAAG,IAAA,EAAC;yBAAK,UAAOgC,IAAA,CAAKrB,IAAI;6BACtB,IAAAd,WAAA,CAAAG,IAAA,EAAC;yBAAK,cAAWgC,IAAA,CAAKG,QAAQ,EAAC;;;WAjBzBH,IAAA,CAAKxC,EAAE;MAAA;;;AAyB7B","ignoreList":[]}