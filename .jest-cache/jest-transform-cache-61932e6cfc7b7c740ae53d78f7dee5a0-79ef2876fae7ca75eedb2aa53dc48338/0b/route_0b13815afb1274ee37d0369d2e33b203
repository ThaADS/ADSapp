6b164c95ecc6136600f9098bca7f5330
"use strict";

/* istanbul ignore next */
function cov_1d2wvnebwj() {
  var path = "C:\\Ai Projecten\\ADSapp\\src\\app\\api\\search\\query\\route.ts";
  var hash = "5784a2fd8275c23a24b9e65d3767cc49e5800405";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Ai Projecten\\ADSapp\\src\\app\\api\\search\\query\\route.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 5,
          column: 0
        },
        end: {
          line: 10,
          column: 3
        }
      },
      "2": {
        start: {
          line: 8,
          column: 8
        },
        end: {
          line: 8,
          column: 20
        }
      },
      "3": {
        start: {
          line: 11,
          column: 16
        },
        end: {
          line: 11,
          column: 38
        }
      },
      "4": {
        start: {
          line: 12,
          column: 17
        },
        end: {
          line: 12,
          column: 59
        }
      },
      "5": {
        start: {
          line: 14,
          column: 4
        },
        end: {
          line: 228,
          column: 5
        }
      },
      "6": {
        start: {
          line: 15,
          column: 25
        },
        end: {
          line: 15,
          column: 59
        }
      },
      "7": {
        start: {
          line: 17,
          column: 53
        },
        end: {
          line: 17,
          column: 82
        }
      },
      "8": {
        start: {
          line: 18,
          column: 8
        },
        end: {
          line: 24,
          column: 9
        }
      },
      "9": {
        start: {
          line: 19,
          column: 12
        },
        end: {
          line: 23,
          column: 15
        }
      },
      "10": {
        start: {
          line: 26,
          column: 34
        },
        end: {
          line: 26,
          column: 118
        }
      },
      "11": {
        start: {
          line: 27,
          column: 8
        },
        end: {
          line: 33,
          column: 9
        }
      },
      "12": {
        start: {
          line: 28,
          column: 12
        },
        end: {
          line: 32,
          column: 15
        }
      },
      "13": {
        start: {
          line: 34,
          column: 21
        },
        end: {
          line: 34,
          column: 41
        }
      },
      "14": {
        start: {
          line: 35,
          column: 134
        },
        end: {
          line: 35,
          column: 138
        }
      },
      "15": {
        start: {
          line: 36,
          column: 8
        },
        end: {
          line: 42,
          column: 9
        }
      },
      "16": {
        start: {
          line: 37,
          column: 12
        },
        end: {
          line: 41,
          column: 15
        }
      },
      "17": {
        start: {
          line: 43,
          column: 26
        },
        end: {
          line: 43,
          column: 36
        }
      },
      "18": {
        start: {
          line: 44,
          column: 24
        },
        end: {
          line: 44,
          column: 26
        }
      },
      "19": {
        start: {
          line: 46,
          column: 8
        },
        end: {
          line: 103,
          column: 9
        }
      },
      "20": {
        start: {
          line: 47,
          column: 24
        },
        end: {
          line: 70,
          column: 14
        }
      },
      "21": {
        start: {
          line: 71,
          column: 12
        },
        end: {
          line: 73,
          column: 13
        }
      },
      "22": {
        start: {
          line: 72,
          column: 16
        },
        end: {
          line: 72,
          column: 78
        }
      },
      "23": {
        start: {
          line: 74,
          column: 12
        },
        end: {
          line: 76,
          column: 13
        }
      },
      "24": {
        start: {
          line: 75,
          column: 16
        },
        end: {
          line: 75,
          column: 59
        }
      },
      "25": {
        start: {
          line: 77,
          column: 12
        },
        end: {
          line: 79,
          column: 13
        }
      },
      "26": {
        start: {
          line: 78,
          column: 16
        },
        end: {
          line: 78,
          column: 63
        }
      },
      "27": {
        start: {
          line: 80,
          column: 12
        },
        end: {
          line: 82,
          column: 13
        }
      },
      "28": {
        start: {
          line: 81,
          column: 16
        },
        end: {
          line: 81,
          column: 66
        }
      },
      "29": {
        start: {
          line: 83,
          column: 44
        },
        end: {
          line: 83,
          column: 68
        }
      },
      "30": {
        start: {
          line: 84,
          column: 12
        },
        end: {
          line: 102,
          column: 15
        }
      },
      "31": {
        start: {
          line: 85,
          column: 16
        },
        end: {
          line: 101,
          column: 19
        }
      },
      "32": {
        start: {
          line: 105,
          column: 8
        },
        end: {
          line: 149,
          column: 9
        }
      },
      "33": {
        start: {
          line: 106,
          column: 24
        },
        end: {
          line: 117,
          column: 48
        }
      },
      "34": {
        start: {
          line: 118,
          column: 12
        },
        end: {
          line: 120,
          column: 13
        }
      },
      "35": {
        start: {
          line: 119,
          column: 16
        },
        end: {
          line: 119,
          column: 60
        }
      },
      "36": {
        start: {
          line: 121,
          column: 12
        },
        end: {
          line: 123,
          column: 13
        }
      },
      "37": {
        start: {
          line: 122,
          column: 16
        },
        end: {
          line: 122,
          column: 70
        }
      },
      "38": {
        start: {
          line: 124,
          column: 12
        },
        end: {
          line: 131,
          column: 13
        }
      },
      "39": {
        start: {
          line: 125,
          column: 16
        },
        end: {
          line: 127,
          column: 17
        }
      },
      "40": {
        start: {
          line: 126,
          column: 20
        },
        end: {
          line: 126,
          column: 77
        }
      },
      "41": {
        start: {
          line: 128,
          column: 16
        },
        end: {
          line: 130,
          column: 17
        }
      },
      "42": {
        start: {
          line: 129,
          column: 20
        },
        end: {
          line: 129,
          column: 75
        }
      },
      "43": {
        start: {
          line: 132,
          column: 39
        },
        end: {
          line: 132,
          column: 63
        }
      },
      "44": {
        start: {
          line: 133,
          column: 12
        },
        end: {
          line: 148,
          column: 15
        }
      },
      "45": {
        start: {
          line: 134,
          column: 16
        },
        end: {
          line: 147,
          column: 19
        }
      },
      "46": {
        start: {
          line: 151,
          column: 8
        },
        end: {
          line: 173,
          column: 9
        }
      },
      "47": {
        start: {
          line: 152,
          column: 24
        },
        end: {
          line: 152,
          column: 99
        }
      },
      "48": {
        start: {
          line: 153,
          column: 12
        },
        end: {
          line: 155,
          column: 13
        }
      },
      "49": {
        start: {
          line: 154,
          column: 16
        },
        end: {
          line: 154,
          column: 86
        }
      },
      "50": {
        start: {
          line: 156,
          column: 39
        },
        end: {
          line: 156,
          column: 63
        }
      },
      "51": {
        start: {
          line: 157,
          column: 12
        },
        end: {
          line: 172,
          column: 15
        }
      },
      "52": {
        start: {
          line: 158,
          column: 16
        },
        end: {
          line: 171,
          column: 19
        }
      },
      "53": {
        start: {
          line: 175,
          column: 8
        },
        end: {
          line: 183,
          column: 9
        }
      },
      "54": {
        start: {
          line: 176,
          column: 12
        },
        end: {
          line: 176,
          column: 52
        }
      },
      "55": {
        start: {
          line: 176,
          column: 33
        },
        end: {
          line: 176,
          column: 50
        }
      },
      "56": {
        start: {
          line: 177,
          column: 15
        },
        end: {
          line: 183,
          column: 9
        }
      },
      "57": {
        start: {
          line: 178,
          column: 12
        },
        end: {
          line: 182,
          column: 15
        }
      },
      "58": {
        start: {
          line: 179,
          column: 30
        },
        end: {
          line: 179,
          column: 72
        }
      },
      "59": {
        start: {
          line: 180,
          column: 30
        },
        end: {
          line: 180,
          column: 72
        }
      },
      "60": {
        start: {
          line: 181,
          column: 16
        },
        end: {
          line: 181,
          column: 37
        }
      },
      "61": {
        start: {
          line: 184,
          column: 30
        },
        end: {
          line: 184,
          column: 52
        }
      },
      "62": {
        start: {
          line: 185,
          column: 8
        },
        end: {
          line: 220,
          column: 11
        }
      },
      "63": {
        start: {
          line: 222,
          column: 8
        },
        end: {
          line: 222,
          column: 46
        }
      },
      "64": {
        start: {
          line: 223,
          column: 8
        },
        end: {
          line: 227,
          column: 11
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 7,
            column: 9
          },
          end: {
            line: 7,
            column: 10
          }
        },
        loc: {
          start: {
            line: 7,
            column: 20
          },
          end: {
            line: 9,
            column: 5
          }
        },
        line: 7
      },
      "1": {
        name: "POST",
        decl: {
          start: {
            line: 13,
            column: 15
          },
          end: {
            line: 13,
            column: 19
          }
        },
        loc: {
          start: {
            line: 13,
            column: 29
          },
          end: {
            line: 229,
            column: 1
          }
        },
        line: 13
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 84,
            column: 35
          },
          end: {
            line: 84,
            column: 36
          }
        },
        loc: {
          start: {
            line: 84,
            column: 43
          },
          end: {
            line: 102,
            column: 13
          }
        },
        line: 84
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 133,
            column: 30
          },
          end: {
            line: 133,
            column: 31
          }
        },
        loc: {
          start: {
            line: 133,
            column: 37
          },
          end: {
            line: 148,
            column: 13
          }
        },
        line: 133
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 157,
            column: 30
          },
          end: {
            line: 157,
            column: 31
          }
        },
        loc: {
          start: {
            line: 157,
            column: 41
          },
          end: {
            line: 172,
            column: 13
          }
        },
        line: 157
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 176,
            column: 25
          },
          end: {
            line: 176,
            column: 26
          }
        },
        loc: {
          start: {
            line: 176,
            column: 33
          },
          end: {
            line: 176,
            column: 50
          }
        },
        line: 176
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 178,
            column: 25
          },
          end: {
            line: 178,
            column: 26
          }
        },
        loc: {
          start: {
            line: 178,
            column: 33
          },
          end: {
            line: 182,
            column: 13
          }
        },
        line: 178
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 18,
            column: 8
          },
          end: {
            line: 24,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 18,
            column: 8
          },
          end: {
            line: 24,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 18
      },
      "1": {
        loc: {
          start: {
            line: 18,
            column: 12
          },
          end: {
            line: 18,
            column: 30
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 18,
            column: 12
          },
          end: {
            line: 18,
            column: 21
          }
        }, {
          start: {
            line: 18,
            column: 25
          },
          end: {
            line: 18,
            column: 30
          }
        }],
        line: 18
      },
      "2": {
        loc: {
          start: {
            line: 27,
            column: 8
          },
          end: {
            line: 33,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 27,
            column: 8
          },
          end: {
            line: 33,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 27
      },
      "3": {
        loc: {
          start: {
            line: 35,
            column: 38
          },
          end: {
            line: 35,
            column: 50
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 35,
            column: 45
          },
          end: {
            line: 35,
            column: 50
          }
        }],
        line: 35
      },
      "4": {
        loc: {
          start: {
            line: 35,
            column: 52
          },
          end: {
            line: 35,
            column: 64
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 35,
            column: 62
          },
          end: {
            line: 35,
            column: 64
          }
        }],
        line: 35
      },
      "5": {
        loc: {
          start: {
            line: 35,
            column: 66
          },
          end: {
            line: 35,
            column: 86
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 35,
            column: 75
          },
          end: {
            line: 35,
            column: 86
          }
        }],
        line: 35
      },
      "6": {
        loc: {
          start: {
            line: 35,
            column: 88
          },
          end: {
            line: 35,
            column: 105
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 35,
            column: 100
          },
          end: {
            line: 35,
            column: 105
          }
        }],
        line: 35
      },
      "7": {
        loc: {
          start: {
            line: 35,
            column: 107
          },
          end: {
            line: 35,
            column: 117
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 35,
            column: 115
          },
          end: {
            line: 35,
            column: 117
          }
        }],
        line: 35
      },
      "8": {
        loc: {
          start: {
            line: 35,
            column: 119
          },
          end: {
            line: 35,
            column: 129
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 35,
            column: 128
          },
          end: {
            line: 35,
            column: 129
          }
        }],
        line: 35
      },
      "9": {
        loc: {
          start: {
            line: 36,
            column: 8
          },
          end: {
            line: 42,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 36,
            column: 8
          },
          end: {
            line: 42,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 36
      },
      "10": {
        loc: {
          start: {
            line: 46,
            column: 8
          },
          end: {
            line: 103,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 46,
            column: 8
          },
          end: {
            line: 103,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 46
      },
      "11": {
        loc: {
          start: {
            line: 46,
            column: 12
          },
          end: {
            line: 46,
            column: 54
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 46,
            column: 12
          },
          end: {
            line: 46,
            column: 36
          }
        }, {
          start: {
            line: 46,
            column: 40
          },
          end: {
            line: 46,
            column: 54
          }
        }],
        line: 46
      },
      "12": {
        loc: {
          start: {
            line: 71,
            column: 12
          },
          end: {
            line: 73,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 71,
            column: 12
          },
          end: {
            line: 73,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 71
      },
      "13": {
        loc: {
          start: {
            line: 74,
            column: 12
          },
          end: {
            line: 76,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 74,
            column: 12
          },
          end: {
            line: 76,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 74
      },
      "14": {
        loc: {
          start: {
            line: 77,
            column: 12
          },
          end: {
            line: 79,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 77,
            column: 12
          },
          end: {
            line: 79,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 77
      },
      "15": {
        loc: {
          start: {
            line: 80,
            column: 12
          },
          end: {
            line: 82,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 80,
            column: 12
          },
          end: {
            line: 82,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 80
      },
      "16": {
        loc: {
          start: {
            line: 91,
            column: 38
          },
          end: {
            line: 91,
            column: 68
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 91,
            column: 38
          },
          end: {
            line: 91,
            column: 60
          }
        }, {
          start: {
            line: 91,
            column: 64
          },
          end: {
            line: 91,
            column: 68
          }
        }],
        line: 91
      },
      "17": {
        loc: {
          start: {
            line: 93,
            column: 32
          },
          end: {
            line: 100,
            column: 33
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 93,
            column: 44
          },
          end: {
            line: 100,
            column: 21
          }
        }, {
          start: {
            line: 100,
            column: 24
          },
          end: {
            line: 100,
            column: 33
          }
        }],
        line: 93
      },
      "18": {
        loc: {
          start: {
            line: 97,
            column: 32
          },
          end: {
            line: 97,
            column: 50
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 97,
            column: 32
          },
          end: {
            line: 97,
            column: 44
          }
        }, {
          start: {
            line: 97,
            column: 48
          },
          end: {
            line: 97,
            column: 50
          }
        }],
        line: 97
      },
      "19": {
        loc: {
          start: {
            line: 105,
            column: 8
          },
          end: {
            line: 149,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 105,
            column: 8
          },
          end: {
            line: 149,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 105
      },
      "20": {
        loc: {
          start: {
            line: 105,
            column: 12
          },
          end: {
            line: 105,
            column: 49
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 105,
            column: 12
          },
          end: {
            line: 105,
            column: 31
          }
        }, {
          start: {
            line: 105,
            column: 35
          },
          end: {
            line: 105,
            column: 49
          }
        }],
        line: 105
      },
      "21": {
        loc: {
          start: {
            line: 118,
            column: 12
          },
          end: {
            line: 120,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 118,
            column: 12
          },
          end: {
            line: 120,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 118
      },
      "22": {
        loc: {
          start: {
            line: 121,
            column: 12
          },
          end: {
            line: 123,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 121,
            column: 12
          },
          end: {
            line: 123,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 121
      },
      "23": {
        loc: {
          start: {
            line: 124,
            column: 12
          },
          end: {
            line: 131,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 124,
            column: 12
          },
          end: {
            line: 131,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 124
      },
      "24": {
        loc: {
          start: {
            line: 125,
            column: 16
          },
          end: {
            line: 127,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 125,
            column: 16
          },
          end: {
            line: 127,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 125
      },
      "25": {
        loc: {
          start: {
            line: 128,
            column: 16
          },
          end: {
            line: 130,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 128,
            column: 16
          },
          end: {
            line: 130,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 128
      },
      "26": {
        loc: {
          start: {
            line: 139,
            column: 32
          },
          end: {
            line: 146,
            column: 33
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 139,
            column: 44
          },
          end: {
            line: 146,
            column: 21
          }
        }, {
          start: {
            line: 146,
            column: 24
          },
          end: {
            line: 146,
            column: 33
          }
        }],
        line: 139
      },
      "27": {
        loc: {
          start: {
            line: 143,
            column: 32
          },
          end: {
            line: 143,
            column: 49
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 143,
            column: 32
          },
          end: {
            line: 143,
            column: 43
          }
        }, {
          start: {
            line: 143,
            column: 47
          },
          end: {
            line: 143,
            column: 49
          }
        }],
        line: 143
      },
      "28": {
        loc: {
          start: {
            line: 151,
            column: 8
          },
          end: {
            line: 173,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 151,
            column: 8
          },
          end: {
            line: 173,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 151
      },
      "29": {
        loc: {
          start: {
            line: 151,
            column: 12
          },
          end: {
            line: 151,
            column: 49
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 151,
            column: 12
          },
          end: {
            line: 151,
            column: 31
          }
        }, {
          start: {
            line: 151,
            column: 35
          },
          end: {
            line: 151,
            column: 49
          }
        }],
        line: 151
      },
      "30": {
        loc: {
          start: {
            line: 153,
            column: 12
          },
          end: {
            line: 155,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 153,
            column: 12
          },
          end: {
            line: 155,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 153
      },
      "31": {
        loc: {
          start: {
            line: 163,
            column: 32
          },
          end: {
            line: 170,
            column: 33
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 163,
            column: 44
          },
          end: {
            line: 170,
            column: 21
          }
        }, {
          start: {
            line: 170,
            column: 24
          },
          end: {
            line: 170,
            column: 33
          }
        }],
        line: 163
      },
      "32": {
        loc: {
          start: {
            line: 167,
            column: 32
          },
          end: {
            line: 167,
            column: 50
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 167,
            column: 32
          },
          end: {
            line: 167,
            column: 44
          }
        }, {
          start: {
            line: 167,
            column: 48
          },
          end: {
            line: 167,
            column: 50
          }
        }],
        line: 167
      },
      "33": {
        loc: {
          start: {
            line: 175,
            column: 8
          },
          end: {
            line: 183,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 175,
            column: 8
          },
          end: {
            line: 183,
            column: 9
          }
        }, {
          start: {
            line: 177,
            column: 15
          },
          end: {
            line: 183,
            column: 9
          }
        }],
        line: 175
      },
      "34": {
        loc: {
          start: {
            line: 177,
            column: 15
          },
          end: {
            line: 183,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 177,
            column: 15
          },
          end: {
            line: 183,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 177
      },
      "35": {
        loc: {
          start: {
            line: 179,
            column: 39
          },
          end: {
            line: 179,
            column: 61
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 179,
            column: 39
          },
          end: {
            line: 179,
            column: 56
          }
        }, {
          start: {
            line: 179,
            column: 60
          },
          end: {
            line: 179,
            column: 61
          }
        }],
        line: 179
      },
      "36": {
        loc: {
          start: {
            line: 180,
            column: 39
          },
          end: {
            line: 180,
            column: 61
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 180,
            column: 39
          },
          end: {
            line: 180,
            column: 56
          }
        }, {
          start: {
            line: 180,
            column: 60
          },
          end: {
            line: 180,
            column: 61
          }
        }],
        line: 180
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0],
      "4": [0],
      "5": [0],
      "6": [0],
      "7": [0],
      "8": [0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0],
      "26": [0, 0],
      "27": [0, 0],
      "28": [0, 0],
      "29": [0, 0],
      "30": [0, 0],
      "31": [0, 0],
      "32": [0, 0],
      "33": [0, 0],
      "34": [0, 0],
      "35": [0, 0],
      "36": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Ai Projecten\\ADSapp\\src\\app\\api\\search\\query\\route.ts"],
      sourcesContent: ["import { NextRequest, NextResponse } from 'next/server'\nimport { createClient } from '@/lib/supabase/server'\n\nexport async function POST(request: NextRequest) {\n  try {\n    const supabase = await createClient()\n    \n    // Get current user\n    const { data: { user }, error: authError } = await supabase.auth.getUser()\n    if (authError || !user) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\n    }\n\n    // Get user's organization\n    const { data: profile } = await supabase\n      .from('profiles')\n      .select('organization_id')\n      .eq('id', user.id)\n      .single()\n\n    if (!profile?.organization_id) {\n      return NextResponse.json({ error: 'No organization found' }, { status: 403 })\n    }\n\n    const body = await request.json()\n    const { organizationId, text, type = 'all', filters = {}, sortBy = 'relevance', highlight = false, limit = 20, offset = 0 } = body\n\n    if (organizationId !== profile.organization_id) {\n      return NextResponse.json({ error: 'Forbidden' }, { status: 403 })\n    }\n\n    const startTime = Date.now()\n    const results: any[] = []\n\n    // Search conversations\n    if (type === 'conversations' || type === 'all') {\n      let query = supabase\n        .from('conversations')\n        .select(`\n          *,\n          contact:contacts!conversations_contact_id_fkey (\n            id,\n            name,\n            phone_number,\n            profile_picture_url\n          ),\n          assigned_agent:profiles!conversations_assigned_to_fkey (\n            id,\n            full_name,\n            avatar_url\n          ),\n          last_message:messages (\n            content,\n            message_type,\n            sender_type\n          )\n        `)\n        .eq('organization_id', organizationId)\n        .order('created_at', { foreignTable: 'messages', ascending: false })\n        .limit(1, { foreignTable: 'messages' })\n\n      if (text) {\n        query = query.or(`subject.ilike.%${text}%,tags.cs.{${text}}`)\n      }\n\n      if (filters.status?.length) {\n        query = query.in('status', filters.status)\n      }\n\n      if (filters.priority?.length) {\n        query = query.in('priority', filters.priority)\n      }\n\n      if (filters.contactId?.length) {\n        query = query.in('contact_id', filters.contactId)\n      }\n\n      const { data: conversations } = await query.limit(limit)\n\n      conversations?.forEach(conv => {\n        results.push({\n          id: conv.id,\n          type: 'conversation',\n          score: 0.9,\n          data: {\n            ...conv,\n            last_message: conv.last_message?.[0] || null\n          },\n          highlights: highlight ? [{\n            field: 'subject',\n            fragments: [conv.subject || '']\n          }] : undefined\n        })\n      })\n    }\n\n    // Search messages\n    if (type === 'messages' || type === 'all') {\n      let query = supabase\n        .from('messages')\n        .select(`\n          *,\n          conversation:conversations!messages_conversation_id_fkey (\n            id,\n            contact_id\n          ),\n          contact:contacts!messages_contact_id_fkey (\n            id,\n            name,\n            phone_number\n          )\n        `)\n        .eq('organization_id', organizationId)\n\n      if (text) {\n        query = query.ilike('content', `%${text}%`)\n      }\n\n      if (filters.messageType?.length) {\n        query = query.in('message_type', filters.messageType)\n      }\n\n      if (filters.dateRange) {\n        if (filters.dateRange.start) {\n          query = query.gte('created_at', filters.dateRange.start)\n        }\n        if (filters.dateRange.end) {\n          query = query.lte('created_at', filters.dateRange.end)\n        }\n      }\n\n      const { data: messages } = await query.limit(limit)\n\n      messages?.forEach(msg => {\n        results.push({\n          id: msg.id,\n          type: 'message',\n          score: 0.85,\n          data: msg,\n          highlights: highlight ? [{\n            field: 'content',\n            fragments: [msg.content || '']\n          }] : undefined\n        })\n      })\n    }\n\n    // Search contacts\n    if (type === 'contacts' || type === 'all') {\n      let query = supabase\n        .from('contacts')\n        .select('*')\n        .eq('organization_id', organizationId)\n\n      if (text) {\n        query = query.or(`name.ilike.%${text}%,phone_number.ilike.%${text}%`)\n      }\n\n      const { data: contacts } = await query.limit(limit)\n\n      contacts?.forEach(contact => {\n        results.push({\n          id: contact.id,\n          type: 'contact',\n          score: 0.8,\n          data: contact,\n          highlights: highlight ? [{\n            field: 'name',\n            fragments: [contact.name || '']\n          }] : undefined\n        })\n      })\n    }\n\n    // Sort results\n    if (sortBy === 'relevance') {\n      results.sort((a, b) => b.score - a.score)\n    } else if (sortBy === 'date') {\n      results.sort((a, b) => {\n        const dateA = new Date(a.data.created_at || 0).getTime()\n        const dateB = new Date(b.data.created_at || 0).getTime()\n        return dateB - dateA\n      })\n    }\n\n    const executionTime = Date.now() - startTime\n\n    return NextResponse.json({\n      results: results.slice(offset, offset + limit),\n      totalCount: results.length,\n      suggestions: [],\n      facets: {\n        status: { open: 0, pending: 0, resolved: 0, closed: 0 },\n        priority: { low: 0, medium: 0, high: 0, urgent: 0 },\n        messageType: { text: 0, image: 0, document: 0, audio: 0, video: 0 }\n      },\n      query: { text, type, filters, sortBy, highlight, limit, offset },\n      executionTime\n    })\n  } catch (error) {\n    console.error('Search error:', error)\n    return NextResponse.json(\n      { error: 'Internal server error' },\n      { status: 500 }\n    )\n  }\n}\n"],
      names: ["POST", "request", "supabase", "createClient", "data", "user", "error", "authError", "auth", "getUser", "NextResponse", "json", "status", "profile", "from", "select", "eq", "id", "single", "organization_id", "body", "organizationId", "text", "type", "filters", "sortBy", "highlight", "limit", "offset", "startTime", "Date", "now", "results", "query", "order", "foreignTable", "ascending", "or", "length", "in", "priority", "contactId", "conversations", "forEach", "conv", "push", "score", "last_message", "highlights", "field", "fragments", "subject", "undefined", "ilike", "messageType", "dateRange", "start", "gte", "end", "lte", "messages", "msg", "content", "contacts", "contact", "name", "sort", "a", "b", "dateA", "created_at", "getTime", "dateB", "executionTime", "slice", "totalCount", "suggestions", "facets", "open", "pending", "resolved", "closed", "low", "medium", "high", "urgent", "image", "document", "audio", "video", "console"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "5784a2fd8275c23a24b9e65d3767cc49e5800405"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1d2wvnebwj = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1d2wvnebwj();
cov_1d2wvnebwj().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_1d2wvnebwj().s[1]++;
Object.defineProperty(exports, "POST", {
  enumerable: true,
  get: function () {
    /* istanbul ignore next */
    cov_1d2wvnebwj().f[0]++;
    cov_1d2wvnebwj().s[2]++;
    return POST;
  }
});
const _server =
/* istanbul ignore next */
(cov_1d2wvnebwj().s[3]++, require("next/server"));
const _server1 =
/* istanbul ignore next */
(cov_1d2wvnebwj().s[4]++, require("../../../../lib/supabase/server"));
async function POST(request) {
  /* istanbul ignore next */
  cov_1d2wvnebwj().f[1]++;
  cov_1d2wvnebwj().s[5]++;
  try {
    const supabase =
    /* istanbul ignore next */
    (cov_1d2wvnebwj().s[6]++, await (0, _server1.createClient)());
    // Get current user
    const {
      data: {
        user
      },
      error: authError
    } =
    /* istanbul ignore next */
    (cov_1d2wvnebwj().s[7]++, await supabase.auth.getUser());
    /* istanbul ignore next */
    cov_1d2wvnebwj().s[8]++;
    if (
    /* istanbul ignore next */
    (cov_1d2wvnebwj().b[1][0]++, authError) ||
    /* istanbul ignore next */
    (cov_1d2wvnebwj().b[1][1]++, !user)) {
      /* istanbul ignore next */
      cov_1d2wvnebwj().b[0][0]++;
      cov_1d2wvnebwj().s[9]++;
      return _server.NextResponse.json({
        error: 'Unauthorized'
      }, {
        status: 401
      });
    } else
    /* istanbul ignore next */
    {
      cov_1d2wvnebwj().b[0][1]++;
    }
    // Get user's organization
    const {
      data: profile
    } =
    /* istanbul ignore next */
    (cov_1d2wvnebwj().s[10]++, await supabase.from('profiles').select('organization_id').eq('id', user.id).single());
    /* istanbul ignore next */
    cov_1d2wvnebwj().s[11]++;
    if (!profile?.organization_id) {
      /* istanbul ignore next */
      cov_1d2wvnebwj().b[2][0]++;
      cov_1d2wvnebwj().s[12]++;
      return _server.NextResponse.json({
        error: 'No organization found'
      }, {
        status: 403
      });
    } else
    /* istanbul ignore next */
    {
      cov_1d2wvnebwj().b[2][1]++;
    }
    const body =
    /* istanbul ignore next */
    (cov_1d2wvnebwj().s[13]++, await request.json());
    const {
      organizationId,
      text,
      type =
      /* istanbul ignore next */
      (cov_1d2wvnebwj().b[3][0]++, 'all'),
      filters =
      /* istanbul ignore next */
      (cov_1d2wvnebwj().b[4][0]++, {}),
      sortBy =
      /* istanbul ignore next */
      (cov_1d2wvnebwj().b[5][0]++, 'relevance'),
      highlight =
      /* istanbul ignore next */
      (cov_1d2wvnebwj().b[6][0]++, false),
      limit =
      /* istanbul ignore next */
      (cov_1d2wvnebwj().b[7][0]++, 20),
      offset =
      /* istanbul ignore next */
      (cov_1d2wvnebwj().b[8][0]++, 0)
    } =
    /* istanbul ignore next */
    (cov_1d2wvnebwj().s[14]++, body);
    /* istanbul ignore next */
    cov_1d2wvnebwj().s[15]++;
    if (organizationId !== profile.organization_id) {
      /* istanbul ignore next */
      cov_1d2wvnebwj().b[9][0]++;
      cov_1d2wvnebwj().s[16]++;
      return _server.NextResponse.json({
        error: 'Forbidden'
      }, {
        status: 403
      });
    } else
    /* istanbul ignore next */
    {
      cov_1d2wvnebwj().b[9][1]++;
    }
    const startTime =
    /* istanbul ignore next */
    (cov_1d2wvnebwj().s[17]++, Date.now());
    const results =
    /* istanbul ignore next */
    (cov_1d2wvnebwj().s[18]++, []);
    // Search conversations
    /* istanbul ignore next */
    cov_1d2wvnebwj().s[19]++;
    if (
    /* istanbul ignore next */
    (cov_1d2wvnebwj().b[11][0]++, type === 'conversations') ||
    /* istanbul ignore next */
    (cov_1d2wvnebwj().b[11][1]++, type === 'all')) {
      /* istanbul ignore next */
      cov_1d2wvnebwj().b[10][0]++;
      let query =
      /* istanbul ignore next */
      (cov_1d2wvnebwj().s[20]++, supabase.from('conversations').select(`
          *,
          contact:contacts!conversations_contact_id_fkey (
            id,
            name,
            phone_number,
            profile_picture_url
          ),
          assigned_agent:profiles!conversations_assigned_to_fkey (
            id,
            full_name,
            avatar_url
          ),
          last_message:messages (
            content,
            message_type,
            sender_type
          )
        `).eq('organization_id', organizationId).order('created_at', {
        foreignTable: 'messages',
        ascending: false
      }).limit(1, {
        foreignTable: 'messages'
      }));
      /* istanbul ignore next */
      cov_1d2wvnebwj().s[21]++;
      if (text) {
        /* istanbul ignore next */
        cov_1d2wvnebwj().b[12][0]++;
        cov_1d2wvnebwj().s[22]++;
        query = query.or(`subject.ilike.%${text}%,tags.cs.{${text}}`);
      } else
      /* istanbul ignore next */
      {
        cov_1d2wvnebwj().b[12][1]++;
      }
      cov_1d2wvnebwj().s[23]++;
      if (filters.status?.length) {
        /* istanbul ignore next */
        cov_1d2wvnebwj().b[13][0]++;
        cov_1d2wvnebwj().s[24]++;
        query = query.in('status', filters.status);
      } else
      /* istanbul ignore next */
      {
        cov_1d2wvnebwj().b[13][1]++;
      }
      cov_1d2wvnebwj().s[25]++;
      if (filters.priority?.length) {
        /* istanbul ignore next */
        cov_1d2wvnebwj().b[14][0]++;
        cov_1d2wvnebwj().s[26]++;
        query = query.in('priority', filters.priority);
      } else
      /* istanbul ignore next */
      {
        cov_1d2wvnebwj().b[14][1]++;
      }
      cov_1d2wvnebwj().s[27]++;
      if (filters.contactId?.length) {
        /* istanbul ignore next */
        cov_1d2wvnebwj().b[15][0]++;
        cov_1d2wvnebwj().s[28]++;
        query = query.in('contact_id', filters.contactId);
      } else
      /* istanbul ignore next */
      {
        cov_1d2wvnebwj().b[15][1]++;
      }
      const {
        data: conversations
      } =
      /* istanbul ignore next */
      (cov_1d2wvnebwj().s[29]++, await query.limit(limit));
      /* istanbul ignore next */
      cov_1d2wvnebwj().s[30]++;
      conversations?.forEach(conv => {
        /* istanbul ignore next */
        cov_1d2wvnebwj().f[2]++;
        cov_1d2wvnebwj().s[31]++;
        results.push({
          id: conv.id,
          type: 'conversation',
          score: 0.9,
          data: {
            ...conv,
            last_message:
            /* istanbul ignore next */
            (cov_1d2wvnebwj().b[16][0]++, conv.last_message?.[0]) ||
            /* istanbul ignore next */
            (cov_1d2wvnebwj().b[16][1]++, null)
          },
          highlights: highlight ?
          /* istanbul ignore next */
          (cov_1d2wvnebwj().b[17][0]++, [{
            field: 'subject',
            fragments: [
            /* istanbul ignore next */
            (cov_1d2wvnebwj().b[18][0]++, conv.subject) ||
            /* istanbul ignore next */
            (cov_1d2wvnebwj().b[18][1]++, '')]
          }]) :
          /* istanbul ignore next */
          (cov_1d2wvnebwj().b[17][1]++, undefined)
        });
      });
    } else
    /* istanbul ignore next */
    {
      cov_1d2wvnebwj().b[10][1]++;
    }
    // Search messages
    cov_1d2wvnebwj().s[32]++;
    if (
    /* istanbul ignore next */
    (cov_1d2wvnebwj().b[20][0]++, type === 'messages') ||
    /* istanbul ignore next */
    (cov_1d2wvnebwj().b[20][1]++, type === 'all')) {
      /* istanbul ignore next */
      cov_1d2wvnebwj().b[19][0]++;
      let query =
      /* istanbul ignore next */
      (cov_1d2wvnebwj().s[33]++, supabase.from('messages').select(`
          *,
          conversation:conversations!messages_conversation_id_fkey (
            id,
            contact_id
          ),
          contact:contacts!messages_contact_id_fkey (
            id,
            name,
            phone_number
          )
        `).eq('organization_id', organizationId));
      /* istanbul ignore next */
      cov_1d2wvnebwj().s[34]++;
      if (text) {
        /* istanbul ignore next */
        cov_1d2wvnebwj().b[21][0]++;
        cov_1d2wvnebwj().s[35]++;
        query = query.ilike('content', `%${text}%`);
      } else
      /* istanbul ignore next */
      {
        cov_1d2wvnebwj().b[21][1]++;
      }
      cov_1d2wvnebwj().s[36]++;
      if (filters.messageType?.length) {
        /* istanbul ignore next */
        cov_1d2wvnebwj().b[22][0]++;
        cov_1d2wvnebwj().s[37]++;
        query = query.in('message_type', filters.messageType);
      } else
      /* istanbul ignore next */
      {
        cov_1d2wvnebwj().b[22][1]++;
      }
      cov_1d2wvnebwj().s[38]++;
      if (filters.dateRange) {
        /* istanbul ignore next */
        cov_1d2wvnebwj().b[23][0]++;
        cov_1d2wvnebwj().s[39]++;
        if (filters.dateRange.start) {
          /* istanbul ignore next */
          cov_1d2wvnebwj().b[24][0]++;
          cov_1d2wvnebwj().s[40]++;
          query = query.gte('created_at', filters.dateRange.start);
        } else
        /* istanbul ignore next */
        {
          cov_1d2wvnebwj().b[24][1]++;
        }
        cov_1d2wvnebwj().s[41]++;
        if (filters.dateRange.end) {
          /* istanbul ignore next */
          cov_1d2wvnebwj().b[25][0]++;
          cov_1d2wvnebwj().s[42]++;
          query = query.lte('created_at', filters.dateRange.end);
        } else
        /* istanbul ignore next */
        {
          cov_1d2wvnebwj().b[25][1]++;
        }
      } else
      /* istanbul ignore next */
      {
        cov_1d2wvnebwj().b[23][1]++;
      }
      const {
        data: messages
      } =
      /* istanbul ignore next */
      (cov_1d2wvnebwj().s[43]++, await query.limit(limit));
      /* istanbul ignore next */
      cov_1d2wvnebwj().s[44]++;
      messages?.forEach(msg => {
        /* istanbul ignore next */
        cov_1d2wvnebwj().f[3]++;
        cov_1d2wvnebwj().s[45]++;
        results.push({
          id: msg.id,
          type: 'message',
          score: 0.85,
          data: msg,
          highlights: highlight ?
          /* istanbul ignore next */
          (cov_1d2wvnebwj().b[26][0]++, [{
            field: 'content',
            fragments: [
            /* istanbul ignore next */
            (cov_1d2wvnebwj().b[27][0]++, msg.content) ||
            /* istanbul ignore next */
            (cov_1d2wvnebwj().b[27][1]++, '')]
          }]) :
          /* istanbul ignore next */
          (cov_1d2wvnebwj().b[26][1]++, undefined)
        });
      });
    } else
    /* istanbul ignore next */
    {
      cov_1d2wvnebwj().b[19][1]++;
    }
    // Search contacts
    cov_1d2wvnebwj().s[46]++;
    if (
    /* istanbul ignore next */
    (cov_1d2wvnebwj().b[29][0]++, type === 'contacts') ||
    /* istanbul ignore next */
    (cov_1d2wvnebwj().b[29][1]++, type === 'all')) {
      /* istanbul ignore next */
      cov_1d2wvnebwj().b[28][0]++;
      let query =
      /* istanbul ignore next */
      (cov_1d2wvnebwj().s[47]++, supabase.from('contacts').select('*').eq('organization_id', organizationId));
      /* istanbul ignore next */
      cov_1d2wvnebwj().s[48]++;
      if (text) {
        /* istanbul ignore next */
        cov_1d2wvnebwj().b[30][0]++;
        cov_1d2wvnebwj().s[49]++;
        query = query.or(`name.ilike.%${text}%,phone_number.ilike.%${text}%`);
      } else
      /* istanbul ignore next */
      {
        cov_1d2wvnebwj().b[30][1]++;
      }
      const {
        data: contacts
      } =
      /* istanbul ignore next */
      (cov_1d2wvnebwj().s[50]++, await query.limit(limit));
      /* istanbul ignore next */
      cov_1d2wvnebwj().s[51]++;
      contacts?.forEach(contact => {
        /* istanbul ignore next */
        cov_1d2wvnebwj().f[4]++;
        cov_1d2wvnebwj().s[52]++;
        results.push({
          id: contact.id,
          type: 'contact',
          score: 0.8,
          data: contact,
          highlights: highlight ?
          /* istanbul ignore next */
          (cov_1d2wvnebwj().b[31][0]++, [{
            field: 'name',
            fragments: [
            /* istanbul ignore next */
            (cov_1d2wvnebwj().b[32][0]++, contact.name) ||
            /* istanbul ignore next */
            (cov_1d2wvnebwj().b[32][1]++, '')]
          }]) :
          /* istanbul ignore next */
          (cov_1d2wvnebwj().b[31][1]++, undefined)
        });
      });
    } else
    /* istanbul ignore next */
    {
      cov_1d2wvnebwj().b[28][1]++;
    }
    // Sort results
    cov_1d2wvnebwj().s[53]++;
    if (sortBy === 'relevance') {
      /* istanbul ignore next */
      cov_1d2wvnebwj().b[33][0]++;
      cov_1d2wvnebwj().s[54]++;
      results.sort((a, b) => {
        /* istanbul ignore next */
        cov_1d2wvnebwj().f[5]++;
        cov_1d2wvnebwj().s[55]++;
        return b.score - a.score;
      });
    } else {
      /* istanbul ignore next */
      cov_1d2wvnebwj().b[33][1]++;
      cov_1d2wvnebwj().s[56]++;
      if (sortBy === 'date') {
        /* istanbul ignore next */
        cov_1d2wvnebwj().b[34][0]++;
        cov_1d2wvnebwj().s[57]++;
        results.sort((a, b) => {
          /* istanbul ignore next */
          cov_1d2wvnebwj().f[6]++;
          const dateA =
          /* istanbul ignore next */
          (cov_1d2wvnebwj().s[58]++, new Date(
          /* istanbul ignore next */
          (cov_1d2wvnebwj().b[35][0]++, a.data.created_at) ||
          /* istanbul ignore next */
          (cov_1d2wvnebwj().b[35][1]++, 0)).getTime());
          const dateB =
          /* istanbul ignore next */
          (cov_1d2wvnebwj().s[59]++, new Date(
          /* istanbul ignore next */
          (cov_1d2wvnebwj().b[36][0]++, b.data.created_at) ||
          /* istanbul ignore next */
          (cov_1d2wvnebwj().b[36][1]++, 0)).getTime());
          /* istanbul ignore next */
          cov_1d2wvnebwj().s[60]++;
          return dateB - dateA;
        });
      } else
      /* istanbul ignore next */
      {
        cov_1d2wvnebwj().b[34][1]++;
      }
    }
    const executionTime =
    /* istanbul ignore next */
    (cov_1d2wvnebwj().s[61]++, Date.now() - startTime);
    /* istanbul ignore next */
    cov_1d2wvnebwj().s[62]++;
    return _server.NextResponse.json({
      results: results.slice(offset, offset + limit),
      totalCount: results.length,
      suggestions: [],
      facets: {
        status: {
          open: 0,
          pending: 0,
          resolved: 0,
          closed: 0
        },
        priority: {
          low: 0,
          medium: 0,
          high: 0,
          urgent: 0
        },
        messageType: {
          text: 0,
          image: 0,
          document: 0,
          audio: 0,
          video: 0
        }
      },
      query: {
        text,
        type,
        filters,
        sortBy,
        highlight,
        limit,
        offset
      },
      executionTime
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_1d2wvnebwj().s[63]++;
    console.error('Search error:', error);
    /* istanbul ignore next */
    cov_1d2wvnebwj().s[64]++;
    return _server.NextResponse.json({
      error: 'Internal server error'
    }, {
      status: 500
    });
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWQyd3ZuZWJ3aiIsImFjdHVhbENvdmVyYWdlIiwicyIsIlBPU1QiLCJyZXF1ZXN0IiwiZiIsInN1cGFiYXNlIiwiX3NlcnZlcjEiLCJjcmVhdGVDbGllbnQiLCJkYXRhIiwidXNlciIsImVycm9yIiwiYXV0aEVycm9yIiwiYXV0aCIsImdldFVzZXIiLCJiIiwiX3NlcnZlciIsIk5leHRSZXNwb25zZSIsImpzb24iLCJzdGF0dXMiLCJwcm9maWxlIiwiZnJvbSIsInNlbGVjdCIsImVxIiwiaWQiLCJzaW5nbGUiLCJvcmdhbml6YXRpb25faWQiLCJib2R5Iiwib3JnYW5pemF0aW9uSWQiLCJ0ZXh0IiwidHlwZSIsImZpbHRlcnMiLCJzb3J0QnkiLCJoaWdobGlnaHQiLCJsaW1pdCIsIm9mZnNldCIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJyZXN1bHRzIiwicXVlcnkiLCJvcmRlciIsImZvcmVpZ25UYWJsZSIsImFzY2VuZGluZyIsIm9yIiwibGVuZ3RoIiwiaW4iLCJwcmlvcml0eSIsImNvbnRhY3RJZCIsImNvbnZlcnNhdGlvbnMiLCJmb3JFYWNoIiwiY29udiIsInB1c2giLCJzY29yZSIsImxhc3RfbWVzc2FnZSIsImhpZ2hsaWdodHMiLCJmaWVsZCIsImZyYWdtZW50cyIsInN1YmplY3QiLCJ1bmRlZmluZWQiLCJpbGlrZSIsIm1lc3NhZ2VUeXBlIiwiZGF0ZVJhbmdlIiwic3RhcnQiLCJndGUiLCJlbmQiLCJsdGUiLCJtZXNzYWdlcyIsIm1zZyIsImNvbnRlbnQiLCJjb250YWN0cyIsImNvbnRhY3QiLCJuYW1lIiwic29ydCIsImEiLCJkYXRlQSIsImNyZWF0ZWRfYXQiLCJnZXRUaW1lIiwiZGF0ZUIiLCJleGVjdXRpb25UaW1lIiwic2xpY2UiLCJ0b3RhbENvdW50Iiwic3VnZ2VzdGlvbnMiLCJmYWNldHMiLCJvcGVuIiwicGVuZGluZyIsInJlc29sdmVkIiwiY2xvc2VkIiwibG93IiwibWVkaXVtIiwiaGlnaCIsInVyZ2VudCIsImltYWdlIiwiZG9jdW1lbnQiLCJhdWRpbyIsInZpZGVvIiwiY29uc29sZSJdLCJzb3VyY2VzIjpbIkM6XFxBaSBQcm9qZWN0ZW5cXEFEU2FwcFxcc3JjXFxhcHBcXGFwaVxcc2VhcmNoXFxxdWVyeVxccm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQC9saWIvc3VwYWJhc2Uvc2VydmVyJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KClcbiAgICBcbiAgICAvLyBHZXQgY3VycmVudCB1c2VyXG4gICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSwgZXJyb3I6IGF1dGhFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKClcbiAgICBpZiAoYXV0aEVycm9yIHx8ICF1c2VyKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KVxuICAgIH1cblxuICAgIC8vIEdldCB1c2VyJ3Mgb3JnYW5pemF0aW9uXG4gICAgY29uc3QgeyBkYXRhOiBwcm9maWxlIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3Byb2ZpbGVzJylcbiAgICAgIC5zZWxlY3QoJ29yZ2FuaXphdGlvbl9pZCcpXG4gICAgICAuZXEoJ2lkJywgdXNlci5pZClcbiAgICAgIC5zaW5nbGUoKVxuXG4gICAgaWYgKCFwcm9maWxlPy5vcmdhbml6YXRpb25faWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnTm8gb3JnYW5pemF0aW9uIGZvdW5kJyB9LCB7IHN0YXR1czogNDAzIH0pXG4gICAgfVxuXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG4gICAgY29uc3QgeyBvcmdhbml6YXRpb25JZCwgdGV4dCwgdHlwZSA9ICdhbGwnLCBmaWx0ZXJzID0ge30sIHNvcnRCeSA9ICdyZWxldmFuY2UnLCBoaWdobGlnaHQgPSBmYWxzZSwgbGltaXQgPSAyMCwgb2Zmc2V0ID0gMCB9ID0gYm9keVxuXG4gICAgaWYgKG9yZ2FuaXphdGlvbklkICE9PSBwcm9maWxlLm9yZ2FuaXphdGlvbl9pZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdGb3JiaWRkZW4nIH0sIHsgc3RhdHVzOiA0MDMgfSlcbiAgICB9XG5cbiAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpXG4gICAgY29uc3QgcmVzdWx0czogYW55W10gPSBbXVxuXG4gICAgLy8gU2VhcmNoIGNvbnZlcnNhdGlvbnNcbiAgICBpZiAodHlwZSA9PT0gJ2NvbnZlcnNhdGlvbnMnIHx8IHR5cGUgPT09ICdhbGwnKSB7XG4gICAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnY29udmVyc2F0aW9ucycpXG4gICAgICAgIC5zZWxlY3QoYFxuICAgICAgICAgICosXG4gICAgICAgICAgY29udGFjdDpjb250YWN0cyFjb252ZXJzYXRpb25zX2NvbnRhY3RfaWRfZmtleSAoXG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBwaG9uZV9udW1iZXIsXG4gICAgICAgICAgICBwcm9maWxlX3BpY3R1cmVfdXJsXG4gICAgICAgICAgKSxcbiAgICAgICAgICBhc3NpZ25lZF9hZ2VudDpwcm9maWxlcyFjb252ZXJzYXRpb25zX2Fzc2lnbmVkX3RvX2ZrZXkgKFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBmdWxsX25hbWUsXG4gICAgICAgICAgICBhdmF0YXJfdXJsXG4gICAgICAgICAgKSxcbiAgICAgICAgICBsYXN0X21lc3NhZ2U6bWVzc2FnZXMgKFxuICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgIG1lc3NhZ2VfdHlwZSxcbiAgICAgICAgICAgIHNlbmRlcl90eXBlXG4gICAgICAgICAgKVxuICAgICAgICBgKVxuICAgICAgICAuZXEoJ29yZ2FuaXphdGlvbl9pZCcsIG9yZ2FuaXphdGlvbklkKVxuICAgICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGZvcmVpZ25UYWJsZTogJ21lc3NhZ2VzJywgYXNjZW5kaW5nOiBmYWxzZSB9KVxuICAgICAgICAubGltaXQoMSwgeyBmb3JlaWduVGFibGU6ICdtZXNzYWdlcycgfSlcblxuICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5vcihgc3ViamVjdC5pbGlrZS4lJHt0ZXh0fSUsdGFncy5jcy57JHt0ZXh0fX1gKVxuICAgICAgfVxuXG4gICAgICBpZiAoZmlsdGVycy5zdGF0dXM/Lmxlbmd0aCkge1xuICAgICAgICBxdWVyeSA9IHF1ZXJ5LmluKCdzdGF0dXMnLCBmaWx0ZXJzLnN0YXR1cylcbiAgICAgIH1cblxuICAgICAgaWYgKGZpbHRlcnMucHJpb3JpdHk/Lmxlbmd0aCkge1xuICAgICAgICBxdWVyeSA9IHF1ZXJ5LmluKCdwcmlvcml0eScsIGZpbHRlcnMucHJpb3JpdHkpXG4gICAgICB9XG5cbiAgICAgIGlmIChmaWx0ZXJzLmNvbnRhY3RJZD8ubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkuaW4oJ2NvbnRhY3RfaWQnLCBmaWx0ZXJzLmNvbnRhY3RJZClcbiAgICAgIH1cblxuICAgICAgY29uc3QgeyBkYXRhOiBjb252ZXJzYXRpb25zIH0gPSBhd2FpdCBxdWVyeS5saW1pdChsaW1pdClcblxuICAgICAgY29udmVyc2F0aW9ucz8uZm9yRWFjaChjb252ID0+IHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICBpZDogY29udi5pZCxcbiAgICAgICAgICB0eXBlOiAnY29udmVyc2F0aW9uJyxcbiAgICAgICAgICBzY29yZTogMC45LFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIC4uLmNvbnYsXG4gICAgICAgICAgICBsYXN0X21lc3NhZ2U6IGNvbnYubGFzdF9tZXNzYWdlPy5bMF0gfHwgbnVsbFxuICAgICAgICAgIH0sXG4gICAgICAgICAgaGlnaGxpZ2h0czogaGlnaGxpZ2h0ID8gW3tcbiAgICAgICAgICAgIGZpZWxkOiAnc3ViamVjdCcsXG4gICAgICAgICAgICBmcmFnbWVudHM6IFtjb252LnN1YmplY3QgfHwgJyddXG4gICAgICAgICAgfV0gOiB1bmRlZmluZWRcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gU2VhcmNoIG1lc3NhZ2VzXG4gICAgaWYgKHR5cGUgPT09ICdtZXNzYWdlcycgfHwgdHlwZSA9PT0gJ2FsbCcpIHtcbiAgICAgIGxldCBxdWVyeSA9IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdtZXNzYWdlcycpXG4gICAgICAgIC5zZWxlY3QoYFxuICAgICAgICAgICosXG4gICAgICAgICAgY29udmVyc2F0aW9uOmNvbnZlcnNhdGlvbnMhbWVzc2FnZXNfY29udmVyc2F0aW9uX2lkX2ZrZXkgKFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBjb250YWN0X2lkXG4gICAgICAgICAgKSxcbiAgICAgICAgICBjb250YWN0OmNvbnRhY3RzIW1lc3NhZ2VzX2NvbnRhY3RfaWRfZmtleSAoXG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBwaG9uZV9udW1iZXJcbiAgICAgICAgICApXG4gICAgICAgIGApXG4gICAgICAgIC5lcSgnb3JnYW5pemF0aW9uX2lkJywgb3JnYW5pemF0aW9uSWQpXG5cbiAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkuaWxpa2UoJ2NvbnRlbnQnLCBgJSR7dGV4dH0lYClcbiAgICAgIH1cblxuICAgICAgaWYgKGZpbHRlcnMubWVzc2FnZVR5cGU/Lmxlbmd0aCkge1xuICAgICAgICBxdWVyeSA9IHF1ZXJ5LmluKCdtZXNzYWdlX3R5cGUnLCBmaWx0ZXJzLm1lc3NhZ2VUeXBlKVxuICAgICAgfVxuXG4gICAgICBpZiAoZmlsdGVycy5kYXRlUmFuZ2UpIHtcbiAgICAgICAgaWYgKGZpbHRlcnMuZGF0ZVJhbmdlLnN0YXJ0KSB7XG4gICAgICAgICAgcXVlcnkgPSBxdWVyeS5ndGUoJ2NyZWF0ZWRfYXQnLCBmaWx0ZXJzLmRhdGVSYW5nZS5zdGFydClcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsdGVycy5kYXRlUmFuZ2UuZW5kKSB7XG4gICAgICAgICAgcXVlcnkgPSBxdWVyeS5sdGUoJ2NyZWF0ZWRfYXQnLCBmaWx0ZXJzLmRhdGVSYW5nZS5lbmQpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgeyBkYXRhOiBtZXNzYWdlcyB9ID0gYXdhaXQgcXVlcnkubGltaXQobGltaXQpXG5cbiAgICAgIG1lc3NhZ2VzPy5mb3JFYWNoKG1zZyA9PiB7XG4gICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgaWQ6IG1zZy5pZCxcbiAgICAgICAgICB0eXBlOiAnbWVzc2FnZScsXG4gICAgICAgICAgc2NvcmU6IDAuODUsXG4gICAgICAgICAgZGF0YTogbXNnLFxuICAgICAgICAgIGhpZ2hsaWdodHM6IGhpZ2hsaWdodCA/IFt7XG4gICAgICAgICAgICBmaWVsZDogJ2NvbnRlbnQnLFxuICAgICAgICAgICAgZnJhZ21lbnRzOiBbbXNnLmNvbnRlbnQgfHwgJyddXG4gICAgICAgICAgfV0gOiB1bmRlZmluZWRcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gU2VhcmNoIGNvbnRhY3RzXG4gICAgaWYgKHR5cGUgPT09ICdjb250YWN0cycgfHwgdHlwZSA9PT0gJ2FsbCcpIHtcbiAgICAgIGxldCBxdWVyeSA9IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdjb250YWN0cycpXG4gICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAuZXEoJ29yZ2FuaXphdGlvbl9pZCcsIG9yZ2FuaXphdGlvbklkKVxuXG4gICAgICBpZiAodGV4dCkge1xuICAgICAgICBxdWVyeSA9IHF1ZXJ5Lm9yKGBuYW1lLmlsaWtlLiUke3RleHR9JSxwaG9uZV9udW1iZXIuaWxpa2UuJSR7dGV4dH0lYClcbiAgICAgIH1cblxuICAgICAgY29uc3QgeyBkYXRhOiBjb250YWN0cyB9ID0gYXdhaXQgcXVlcnkubGltaXQobGltaXQpXG5cbiAgICAgIGNvbnRhY3RzPy5mb3JFYWNoKGNvbnRhY3QgPT4ge1xuICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgIGlkOiBjb250YWN0LmlkLFxuICAgICAgICAgIHR5cGU6ICdjb250YWN0JyxcbiAgICAgICAgICBzY29yZTogMC44LFxuICAgICAgICAgIGRhdGE6IGNvbnRhY3QsXG4gICAgICAgICAgaGlnaGxpZ2h0czogaGlnaGxpZ2h0ID8gW3tcbiAgICAgICAgICAgIGZpZWxkOiAnbmFtZScsXG4gICAgICAgICAgICBmcmFnbWVudHM6IFtjb250YWN0Lm5hbWUgfHwgJyddXG4gICAgICAgICAgfV0gOiB1bmRlZmluZWRcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gU29ydCByZXN1bHRzXG4gICAgaWYgKHNvcnRCeSA9PT0gJ3JlbGV2YW5jZScpIHtcbiAgICAgIHJlc3VsdHMuc29ydCgoYSwgYikgPT4gYi5zY29yZSAtIGEuc2NvcmUpXG4gICAgfSBlbHNlIGlmIChzb3J0QnkgPT09ICdkYXRlJykge1xuICAgICAgcmVzdWx0cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGVBID0gbmV3IERhdGUoYS5kYXRhLmNyZWF0ZWRfYXQgfHwgMCkuZ2V0VGltZSgpXG4gICAgICAgIGNvbnN0IGRhdGVCID0gbmV3IERhdGUoYi5kYXRhLmNyZWF0ZWRfYXQgfHwgMCkuZ2V0VGltZSgpXG4gICAgICAgIHJldHVybiBkYXRlQiAtIGRhdGVBXG4gICAgICB9KVxuICAgIH1cblxuICAgIGNvbnN0IGV4ZWN1dGlvblRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lXG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgcmVzdWx0czogcmVzdWx0cy5zbGljZShvZmZzZXQsIG9mZnNldCArIGxpbWl0KSxcbiAgICAgIHRvdGFsQ291bnQ6IHJlc3VsdHMubGVuZ3RoLFxuICAgICAgc3VnZ2VzdGlvbnM6IFtdLFxuICAgICAgZmFjZXRzOiB7XG4gICAgICAgIHN0YXR1czogeyBvcGVuOiAwLCBwZW5kaW5nOiAwLCByZXNvbHZlZDogMCwgY2xvc2VkOiAwIH0sXG4gICAgICAgIHByaW9yaXR5OiB7IGxvdzogMCwgbWVkaXVtOiAwLCBoaWdoOiAwLCB1cmdlbnQ6IDAgfSxcbiAgICAgICAgbWVzc2FnZVR5cGU6IHsgdGV4dDogMCwgaW1hZ2U6IDAsIGRvY3VtZW50OiAwLCBhdWRpbzogMCwgdmlkZW86IDAgfVxuICAgICAgfSxcbiAgICAgIHF1ZXJ5OiB7IHRleHQsIHR5cGUsIGZpbHRlcnMsIHNvcnRCeSwgaGlnaGxpZ2h0LCBsaW1pdCwgb2Zmc2V0IH0sXG4gICAgICBleGVjdXRpb25UaW1lXG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTZWFyY2ggZXJyb3I6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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