5db8fa1970712fba92d53ce5daae1b65
"use strict";

/* istanbul ignore next */
function cov_2ogks4bxlg() {
  var path = "C:\\Ai Projecten\\ADSapp\\src\\lib\\session\\redis-store.ts";
  var hash = "c36d5c100aea32b76480275813bce1e5189ee0b3";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Ai Projecten\\ADSapp\\src\\lib\\session\\redis-store.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "2": {
        start: {
          line: 6,
          column: 24
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "3": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 18,
          column: 3
        }
      },
      "4": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 33
        }
      },
      "5": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 39
        }
      },
      "6": {
        start: {
          line: 19,
          column: 15
        },
        end: {
          line: 19,
          column: 40
        }
      },
      "7": {
        start: {
          line: 22,
          column: 27
        },
        end: {
          line: 25,
          column: 1
        }
      },
      "8": {
        start: {
          line: 33,
          column: 8
        },
        end: {
          line: 36,
          column: 10
        }
      },
      "9": {
        start: {
          line: 37,
          column: 8
        },
        end: {
          line: 40,
          column: 11
        }
      },
      "10": {
        start: {
          line: 50,
          column: 8
        },
        end: {
          line: 50,
          column: 51
        }
      },
      "11": {
        start: {
          line: 59,
          column: 8
        },
        end: {
          line: 59,
          column: 41
        }
      },
      "12": {
        start: {
          line: 69,
          column: 8
        },
        end: {
          line: 69,
          column: 58
        }
      },
      "13": {
        start: {
          line: 76,
          column: 8
        },
        end: {
          line: 76,
          column: 54
        }
      },
      "14": {
        start: {
          line: 105,
          column: 69
        },
        end: {
          line: 105,
          column: 80
        }
      },
      "15": {
        start: {
          line: 107,
          column: 33
        },
        end: {
          line: 107,
          column: 67
        }
      },
      "16": {
        start: {
          line: 108,
          column: 8
        },
        end: {
          line: 112,
          column: 9
        }
      },
      "17": {
        start: {
          line: 110,
          column: 34
        },
        end: {
          line: 110,
          column: 133
        }
      },
      "18": {
        start: {
          line: 110,
          column: 64
        },
        end: {
          line: 110,
          column: 129
        }
      },
      "19": {
        start: {
          line: 111,
          column: 12
        },
        end: {
          line: 111,
          column: 73
        }
      },
      "20": {
        start: {
          line: 114,
          column: 20
        },
        end: {
          line: 114,
          column: 44
        }
      },
      "21": {
        start: {
          line: 115,
          column: 26
        },
        end: {
          line: 115,
          column: 108
        }
      },
      "22": {
        start: {
          line: 116,
          column: 24
        },
        end: {
          line: 125,
          column: 9
        }
      },
      "23": {
        start: {
          line: 127,
          column: 27
        },
        end: {
          line: 127,
          column: 67
        }
      },
      "24": {
        start: {
          line: 128,
          column: 27
        },
        end: {
          line: 128,
          column: 47
        }
      },
      "25": {
        start: {
          line: 129,
          column: 8
        },
        end: {
          line: 129,
          column: 80
        }
      },
      "26": {
        start: {
          line: 131,
          column: 32
        },
        end: {
          line: 131,
          column: 63
        }
      },
      "27": {
        start: {
          line: 132,
          column: 8
        },
        end: {
          line: 132,
          column: 61
        }
      },
      "28": {
        start: {
          line: 133,
          column: 8
        },
        end: {
          line: 133,
          column: 61
        }
      },
      "29": {
        start: {
          line: 135,
          column: 30
        },
        end: {
          line: 135,
          column: 75
        }
      },
      "30": {
        start: {
          line: 136,
          column: 8
        },
        end: {
          line: 136,
          column: 59
        }
      },
      "31": {
        start: {
          line: 137,
          column: 8
        },
        end: {
          line: 137,
          column: 59
        }
      },
      "32": {
        start: {
          line: 138,
          column: 8
        },
        end: {
          line: 138,
          column: 23
        }
      },
      "33": {
        start: {
          line: 155,
          column: 27
        },
        end: {
          line: 155,
          column: 67
        }
      },
      "34": {
        start: {
          line: 156,
          column: 28
        },
        end: {
          line: 156,
          column: 60
        }
      },
      "35": {
        start: {
          line: 157,
          column: 8
        },
        end: {
          line: 159,
          column: 9
        }
      },
      "36": {
        start: {
          line: 158,
          column: 12
        },
        end: {
          line: 158,
          column: 24
        }
      },
      "37": {
        start: {
          line: 160,
          column: 24
        },
        end: {
          line: 160,
          column: 47
        }
      },
      "38": {
        start: {
          line: 162,
          column: 8
        },
        end: {
          line: 165,
          column: 9
        }
      },
      "39": {
        start: {
          line: 163,
          column: 12
        },
        end: {
          line: 163,
          column: 59
        }
      },
      "40": {
        start: {
          line: 164,
          column: 12
        },
        end: {
          line: 164,
          column: 24
        }
      },
      "41": {
        start: {
          line: 167,
          column: 8
        },
        end: {
          line: 169,
          column: 9
        }
      },
      "42": {
        start: {
          line: 168,
          column: 12
        },
        end: {
          line: 168,
          column: 24
        }
      },
      "43": {
        start: {
          line: 170,
          column: 8
        },
        end: {
          line: 170,
          column: 23
        }
      },
      "44": {
        start: {
          line: 188,
          column: 24
        },
        end: {
          line: 188,
          column: 67
        }
      },
      "45": {
        start: {
          line: 189,
          column: 8
        },
        end: {
          line: 191,
          column: 9
        }
      },
      "46": {
        start: {
          line: 190,
          column: 12
        },
        end: {
          line: 190,
          column: 24
        }
      },
      "47": {
        start: {
          line: 193,
          column: 20
        },
        end: {
          line: 193,
          column: 44
        }
      },
      "48": {
        start: {
          line: 194,
          column: 26
        },
        end: {
          line: 194,
          column: 108
        }
      },
      "49": {
        start: {
          line: 195,
          column: 31
        },
        end: {
          line: 199,
          column: 9
        }
      },
      "50": {
        start: {
          line: 201,
          column: 27
        },
        end: {
          line: 201,
          column: 67
        }
      },
      "51": {
        start: {
          line: 202,
          column: 27
        },
        end: {
          line: 202,
          column: 47
        }
      },
      "52": {
        start: {
          line: 203,
          column: 8
        },
        end: {
          line: 203,
          column: 87
        }
      },
      "53": {
        start: {
          line: 204,
          column: 8
        },
        end: {
          line: 204,
          column: 30
        }
      },
      "54": {
        start: {
          line: 222,
          column: 24
        },
        end: {
          line: 222,
          column: 67
        }
      },
      "55": {
        start: {
          line: 223,
          column: 8
        },
        end: {
          line: 225,
          column: 9
        }
      },
      "56": {
        start: {
          line: 224,
          column: 12
        },
        end: {
          line: 224,
          column: 25
        }
      },
      "57": {
        start: {
          line: 227,
          column: 31
        },
        end: {
          line: 230,
          column: 9
        }
      },
      "58": {
        start: {
          line: 232,
          column: 27
        },
        end: {
          line: 232,
          column: 67
        }
      },
      "59": {
        start: {
          line: 233,
          column: 8
        },
        end: {
          line: 233,
          column: 81
        }
      },
      "60": {
        start: {
          line: 234,
          column: 8
        },
        end: {
          line: 234,
          column: 20
        }
      },
      "61": {
        start: {
          line: 246,
          column: 24
        },
        end: {
          line: 246,
          column: 67
        }
      },
      "62": {
        start: {
          line: 247,
          column: 8
        },
        end: {
          line: 249,
          column: 9
        }
      },
      "63": {
        start: {
          line: 248,
          column: 12
        },
        end: {
          line: 248,
          column: 25
        }
      },
      "64": {
        start: {
          line: 251,
          column: 27
        },
        end: {
          line: 251,
          column: 67
        }
      },
      "65": {
        start: {
          line: 252,
          column: 8
        },
        end: {
          line: 252,
          column: 41
        }
      },
      "66": {
        start: {
          line: 254,
          column: 32
        },
        end: {
          line: 254,
          column: 63
        }
      },
      "67": {
        start: {
          line: 255,
          column: 8
        },
        end: {
          line: 255,
          column: 61
        }
      },
      "68": {
        start: {
          line: 257,
          column: 30
        },
        end: {
          line: 257,
          column: 83
        }
      },
      "69": {
        start: {
          line: 258,
          column: 8
        },
        end: {
          line: 258,
          column: 59
        }
      },
      "70": {
        start: {
          line: 259,
          column: 8
        },
        end: {
          line: 259,
          column: 20
        }
      },
      "71": {
        start: {
          line: 276,
          column: 32
        },
        end: {
          line: 276,
          column: 63
        }
      },
      "72": {
        start: {
          line: 277,
          column: 30
        },
        end: {
          line: 277,
          column: 72
        }
      },
      "73": {
        start: {
          line: 278,
          column: 8
        },
        end: {
          line: 280,
          column: 9
        }
      },
      "74": {
        start: {
          line: 279,
          column: 12
        },
        end: {
          line: 279,
          column: 22
        }
      },
      "75": {
        start: {
          line: 282,
          column: 32
        },
        end: {
          line: 282,
          column: 90
        }
      },
      "76": {
        start: {
          line: 282,
          column: 59
        },
        end: {
          line: 282,
          column: 89
        }
      },
      "77": {
        start: {
          line: 283,
          column: 25
        },
        end: {
          line: 283,
          column: 59
        }
      },
      "78": {
        start: {
          line: 285,
          column: 8
        },
        end: {
          line: 285,
          column: 48
        }
      },
      "79": {
        start: {
          line: 285,
          column: 36
        },
        end: {
          line: 285,
          column: 46
        }
      },
      "80": {
        start: {
          line: 303,
          column: 25
        },
        end: {
          line: 303,
          column: 59
        }
      },
      "81": {
        start: {
          line: 305,
          column: 31
        },
        end: {
          line: 305,
          column: 104
        }
      },
      "82": {
        start: {
          line: 305,
          column: 55
        },
        end: {
          line: 305,
          column: 103
        }
      },
      "83": {
        start: {
          line: 306,
          column: 24
        },
        end: {
          line: 306,
          column: 57
        }
      },
      "84": {
        start: {
          line: 308,
          column: 8
        },
        end: {
          line: 308,
          column: 45
        }
      },
      "85": {
        start: {
          line: 308,
          column: 35
        },
        end: {
          line: 308,
          column: 36
        }
      },
      "86": {
        start: {
          line: 319,
          column: 25
        },
        end: {
          line: 319,
          column: 59
        }
      },
      "87": {
        start: {
          line: 321,
          column: 31
        },
        end: {
          line: 321,
          column: 104
        }
      },
      "88": {
        start: {
          line: 321,
          column: 55
        },
        end: {
          line: 321,
          column: 103
        }
      },
      "89": {
        start: {
          line: 322,
          column: 24
        },
        end: {
          line: 322,
          column: 57
        }
      },
      "90": {
        start: {
          line: 324,
          column: 8
        },
        end: {
          line: 324,
          column: 45
        }
      },
      "91": {
        start: {
          line: 324,
          column: 35
        },
        end: {
          line: 324,
          column: 36
        }
      },
      "92": {
        start: {
          line: 334,
          column: 25
        },
        end: {
          line: 334,
          column: 59
        }
      },
      "93": {
        start: {
          line: 335,
          column: 32
        },
        end: {
          line: 335,
          column: 65
        }
      },
      "94": {
        start: {
          line: 335,
          column: 53
        },
        end: {
          line: 335,
          column: 64
        }
      },
      "95": {
        start: {
          line: 336,
          column: 28
        },
        end: {
          line: 336,
          column: 32
        }
      },
      "96": {
        start: {
          line: 337,
          column: 28
        },
        end: {
          line: 337,
          column: 32
        }
      },
      "97": {
        start: {
          line: 338,
          column: 8
        },
        end: {
          line: 342,
          column: 9
        }
      },
      "98": {
        start: {
          line: 339,
          column: 27
        },
        end: {
          line: 339,
          column: 115
        }
      },
      "99": {
        start: {
          line: 339,
          column: 49
        },
        end: {
          line: 339,
          column: 114
        }
      },
      "100": {
        start: {
          line: 340,
          column: 12
        },
        end: {
          line: 340,
          column: 48
        }
      },
      "101": {
        start: {
          line: 341,
          column: 12
        },
        end: {
          line: 341,
          column: 64
        }
      },
      "102": {
        start: {
          line: 343,
          column: 8
        },
        end: {
          line: 349,
          column: 10
        }
      },
      "103": {
        start: {
          line: 360,
          column: 32
        },
        end: {
          line: 360,
          column: 63
        }
      },
      "104": {
        start: {
          line: 361,
          column: 30
        },
        end: {
          line: 361,
          column: 72
        }
      },
      "105": {
        start: {
          line: 362,
          column: 8
        },
        end: {
          line: 364,
          column: 9
        }
      },
      "106": {
        start: {
          line: 363,
          column: 12
        },
        end: {
          line: 363,
          column: 21
        }
      },
      "107": {
        start: {
          line: 365,
          column: 27
        },
        end: {
          line: 365,
          column: 28
        }
      },
      "108": {
        start: {
          line: 366,
          column: 8
        },
        end: {
          line: 373,
          column: 9
        }
      },
      "109": {
        start: {
          line: 367,
          column: 28
        },
        end: {
          line: 367,
          column: 64
        }
      },
      "110": {
        start: {
          line: 368,
          column: 12
        },
        end: {
          line: 372,
          column: 13
        }
      },
      "111": {
        start: {
          line: 370,
          column: 16
        },
        end: {
          line: 370,
          column: 62
        }
      },
      "112": {
        start: {
          line: 371,
          column: 16
        },
        end: {
          line: 371,
          column: 31
        }
      },
      "113": {
        start: {
          line: 374,
          column: 8
        },
        end: {
          line: 374,
          column: 28
        }
      },
      "114": {
        start: {
          line: 384,
          column: 8
        },
        end: {
          line: 398,
          column: 9
        }
      },
      "115": {
        start: {
          line: 386,
          column: 12
        },
        end: {
          line: 386,
          column: 36
        }
      },
      "116": {
        start: {
          line: 388,
          column: 12
        },
        end: {
          line: 390,
          column: 13
        }
      },
      "117": {
        start: {
          line: 389,
          column: 16
        },
        end: {
          line: 389,
          column: 77
        }
      },
      "118": {
        start: {
          line: 391,
          column: 12
        },
        end: {
          line: 393,
          column: 13
        }
      },
      "119": {
        start: {
          line: 392,
          column: 16
        },
        end: {
          line: 392,
          column: 78
        }
      },
      "120": {
        start: {
          line: 394,
          column: 12
        },
        end: {
          line: 394,
          column: 24
        }
      },
      "121": {
        start: {
          line: 396,
          column: 28
        },
        end: {
          line: 396,
          column: 84
        }
      },
      "122": {
        start: {
          line: 397,
          column: 12
        },
        end: {
          line: 397,
          column: 81
        }
      },
      "123": {
        start: {
          line: 405,
          column: 8
        },
        end: {
          line: 420,
          column: 9
        }
      },
      "124": {
        start: {
          line: 406,
          column: 26
        },
        end: {
          line: 406,
          column: 36
        }
      },
      "125": {
        start: {
          line: 407,
          column: 12
        },
        end: {
          line: 407,
          column: 36
        }
      },
      "126": {
        start: {
          line: 408,
          column: 28
        },
        end: {
          line: 408,
          column: 46
        }
      },
      "127": {
        start: {
          line: 409,
          column: 12
        },
        end: {
          line: 412,
          column: 14
        }
      },
      "128": {
        start: {
          line: 414,
          column: 28
        },
        end: {
          line: 414,
          column: 84
        }
      },
      "129": {
        start: {
          line: 415,
          column: 12
        },
        end: {
          line: 419,
          column: 14
        }
      },
      "130": {
        start: {
          line: 424,
          column: 16
        },
        end: {
          line: 424,
          column: 50
        }
      },
      "131": {
        start: {
          line: 425,
          column: 18
        },
        end: {
          line: 425,
          column: 54
        }
      },
      "132": {
        start: {
          line: 426,
          column: 4
        },
        end: {
          line: 428,
          column: 5
        }
      },
      "133": {
        start: {
          line: 427,
          column: 8
        },
        end: {
          line: 427,
          column: 112
        }
      },
      "134": {
        start: {
          line: 429,
          column: 23
        },
        end: {
          line: 434,
          column: 5
        }
      },
      "135": {
        start: {
          line: 435,
          column: 4
        },
        end: {
          line: 435,
          column: 45
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 16
          }
        },
        loc: {
          start: {
            line: 5,
            column: 30
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 5
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 4
          },
          end: {
            line: 12,
            column: 5
          }
        },
        loc: {
          start: {
            line: 12,
            column: 29
          },
          end: {
            line: 14,
            column: 5
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 35
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 32,
            column: 6
          },
          end: {
            line: 32,
            column: 7
          }
        },
        loc: {
          start: {
            line: 32,
            column: 25
          },
          end: {
            line: 41,
            column: 5
          }
        },
        line: 32
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 49,
            column: 6
          },
          end: {
            line: 49,
            column: 7
          }
        },
        loc: {
          start: {
            line: 49,
            column: 42
          },
          end: {
            line: 51,
            column: 5
          }
        },
        line: 49
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 58,
            column: 6
          },
          end: {
            line: 58,
            column: 7
          }
        },
        loc: {
          start: {
            line: 58,
            column: 33
          },
          end: {
            line: 60,
            column: 5
          }
        },
        line: 58
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 68,
            column: 6
          },
          end: {
            line: 68,
            column: 7
          }
        },
        loc: {
          start: {
            line: 68,
            column: 47
          },
          end: {
            line: 70,
            column: 5
          }
        },
        line: 68
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 75,
            column: 6
          },
          end: {
            line: 75,
            column: 7
          }
        },
        loc: {
          start: {
            line: 75,
            column: 22
          },
          end: {
            line: 77,
            column: 5
          }
        },
        line: 75
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 104,
            column: 6
          },
          end: {
            line: 104,
            column: 7
          }
        },
        loc: {
          start: {
            line: 104,
            column: 39
          },
          end: {
            line: 139,
            column: 5
          }
        },
        line: 104
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 110,
            column: 56
          },
          end: {
            line: 110,
            column: 57
          }
        },
        loc: {
          start: {
            line: 110,
            column: 64
          },
          end: {
            line: 110,
            column: 129
          }
        },
        line: 110
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 154,
            column: 6
          },
          end: {
            line: 154,
            column: 7
          }
        },
        loc: {
          start: {
            line: 154,
            column: 45
          },
          end: {
            line: 171,
            column: 5
          }
        },
        line: 154
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 187,
            column: 6
          },
          end: {
            line: 187,
            column: 7
          }
        },
        loc: {
          start: {
            line: 187,
            column: 56
          },
          end: {
            line: 205,
            column: 5
          }
        },
        line: 187
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 221,
            column: 6
          },
          end: {
            line: 221,
            column: 7
          }
        },
        loc: {
          start: {
            line: 221,
            column: 48
          },
          end: {
            line: 235,
            column: 5
          }
        },
        line: 221
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 245,
            column: 6
          },
          end: {
            line: 245,
            column: 7
          }
        },
        loc: {
          start: {
            line: 245,
            column: 48
          },
          end: {
            line: 260,
            column: 5
          }
        },
        line: 245
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 275,
            column: 6
          },
          end: {
            line: 275,
            column: 7
          }
        },
        loc: {
          start: {
            line: 275,
            column: 36
          },
          end: {
            line: 286,
            column: 5
          }
        },
        line: 275
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 282,
            column: 50
          },
          end: {
            line: 282,
            column: 51
          }
        },
        loc: {
          start: {
            line: 282,
            column: 59
          },
          end: {
            line: 282,
            column: 89
          }
        },
        line: 282
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 285,
            column: 31
          },
          end: {
            line: 285,
            column: 32
          }
        },
        loc: {
          start: {
            line: 285,
            column: 36
          },
          end: {
            line: 285,
            column: 46
          }
        },
        line: 285
      },
      "17": {
        name: "(anonymous_17)",
        decl: {
          start: {
            line: 302,
            column: 6
          },
          end: {
            line: 302,
            column: 7
          }
        },
        loc: {
          start: {
            line: 302,
            column: 42
          },
          end: {
            line: 309,
            column: 5
          }
        },
        line: 302
      },
      "18": {
        name: "(anonymous_18)",
        decl: {
          start: {
            line: 305,
            column: 44
          },
          end: {
            line: 305,
            column: 45
          }
        },
        loc: {
          start: {
            line: 305,
            column: 55
          },
          end: {
            line: 305,
            column: 103
          }
        },
        line: 305
      },
      "19": {
        name: "(anonymous_19)",
        decl: {
          start: {
            line: 308,
            column: 30
          },
          end: {
            line: 308,
            column: 31
          }
        },
        loc: {
          start: {
            line: 308,
            column: 35
          },
          end: {
            line: 308,
            column: 36
          }
        },
        line: 308
      },
      "20": {
        name: "(anonymous_20)",
        decl: {
          start: {
            line: 318,
            column: 6
          },
          end: {
            line: 318,
            column: 7
          }
        },
        loc: {
          start: {
            line: 318,
            column: 42
          },
          end: {
            line: 325,
            column: 5
          }
        },
        line: 318
      },
      "21": {
        name: "(anonymous_21)",
        decl: {
          start: {
            line: 321,
            column: 44
          },
          end: {
            line: 321,
            column: 45
          }
        },
        loc: {
          start: {
            line: 321,
            column: 55
          },
          end: {
            line: 321,
            column: 103
          }
        },
        line: 321
      },
      "22": {
        name: "(anonymous_22)",
        decl: {
          start: {
            line: 324,
            column: 30
          },
          end: {
            line: 324,
            column: 31
          }
        },
        loc: {
          start: {
            line: 324,
            column: 35
          },
          end: {
            line: 324,
            column: 36
          }
        },
        line: 324
      },
      "23": {
        name: "(anonymous_23)",
        decl: {
          start: {
            line: 333,
            column: 6
          },
          end: {
            line: 333,
            column: 7
          }
        },
        loc: {
          start: {
            line: 333,
            column: 40
          },
          end: {
            line: 350,
            column: 5
          }
        },
        line: 333
      },
      "24": {
        name: "(anonymous_24)",
        decl: {
          start: {
            line: 335,
            column: 48
          },
          end: {
            line: 335,
            column: 49
          }
        },
        loc: {
          start: {
            line: 335,
            column: 53
          },
          end: {
            line: 335,
            column: 64
          }
        },
        line: 335
      },
      "25": {
        name: "(anonymous_25)",
        decl: {
          start: {
            line: 339,
            column: 41
          },
          end: {
            line: 339,
            column: 42
          }
        },
        loc: {
          start: {
            line: 339,
            column: 49
          },
          end: {
            line: 339,
            column: 114
          }
        },
        line: 339
      },
      "26": {
        name: "(anonymous_26)",
        decl: {
          start: {
            line: 359,
            column: 6
          },
          end: {
            line: 359,
            column: 7
          }
        },
        loc: {
          start: {
            line: 359,
            column: 43
          },
          end: {
            line: 375,
            column: 5
          }
        },
        line: 359
      },
      "27": {
        name: "(anonymous_27)",
        decl: {
          start: {
            line: 383,
            column: 6
          },
          end: {
            line: 383,
            column: 7
          }
        },
        loc: {
          start: {
            line: 383,
            column: 36
          },
          end: {
            line: 399,
            column: 5
          }
        },
        line: 383
      },
      "28": {
        name: "(anonymous_28)",
        decl: {
          start: {
            line: 404,
            column: 6
          },
          end: {
            line: 404,
            column: 7
          }
        },
        loc: {
          start: {
            line: 404,
            column: 30
          },
          end: {
            line: 421,
            column: 5
          }
        },
        line: 404
      },
      "29": {
        name: "createRedisSessionStore",
        decl: {
          start: {
            line: 423,
            column: 9
          },
          end: {
            line: 423,
            column: 32
          }
        },
        loc: {
          start: {
            line: 423,
            column: 41
          },
          end: {
            line: 436,
            column: 1
          }
        },
        line: 423
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 108,
            column: 8
          },
          end: {
            line: 112,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 108,
            column: 8
          },
          end: {
            line: 112,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 108
      },
      "1": {
        loc: {
          start: {
            line: 157,
            column: 8
          },
          end: {
            line: 159,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 157,
            column: 8
          },
          end: {
            line: 159,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 157
      },
      "2": {
        loc: {
          start: {
            line: 162,
            column: 8
          },
          end: {
            line: 165,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 162,
            column: 8
          },
          end: {
            line: 165,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 162
      },
      "3": {
        loc: {
          start: {
            line: 167,
            column: 8
          },
          end: {
            line: 169,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 167,
            column: 8
          },
          end: {
            line: 169,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 167
      },
      "4": {
        loc: {
          start: {
            line: 189,
            column: 8
          },
          end: {
            line: 191,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 189,
            column: 8
          },
          end: {
            line: 191,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 189
      },
      "5": {
        loc: {
          start: {
            line: 223,
            column: 8
          },
          end: {
            line: 225,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 223,
            column: 8
          },
          end: {
            line: 225,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 223
      },
      "6": {
        loc: {
          start: {
            line: 247,
            column: 8
          },
          end: {
            line: 249,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 247,
            column: 8
          },
          end: {
            line: 249,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 247
      },
      "7": {
        loc: {
          start: {
            line: 278,
            column: 8
          },
          end: {
            line: 280,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 278,
            column: 8
          },
          end: {
            line: 280,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 278
      },
      "8": {
        loc: {
          start: {
            line: 278,
            column: 12
          },
          end: {
            line: 278,
            column: 56
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 278,
            column: 12
          },
          end: {
            line: 278,
            column: 26
          }
        }, {
          start: {
            line: 278,
            column: 30
          },
          end: {
            line: 278,
            column: 56
          }
        }],
        line: 278
      },
      "9": {
        loc: {
          start: {
            line: 338,
            column: 8
          },
          end: {
            line: 342,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 338,
            column: 8
          },
          end: {
            line: 342,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 338
      },
      "10": {
        loc: {
          start: {
            line: 362,
            column: 8
          },
          end: {
            line: 364,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 362,
            column: 8
          },
          end: {
            line: 364,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 362
      },
      "11": {
        loc: {
          start: {
            line: 362,
            column: 12
          },
          end: {
            line: 362,
            column: 56
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 362,
            column: 12
          },
          end: {
            line: 362,
            column: 26
          }
        }, {
          start: {
            line: 362,
            column: 30
          },
          end: {
            line: 362,
            column: 56
          }
        }],
        line: 362
      },
      "12": {
        loc: {
          start: {
            line: 368,
            column: 12
          },
          end: {
            line: 372,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 368,
            column: 12
          },
          end: {
            line: 372,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 368
      },
      "13": {
        loc: {
          start: {
            line: 388,
            column: 12
          },
          end: {
            line: 390,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 388,
            column: 12
          },
          end: {
            line: 390,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 388
      },
      "14": {
        loc: {
          start: {
            line: 391,
            column: 12
          },
          end: {
            line: 393,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 391,
            column: 12
          },
          end: {
            line: 393,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 391
      },
      "15": {
        loc: {
          start: {
            line: 396,
            column: 28
          },
          end: {
            line: 396,
            column: 84
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 396,
            column: 53
          },
          end: {
            line: 396,
            column: 66
          }
        }, {
          start: {
            line: 396,
            column: 69
          },
          end: {
            line: 396,
            column: 84
          }
        }],
        line: 396
      },
      "16": {
        loc: {
          start: {
            line: 414,
            column: 28
          },
          end: {
            line: 414,
            column: 84
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 414,
            column: 53
          },
          end: {
            line: 414,
            column: 66
          }
        }, {
          start: {
            line: 414,
            column: 69
          },
          end: {
            line: 414,
            column: 84
          }
        }],
        line: 414
      },
      "17": {
        loc: {
          start: {
            line: 426,
            column: 4
          },
          end: {
            line: 428,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 426,
            column: 4
          },
          end: {
            line: 428,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 426
      },
      "18": {
        loc: {
          start: {
            line: 426,
            column: 8
          },
          end: {
            line: 426,
            column: 22
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 426,
            column: 8
          },
          end: {
            line: 426,
            column: 12
          }
        }, {
          start: {
            line: 426,
            column: 16
          },
          end: {
            line: 426,
            column: 22
          }
        }],
        line: 426
      },
      "19": {
        loc: {
          start: {
            line: 432,
            column: 31
          },
          end: {
            line: 432,
            column: 113
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 432,
            column: 31
          },
          end: {
            line: 432,
            column: 60
          }
        }, {
          start: {
            line: 432,
            column: 64
          },
          end: {
            line: 432,
            column: 107
          }
        }, {
          start: {
            line: 432,
            column: 111
          },
          end: {
            line: 432,
            column: 113
          }
        }],
        line: 432
      },
      "20": {
        loc: {
          start: {
            line: 433,
            column: 31
          },
          end: {
            line: 433,
            column: 112
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 433,
            column: 31
          },
          end: {
            line: 433,
            column: 60
          }
        }, {
          start: {
            line: 433,
            column: 64
          },
          end: {
            line: 433,
            column: 107
          }
        }, {
          start: {
            line: 433,
            column: 111
          },
          end: {
            line: 433,
            column: 112
          }
        }],
        line: 433
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0,
      "110": 0,
      "111": 0,
      "112": 0,
      "113": 0,
      "114": 0,
      "115": 0,
      "116": 0,
      "117": 0,
      "118": 0,
      "119": 0,
      "120": 0,
      "121": 0,
      "122": 0,
      "123": 0,
      "124": 0,
      "125": 0,
      "126": 0,
      "127": 0,
      "128": 0,
      "129": 0,
      "130": 0,
      "131": 0,
      "132": 0,
      "133": 0,
      "134": 0,
      "135": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0, 0],
      "20": [0, 0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Ai Projecten\\ADSapp\\src\\lib\\session\\redis-store.ts"],
      sourcesContent: ["import { Redis } from '@upstash/redis';\n\n/**\n * Redis Session Store for Enterprise Session Management\n *\n * Provides high-performance, distributed session storage using Upstash Redis.\n * Supports concurrent session management, automatic TTL expiration, and efficient\n * session tracking across multiple application instances.\n *\n * Security Features:\n * - Automatic session expiration with TTL\n * - Atomic operations for concurrent session limits\n * - Device fingerprinting for session tracking\n * - Efficient key-based session lookups\n *\n * Performance:\n * - O(1) lookups for session retrieval\n * - Batch operations for multi-session management\n * - Automatic cleanup via Redis TTL\n * - Optimized for high-throughput scenarios\n *\n * @module redis-store\n */\n\n/**\n * Device information for session tracking\n */\nexport interface DeviceInfo {\n  userAgent: string;\n  ip: string;\n  platform?: string;\n  browser?: string;\n  os?: string;\n}\n\n/**\n * Redis session data structure\n * Stored in Redis with automatic TTL expiration\n */\nexport interface RedisSession {\n  userId: string;\n  organizationId: string;\n  sessionToken: string;\n  deviceInfo: DeviceInfo;\n  createdAt: string;\n  lastActivity: string;\n  expiresAt: string;\n  isRevoked: boolean;\n}\n\n/**\n * Session statistics for monitoring\n */\nexport interface SessionStats {\n  totalSessions: number;\n  activeSessions: number;\n  revokedSessions: number;\n  oldestSession: string | null;\n  newestSession: string | null;\n}\n\n/**\n * Configuration for Redis Session Store\n */\nexport interface RedisStoreConfig {\n  url: string;\n  token: string;\n  sessionTimeoutMinutes: number;\n  maxConcurrentSessions: number;\n}\n\n/**\n * Default configuration values\n */\nconst DEFAULT_CONFIG: Partial<RedisStoreConfig> = {\n  sessionTimeoutMinutes: 30,\n  maxConcurrentSessions: 5\n};\n\n/**\n * Redis Session Store Class\n *\n * Manages session storage and retrieval using Upstash Redis.\n * Implements enterprise-grade session management with concurrent session limits,\n * automatic expiration, and device tracking.\n *\n * @example\n * ```typescript\n * const store = new RedisSessionStore({\n *   url: process.env.UPSTASH_REDIS_REST_URL!,\n *   token: process.env.UPSTASH_REDIS_REST_TOKEN!,\n *   sessionTimeoutMinutes: 30,\n *   maxConcurrentSessions: 5\n * });\n *\n * // Create a new session\n * await store.createSession({\n *   userId: 'user123',\n *   organizationId: 'org456',\n *   sessionToken: 'token789',\n *   deviceInfo: { userAgent: '...', ip: '...' }\n * });\n * ```\n */\nexport class RedisSessionStore {\n  private redis: Redis;\n  private config: RedisStoreConfig;\n\n  /**\n   * Initialize Redis Session Store\n   *\n   * @param config - Redis configuration and session settings\n   * @throws Error if Redis connection cannot be established\n   */\n  constructor(config: RedisStoreConfig) {\n    this.config = {\n      ...DEFAULT_CONFIG,\n      ...config\n    } as RedisStoreConfig;\n\n    this.redis = new Redis({\n      url: this.config.url,\n      token: this.config.token\n    });\n  }\n\n  /**\n   * Generate Redis key for session storage\n   * Format: session:{userId}:{sessionToken}\n   *\n   * @param userId - User ID\n   * @param sessionToken - Session token\n   * @returns Redis key string\n   */\n  private getSessionKey(userId: string, sessionToken: string): string {\n    return `session:${userId}:${sessionToken}`;\n  }\n\n  /**\n   * Generate Redis key for user sessions index\n   * Format: user_sessions:{userId}\n   *\n   * @param userId - User ID\n   * @returns Redis key string for user sessions set\n   */\n  private getUserSessionsKey(userId: string): string {\n    return `user_sessions:${userId}`;\n  }\n\n  /**\n   * Generate Redis key for organization sessions tracking\n   * Format: org_sessions:{organizationId}:{userId}\n   *\n   * @param organizationId - Organization ID\n   * @param userId - User ID\n   * @returns Redis key string for organization sessions\n   */\n  private getOrgSessionKey(organizationId: string, userId: string): string {\n    return `org_sessions:${organizationId}:${userId}`;\n  }\n\n  /**\n   * Calculate session TTL in seconds\n   *\n   * @returns TTL in seconds\n   */\n  private getSessionTTL(): number {\n    return this.config.sessionTimeoutMinutes * 60;\n  }\n\n  /**\n   * Create a new session in Redis\n   *\n   * Implements concurrent session management:\n   * 1. Checks current session count for user\n   * 2. If at limit, removes oldest session (FIFO)\n   * 3. Creates new session with TTL\n   * 4. Updates user sessions index\n   *\n   * @param sessionData - Session data to store\n   * @returns Created session object\n   * @throws Error if session creation fails\n   *\n   * @example\n   * ```typescript\n   * const session = await store.createSession({\n   *   userId: 'user123',\n   *   organizationId: 'org456',\n   *   sessionToken: 'token789',\n   *   deviceInfo: {\n   *     userAgent: 'Mozilla/5.0...',\n   *     ip: '192.168.1.1',\n   *     platform: 'web'\n   *   }\n   * });\n   * ```\n   */\n  async createSession(sessionData: {\n    userId: string;\n    organizationId: string;\n    sessionToken: string;\n    deviceInfo: DeviceInfo;\n  }): Promise<RedisSession> {\n    const { userId, organizationId, sessionToken, deviceInfo } = sessionData;\n\n    // Check concurrent session limit\n    const existingSessions = await this.getUserSessions(userId);\n\n    if (existingSessions.length >= this.config.maxConcurrentSessions) {\n      // Remove oldest session (FIFO eviction)\n      const oldestSession = existingSessions.sort(\n        (a, b) => new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime()\n      )[0];\n\n      await this.deleteSession(userId, oldestSession.sessionToken);\n    }\n\n    // Create session object\n    const now = new Date().toISOString();\n    const expiresAt = new Date(\n      Date.now() + this.config.sessionTimeoutMinutes * 60 * 1000\n    ).toISOString();\n\n    const session: RedisSession = {\n      userId,\n      organizationId,\n      sessionToken,\n      deviceInfo,\n      createdAt: now,\n      lastActivity: now,\n      expiresAt,\n      isRevoked: false\n    };\n\n    // Store session in Redis with TTL\n    const sessionKey = this.getSessionKey(userId, sessionToken);\n    const ttlSeconds = this.getSessionTTL();\n\n    await this.redis.setex(sessionKey, ttlSeconds, JSON.stringify(session));\n\n    // Add to user sessions index\n    const userSessionsKey = this.getUserSessionsKey(userId);\n    await this.redis.sadd(userSessionsKey, sessionToken);\n    await this.redis.expire(userSessionsKey, ttlSeconds);\n\n    // Add to organization tracking\n    const orgSessionKey = this.getOrgSessionKey(organizationId, userId);\n    await this.redis.sadd(orgSessionKey, sessionToken);\n    await this.redis.expire(orgSessionKey, ttlSeconds);\n\n    return session;\n  }\n\n  /**\n   * Get session by user ID and session token\n   *\n   * @param userId - User ID\n   * @param sessionToken - Session token\n   * @returns Session object or null if not found/expired\n   *\n   * @example\n   * ```typescript\n   * const session = await store.getSession('user123', 'token789');\n   * if (session && !session.isRevoked) {\n   *   // Session is valid\n   * }\n   * ```\n   */\n  async getSession(\n    userId: string,\n    sessionToken: string\n  ): Promise<RedisSession | null> {\n    const sessionKey = this.getSessionKey(userId, sessionToken);\n    const sessionData = await this.redis.get<string>(sessionKey);\n\n    if (!sessionData) {\n      return null;\n    }\n\n    const session: RedisSession = JSON.parse(sessionData);\n\n    // Check if session is expired\n    if (new Date(session.expiresAt) < new Date()) {\n      await this.deleteSession(userId, sessionToken);\n      return null;\n    }\n\n    // Check if session is revoked\n    if (session.isRevoked) {\n      return null;\n    }\n\n    return session;\n  }\n\n  /**\n   * Update session last activity timestamp\n   *\n   * Extends session TTL and updates last activity.\n   * Called on every authenticated request to maintain session.\n   *\n   * @param userId - User ID\n   * @param sessionToken - Session token\n   * @returns Updated session or null if not found\n   *\n   * @example\n   * ```typescript\n   * // Called by session middleware on each request\n   * await store.updateSessionActivity('user123', 'token789');\n   * ```\n   */\n  async updateSessionActivity(\n    userId: string,\n    sessionToken: string\n  ): Promise<RedisSession | null> {\n    const session = await this.getSession(userId, sessionToken);\n\n    if (!session) {\n      return null;\n    }\n\n    // Update last activity and expiration\n    const now = new Date().toISOString();\n    const expiresAt = new Date(\n      Date.now() + this.config.sessionTimeoutMinutes * 60 * 1000\n    ).toISOString();\n\n    const updatedSession: RedisSession = {\n      ...session,\n      lastActivity: now,\n      expiresAt\n    };\n\n    // Update in Redis with refreshed TTL\n    const sessionKey = this.getSessionKey(userId, sessionToken);\n    const ttlSeconds = this.getSessionTTL();\n\n    await this.redis.setex(\n      sessionKey,\n      ttlSeconds,\n      JSON.stringify(updatedSession)\n    );\n\n    return updatedSession;\n  }\n\n  /**\n   * Revoke a specific session\n   *\n   * Marks session as revoked without deleting it immediately.\n   * Allows for audit trail and revocation tracking.\n   *\n   * @param userId - User ID\n   * @param sessionToken - Session token to revoke\n   * @returns True if revoked successfully\n   *\n   * @example\n   * ```typescript\n   * // Revoke specific session (e.g., user logs out from one device)\n   * await store.revokeSession('user123', 'token789');\n   * ```\n   */\n  async revokeSession(\n    userId: string,\n    sessionToken: string\n  ): Promise<boolean> {\n    const session = await this.getSession(userId, sessionToken);\n\n    if (!session) {\n      return false;\n    }\n\n    // Mark as revoked\n    const revokedSession: RedisSession = {\n      ...session,\n      isRevoked: true\n    };\n\n    // Update in Redis with short TTL (keep for audit)\n    const sessionKey = this.getSessionKey(userId, sessionToken);\n    await this.redis.setex(sessionKey, 3600, JSON.stringify(revokedSession)); // 1 hour audit trail\n\n    return true;\n  }\n\n  /**\n   * Delete a session permanently\n   *\n   * Removes session from Redis and all indexes.\n   * Used for cleanup and FIFO eviction.\n   *\n   * @param userId - User ID\n   * @param sessionToken - Session token to delete\n   * @returns True if deleted successfully\n   */\n  async deleteSession(userId: string, sessionToken: string): Promise<boolean> {\n    const session = await this.getSession(userId, sessionToken);\n\n    if (!session) {\n      return false;\n    }\n\n    // Delete session\n    const sessionKey = this.getSessionKey(userId, sessionToken);\n    await this.redis.del(sessionKey);\n\n    // Remove from user sessions index\n    const userSessionsKey = this.getUserSessionsKey(userId);\n    await this.redis.srem(userSessionsKey, sessionToken);\n\n    // Remove from organization tracking\n    const orgSessionKey = this.getOrgSessionKey(\n      session.organizationId,\n      userId\n    );\n    await this.redis.srem(orgSessionKey, sessionToken);\n\n    return true;\n  }\n\n  /**\n   * Get all sessions for a user\n   *\n   * Returns all active (non-revoked, non-expired) sessions.\n   * Used for session listing and management.\n   *\n   * @param userId - User ID\n   * @returns Array of active sessions\n   *\n   * @example\n   * ```typescript\n   * const sessions = await store.getUserSessions('user123');\n   * console.log(`User has ${sessions.length} active sessions`);\n   * ```\n   */\n  async getUserSessions(userId: string): Promise<RedisSession[]> {\n    const userSessionsKey = this.getUserSessionsKey(userId);\n    const sessionTokens = await this.redis.smembers<string[]>(userSessionsKey);\n\n    if (!sessionTokens || sessionTokens.length === 0) {\n      return [];\n    }\n\n    // Get all sessions in parallel\n    const sessionPromises = sessionTokens.map(token =>\n      this.getSession(userId, token)\n    );\n\n    const sessions = await Promise.all(sessionPromises);\n\n    // Filter out null values (expired/revoked sessions)\n    return sessions.filter((s): s is RedisSession => s !== null);\n  }\n\n  /**\n   * Revoke all sessions for a user\n   *\n   * Used for security events like password changes, account compromise,\n   * or manual user action.\n   *\n   * @param userId - User ID\n   * @returns Number of sessions revoked\n   *\n   * @example\n   * ```typescript\n   * // User changes password - revoke all sessions\n   * const count = await store.revokeAllUserSessions('user123');\n   * console.log(`Revoked ${count} sessions`);\n   * ```\n   */\n  async revokeAllUserSessions(userId: string): Promise<number> {\n    const sessions = await this.getUserSessions(userId);\n\n    // Revoke all sessions in parallel\n    const revokePromises = sessions.map(session =>\n      this.revokeSession(userId, session.sessionToken)\n    );\n\n    const results = await Promise.all(revokePromises);\n\n    // Count successful revocations\n    return results.filter(r => r).length;\n  }\n\n  /**\n   * Delete all sessions for a user\n   *\n   * Permanently removes all user sessions.\n   * Used for account deletion or administrative actions.\n   *\n   * @param userId - User ID\n   * @returns Number of sessions deleted\n   */\n  async deleteAllUserSessions(userId: string): Promise<number> {\n    const sessions = await this.getUserSessions(userId);\n\n    // Delete all sessions in parallel\n    const deletePromises = sessions.map(session =>\n      this.deleteSession(userId, session.sessionToken)\n    );\n\n    const results = await Promise.all(deletePromises);\n\n    // Count successful deletions\n    return results.filter(r => r).length;\n  }\n\n  /**\n   * Get session statistics for a user\n   *\n   * Provides metrics for monitoring and analytics.\n   *\n   * @param userId - User ID\n   * @returns Session statistics\n   */\n  async getUserSessionStats(userId: string): Promise<SessionStats> {\n    const sessions = await this.getUserSessions(userId);\n    const revokedSessions = sessions.filter(s => s.isRevoked);\n\n    let oldestSession: string | null = null;\n    let newestSession: string | null = null;\n\n    if (sessions.length > 0) {\n      const sorted = sessions.sort(\n        (a, b) => new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime()\n      );\n      oldestSession = sorted[0].createdAt;\n      newestSession = sorted[sorted.length - 1].createdAt;\n    }\n\n    return {\n      totalSessions: sessions.length,\n      activeSessions: sessions.length - revokedSessions.length,\n      revokedSessions: revokedSessions.length,\n      oldestSession,\n      newestSession\n    };\n  }\n\n  /**\n   * Clean up expired sessions manually\n   *\n   * While Redis automatically removes expired keys, this method\n   * provides manual cleanup for index consistency.\n   *\n   * @param userId - User ID\n   * @returns Number of sessions cleaned up\n   */\n  async cleanupExpiredSessions(userId: string): Promise<number> {\n    const userSessionsKey = this.getUserSessionsKey(userId);\n    const sessionTokens = await this.redis.smembers<string[]>(userSessionsKey);\n\n    if (!sessionTokens || sessionTokens.length === 0) {\n      return 0;\n    }\n\n    let cleanedCount = 0;\n\n    for (const token of sessionTokens) {\n      const session = await this.getSession(userId, token);\n      if (!session) {\n        // Session is expired or invalid - remove from index\n        await this.redis.srem(userSessionsKey, token);\n        cleanedCount++;\n      }\n    }\n\n    return cleanedCount;\n  }\n\n  /**\n   * Validate session configuration\n   *\n   * Checks if Redis connection is working and configuration is valid.\n   *\n   * @returns True if configuration is valid\n   * @throws Error if validation fails\n   */\n  async validateConfiguration(): Promise<boolean> {\n    try {\n      // Test Redis connection\n      await this.redis.ping();\n\n      // Validate configuration values\n      if (this.config.sessionTimeoutMinutes < 1) {\n        throw new Error('Session timeout must be at least 1 minute');\n      }\n\n      if (this.config.maxConcurrentSessions < 1) {\n        throw new Error('Max concurrent sessions must be at least 1');\n      }\n\n      return true;\n    } catch (error) {\n      const message = error instanceof Error ? error.message : 'Unknown error';\n      throw new Error(`Redis Session Store validation failed: ${message}`);\n    }\n  }\n\n  /**\n   * Get Redis connection health status\n   *\n   * @returns Health status object\n   */\n  async getHealthStatus(): Promise<{\n    healthy: boolean;\n    latency: number;\n    error?: string;\n  }> {\n    try {\n      const start = Date.now();\n      await this.redis.ping();\n      const latency = Date.now() - start;\n\n      return {\n        healthy: true,\n        latency\n      };\n    } catch (error) {\n      const message = error instanceof Error ? error.message : 'Unknown error';\n      return {\n        healthy: false,\n        latency: -1,\n        error: message\n      };\n    }\n  }\n}\n\n/**\n * Create and configure Redis Session Store\n *\n * Factory function for easy store initialization.\n *\n * @param config - Optional configuration overrides\n * @returns Configured RedisSessionStore instance\n *\n * @example\n * ```typescript\n * const store = createRedisSessionStore({\n *   sessionTimeoutMinutes: 60, // 1 hour\n *   maxConcurrentSessions: 10\n * });\n * ```\n */\nexport function createRedisSessionStore(\n  config?: Partial<RedisStoreConfig>\n): RedisSessionStore {\n  const url = process.env.UPSTASH_REDIS_REST_URL;\n  const token = process.env.UPSTASH_REDIS_REST_TOKEN;\n\n  if (!url || !token) {\n    throw new Error(\n      'Redis configuration missing. Set UPSTASH_REDIS_REST_URL and UPSTASH_REDIS_REST_TOKEN'\n    );\n  }\n\n  const fullConfig: RedisStoreConfig = {\n    url,\n    token,\n    sessionTimeoutMinutes: config?.sessionTimeoutMinutes ??\n      Number(process.env.SESSION_TIMEOUT_MINUTES) ??\n      30,\n    maxConcurrentSessions: config?.maxConcurrentSessions ??\n      Number(process.env.MAX_CONCURRENT_SESSIONS) ??\n      5\n  };\n\n  return new RedisSessionStore(fullConfig);\n}\n"],
      names: ["RedisSessionStore", "createRedisSessionStore", "DEFAULT_CONFIG", "sessionTimeoutMinutes", "maxConcurrentSessions", "config", "redis", "Redis", "url", "token", "getSessionKey", "userId", "sessionToken", "getUserSessionsKey", "getOrgSessionKey", "organizationId", "getSessionTTL", "createSession", "sessionData", "deviceInfo", "existingSessions", "getUserSessions", "length", "oldestSession", "sort", "a", "b", "Date", "createdAt", "getTime", "deleteSession", "now", "toISOString", "expiresAt", "session", "lastActivity", "isRevoked", "sessionKey", "ttlSeconds", "setex", "JSON", "stringify", "userSessionsKey", "sadd", "expire", "orgSessionKey", "getSession", "get", "parse", "updateSessionActivity", "updatedSession", "revokeSession", "revokedSession", "del", "srem", "sessionTokens", "smembers", "sessionPromises", "map", "sessions", "Promise", "all", "filter", "s", "revokeAllUserSessions", "revokePromises", "results", "r", "deleteAllUserSessions", "deletePromises", "getUserSessionStats", "revokedSessions", "newestSession", "sorted", "totalSessions", "activeSessions", "cleanupExpiredSessions", "cleanedCount", "validateConfiguration", "ping", "Error", "error", "message", "getHealthStatus", "start", "latency", "healthy", "process", "env", "UPSTASH_REDIS_REST_URL", "UPSTASH_REDIS_REST_TOKEN", "fullConfig", "Number", "SESSION_TIMEOUT_MINUTES", "MAX_CONCURRENT_SESSIONS"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "c36d5c100aea32b76480275813bce1e5189ee0b3"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2ogks4bxlg = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2ogks4bxlg();
cov_2ogks4bxlg().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_2ogks4bxlg().f[0]++;
  cov_2ogks4bxlg().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_2ogks4bxlg().s[3]++;
_export(exports, {
  get RedisSessionStore() {
    /* istanbul ignore next */
    cov_2ogks4bxlg().f[1]++;
    cov_2ogks4bxlg().s[4]++;
    return RedisSessionStore;
  },
  get createRedisSessionStore() {
    /* istanbul ignore next */
    cov_2ogks4bxlg().f[2]++;
    cov_2ogks4bxlg().s[5]++;
    return createRedisSessionStore;
  }
});
const _redis =
/* istanbul ignore next */
(cov_2ogks4bxlg().s[6]++, require("@upstash/redis"));
/**
 * Default configuration values
 */
const DEFAULT_CONFIG =
/* istanbul ignore next */
(cov_2ogks4bxlg().s[7]++, {
  sessionTimeoutMinutes: 30,
  maxConcurrentSessions: 5
});
class RedisSessionStore {
  /**
  * Initialize Redis Session Store
  *
  * @param config - Redis configuration and session settings
  * @throws Error if Redis connection cannot be established
  */
  constructor(config) {
    /* istanbul ignore next */
    cov_2ogks4bxlg().f[3]++;
    cov_2ogks4bxlg().s[8]++;
    this.config = {
      ...DEFAULT_CONFIG,
      ...config
    };
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[9]++;
    this.redis = new _redis.Redis({
      url: this.config.url,
      token: this.config.token
    });
  }
  /**
  * Generate Redis key for session storage
  * Format: session:{userId}:{sessionToken}
  *
  * @param userId - User ID
  * @param sessionToken - Session token
  * @returns Redis key string
  */
  getSessionKey(userId, sessionToken) {
    /* istanbul ignore next */
    cov_2ogks4bxlg().f[4]++;
    cov_2ogks4bxlg().s[10]++;
    return `session:${userId}:${sessionToken}`;
  }
  /**
  * Generate Redis key for user sessions index
  * Format: user_sessions:{userId}
  *
  * @param userId - User ID
  * @returns Redis key string for user sessions set
  */
  getUserSessionsKey(userId) {
    /* istanbul ignore next */
    cov_2ogks4bxlg().f[5]++;
    cov_2ogks4bxlg().s[11]++;
    return `user_sessions:${userId}`;
  }
  /**
  * Generate Redis key for organization sessions tracking
  * Format: org_sessions:{organizationId}:{userId}
  *
  * @param organizationId - Organization ID
  * @param userId - User ID
  * @returns Redis key string for organization sessions
  */
  getOrgSessionKey(organizationId, userId) {
    /* istanbul ignore next */
    cov_2ogks4bxlg().f[6]++;
    cov_2ogks4bxlg().s[12]++;
    return `org_sessions:${organizationId}:${userId}`;
  }
  /**
  * Calculate session TTL in seconds
  *
  * @returns TTL in seconds
  */
  getSessionTTL() {
    /* istanbul ignore next */
    cov_2ogks4bxlg().f[7]++;
    cov_2ogks4bxlg().s[13]++;
    return this.config.sessionTimeoutMinutes * 60;
  }
  /**
  * Create a new session in Redis
  *
  * Implements concurrent session management:
  * 1. Checks current session count for user
  * 2. If at limit, removes oldest session (FIFO)
  * 3. Creates new session with TTL
  * 4. Updates user sessions index
  *
  * @param sessionData - Session data to store
  * @returns Created session object
  * @throws Error if session creation fails
  *
  * @example
  * ```typescript
  * const session = await store.createSession({
  *   userId: 'user123',
  *   organizationId: 'org456',
  *   sessionToken: 'token789',
  *   deviceInfo: {
  *     userAgent: 'Mozilla/5.0...',
  *     ip: '192.168.1.1',
  *     platform: 'web'
  *   }
  * });
  * ```
  */
  async createSession(sessionData) {
    /* istanbul ignore next */
    cov_2ogks4bxlg().f[8]++;
    const {
      userId,
      organizationId,
      sessionToken,
      deviceInfo
    } =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[14]++, sessionData);
    // Check concurrent session limit
    const existingSessions =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[15]++, await this.getUserSessions(userId));
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[16]++;
    if (existingSessions.length >= this.config.maxConcurrentSessions) {
      /* istanbul ignore next */
      cov_2ogks4bxlg().b[0][0]++;
      // Remove oldest session (FIFO eviction)
      const oldestSession =
      /* istanbul ignore next */
      (cov_2ogks4bxlg().s[17]++, existingSessions.sort((a, b) => {
        /* istanbul ignore next */
        cov_2ogks4bxlg().f[9]++;
        cov_2ogks4bxlg().s[18]++;
        return new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime();
      })[0]);
      /* istanbul ignore next */
      cov_2ogks4bxlg().s[19]++;
      await this.deleteSession(userId, oldestSession.sessionToken);
    } else
    /* istanbul ignore next */
    {
      cov_2ogks4bxlg().b[0][1]++;
    }
    // Create session object
    const now =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[20]++, new Date().toISOString());
    const expiresAt =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[21]++, new Date(Date.now() + this.config.sessionTimeoutMinutes * 60 * 1000).toISOString());
    const session =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[22]++, {
      userId,
      organizationId,
      sessionToken,
      deviceInfo,
      createdAt: now,
      lastActivity: now,
      expiresAt,
      isRevoked: false
    });
    // Store session in Redis with TTL
    const sessionKey =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[23]++, this.getSessionKey(userId, sessionToken));
    const ttlSeconds =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[24]++, this.getSessionTTL());
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[25]++;
    await this.redis.setex(sessionKey, ttlSeconds, JSON.stringify(session));
    // Add to user sessions index
    const userSessionsKey =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[26]++, this.getUserSessionsKey(userId));
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[27]++;
    await this.redis.sadd(userSessionsKey, sessionToken);
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[28]++;
    await this.redis.expire(userSessionsKey, ttlSeconds);
    // Add to organization tracking
    const orgSessionKey =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[29]++, this.getOrgSessionKey(organizationId, userId));
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[30]++;
    await this.redis.sadd(orgSessionKey, sessionToken);
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[31]++;
    await this.redis.expire(orgSessionKey, ttlSeconds);
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[32]++;
    return session;
  }
  /**
  * Get session by user ID and session token
  *
  * @param userId - User ID
  * @param sessionToken - Session token
  * @returns Session object or null if not found/expired
  *
  * @example
  * ```typescript
  * const session = await store.getSession('user123', 'token789');
  * if (session && !session.isRevoked) {
  *   // Session is valid
  * }
  * ```
  */
  async getSession(userId, sessionToken) {
    /* istanbul ignore next */
    cov_2ogks4bxlg().f[10]++;
    const sessionKey =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[33]++, this.getSessionKey(userId, sessionToken));
    const sessionData =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[34]++, await this.redis.get(sessionKey));
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[35]++;
    if (!sessionData) {
      /* istanbul ignore next */
      cov_2ogks4bxlg().b[1][0]++;
      cov_2ogks4bxlg().s[36]++;
      return null;
    } else
    /* istanbul ignore next */
    {
      cov_2ogks4bxlg().b[1][1]++;
    }
    const session =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[37]++, JSON.parse(sessionData));
    // Check if session is expired
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[38]++;
    if (new Date(session.expiresAt) < new Date()) {
      /* istanbul ignore next */
      cov_2ogks4bxlg().b[2][0]++;
      cov_2ogks4bxlg().s[39]++;
      await this.deleteSession(userId, sessionToken);
      /* istanbul ignore next */
      cov_2ogks4bxlg().s[40]++;
      return null;
    } else
    /* istanbul ignore next */
    {
      cov_2ogks4bxlg().b[2][1]++;
    }
    // Check if session is revoked
    cov_2ogks4bxlg().s[41]++;
    if (session.isRevoked) {
      /* istanbul ignore next */
      cov_2ogks4bxlg().b[3][0]++;
      cov_2ogks4bxlg().s[42]++;
      return null;
    } else
    /* istanbul ignore next */
    {
      cov_2ogks4bxlg().b[3][1]++;
    }
    cov_2ogks4bxlg().s[43]++;
    return session;
  }
  /**
  * Update session last activity timestamp
  *
  * Extends session TTL and updates last activity.
  * Called on every authenticated request to maintain session.
  *
  * @param userId - User ID
  * @param sessionToken - Session token
  * @returns Updated session or null if not found
  *
  * @example
  * ```typescript
  * // Called by session middleware on each request
  * await store.updateSessionActivity('user123', 'token789');
  * ```
  */
  async updateSessionActivity(userId, sessionToken) {
    /* istanbul ignore next */
    cov_2ogks4bxlg().f[11]++;
    const session =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[44]++, await this.getSession(userId, sessionToken));
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[45]++;
    if (!session) {
      /* istanbul ignore next */
      cov_2ogks4bxlg().b[4][0]++;
      cov_2ogks4bxlg().s[46]++;
      return null;
    } else
    /* istanbul ignore next */
    {
      cov_2ogks4bxlg().b[4][1]++;
    }
    // Update last activity and expiration
    const now =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[47]++, new Date().toISOString());
    const expiresAt =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[48]++, new Date(Date.now() + this.config.sessionTimeoutMinutes * 60 * 1000).toISOString());
    const updatedSession =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[49]++, {
      ...session,
      lastActivity: now,
      expiresAt
    });
    // Update in Redis with refreshed TTL
    const sessionKey =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[50]++, this.getSessionKey(userId, sessionToken));
    const ttlSeconds =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[51]++, this.getSessionTTL());
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[52]++;
    await this.redis.setex(sessionKey, ttlSeconds, JSON.stringify(updatedSession));
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[53]++;
    return updatedSession;
  }
  /**
  * Revoke a specific session
  *
  * Marks session as revoked without deleting it immediately.
  * Allows for audit trail and revocation tracking.
  *
  * @param userId - User ID
  * @param sessionToken - Session token to revoke
  * @returns True if revoked successfully
  *
  * @example
  * ```typescript
  * // Revoke specific session (e.g., user logs out from one device)
  * await store.revokeSession('user123', 'token789');
  * ```
  */
  async revokeSession(userId, sessionToken) {
    /* istanbul ignore next */
    cov_2ogks4bxlg().f[12]++;
    const session =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[54]++, await this.getSession(userId, sessionToken));
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[55]++;
    if (!session) {
      /* istanbul ignore next */
      cov_2ogks4bxlg().b[5][0]++;
      cov_2ogks4bxlg().s[56]++;
      return false;
    } else
    /* istanbul ignore next */
    {
      cov_2ogks4bxlg().b[5][1]++;
    }
    // Mark as revoked
    const revokedSession =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[57]++, {
      ...session,
      isRevoked: true
    });
    // Update in Redis with short TTL (keep for audit)
    const sessionKey =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[58]++, this.getSessionKey(userId, sessionToken));
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[59]++;
    await this.redis.setex(sessionKey, 3600, JSON.stringify(revokedSession)); // 1 hour audit trail
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[60]++;
    return true;
  }
  /**
  * Delete a session permanently
  *
  * Removes session from Redis and all indexes.
  * Used for cleanup and FIFO eviction.
  *
  * @param userId - User ID
  * @param sessionToken - Session token to delete
  * @returns True if deleted successfully
  */
  async deleteSession(userId, sessionToken) {
    /* istanbul ignore next */
    cov_2ogks4bxlg().f[13]++;
    const session =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[61]++, await this.getSession(userId, sessionToken));
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[62]++;
    if (!session) {
      /* istanbul ignore next */
      cov_2ogks4bxlg().b[6][0]++;
      cov_2ogks4bxlg().s[63]++;
      return false;
    } else
    /* istanbul ignore next */
    {
      cov_2ogks4bxlg().b[6][1]++;
    }
    // Delete session
    const sessionKey =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[64]++, this.getSessionKey(userId, sessionToken));
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[65]++;
    await this.redis.del(sessionKey);
    // Remove from user sessions index
    const userSessionsKey =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[66]++, this.getUserSessionsKey(userId));
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[67]++;
    await this.redis.srem(userSessionsKey, sessionToken);
    // Remove from organization tracking
    const orgSessionKey =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[68]++, this.getOrgSessionKey(session.organizationId, userId));
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[69]++;
    await this.redis.srem(orgSessionKey, sessionToken);
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[70]++;
    return true;
  }
  /**
  * Get all sessions for a user
  *
  * Returns all active (non-revoked, non-expired) sessions.
  * Used for session listing and management.
  *
  * @param userId - User ID
  * @returns Array of active sessions
  *
  * @example
  * ```typescript
  * const sessions = await store.getUserSessions('user123');
  * console.log(`User has ${sessions.length} active sessions`);
  * ```
  */
  async getUserSessions(userId) {
    /* istanbul ignore next */
    cov_2ogks4bxlg().f[14]++;
    const userSessionsKey =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[71]++, this.getUserSessionsKey(userId));
    const sessionTokens =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[72]++, await this.redis.smembers(userSessionsKey));
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[73]++;
    if (
    /* istanbul ignore next */
    (cov_2ogks4bxlg().b[8][0]++, !sessionTokens) ||
    /* istanbul ignore next */
    (cov_2ogks4bxlg().b[8][1]++, sessionTokens.length === 0)) {
      /* istanbul ignore next */
      cov_2ogks4bxlg().b[7][0]++;
      cov_2ogks4bxlg().s[74]++;
      return [];
    } else
    /* istanbul ignore next */
    {
      cov_2ogks4bxlg().b[7][1]++;
    }
    // Get all sessions in parallel
    const sessionPromises =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[75]++, sessionTokens.map(token => {
      /* istanbul ignore next */
      cov_2ogks4bxlg().f[15]++;
      cov_2ogks4bxlg().s[76]++;
      return this.getSession(userId, token);
    }));
    const sessions =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[77]++, await Promise.all(sessionPromises));
    // Filter out null values (expired/revoked sessions)
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[78]++;
    return sessions.filter(s => {
      /* istanbul ignore next */
      cov_2ogks4bxlg().f[16]++;
      cov_2ogks4bxlg().s[79]++;
      return s !== null;
    });
  }
  /**
  * Revoke all sessions for a user
  *
  * Used for security events like password changes, account compromise,
  * or manual user action.
  *
  * @param userId - User ID
  * @returns Number of sessions revoked
  *
  * @example
  * ```typescript
  * // User changes password - revoke all sessions
  * const count = await store.revokeAllUserSessions('user123');
  * console.log(`Revoked ${count} sessions`);
  * ```
  */
  async revokeAllUserSessions(userId) {
    /* istanbul ignore next */
    cov_2ogks4bxlg().f[17]++;
    const sessions =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[80]++, await this.getUserSessions(userId));
    // Revoke all sessions in parallel
    const revokePromises =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[81]++, sessions.map(session => {
      /* istanbul ignore next */
      cov_2ogks4bxlg().f[18]++;
      cov_2ogks4bxlg().s[82]++;
      return this.revokeSession(userId, session.sessionToken);
    }));
    const results =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[83]++, await Promise.all(revokePromises));
    // Count successful revocations
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[84]++;
    return results.filter(r => {
      /* istanbul ignore next */
      cov_2ogks4bxlg().f[19]++;
      cov_2ogks4bxlg().s[85]++;
      return r;
    }).length;
  }
  /**
  * Delete all sessions for a user
  *
  * Permanently removes all user sessions.
  * Used for account deletion or administrative actions.
  *
  * @param userId - User ID
  * @returns Number of sessions deleted
  */
  async deleteAllUserSessions(userId) {
    /* istanbul ignore next */
    cov_2ogks4bxlg().f[20]++;
    const sessions =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[86]++, await this.getUserSessions(userId));
    // Delete all sessions in parallel
    const deletePromises =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[87]++, sessions.map(session => {
      /* istanbul ignore next */
      cov_2ogks4bxlg().f[21]++;
      cov_2ogks4bxlg().s[88]++;
      return this.deleteSession(userId, session.sessionToken);
    }));
    const results =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[89]++, await Promise.all(deletePromises));
    // Count successful deletions
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[90]++;
    return results.filter(r => {
      /* istanbul ignore next */
      cov_2ogks4bxlg().f[22]++;
      cov_2ogks4bxlg().s[91]++;
      return r;
    }).length;
  }
  /**
  * Get session statistics for a user
  *
  * Provides metrics for monitoring and analytics.
  *
  * @param userId - User ID
  * @returns Session statistics
  */
  async getUserSessionStats(userId) {
    /* istanbul ignore next */
    cov_2ogks4bxlg().f[23]++;
    const sessions =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[92]++, await this.getUserSessions(userId));
    const revokedSessions =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[93]++, sessions.filter(s => {
      /* istanbul ignore next */
      cov_2ogks4bxlg().f[24]++;
      cov_2ogks4bxlg().s[94]++;
      return s.isRevoked;
    }));
    let oldestSession =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[95]++, null);
    let newestSession =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[96]++, null);
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[97]++;
    if (sessions.length > 0) {
      /* istanbul ignore next */
      cov_2ogks4bxlg().b[9][0]++;
      const sorted =
      /* istanbul ignore next */
      (cov_2ogks4bxlg().s[98]++, sessions.sort((a, b) => {
        /* istanbul ignore next */
        cov_2ogks4bxlg().f[25]++;
        cov_2ogks4bxlg().s[99]++;
        return new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime();
      }));
      /* istanbul ignore next */
      cov_2ogks4bxlg().s[100]++;
      oldestSession = sorted[0].createdAt;
      /* istanbul ignore next */
      cov_2ogks4bxlg().s[101]++;
      newestSession = sorted[sorted.length - 1].createdAt;
    } else
    /* istanbul ignore next */
    {
      cov_2ogks4bxlg().b[9][1]++;
    }
    cov_2ogks4bxlg().s[102]++;
    return {
      totalSessions: sessions.length,
      activeSessions: sessions.length - revokedSessions.length,
      revokedSessions: revokedSessions.length,
      oldestSession,
      newestSession
    };
  }
  /**
  * Clean up expired sessions manually
  *
  * While Redis automatically removes expired keys, this method
  * provides manual cleanup for index consistency.
  *
  * @param userId - User ID
  * @returns Number of sessions cleaned up
  */
  async cleanupExpiredSessions(userId) {
    /* istanbul ignore next */
    cov_2ogks4bxlg().f[26]++;
    const userSessionsKey =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[103]++, this.getUserSessionsKey(userId));
    const sessionTokens =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[104]++, await this.redis.smembers(userSessionsKey));
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[105]++;
    if (
    /* istanbul ignore next */
    (cov_2ogks4bxlg().b[11][0]++, !sessionTokens) ||
    /* istanbul ignore next */
    (cov_2ogks4bxlg().b[11][1]++, sessionTokens.length === 0)) {
      /* istanbul ignore next */
      cov_2ogks4bxlg().b[10][0]++;
      cov_2ogks4bxlg().s[106]++;
      return 0;
    } else
    /* istanbul ignore next */
    {
      cov_2ogks4bxlg().b[10][1]++;
    }
    let cleanedCount =
    /* istanbul ignore next */
    (cov_2ogks4bxlg().s[107]++, 0);
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[108]++;
    for (const token of sessionTokens) {
      const session =
      /* istanbul ignore next */
      (cov_2ogks4bxlg().s[109]++, await this.getSession(userId, token));
      /* istanbul ignore next */
      cov_2ogks4bxlg().s[110]++;
      if (!session) {
        /* istanbul ignore next */
        cov_2ogks4bxlg().b[12][0]++;
        cov_2ogks4bxlg().s[111]++;
        // Session is expired or invalid - remove from index
        await this.redis.srem(userSessionsKey, token);
        /* istanbul ignore next */
        cov_2ogks4bxlg().s[112]++;
        cleanedCount++;
      } else
      /* istanbul ignore next */
      {
        cov_2ogks4bxlg().b[12][1]++;
      }
    }
    /* istanbul ignore next */
    cov_2ogks4bxlg().s[113]++;
    return cleanedCount;
  }
  /**
  * Validate session configuration
  *
  * Checks if Redis connection is working and configuration is valid.
  *
  * @returns True if configuration is valid
  * @throws Error if validation fails
  */
  async validateConfiguration() {
    /* istanbul ignore next */
    cov_2ogks4bxlg().f[27]++;
    cov_2ogks4bxlg().s[114]++;
    try {
      /* istanbul ignore next */
      cov_2ogks4bxlg().s[115]++;
      // Test Redis connection
      await this.redis.ping();
      // Validate configuration values
      /* istanbul ignore next */
      cov_2ogks4bxlg().s[116]++;
      if (this.config.sessionTimeoutMinutes < 1) {
        /* istanbul ignore next */
        cov_2ogks4bxlg().b[13][0]++;
        cov_2ogks4bxlg().s[117]++;
        throw new Error('Session timeout must be at least 1 minute');
      } else
      /* istanbul ignore next */
      {
        cov_2ogks4bxlg().b[13][1]++;
      }
      cov_2ogks4bxlg().s[118]++;
      if (this.config.maxConcurrentSessions < 1) {
        /* istanbul ignore next */
        cov_2ogks4bxlg().b[14][0]++;
        cov_2ogks4bxlg().s[119]++;
        throw new Error('Max concurrent sessions must be at least 1');
      } else
      /* istanbul ignore next */
      {
        cov_2ogks4bxlg().b[14][1]++;
      }
      cov_2ogks4bxlg().s[120]++;
      return true;
    } catch (error) {
      const message =
      /* istanbul ignore next */
      (cov_2ogks4bxlg().s[121]++, error instanceof Error ?
      /* istanbul ignore next */
      (cov_2ogks4bxlg().b[15][0]++, error.message) :
      /* istanbul ignore next */
      (cov_2ogks4bxlg().b[15][1]++, 'Unknown error'));
      /* istanbul ignore next */
      cov_2ogks4bxlg().s[122]++;
      throw new Error(`Redis Session Store validation failed: ${message}`);
    }
  }
  /**
  * Get Redis connection health status
  *
  * @returns Health status object
  */
  async getHealthStatus() {
    /* istanbul ignore next */
    cov_2ogks4bxlg().f[28]++;
    cov_2ogks4bxlg().s[123]++;
    try {
      const start =
      /* istanbul ignore next */
      (cov_2ogks4bxlg().s[124]++, Date.now());
      /* istanbul ignore next */
      cov_2ogks4bxlg().s[125]++;
      await this.redis.ping();
      const latency =
      /* istanbul ignore next */
      (cov_2ogks4bxlg().s[126]++, Date.now() - start);
      /* istanbul ignore next */
      cov_2ogks4bxlg().s[127]++;
      return {
        healthy: true,
        latency
      };
    } catch (error) {
      const message =
      /* istanbul ignore next */
      (cov_2ogks4bxlg().s[128]++, error instanceof Error ?
      /* istanbul ignore next */
      (cov_2ogks4bxlg().b[16][0]++, error.message) :
      /* istanbul ignore next */
      (cov_2ogks4bxlg().b[16][1]++, 'Unknown error'));
      /* istanbul ignore next */
      cov_2ogks4bxlg().s[129]++;
      return {
        healthy: false,
        latency: -1,
        error: message
      };
    }
  }
}
function createRedisSessionStore(config) {
  /* istanbul ignore next */
  cov_2ogks4bxlg().f[29]++;
  const url =
  /* istanbul ignore next */
  (cov_2ogks4bxlg().s[130]++, process.env.UPSTASH_REDIS_REST_URL);
  const token =
  /* istanbul ignore next */
  (cov_2ogks4bxlg().s[131]++, process.env.UPSTASH_REDIS_REST_TOKEN);
  /* istanbul ignore next */
  cov_2ogks4bxlg().s[132]++;
  if (
  /* istanbul ignore next */
  (cov_2ogks4bxlg().b[18][0]++, !url) ||
  /* istanbul ignore next */
  (cov_2ogks4bxlg().b[18][1]++, !token)) {
    /* istanbul ignore next */
    cov_2ogks4bxlg().b[17][0]++;
    cov_2ogks4bxlg().s[133]++;
    throw new Error('Redis configuration missing. Set UPSTASH_REDIS_REST_URL and UPSTASH_REDIS_REST_TOKEN');
  } else
  /* istanbul ignore next */
  {
    cov_2ogks4bxlg().b[17][1]++;
  }
  const fullConfig =
  /* istanbul ignore next */
  (cov_2ogks4bxlg().s[134]++, {
    url,
    token,
    sessionTimeoutMinutes:
    /* istanbul ignore next */
    (cov_2ogks4bxlg().b[19][0]++, config?.sessionTimeoutMinutes) ??
    /* istanbul ignore next */
    (cov_2ogks4bxlg().b[19][1]++, Number(process.env.SESSION_TIMEOUT_MINUTES)) ??
    /* istanbul ignore next */
    (cov_2ogks4bxlg().b[19][2]++, 30),
    maxConcurrentSessions:
    /* istanbul ignore next */
    (cov_2ogks4bxlg().b[20][0]++, config?.maxConcurrentSessions) ??
    /* istanbul ignore next */
    (cov_2ogks4bxlg().b[20][1]++, Number(process.env.MAX_CONCURRENT_SESSIONS)) ??
    /* istanbul ignore next */
    (cov_2ogks4bxlg().b[20][2]++, 5)
  });
  /* istanbul ignore next */
  cov_2ogks4bxlg().s[135]++;
  return new RedisSessionStore(fullConfig);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWRpc1Nlc3Npb25TdG9yZSIsImNvdl8yb2drczRieGxnIiwiZiIsInMiLCJjcmVhdGVSZWRpc1Nlc3Npb25TdG9yZSIsIkRFRkFVTFRfQ09ORklHIiwic2Vzc2lvblRpbWVvdXRNaW51dGVzIiwibWF4Q29uY3VycmVudFNlc3Npb25zIiwiY29uc3RydWN0b3IiLCJjb25maWciLCJyZWRpcyIsIl9yZWRpcyIsIlJlZGlzIiwidXJsIiwidG9rZW4iLCJnZXRTZXNzaW9uS2V5IiwidXNlcklkIiwic2Vzc2lvblRva2VuIiwiZ2V0VXNlclNlc3Npb25zS2V5IiwiZ2V0T3JnU2Vzc2lvbktleSIsIm9yZ2FuaXphdGlvbklkIiwiZ2V0U2Vzc2lvblRUTCIsImNyZWF0ZVNlc3Npb24iLCJzZXNzaW9uRGF0YSIsImRldmljZUluZm8iLCJleGlzdGluZ1Nlc3Npb25zIiwiZ2V0VXNlclNlc3Npb25zIiwibGVuZ3RoIiwiYiIsIm9sZGVzdFNlc3Npb24iLCJzb3J0IiwiYSIsIkRhdGUiLCJjcmVhdGVkQXQiLCJnZXRUaW1lIiwiZGVsZXRlU2Vzc2lvbiIsIm5vdyIsInRvSVNPU3RyaW5nIiwiZXhwaXJlc0F0Iiwic2Vzc2lvbiIsImxhc3RBY3Rpdml0eSIsImlzUmV2b2tlZCIsInNlc3Npb25LZXkiLCJ0dGxTZWNvbmRzIiwic2V0ZXgiLCJKU09OIiwic3RyaW5naWZ5IiwidXNlclNlc3Npb25zS2V5Iiwic2FkZCIsImV4cGlyZSIsIm9yZ1Nlc3Npb25LZXkiLCJnZXRTZXNzaW9uIiwiZ2V0IiwicGFyc2UiLCJ1cGRhdGVTZXNzaW9uQWN0aXZpdHkiLCJ1cGRhdGVkU2Vzc2lvbiIsInJldm9rZVNlc3Npb24iLCJyZXZva2VkU2Vzc2lvbiIsImRlbCIsInNyZW0iLCJzZXNzaW9uVG9rZW5zIiwic21lbWJlcnMiLCJzZXNzaW9uUHJvbWlzZXMiLCJtYXAiLCJzZXNzaW9ucyIsIlByb21pc2UiLCJhbGwiLCJmaWx0ZXIiLCJyZXZva2VBbGxVc2VyU2Vzc2lvbnMiLCJyZXZva2VQcm9taXNlcyIsInJlc3VsdHMiLCJyIiwiZGVsZXRlQWxsVXNlclNlc3Npb25zIiwiZGVsZXRlUHJvbWlzZXMiLCJnZXRVc2VyU2Vzc2lvblN0YXRzIiwicmV2b2tlZFNlc3Npb25zIiwibmV3ZXN0U2Vzc2lvbiIsInNvcnRlZCIsInRvdGFsU2Vzc2lvbnMiLCJhY3RpdmVTZXNzaW9ucyIsImNsZWFudXBFeHBpcmVkU2Vzc2lvbnMiLCJjbGVhbmVkQ291bnQiLCJ2YWxpZGF0ZUNvbmZpZ3VyYXRpb24iLCJwaW5nIiwiRXJyb3IiLCJlcnJvciIsIm1lc3NhZ2UiLCJnZXRIZWFsdGhTdGF0dXMiLCJzdGFydCIsImxhdGVuY3kiLCJoZWFsdGh5IiwicHJvY2VzcyIsImVudiIsIlVQU1RBU0hfUkVESVNfUkVTVF9VUkwiLCJVUFNUQVNIX1JFRElTX1JFU1RfVE9LRU4iLCJmdWxsQ29uZmlnIiwiTnVtYmVyIiwiU0VTU0lPTl9USU1FT1VUX01JTlVURVMiLCJNQVhfQ09OQ1VSUkVOVF9TRVNTSU9OUyJdLCJzb3VyY2VzIjpbIkM6XFxBaSBQcm9qZWN0ZW5cXEFEU2FwcFxcc3JjXFxsaWJcXHNlc3Npb25cXHJlZGlzLXN0b3JlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlZGlzIH0gZnJvbSAnQHVwc3Rhc2gvcmVkaXMnO1xuXG4vKipcbiAqIFJlZGlzIFNlc3Npb24gU3RvcmUgZm9yIEVudGVycHJpc2UgU2Vzc2lvbiBNYW5hZ2VtZW50XG4gKlxuICogUHJvdmlkZXMgaGlnaC1wZXJmb3JtYW5jZSwgZGlzdHJpYnV0ZWQgc2Vzc2lvbiBzdG9yYWdlIHVzaW5nIFVwc3Rhc2ggUmVkaXMuXG4gKiBTdXBwb3J0cyBjb25jdXJyZW50IHNlc3Npb24gbWFuYWdlbWVudCwgYXV0b21hdGljIFRUTCBleHBpcmF0aW9uLCBhbmQgZWZmaWNpZW50XG4gKiBzZXNzaW9uIHRyYWNraW5nIGFjcm9zcyBtdWx0aXBsZSBhcHBsaWNhdGlvbiBpbnN0YW5jZXMuXG4gKlxuICogU2VjdXJpdHkgRmVhdHVyZXM6XG4gKiAtIEF1dG9tYXRpYyBzZXNzaW9uIGV4cGlyYXRpb24gd2l0aCBUVExcbiAqIC0gQXRvbWljIG9wZXJhdGlvbnMgZm9yIGNvbmN1cnJlbnQgc2Vzc2lvbiBsaW1pdHNcbiAqIC0gRGV2aWNlIGZpbmdlcnByaW50aW5nIGZvciBzZXNzaW9uIHRyYWNraW5nXG4gKiAtIEVmZmljaWVudCBrZXktYmFzZWQgc2Vzc2lvbiBsb29rdXBzXG4gKlxuICogUGVyZm9ybWFuY2U6XG4gKiAtIE8oMSkgbG9va3VwcyBmb3Igc2Vzc2lvbiByZXRyaWV2YWxcbiAqIC0gQmF0Y2ggb3BlcmF0aW9ucyBmb3IgbXVsdGktc2Vzc2lvbiBtYW5hZ2VtZW50XG4gKiAtIEF1dG9tYXRpYyBjbGVhbnVwIHZpYSBSZWRpcyBUVExcbiAqIC0gT3B0aW1pemVkIGZvciBoaWdoLXRocm91Z2hwdXQgc2NlbmFyaW9zXG4gKlxuICogQG1vZHVsZSByZWRpcy1zdG9yZVxuICovXG5cbi8qKlxuICogRGV2aWNlIGluZm9ybWF0aW9uIGZvciBzZXNzaW9uIHRyYWNraW5nXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGV2aWNlSW5mbyB7XG4gIHVzZXJBZ2VudDogc3RyaW5nO1xuICBpcDogc3RyaW5nO1xuICBwbGF0Zm9ybT86IHN0cmluZztcbiAgYnJvd3Nlcj86IHN0cmluZztcbiAgb3M/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogUmVkaXMgc2Vzc2lvbiBkYXRhIHN0cnVjdHVyZVxuICogU3RvcmVkIGluIFJlZGlzIHdpdGggYXV0b21hdGljIFRUTCBleHBpcmF0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVkaXNTZXNzaW9uIHtcbiAgdXNlcklkOiBzdHJpbmc7XG4gIG9yZ2FuaXphdGlvbklkOiBzdHJpbmc7XG4gIHNlc3Npb25Ub2tlbjogc3RyaW5nO1xuICBkZXZpY2VJbmZvOiBEZXZpY2VJbmZvO1xuICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgbGFzdEFjdGl2aXR5OiBzdHJpbmc7XG4gIGV4cGlyZXNBdDogc3RyaW5nO1xuICBpc1Jldm9rZWQ6IGJvb2xlYW47XG59XG5cbi8qKlxuICogU2Vzc2lvbiBzdGF0aXN0aWNzIGZvciBtb25pdG9yaW5nXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2Vzc2lvblN0YXRzIHtcbiAgdG90YWxTZXNzaW9uczogbnVtYmVyO1xuICBhY3RpdmVTZXNzaW9uczogbnVtYmVyO1xuICByZXZva2VkU2Vzc2lvbnM6IG51bWJlcjtcbiAgb2xkZXN0U2Vzc2lvbjogc3RyaW5nIHwgbnVsbDtcbiAgbmV3ZXN0U2Vzc2lvbjogc3RyaW5nIHwgbnVsbDtcbn1cblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIGZvciBSZWRpcyBTZXNzaW9uIFN0b3JlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVkaXNTdG9yZUNvbmZpZyB7XG4gIHVybDogc3RyaW5nO1xuICB0b2tlbjogc3RyaW5nO1xuICBzZXNzaW9uVGltZW91dE1pbnV0ZXM6IG51bWJlcjtcbiAgbWF4Q29uY3VycmVudFNlc3Npb25zOiBudW1iZXI7XG59XG5cbi8qKlxuICogRGVmYXVsdCBjb25maWd1cmF0aW9uIHZhbHVlc1xuICovXG5jb25zdCBERUZBVUxUX0NPTkZJRzogUGFydGlhbDxSZWRpc1N0b3JlQ29uZmlnPiA9IHtcbiAgc2Vzc2lvblRpbWVvdXRNaW51dGVzOiAzMCxcbiAgbWF4Q29uY3VycmVudFNlc3Npb25zOiA1XG59O1xuXG4vKipcbiAqIFJlZGlzIFNlc3Npb24gU3RvcmUgQ2xhc3NcbiAqXG4gKiBNYW5hZ2VzIHNlc3Npb24gc3RvcmFnZSBhbmQgcmV0cmlldmFsIHVzaW5nIFVwc3Rhc2ggUmVkaXMuXG4gKiBJbXBsZW1lbnRzIGVudGVycHJpc2UtZ3JhZGUgc2Vzc2lvbiBtYW5hZ2VtZW50IHdpdGggY29uY3VycmVudCBzZXNzaW9uIGxpbWl0cyxcbiAqIGF1dG9tYXRpYyBleHBpcmF0aW9uLCBhbmQgZGV2aWNlIHRyYWNraW5nLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjb25zdCBzdG9yZSA9IG5ldyBSZWRpc1Nlc3Npb25TdG9yZSh7XG4gKiAgIHVybDogcHJvY2Vzcy5lbnYuVVBTVEFTSF9SRURJU19SRVNUX1VSTCEsXG4gKiAgIHRva2VuOiBwcm9jZXNzLmVudi5VUFNUQVNIX1JFRElTX1JFU1RfVE9LRU4hLFxuICogICBzZXNzaW9uVGltZW91dE1pbnV0ZXM6IDMwLFxuICogICBtYXhDb25jdXJyZW50U2Vzc2lvbnM6IDVcbiAqIH0pO1xuICpcbiAqIC8vIENyZWF0ZSBhIG5ldyBzZXNzaW9uXG4gKiBhd2FpdCBzdG9yZS5jcmVhdGVTZXNzaW9uKHtcbiAqICAgdXNlcklkOiAndXNlcjEyMycsXG4gKiAgIG9yZ2FuaXphdGlvbklkOiAnb3JnNDU2JyxcbiAqICAgc2Vzc2lvblRva2VuOiAndG9rZW43ODknLFxuICogICBkZXZpY2VJbmZvOiB7IHVzZXJBZ2VudDogJy4uLicsIGlwOiAnLi4uJyB9XG4gKiB9KTtcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgUmVkaXNTZXNzaW9uU3RvcmUge1xuICBwcml2YXRlIHJlZGlzOiBSZWRpcztcbiAgcHJpdmF0ZSBjb25maWc6IFJlZGlzU3RvcmVDb25maWc7XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgUmVkaXMgU2Vzc2lvbiBTdG9yZVxuICAgKlxuICAgKiBAcGFyYW0gY29uZmlnIC0gUmVkaXMgY29uZmlndXJhdGlvbiBhbmQgc2Vzc2lvbiBzZXR0aW5nc1xuICAgKiBAdGhyb3dzIEVycm9yIGlmIFJlZGlzIGNvbm5lY3Rpb24gY2Fubm90IGJlIGVzdGFibGlzaGVkXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb25maWc6IFJlZGlzU3RvcmVDb25maWcpIHtcbiAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIC4uLkRFRkFVTFRfQ09ORklHLFxuICAgICAgLi4uY29uZmlnXG4gICAgfSBhcyBSZWRpc1N0b3JlQ29uZmlnO1xuXG4gICAgdGhpcy5yZWRpcyA9IG5ldyBSZWRpcyh7XG4gICAgICB1cmw6IHRoaXMuY29uZmlnLnVybCxcbiAgICAgIHRva2VuOiB0aGlzLmNvbmZpZy50b2tlblxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIFJlZGlzIGtleSBmb3Igc2Vzc2lvbiBzdG9yYWdlXG4gICAqIEZvcm1hdDogc2Vzc2lvbjp7dXNlcklkfTp7c2Vzc2lvblRva2VufVxuICAgKlxuICAgKiBAcGFyYW0gdXNlcklkIC0gVXNlciBJRFxuICAgKiBAcGFyYW0gc2Vzc2lvblRva2VuIC0gU2Vzc2lvbiB0b2tlblxuICAgKiBAcmV0dXJucyBSZWRpcyBrZXkgc3RyaW5nXG4gICAqL1xuICBwcml2YXRlIGdldFNlc3Npb25LZXkodXNlcklkOiBzdHJpbmcsIHNlc3Npb25Ub2tlbjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYHNlc3Npb246JHt1c2VySWR9OiR7c2Vzc2lvblRva2VufWA7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgUmVkaXMga2V5IGZvciB1c2VyIHNlc3Npb25zIGluZGV4XG4gICAqIEZvcm1hdDogdXNlcl9zZXNzaW9uczp7dXNlcklkfVxuICAgKlxuICAgKiBAcGFyYW0gdXNlcklkIC0gVXNlciBJRFxuICAgKiBAcmV0dXJucyBSZWRpcyBrZXkgc3RyaW5nIGZvciB1c2VyIHNlc3Npb25zIHNldFxuICAgKi9cbiAgcHJpdmF0ZSBnZXRVc2VyU2Vzc2lvbnNLZXkodXNlcklkOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBgdXNlcl9zZXNzaW9uczoke3VzZXJJZH1gO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIFJlZGlzIGtleSBmb3Igb3JnYW5pemF0aW9uIHNlc3Npb25zIHRyYWNraW5nXG4gICAqIEZvcm1hdDogb3JnX3Nlc3Npb25zOntvcmdhbml6YXRpb25JZH06e3VzZXJJZH1cbiAgICpcbiAgICogQHBhcmFtIG9yZ2FuaXphdGlvbklkIC0gT3JnYW5pemF0aW9uIElEXG4gICAqIEBwYXJhbSB1c2VySWQgLSBVc2VyIElEXG4gICAqIEByZXR1cm5zIFJlZGlzIGtleSBzdHJpbmcgZm9yIG9yZ2FuaXphdGlvbiBzZXNzaW9uc1xuICAgKi9cbiAgcHJpdmF0ZSBnZXRPcmdTZXNzaW9uS2V5KG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYG9yZ19zZXNzaW9uczoke29yZ2FuaXphdGlvbklkfToke3VzZXJJZH1gO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSBzZXNzaW9uIFRUTCBpbiBzZWNvbmRzXG4gICAqXG4gICAqIEByZXR1cm5zIFRUTCBpbiBzZWNvbmRzXG4gICAqL1xuICBwcml2YXRlIGdldFNlc3Npb25UVEwoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcuc2Vzc2lvblRpbWVvdXRNaW51dGVzICogNjA7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHNlc3Npb24gaW4gUmVkaXNcbiAgICpcbiAgICogSW1wbGVtZW50cyBjb25jdXJyZW50IHNlc3Npb24gbWFuYWdlbWVudDpcbiAgICogMS4gQ2hlY2tzIGN1cnJlbnQgc2Vzc2lvbiBjb3VudCBmb3IgdXNlclxuICAgKiAyLiBJZiBhdCBsaW1pdCwgcmVtb3ZlcyBvbGRlc3Qgc2Vzc2lvbiAoRklGTylcbiAgICogMy4gQ3JlYXRlcyBuZXcgc2Vzc2lvbiB3aXRoIFRUTFxuICAgKiA0LiBVcGRhdGVzIHVzZXIgc2Vzc2lvbnMgaW5kZXhcbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb25EYXRhIC0gU2Vzc2lvbiBkYXRhIHRvIHN0b3JlXG4gICAqIEByZXR1cm5zIENyZWF0ZWQgc2Vzc2lvbiBvYmplY3RcbiAgICogQHRocm93cyBFcnJvciBpZiBzZXNzaW9uIGNyZWF0aW9uIGZhaWxzXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHN0b3JlLmNyZWF0ZVNlc3Npb24oe1xuICAgKiAgIHVzZXJJZDogJ3VzZXIxMjMnLFxuICAgKiAgIG9yZ2FuaXphdGlvbklkOiAnb3JnNDU2JyxcbiAgICogICBzZXNzaW9uVG9rZW46ICd0b2tlbjc4OScsXG4gICAqICAgZGV2aWNlSW5mbzoge1xuICAgKiAgICAgdXNlckFnZW50OiAnTW96aWxsYS81LjAuLi4nLFxuICAgKiAgICAgaXA6ICcxOTIuMTY4LjEuMScsXG4gICAqICAgICBwbGF0Zm9ybTogJ3dlYidcbiAgICogICB9XG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICovXG4gIGFzeW5jIGNyZWF0ZVNlc3Npb24oc2Vzc2lvbkRhdGE6IHtcbiAgICB1c2VySWQ6IHN0cmluZztcbiAgICBvcmdhbml6YXRpb25JZDogc3RyaW5nO1xuICAgIHNlc3Npb25Ub2tlbjogc3RyaW5nO1xuICAgIGRldmljZUluZm86IERldmljZUluZm87XG4gIH0pOiBQcm9taXNlPFJlZGlzU2Vzc2lvbj4ge1xuICAgIGNvbnN0IHsgdXNlcklkLCBvcmdhbml6YXRpb25JZCwgc2Vzc2lvblRva2VuLCBkZXZpY2VJbmZvIH0gPSBzZXNzaW9uRGF0YTtcblxuICAgIC8vIENoZWNrIGNvbmN1cnJlbnQgc2Vzc2lvbiBsaW1pdFxuICAgIGNvbnN0IGV4aXN0aW5nU2Vzc2lvbnMgPSBhd2FpdCB0aGlzLmdldFVzZXJTZXNzaW9ucyh1c2VySWQpO1xuXG4gICAgaWYgKGV4aXN0aW5nU2Vzc2lvbnMubGVuZ3RoID49IHRoaXMuY29uZmlnLm1heENvbmN1cnJlbnRTZXNzaW9ucykge1xuICAgICAgLy8gUmVtb3ZlIG9sZGVzdCBzZXNzaW9uIChGSUZPIGV2aWN0aW9uKVxuICAgICAgY29uc3Qgb2xkZXN0U2Vzc2lvbiA9IGV4aXN0aW5nU2Vzc2lvbnMuc29ydChcbiAgICAgICAgKGEsIGIpID0+IG5ldyBEYXRlKGEuY3JlYXRlZEF0KS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShiLmNyZWF0ZWRBdCkuZ2V0VGltZSgpXG4gICAgICApWzBdO1xuXG4gICAgICBhd2FpdCB0aGlzLmRlbGV0ZVNlc3Npb24odXNlcklkLCBvbGRlc3RTZXNzaW9uLnNlc3Npb25Ub2tlbik7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHNlc3Npb24gb2JqZWN0XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgIGNvbnN0IGV4cGlyZXNBdCA9IG5ldyBEYXRlKFxuICAgICAgRGF0ZS5ub3coKSArIHRoaXMuY29uZmlnLnNlc3Npb25UaW1lb3V0TWludXRlcyAqIDYwICogMTAwMFxuICAgICkudG9JU09TdHJpbmcoKTtcblxuICAgIGNvbnN0IHNlc3Npb246IFJlZGlzU2Vzc2lvbiA9IHtcbiAgICAgIHVzZXJJZCxcbiAgICAgIG9yZ2FuaXphdGlvbklkLFxuICAgICAgc2Vzc2lvblRva2VuLFxuICAgICAgZGV2aWNlSW5mbyxcbiAgICAgIGNyZWF0ZWRBdDogbm93LFxuICAgICAgbGFzdEFjdGl2aXR5OiBub3csXG4gICAgICBleHBpcmVzQXQsXG4gICAgICBpc1Jldm9rZWQ6IGZhbHNlXG4gICAgfTtcblxuICAgIC8vIFN0b3JlIHNlc3Npb24gaW4gUmVkaXMgd2l0aCBUVExcbiAgICBjb25zdCBzZXNzaW9uS2V5ID0gdGhpcy5nZXRTZXNzaW9uS2V5KHVzZXJJZCwgc2Vzc2lvblRva2VuKTtcbiAgICBjb25zdCB0dGxTZWNvbmRzID0gdGhpcy5nZXRTZXNzaW9uVFRMKCk7XG5cbiAgICBhd2FpdCB0aGlzLnJlZGlzLnNldGV4KHNlc3Npb25LZXksIHR0bFNlY29uZHMsIEpTT04uc3RyaW5naWZ5KHNlc3Npb24pKTtcblxuICAgIC8vIEFkZCB0byB1c2VyIHNlc3Npb25zIGluZGV4XG4gICAgY29uc3QgdXNlclNlc3Npb25zS2V5ID0gdGhpcy5nZXRVc2VyU2Vzc2lvbnNLZXkodXNlcklkKTtcbiAgICBhd2FpdCB0aGlzLnJlZGlzLnNhZGQodXNlclNlc3Npb25zS2V5LCBzZXNzaW9uVG9rZW4pO1xuICAgIGF3YWl0IHRoaXMucmVkaXMuZXhwaXJlKHVzZXJTZXNzaW9uc0tleSwgdHRsU2Vjb25kcyk7XG5cbiAgICAvLyBBZGQgdG8gb3JnYW5pemF0aW9uIHRyYWNraW5nXG4gICAgY29uc3Qgb3JnU2Vzc2lvbktleSA9IHRoaXMuZ2V0T3JnU2Vzc2lvbktleShvcmdhbml6YXRpb25JZCwgdXNlcklkKTtcbiAgICBhd2FpdCB0aGlzLnJlZGlzLnNhZGQob3JnU2Vzc2lvbktleSwgc2Vzc2lvblRva2VuKTtcbiAgICBhd2FpdCB0aGlzLnJlZGlzLmV4cGlyZShvcmdTZXNzaW9uS2V5LCB0dGxTZWNvbmRzKTtcblxuICAgIHJldHVybiBzZXNzaW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBzZXNzaW9uIGJ5IHVzZXIgSUQgYW5kIHNlc3Npb24gdG9rZW5cbiAgICpcbiAgICogQHBhcmFtIHVzZXJJZCAtIFVzZXIgSURcbiAgICogQHBhcmFtIHNlc3Npb25Ub2tlbiAtIFNlc3Npb24gdG9rZW5cbiAgICogQHJldHVybnMgU2Vzc2lvbiBvYmplY3Qgb3IgbnVsbCBpZiBub3QgZm91bmQvZXhwaXJlZFxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBzdG9yZS5nZXRTZXNzaW9uKCd1c2VyMTIzJywgJ3Rva2VuNzg5Jyk7XG4gICAqIGlmIChzZXNzaW9uICYmICFzZXNzaW9uLmlzUmV2b2tlZCkge1xuICAgKiAgIC8vIFNlc3Npb24gaXMgdmFsaWRcbiAgICogfVxuICAgKiBgYGBcbiAgICovXG4gIGFzeW5jIGdldFNlc3Npb24oXG4gICAgdXNlcklkOiBzdHJpbmcsXG4gICAgc2Vzc2lvblRva2VuOiBzdHJpbmdcbiAgKTogUHJvbWlzZTxSZWRpc1Nlc3Npb24gfCBudWxsPiB7XG4gICAgY29uc3Qgc2Vzc2lvbktleSA9IHRoaXMuZ2V0U2Vzc2lvbktleSh1c2VySWQsIHNlc3Npb25Ub2tlbik7XG4gICAgY29uc3Qgc2Vzc2lvbkRhdGEgPSBhd2FpdCB0aGlzLnJlZGlzLmdldDxzdHJpbmc+KHNlc3Npb25LZXkpO1xuXG4gICAgaWYgKCFzZXNzaW9uRGF0YSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3Qgc2Vzc2lvbjogUmVkaXNTZXNzaW9uID0gSlNPTi5wYXJzZShzZXNzaW9uRGF0YSk7XG5cbiAgICAvLyBDaGVjayBpZiBzZXNzaW9uIGlzIGV4cGlyZWRcbiAgICBpZiAobmV3IERhdGUoc2Vzc2lvbi5leHBpcmVzQXQpIDwgbmV3IERhdGUoKSkge1xuICAgICAgYXdhaXQgdGhpcy5kZWxldGVTZXNzaW9uKHVzZXJJZCwgc2Vzc2lvblRva2VuKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHNlc3Npb24gaXMgcmV2b2tlZFxuICAgIGlmIChzZXNzaW9uLmlzUmV2b2tlZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlc3Npb247XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHNlc3Npb24gbGFzdCBhY3Rpdml0eSB0aW1lc3RhbXBcbiAgICpcbiAgICogRXh0ZW5kcyBzZXNzaW9uIFRUTCBhbmQgdXBkYXRlcyBsYXN0IGFjdGl2aXR5LlxuICAgKiBDYWxsZWQgb24gZXZlcnkgYXV0aGVudGljYXRlZCByZXF1ZXN0IHRvIG1haW50YWluIHNlc3Npb24uXG4gICAqXG4gICAqIEBwYXJhbSB1c2VySWQgLSBVc2VyIElEXG4gICAqIEBwYXJhbSBzZXNzaW9uVG9rZW4gLSBTZXNzaW9uIHRva2VuXG4gICAqIEByZXR1cm5zIFVwZGF0ZWQgc2Vzc2lvbiBvciBudWxsIGlmIG5vdCBmb3VuZFxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIC8vIENhbGxlZCBieSBzZXNzaW9uIG1pZGRsZXdhcmUgb24gZWFjaCByZXF1ZXN0XG4gICAqIGF3YWl0IHN0b3JlLnVwZGF0ZVNlc3Npb25BY3Rpdml0eSgndXNlcjEyMycsICd0b2tlbjc4OScpO1xuICAgKiBgYGBcbiAgICovXG4gIGFzeW5jIHVwZGF0ZVNlc3Npb25BY3Rpdml0eShcbiAgICB1c2VySWQ6IHN0cmluZyxcbiAgICBzZXNzaW9uVG9rZW46IHN0cmluZ1xuICApOiBQcm9taXNlPFJlZGlzU2Vzc2lvbiB8IG51bGw+IHtcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgdGhpcy5nZXRTZXNzaW9uKHVzZXJJZCwgc2Vzc2lvblRva2VuKTtcblxuICAgIGlmICghc2Vzc2lvbikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIGxhc3QgYWN0aXZpdHkgYW5kIGV4cGlyYXRpb25cbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgY29uc3QgZXhwaXJlc0F0ID0gbmV3IERhdGUoXG4gICAgICBEYXRlLm5vdygpICsgdGhpcy5jb25maWcuc2Vzc2lvblRpbWVvdXRNaW51dGVzICogNjAgKiAxMDAwXG4gICAgKS50b0lTT1N0cmluZygpO1xuXG4gICAgY29uc3QgdXBkYXRlZFNlc3Npb246IFJlZGlzU2Vzc2lvbiA9IHtcbiAgICAgIC4uLnNlc3Npb24sXG4gICAgICBsYXN0QWN0aXZpdHk6IG5vdyxcbiAgICAgIGV4cGlyZXNBdFxuICAgIH07XG5cbiAgICAvLyBVcGRhdGUgaW4gUmVkaXMgd2l0aCByZWZyZXNoZWQgVFRMXG4gICAgY29uc3Qgc2Vzc2lvbktleSA9IHRoaXMuZ2V0U2Vzc2lvbktleSh1c2VySWQsIHNlc3Npb25Ub2tlbik7XG4gICAgY29uc3QgdHRsU2Vjb25kcyA9IHRoaXMuZ2V0U2Vzc2lvblRUTCgpO1xuXG4gICAgYXdhaXQgdGhpcy5yZWRpcy5zZXRleChcbiAgICAgIHNlc3Npb25LZXksXG4gICAgICB0dGxTZWNvbmRzLFxuICAgICAgSlNPTi5zdHJpbmdpZnkodXBkYXRlZFNlc3Npb24pXG4gICAgKTtcblxuICAgIHJldHVybiB1cGRhdGVkU2Vzc2lvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXZva2UgYSBzcGVjaWZpYyBzZXNzaW9uXG4gICAqXG4gICAqIE1hcmtzIHNlc3Npb24gYXMgcmV2b2tlZCB3aXRob3V0IGRlbGV0aW5nIGl0IGltbWVkaWF0ZWx5LlxuICAgKiBBbGxvd3MgZm9yIGF1ZGl0IHRyYWlsIGFuZCByZXZvY2F0aW9uIHRyYWNraW5nLlxuICAgKlxuICAgKiBAcGFyYW0gdXNlcklkIC0gVXNlciBJRFxuICAgKiBAcGFyYW0gc2Vzc2lvblRva2VuIC0gU2Vzc2lvbiB0b2tlbiB0byByZXZva2VcbiAgICogQHJldHVybnMgVHJ1ZSBpZiByZXZva2VkIHN1Y2Nlc3NmdWxseVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIC8vIFJldm9rZSBzcGVjaWZpYyBzZXNzaW9uIChlLmcuLCB1c2VyIGxvZ3Mgb3V0IGZyb20gb25lIGRldmljZSlcbiAgICogYXdhaXQgc3RvcmUucmV2b2tlU2Vzc2lvbigndXNlcjEyMycsICd0b2tlbjc4OScpO1xuICAgKiBgYGBcbiAgICovXG4gIGFzeW5jIHJldm9rZVNlc3Npb24oXG4gICAgdXNlcklkOiBzdHJpbmcsXG4gICAgc2Vzc2lvblRva2VuOiBzdHJpbmdcbiAgKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHRoaXMuZ2V0U2Vzc2lvbih1c2VySWQsIHNlc3Npb25Ub2tlbik7XG5cbiAgICBpZiAoIXNlc3Npb24pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBNYXJrIGFzIHJldm9rZWRcbiAgICBjb25zdCByZXZva2VkU2Vzc2lvbjogUmVkaXNTZXNzaW9uID0ge1xuICAgICAgLi4uc2Vzc2lvbixcbiAgICAgIGlzUmV2b2tlZDogdHJ1ZVxuICAgIH07XG5cbiAgICAvLyBVcGRhdGUgaW4gUmVkaXMgd2l0aCBzaG9ydCBUVEwgKGtlZXAgZm9yIGF1ZGl0KVxuICAgIGNvbnN0IHNlc3Npb25LZXkgPSB0aGlzLmdldFNlc3Npb25LZXkodXNlcklkLCBzZXNzaW9uVG9rZW4pO1xuICAgIGF3YWl0IHRoaXMucmVkaXMuc2V0ZXgoc2Vzc2lvbktleSwgMzYwMCwgSlNPTi5zdHJpbmdpZnkocmV2b2tlZFNlc3Npb24pKTsgLy8gMSBob3VyIGF1ZGl0IHRyYWlsXG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYSBzZXNzaW9uIHBlcm1hbmVudGx5XG4gICAqXG4gICAqIFJlbW92ZXMgc2Vzc2lvbiBmcm9tIFJlZGlzIGFuZCBhbGwgaW5kZXhlcy5cbiAgICogVXNlZCBmb3IgY2xlYW51cCBhbmQgRklGTyBldmljdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHVzZXJJZCAtIFVzZXIgSURcbiAgICogQHBhcmFtIHNlc3Npb25Ub2tlbiAtIFNlc3Npb24gdG9rZW4gdG8gZGVsZXRlXG4gICAqIEByZXR1cm5zIFRydWUgaWYgZGVsZXRlZCBzdWNjZXNzZnVsbHlcbiAgICovXG4gIGFzeW5jIGRlbGV0ZVNlc3Npb24odXNlcklkOiBzdHJpbmcsIHNlc3Npb25Ub2tlbjogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHRoaXMuZ2V0U2Vzc2lvbih1c2VySWQsIHNlc3Npb25Ub2tlbik7XG5cbiAgICBpZiAoIXNlc3Npb24pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBEZWxldGUgc2Vzc2lvblxuICAgIGNvbnN0IHNlc3Npb25LZXkgPSB0aGlzLmdldFNlc3Npb25LZXkodXNlcklkLCBzZXNzaW9uVG9rZW4pO1xuICAgIGF3YWl0IHRoaXMucmVkaXMuZGVsKHNlc3Npb25LZXkpO1xuXG4gICAgLy8gUmVtb3ZlIGZyb20gdXNlciBzZXNzaW9ucyBpbmRleFxuICAgIGNvbnN0IHVzZXJTZXNzaW9uc0tleSA9IHRoaXMuZ2V0VXNlclNlc3Npb25zS2V5KHVzZXJJZCk7XG4gICAgYXdhaXQgdGhpcy5yZWRpcy5zcmVtKHVzZXJTZXNzaW9uc0tleSwgc2Vzc2lvblRva2VuKTtcblxuICAgIC8vIFJlbW92ZSBmcm9tIG9yZ2FuaXphdGlvbiB0cmFja2luZ1xuICAgIGNvbnN0IG9yZ1Nlc3Npb25LZXkgPSB0aGlzLmdldE9yZ1Nlc3Npb25LZXkoXG4gICAgICBzZXNzaW9uLm9yZ2FuaXphdGlvbklkLFxuICAgICAgdXNlcklkXG4gICAgKTtcbiAgICBhd2FpdCB0aGlzLnJlZGlzLnNyZW0ob3JnU2Vzc2lvbktleSwgc2Vzc2lvblRva2VuKTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgc2Vzc2lvbnMgZm9yIGEgdXNlclxuICAgKlxuICAgKiBSZXR1cm5zIGFsbCBhY3RpdmUgKG5vbi1yZXZva2VkLCBub24tZXhwaXJlZCkgc2Vzc2lvbnMuXG4gICAqIFVzZWQgZm9yIHNlc3Npb24gbGlzdGluZyBhbmQgbWFuYWdlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHVzZXJJZCAtIFVzZXIgSURcbiAgICogQHJldHVybnMgQXJyYXkgb2YgYWN0aXZlIHNlc3Npb25zXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogY29uc3Qgc2Vzc2lvbnMgPSBhd2FpdCBzdG9yZS5nZXRVc2VyU2Vzc2lvbnMoJ3VzZXIxMjMnKTtcbiAgICogY29uc29sZS5sb2coYFVzZXIgaGFzICR7c2Vzc2lvbnMubGVuZ3RofSBhY3RpdmUgc2Vzc2lvbnNgKTtcbiAgICogYGBgXG4gICAqL1xuICBhc3luYyBnZXRVc2VyU2Vzc2lvbnModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFJlZGlzU2Vzc2lvbltdPiB7XG4gICAgY29uc3QgdXNlclNlc3Npb25zS2V5ID0gdGhpcy5nZXRVc2VyU2Vzc2lvbnNLZXkodXNlcklkKTtcbiAgICBjb25zdCBzZXNzaW9uVG9rZW5zID0gYXdhaXQgdGhpcy5yZWRpcy5zbWVtYmVyczxzdHJpbmdbXT4odXNlclNlc3Npb25zS2V5KTtcblxuICAgIGlmICghc2Vzc2lvblRva2VucyB8fCBzZXNzaW9uVG9rZW5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIC8vIEdldCBhbGwgc2Vzc2lvbnMgaW4gcGFyYWxsZWxcbiAgICBjb25zdCBzZXNzaW9uUHJvbWlzZXMgPSBzZXNzaW9uVG9rZW5zLm1hcCh0b2tlbiA9PlxuICAgICAgdGhpcy5nZXRTZXNzaW9uKHVzZXJJZCwgdG9rZW4pXG4gICAgKTtcblxuICAgIGNvbnN0IHNlc3Npb25zID0gYXdhaXQgUHJvbWlzZS5hbGwoc2Vzc2lvblByb21pc2VzKTtcblxuICAgIC8vIEZpbHRlciBvdXQgbnVsbCB2YWx1ZXMgKGV4cGlyZWQvcmV2b2tlZCBzZXNzaW9ucylcbiAgICByZXR1cm4gc2Vzc2lvbnMuZmlsdGVyKChzKTogcyBpcyBSZWRpc1Nlc3Npb24gPT4gcyAhPT0gbnVsbCk7XG4gIH1cblxuICAvKipcbiAgICogUmV2b2tlIGFsbCBzZXNzaW9ucyBmb3IgYSB1c2VyXG4gICAqXG4gICAqIFVzZWQgZm9yIHNlY3VyaXR5IGV2ZW50cyBsaWtlIHBhc3N3b3JkIGNoYW5nZXMsIGFjY291bnQgY29tcHJvbWlzZSxcbiAgICogb3IgbWFudWFsIHVzZXIgYWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gdXNlcklkIC0gVXNlciBJRFxuICAgKiBAcmV0dXJucyBOdW1iZXIgb2Ygc2Vzc2lvbnMgcmV2b2tlZFxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIC8vIFVzZXIgY2hhbmdlcyBwYXNzd29yZCAtIHJldm9rZSBhbGwgc2Vzc2lvbnNcbiAgICogY29uc3QgY291bnQgPSBhd2FpdCBzdG9yZS5yZXZva2VBbGxVc2VyU2Vzc2lvbnMoJ3VzZXIxMjMnKTtcbiAgICogY29uc29sZS5sb2coYFJldm9rZWQgJHtjb3VudH0gc2Vzc2lvbnNgKTtcbiAgICogYGBgXG4gICAqL1xuICBhc3luYyByZXZva2VBbGxVc2VyU2Vzc2lvbnModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgIGNvbnN0IHNlc3Npb25zID0gYXdhaXQgdGhpcy5nZXRVc2VyU2Vzc2lvbnModXNlcklkKTtcblxuICAgIC8vIFJldm9rZSBhbGwgc2Vzc2lvbnMgaW4gcGFyYWxsZWxcbiAgICBjb25zdCByZXZva2VQcm9taXNlcyA9IHNlc3Npb25zLm1hcChzZXNzaW9uID0+XG4gICAgICB0aGlzLnJldm9rZVNlc3Npb24odXNlcklkLCBzZXNzaW9uLnNlc3Npb25Ub2tlbilcbiAgICApO1xuXG4gICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKHJldm9rZVByb21pc2VzKTtcblxuICAgIC8vIENvdW50IHN1Y2Nlc3NmdWwgcmV2b2NhdGlvbnNcbiAgICByZXR1cm4gcmVzdWx0cy5maWx0ZXIociA9PiByKS5sZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIGFsbCBzZXNzaW9ucyBmb3IgYSB1c2VyXG4gICAqXG4gICAqIFBlcm1hbmVudGx5IHJlbW92ZXMgYWxsIHVzZXIgc2Vzc2lvbnMuXG4gICAqIFVzZWQgZm9yIGFjY291bnQgZGVsZXRpb24gb3IgYWRtaW5pc3RyYXRpdmUgYWN0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHVzZXJJZCAtIFVzZXIgSURcbiAgICogQHJldHVybnMgTnVtYmVyIG9mIHNlc3Npb25zIGRlbGV0ZWRcbiAgICovXG4gIGFzeW5jIGRlbGV0ZUFsbFVzZXJTZXNzaW9ucyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8bnVtYmVyPiB7XG4gICAgY29uc3Qgc2Vzc2lvbnMgPSBhd2FpdCB0aGlzLmdldFVzZXJTZXNzaW9ucyh1c2VySWQpO1xuXG4gICAgLy8gRGVsZXRlIGFsbCBzZXNzaW9ucyBpbiBwYXJhbGxlbFxuICAgIGNvbnN0IGRlbGV0ZVByb21pc2VzID0gc2Vzc2lvbnMubWFwKHNlc3Npb24gPT5cbiAgICAgIHRoaXMuZGVsZXRlU2Vzc2lvbih1c2VySWQsIHNlc3Npb24uc2Vzc2lvblRva2VuKVxuICAgICk7XG5cbiAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwoZGVsZXRlUHJvbWlzZXMpO1xuXG4gICAgLy8gQ291bnQgc3VjY2Vzc2Z1bCBkZWxldGlvbnNcbiAgICByZXR1cm4gcmVzdWx0cy5maWx0ZXIociA9PiByKS5sZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHNlc3Npb24gc3RhdGlzdGljcyBmb3IgYSB1c2VyXG4gICAqXG4gICAqIFByb3ZpZGVzIG1ldHJpY3MgZm9yIG1vbml0b3JpbmcgYW5kIGFuYWx5dGljcy5cbiAgICpcbiAgICogQHBhcmFtIHVzZXJJZCAtIFVzZXIgSURcbiAgICogQHJldHVybnMgU2Vzc2lvbiBzdGF0aXN0aWNzXG4gICAqL1xuICBhc3luYyBnZXRVc2VyU2Vzc2lvblN0YXRzKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxTZXNzaW9uU3RhdHM+IHtcbiAgICBjb25zdCBzZXNzaW9ucyA9IGF3YWl0IHRoaXMuZ2V0VXNlclNlc3Npb25zKHVzZXJJZCk7XG4gICAgY29uc3QgcmV2b2tlZFNlc3Npb25zID0gc2Vzc2lvbnMuZmlsdGVyKHMgPT4gcy5pc1Jldm9rZWQpO1xuXG4gICAgbGV0IG9sZGVzdFNlc3Npb246IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgIGxldCBuZXdlc3RTZXNzaW9uOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICAgIGlmIChzZXNzaW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBzb3J0ZWQgPSBzZXNzaW9ucy5zb3J0KFxuICAgICAgICAoYSwgYikgPT4gbmV3IERhdGUoYS5jcmVhdGVkQXQpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGIuY3JlYXRlZEF0KS5nZXRUaW1lKClcbiAgICAgICk7XG4gICAgICBvbGRlc3RTZXNzaW9uID0gc29ydGVkWzBdLmNyZWF0ZWRBdDtcbiAgICAgIG5ld2VzdFNlc3Npb24gPSBzb3J0ZWRbc29ydGVkLmxlbmd0aCAtIDFdLmNyZWF0ZWRBdDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdG90YWxTZXNzaW9uczogc2Vzc2lvbnMubGVuZ3RoLFxuICAgICAgYWN0aXZlU2Vzc2lvbnM6IHNlc3Npb25zLmxlbmd0aCAtIHJldm9rZWRTZXNzaW9ucy5sZW5ndGgsXG4gICAgICByZXZva2VkU2Vzc2lvbnM6IHJldm9rZWRTZXNzaW9ucy5sZW5ndGgsXG4gICAgICBvbGRlc3RTZXNzaW9uLFxuICAgICAgbmV3ZXN0U2Vzc2lvblxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ2xlYW4gdXAgZXhwaXJlZCBzZXNzaW9ucyBtYW51YWxseVxuICAgKlxuICAgKiBXaGlsZSBSZWRpcyBhdXRvbWF0aWNhbGx5IHJlbW92ZXMgZXhwaXJlZCBrZXlzLCB0aGlzIG1ldGhvZFxuICAgKiBwcm92aWRlcyBtYW51YWwgY2xlYW51cCBmb3IgaW5kZXggY29uc2lzdGVuY3kuXG4gICAqXG4gICAqIEBwYXJhbSB1c2VySWQgLSBVc2VyIElEXG4gICAqIEByZXR1cm5zIE51bWJlciBvZiBzZXNzaW9ucyBjbGVhbmVkIHVwXG4gICAqL1xuICBhc3luYyBjbGVhbnVwRXhwaXJlZFNlc3Npb25zKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICBjb25zdCB1c2VyU2Vzc2lvbnNLZXkgPSB0aGlzLmdldFVzZXJTZXNzaW9uc0tleSh1c2VySWQpO1xuICAgIGNvbnN0IHNlc3Npb25Ub2tlbnMgPSBhd2FpdCB0aGlzLnJlZGlzLnNtZW1iZXJzPHN0cmluZ1tdPih1c2VyU2Vzc2lvbnNLZXkpO1xuXG4gICAgaWYgKCFzZXNzaW9uVG9rZW5zIHx8IHNlc3Npb25Ub2tlbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBsZXQgY2xlYW5lZENvdW50ID0gMDtcblxuICAgIGZvciAoY29uc3QgdG9rZW4gb2Ygc2Vzc2lvblRva2Vucykge1xuICAgICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHRoaXMuZ2V0U2Vzc2lvbih1c2VySWQsIHRva2VuKTtcbiAgICAgIGlmICghc2Vzc2lvbikge1xuICAgICAgICAvLyBTZXNzaW9uIGlzIGV4cGlyZWQgb3IgaW52YWxpZCAtIHJlbW92ZSBmcm9tIGluZGV4XG4gICAgICAgIGF3YWl0IHRoaXMucmVkaXMuc3JlbSh1c2VyU2Vzc2lvbnNLZXksIHRva2VuKTtcbiAgICAgICAgY2xlYW5lZENvdW50Kys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNsZWFuZWRDb3VudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBzZXNzaW9uIGNvbmZpZ3VyYXRpb25cbiAgICpcbiAgICogQ2hlY2tzIGlmIFJlZGlzIGNvbm5lY3Rpb24gaXMgd29ya2luZyBhbmQgY29uZmlndXJhdGlvbiBpcyB2YWxpZC5cbiAgICpcbiAgICogQHJldHVybnMgVHJ1ZSBpZiBjb25maWd1cmF0aW9uIGlzIHZhbGlkXG4gICAqIEB0aHJvd3MgRXJyb3IgaWYgdmFsaWRhdGlvbiBmYWlsc1xuICAgKi9cbiAgYXN5bmMgdmFsaWRhdGVDb25maWd1cmF0aW9uKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBUZXN0IFJlZGlzIGNvbm5lY3Rpb25cbiAgICAgIGF3YWl0IHRoaXMucmVkaXMucGluZygpO1xuXG4gICAgICAvLyBWYWxpZGF0ZSBjb25maWd1cmF0aW9uIHZhbHVlc1xuICAgICAgaWYgKHRoaXMuY29uZmlnLnNlc3Npb25UaW1lb3V0TWludXRlcyA8IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZXNzaW9uIHRpbWVvdXQgbXVzdCBiZSBhdCBsZWFzdCAxIG1pbnV0ZScpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5jb25maWcubWF4Q29uY3VycmVudFNlc3Npb25zIDwgMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01heCBjb25jdXJyZW50IHNlc3Npb25zIG11c3QgYmUgYXQgbGVhc3QgMScpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBSZWRpcyBTZXNzaW9uIFN0b3JlIHZhbGlkYXRpb24gZmFpbGVkOiAke21lc3NhZ2V9YCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBSZWRpcyBjb25uZWN0aW9uIGhlYWx0aCBzdGF0dXNcbiAgICpcbiAgICogQHJldHVybnMgSGVhbHRoIHN0YXR1cyBvYmplY3RcbiAgICovXG4gIGFzeW5jIGdldEhlYWx0aFN0YXR1cygpOiBQcm9taXNlPHtcbiAgICBoZWFsdGh5OiBib29sZWFuO1xuICAgIGxhdGVuY3k6IG51bWJlcjtcbiAgICBlcnJvcj86IHN0cmluZztcbiAgfT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdGFydCA9IERhdGUubm93KCk7XG4gICAgICBhd2FpdCB0aGlzLnJlZGlzLnBpbmcoKTtcbiAgICAgIGNvbnN0IGxhdGVuY3kgPSBEYXRlLm5vdygpIC0gc3RhcnQ7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGhlYWx0aHk6IHRydWUsXG4gICAgICAgIGxhdGVuY3lcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGhlYWx0aHk6IGZhbHNlLFxuICAgICAgICBsYXRlbmN5OiAtMSxcbiAgICAgICAgZXJyb3I6IG1lc3NhZ2VcbiAgICAgIH07XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlIGFuZCBjb25maWd1cmUgUmVkaXMgU2Vzc2lvbiBTdG9yZVxuICpcbiAqIEZhY3RvcnkgZnVuY3Rpb24gZm9yIGVhc3kgc3RvcmUgaW5pdGlhbGl6YXRpb24uXG4gKlxuICogQHBhcmFtIGNvbmZpZyAtIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb3ZlcnJpZGVzXG4gKiBAcmV0dXJucyBDb25maWd1cmVkIFJlZGlzU2Vzc2lvblN0b3JlIGluc3RhbmNlXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNvbnN0IHN0b3JlID0gY3JlYXRlUmVkaXNTZXNzaW9uU3RvcmUoe1xuICogICBzZXNzaW9uVGltZW91dE1pbnV0ZXM6IDYwLCAvLyAxIGhvdXJcbiAqICAgbWF4Q29uY3VycmVudFNlc3Npb25zOiAxMFxuICogfSk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJlZGlzU2Vzc2lvblN0b3JlKFxuICBjb25maWc/OiBQYXJ0aWFsPFJlZGlzU3RvcmVDb25maWc+XG4pOiBSZWRpc1Nlc3Npb25TdG9yZSB7XG4gIGNvbnN0IHVybCA9IHByb2Nlc3MuZW52LlVQU1RBU0hfUkVESVNfUkVTVF9VUkw7XG4gIGNvbnN0IHRva2VuID0gcHJvY2Vzcy5lbnYuVVBTVEFTSF9SRURJU19SRVNUX1RPS0VOO1xuXG4gIGlmICghdXJsIHx8ICF0b2tlbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdSZWRpcyBjb25maWd1cmF0aW9uIG1pc3NpbmcuIFNldCBVUFNUQVNIX1JFRElTX1JFU1RfVVJMIGFuZCBVUFNUQVNIX1JFRElTX1JFU1RfVE9LRU4nXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZ1bGxDb25maWc6IFJlZGlzU3RvcmVDb25maWcgPSB7XG4gICAgdXJsLFxuICAgIHRva2VuLFxuICAgIHNlc3Npb25UaW1lb3V0TWludXRlczogY29uZmlnPy5zZXNzaW9uVGltZW91dE1pbnV0ZXMgPz9cbiAgICAgIE51bWJlcihwcm9jZXNzLmVudi5TRVNTSU9OX1RJTUVPVVRfTUlOVVRFUykgPz9cbiAgICAgIDMwLFxuICAgIG1heENvbmN1cnJlbnRTZXNzaW9uczogY29uZmlnPy5tYXhDb25jdXJyZW50U2Vzc2lvbnMgPz9cbiAgICAgIE51bWJlcihwcm9jZXNzLmVudi5NQVhfQ09OQ1VSUkVOVF9TRVNTSU9OUykgPz9cbiAgICAgIDVcbiAgfTtcblxuICByZXR1cm4gbmV3IFJlZGlzU2Vzc2lvblN0b3JlKGZ1bGxDb25maWcpO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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QUEsRUFBUyxDQUFDO1FBQ1ZKLEtBQUEsRUFBT0M7TUFDVDtJQUNGO0VBQ0Y7QUFDRjtBQWtCTyxTQUFTbEYsd0JBQ2RLLE1BQWtDO0VBQUE7RUFBQVIsY0FBQSxHQUFBQyxDQUFBO0VBRWxDLE1BQU1XLEdBQUE7RUFBQTtFQUFBLENBQUFaLGNBQUEsR0FBQUUsQ0FBQSxTQUFNd0YsT0FBQSxDQUFRQyxHQUFHLENBQUNDLHNCQUFzQjtFQUM5QyxNQUFNL0UsS0FBQTtFQUFBO0VBQUEsQ0FBQWIsY0FBQSxHQUFBRSxDQUFBLFNBQVF3RixPQUFBLENBQVFDLEdBQUcsQ0FBQ0Usd0JBQXdCO0VBQUE7RUFBQTdGLGNBQUEsR0FBQUUsQ0FBQTtFQUVsRDtFQUFJO0VBQUEsQ0FBQUYsY0FBQSxHQUFBMkIsQ0FBQSxZQUFDZixHQUFBO0VBQUE7RUFBQSxDQUFBWixjQUFBLEdBQUEyQixDQUFBLFdBQU8sQ0FBQ2QsS0FBQSxHQUFPO0lBQUE7SUFBQWIsY0FBQSxHQUFBMkIsQ0FBQTtJQUFBM0IsY0FBQSxHQUFBRSxDQUFBO0lBQ2xCLE1BQU0sSUFBSWlGLEtBQUEsQ0FDUjtFQUVKO0VBQUE7RUFBQTtJQUFBbkYsY0FBQSxHQUFBMkIsQ0FBQTtFQUFBO0VBRUEsTUFBTW1FLFVBQUE7RUFBQTtFQUFBLENBQUE5RixjQUFBLEdBQUFFLENBQUEsU0FBK0I7SUFDbkNVLEdBQUE7SUFDQUMsS0FBQTtJQUNBUixxQkFBQTtJQUF1QjtJQUFBLENBQUFMLGNBQUEsR0FBQTJCLENBQUEsV0FBQW5CLE1BQUEsRUFBUUgscUJBQUE7SUFBQTtJQUFBLENBQUFMLGNBQUEsR0FBQTJCLENBQUEsV0FDN0JvRSxNQUFBLENBQU9MLE9BQUEsQ0FBUUMsR0FBRyxDQUFDSyx1QkFBdUI7SUFBQTtJQUFBLENBQUFoRyxjQUFBLEdBQUEyQixDQUFBLFdBQzFDO0lBQ0ZyQixxQkFBQTtJQUF1QjtJQUFBLENBQUFOLGNBQUEsR0FBQTJCLENBQUEsV0FBQW5CLE1BQUEsRUFBUUYscUJBQUE7SUFBQTtJQUFBLENBQUFOLGNBQUEsR0FBQTJCLENBQUEsV0FDN0JvRSxNQUFBLENBQU9MLE9BQUEsQ0FBUUMsR0FBRyxDQUFDTSx1QkFBdUI7SUFBQTtJQUFBLENBQUFqRyxjQUFBLEdBQUEyQixDQUFBLFdBQzFDO0VBQ0o7RUFBQTtFQUFBM0IsY0FBQSxHQUFBRSxDQUFBO0VBRUEsT0FBTyxJQUFJSCxpQkFBQSxDQUFrQitGLFVBQUE7QUFDL0IiLCJpZ25vcmVMaXN0IjpbXX0=