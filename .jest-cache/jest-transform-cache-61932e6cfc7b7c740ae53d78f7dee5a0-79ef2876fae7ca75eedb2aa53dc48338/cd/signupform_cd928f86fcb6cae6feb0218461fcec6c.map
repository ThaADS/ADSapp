{"version":3,"sources":["C:\\Ai Projecten\\ADSapp\\src\\components\\auth\\signup-form.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { useRouter } from 'next/navigation'\n\nexport function SignUpForm() {\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n    fullName: '',\n    organizationName: '',\n  })\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const router = useRouter()\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setIsLoading(true)\n    setError(null)\n\n    try {\n      // Use our API route instead of direct Supabase call\n      const response = await fetch('/api/auth/signup', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          email: formData.email,\n          password: formData.password,\n          fullName: formData.fullName,\n          organizationName: formData.organizationName,\n        }),\n      })\n\n      const result = await response.json()\n\n      if (!response.ok) {\n        setError(result.error || 'Registration failed. Please try again.')\n        return\n      }\n\n      if (result.user) {\n        // Registration successful\n        if (result.confirmationRequired) {\n          setError('Please check your email to confirm your account')\n        } else {\n          // Redirect to dashboard\n          router.push('/dashboard')\n        }\n      }\n    } catch (err) {\n      setError('Registration failed. Please try again.')\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    })\n  }\n  return (\n    <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\n      <div className=\"rounded-md shadow-sm space-y-4\">\n        <div>\n          <label htmlFor=\"full-name\" className=\"sr-only\">\n            Full Name\n          </label>\n          <input\n            id=\"full-name\"\n            name=\"fullName\"\n            type=\"text\"\n            required\n            className=\"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm\"\n            placeholder=\"Full Name\"\n            value={formData.fullName}\n            onChange={handleInputChange}\n          />\n        </div>\n        <div>\n          <label htmlFor=\"email-address\" className=\"sr-only\">\n            Email address\n          </label>\n          <input\n            id=\"email-address\"\n            name=\"email\"\n            type=\"email\"\n            autoComplete=\"email\"\n            required\n            className=\"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm\"\n            placeholder=\"Email address\"\n            value={formData.email}\n            onChange={handleInputChange}\n          />\n        </div>\n        <div>\n          <label htmlFor=\"password\" className=\"sr-only\">\n            Password\n          </label>\n          <input\n            id=\"password\"\n            name=\"password\"\n            type=\"password\"\n            autoComplete=\"new-password\"\n            required\n            minLength={6}\n            className=\"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm\"\n            placeholder=\"Password (min. 6 characters)\"\n            value={formData.password}\n            onChange={handleInputChange}\n          />\n        </div>\n        <div>\n          <label htmlFor=\"organization-name\" className=\"sr-only\">\n            Organization Name\n          </label>\n          <input\n            id=\"organization-name\"\n            name=\"organizationName\"\n            type=\"text\"\n            required\n            className=\"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm\"\n            placeholder=\"Organization Name\"\n            value={formData.organizationName}\n            onChange={handleInputChange}\n          />\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"rounded-md bg-red-50 p-4\">\n          <div className=\"flex\">\n            <div className=\"ml-3\">\n              <h3 className=\"text-sm font-medium text-red-800\">\n                Registration Error\n              </h3>\n              <div className=\"mt-2 text-sm text-red-700\">{error}</div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div>\n        <button\n          type=\"submit\"\n          disabled={isLoading}\n          className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          {isLoading ? (\n            <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n          ) : (\n            'Create Account'\n          )}\n        </button>\n      </div>\n\n      <div className=\"text-xs text-gray-600 text-center\">\n        By creating an account, you agree to our{' '}\n        <a href=\"#\" className=\"text-green-600 hover:text-green-500\">\n          Terms of Service\n        </a>{' '}\n        and{' '}\n        <a href=\"#\" className=\"text-green-600 hover:text-green-500\">\n          Privacy Policy\n        </a>\n      </div>\n    </form>\n  )\n}"],"names":["SignUpForm","formData","setFormData","useState","email","password","fullName","organizationName","isLoading","setIsLoading","error","setError","router","useRouter","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","result","json","ok","user","confirmationRequired","push","err","handleInputChange","target","name","value","form","className","onSubmit","div","label","htmlFor","input","id","type","required","placeholder","onChange","autoComplete","minLength","h3","button","disabled","a","href"],"mappings":"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"}