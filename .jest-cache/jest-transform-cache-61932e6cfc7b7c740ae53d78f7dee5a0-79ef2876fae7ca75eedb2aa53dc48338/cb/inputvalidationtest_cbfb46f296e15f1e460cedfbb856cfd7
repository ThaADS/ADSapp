1c4bb865d577567d073a01d192ada8c2
/**
 * Input Validation Tests
 *
 * Tests for UUID validation and email validation with edge cases.
 *
 * @module tests/unit/validation/input-validation
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _zod = require("zod");
describe('Input Validation', ()=>{
    describe('Test 19: UUID Validation (Valid and Invalid)', ()=>{
        // UUID validation schema
        const uuidSchema = _zod.z.string().uuid('Invalid UUID format');
        it('should validate correct UUID v4 format', ()=>{
            // Arrange
            const validUUIDs = [
                '550e8400-e29b-41d4-a716-446655440000',
                '6ba7b810-9dad-11d1-80b4-00c04fd430c8',
                'f47ac10b-58cc-4372-a567-0e02b2c3d479',
                'a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11'
            ];
            // Act & Assert
            for (const uuid of validUUIDs){
                const result = uuidSchema.safeParse(uuid);
                expect(result.success).toBe(true);
            }
        });
        it('should reject invalid UUID formats', ()=>{
            // Arrange
            const invalidUUIDs = [
                'not-a-uuid',
                '12345',
                '',
                'g50e8400-e29b-41d4-a716-446655440000',
                '550e8400e29b41d4a716446655440000',
                '550e8400-e29b-41d4-a716',
                '550e8400-e29b-41d4-a716-446655440000-extra'
            ];
            // Act & Assert
            for (const uuid of invalidUUIDs){
                const result = uuidSchema.safeParse(uuid);
                expect(result.success).toBe(false);
                if (!result.success) {
                    expect(result.error.issues[0].message).toContain('Invalid UUID');
                }
            }
        });
        it('should reject null and undefined values', ()=>{
            // Arrange & Act & Assert
            expect(uuidSchema.safeParse(null).success).toBe(false);
            expect(uuidSchema.safeParse(undefined).success).toBe(false);
        });
        it('should reject UUID with wrong case but accept any case', ()=>{
            // Arrange
            const upperCaseUUID = '550E8400-E29B-41D4-A716-446655440000';
            const lowerCaseUUID = '550e8400-e29b-41d4-a716-446655440000';
            const mixedCaseUUID = '550e8400-E29B-41d4-A716-446655440000';
            // Act & Assert
            // UUIDs are typically case-insensitive
            expect(uuidSchema.safeParse(upperCaseUUID).success).toBe(true);
            expect(uuidSchema.safeParse(lowerCaseUUID).success).toBe(true);
            expect(uuidSchema.safeParse(mixedCaseUUID).success).toBe(true);
        });
        it('should handle UUID with extra whitespace', ()=>{
            // Arrange
            const uuidWithWhitespace = '  550e8400-e29b-41d4-a716-446655440000  ';
            // Create schema with trim
            const trimmedUuidSchema = _zod.z.string().trim().uuid();
            // Act
            const result = trimmedUuidSchema.safeParse(uuidWithWhitespace);
            // Assert
            expect(result.success).toBe(true);
        });
        it('should validate UUID in database ID context', ()=>{
            // Arrange
            const organizationIdSchema = _zod.z.object({
                id: _zod.z.string().uuid(),
                name: _zod.z.string()
            });
            const validOrganization = {
                id: '550e8400-e29b-41d4-a716-446655440000',
                name: 'Test Organization'
            };
            const invalidOrganization = {
                id: 'not-a-uuid',
                name: 'Test Organization'
            };
            // Act & Assert
            expect(organizationIdSchema.safeParse(validOrganization).success).toBe(true);
            expect(organizationIdSchema.safeParse(invalidOrganization).success).toBe(false);
        });
        it('should handle UUID arrays validation', ()=>{
            // Arrange
            const uuidArraySchema = _zod.z.array(_zod.z.string().uuid());
            const validUUIDs = [
                '550e8400-e29b-41d4-a716-446655440000',
                '6ba7b810-9dad-11d1-80b4-00c04fd430c8'
            ];
            const mixedUUIDs = [
                '550e8400-e29b-41d4-a716-446655440000',
                'not-a-uuid'
            ];
            // Act & Assert
            expect(uuidArraySchema.safeParse(validUUIDs).success).toBe(true);
            expect(uuidArraySchema.safeParse(mixedUUIDs).success).toBe(false);
        });
        it('should validate optional UUID field', ()=>{
            // Arrange
            const optionalUuidSchema = _zod.z.object({
                id: _zod.z.string().uuid(),
                parentId: _zod.z.string().uuid().optional()
            });
            const withParent = {
                id: '550e8400-e29b-41d4-a716-446655440000',
                parentId: '6ba7b810-9dad-11d1-80b4-00c04fd430c8'
            };
            const withoutParent = {
                id: '550e8400-e29b-41d4-a716-446655440000'
            };
            // Act & Assert
            expect(optionalUuidSchema.safeParse(withParent).success).toBe(true);
            expect(optionalUuidSchema.safeParse(withoutParent).success).toBe(true);
        });
    });
    describe('Test 20: Email Validation with Edge Cases', ()=>{
        // Email validation schema with security checks
        const emailSchema = _zod.z.string().email('Invalid email format').min(5, 'Email must be at least 5 characters').max(254, 'Email must not exceed 254 characters').refine((email)=>!email.includes('..'), 'Email cannot contain consecutive dots').refine((email)=>!email.startsWith('.') && !email.endsWith('.'), 'Email cannot start or end with a dot');
        it('should validate standard email addresses', ()=>{
            // Arrange
            const validEmails = [
                'user@example.com',
                'john.doe@company.co.uk',
                'admin+test@domain.org',
                'name_123@subdomain.example.com',
                'user.name+tag@example.travel'
            ];
            // Act & Assert
            for (const email of validEmails){
                const result = emailSchema.safeParse(email);
                expect(result.success).toBe(true);
            }
        });
        it('should reject invalid email formats', ()=>{
            // Arrange
            const invalidEmails = [
                'not-an-email',
                '@example.com',
                'user@',
                'user..name@example.com',
                '.user@example.com',
                'user.@example.com',
                'user@example..com',
                'user name@example.com',
                'user@.com'
            ];
            // Act & Assert
            for (const email of invalidEmails){
                const result = emailSchema.safeParse(email);
                expect(result.success).toBe(false);
            }
        });
        it('should enforce minimum and maximum length', ()=>{
            // Arrange
            const validMin = 'a@b.co'; // 6 characters, valid email format
            // Create email that's actually over 254 characters
            const longLocalPart = 'a'.repeat(250); // 250 chars
            const tooLong = longLocalPart + '@example.com'; // 250 + 12 = 262 chars, exceeds 254
            // Act & Assert
            expect(emailSchema.safeParse(validMin).success).toBe(true);
            expect(tooLong.length).toBeGreaterThan(254); // Verify test setup
            expect(emailSchema.safeParse(tooLong).success).toBe(false); // Exceeds maximum
        });
        it('should handle email with special characters', ()=>{
            // Arrange
            const emailsWithSpecialChars = [
                'user+tag@example.com',
                'user_name@example.com',
                'user-name@example.com',
                'user.name@example.com'
            ];
            // Act & Assert
            for (const email of emailsWithSpecialChars){
                const result = emailSchema.safeParse(email);
                expect(result.success).toBe(true);
            }
        });
        it('should reject emails with consecutive dots', ()=>{
            // Arrange
            const emailWithConsecutiveDots = 'user..name@example.com';
            // Act
            const result = emailSchema.safeParse(emailWithConsecutiveDots);
            // Assert
            expect(result.success).toBe(false);
            if (!result.success) {
                // The refine function provides the custom message
                const messages = result.error.issues.map((i)=>i.message);
                const hasConsecutiveDotsMessage = messages.some((m)=>m.includes('consecutive dots'));
                expect(hasConsecutiveDotsMessage).toBe(true);
            }
        });
        it('should reject emails starting or ending with dot', ()=>{
            // Arrange
            const startingWithDot = '.user@example.com';
            const endingWithDot = 'user.@example.com';
            // Act & Assert
            expect(emailSchema.safeParse(startingWithDot).success).toBe(false);
            expect(emailSchema.safeParse(endingWithDot).success).toBe(false);
        });
        it('should handle international domain names', ()=>{
            // Arrange
            const internationalEmails = [
                'user@example.co.uk',
                'user@example.com.br',
                'user@subdomain.example.org'
            ];
            // Act & Assert
            for (const email of internationalEmails){
                const result = emailSchema.safeParse(email);
                expect(result.success).toBe(true);
            }
        });
        it('should reject emails with missing domain parts', ()=>{
            // Arrange
            const invalidDomainEmails = [
                'user@example',
                'user@.example.com',
                'user@example.'
            ];
            // Act & Assert
            for (const email of invalidDomainEmails){
                const result = emailSchema.safeParse(email);
                expect(result.success).toBe(false);
            }
        });
        it('should handle email case sensitivity correctly', ()=>{
            // Arrange
            const upperCaseEmail = 'USER@EXAMPLE.COM';
            const lowerCaseEmail = 'user@example.com';
            const mixedCaseEmail = 'User@Example.Com';
            // Act & Assert
            // Email validation should accept any case
            expect(emailSchema.safeParse(upperCaseEmail).success).toBe(true);
            expect(emailSchema.safeParse(lowerCaseEmail).success).toBe(true);
            expect(emailSchema.safeParse(mixedCaseEmail).success).toBe(true);
        });
        it('should validate email in user registration context', ()=>{
            // Arrange
            const userSchema = _zod.z.object({
                email: emailSchema,
                name: _zod.z.string().min(1),
                password: _zod.z.string().min(8)
            });
            const validUser = {
                email: 'newuser@example.com',
                name: 'John Doe',
                password: 'SecurePass123!'
            };
            const invalidUser = {
                email: 'invalid-email',
                name: 'John Doe',
                password: 'SecurePass123!'
            };
            // Act & Assert
            expect(userSchema.safeParse(validUser).success).toBe(true);
            expect(userSchema.safeParse(invalidUser).success).toBe(false);
        });
        it('should handle empty and whitespace-only emails', ()=>{
            // Arrange
            const emptyEmail = '';
            const whitespaceEmail = '   ';
            // Act & Assert
            expect(emailSchema.safeParse(emptyEmail).success).toBe(false);
            expect(emailSchema.safeParse(whitespaceEmail).success).toBe(false);
        });
        it('should trim whitespace before validation', ()=>{
            // Arrange
            const emailWithWhitespace = '  user@example.com  ';
            const trimmedEmailSchema = _zod.z.string().trim().email();
            // Act
            const result = trimmedEmailSchema.safeParse(emailWithWhitespace);
            // Assert
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data).toBe('user@example.com');
            }
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxBaSBQcm9qZWN0ZW5cXEFEU2FwcFxcdGVzdHNcXHVuaXRcXHZhbGlkYXRpb25cXGlucHV0LXZhbGlkYXRpb24udGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIElucHV0IFZhbGlkYXRpb24gVGVzdHNcbiAqXG4gKiBUZXN0cyBmb3IgVVVJRCB2YWxpZGF0aW9uIGFuZCBlbWFpbCB2YWxpZGF0aW9uIHdpdGggZWRnZSBjYXNlcy5cbiAqXG4gKiBAbW9kdWxlIHRlc3RzL3VuaXQvdmFsaWRhdGlvbi9pbnB1dC12YWxpZGF0aW9uXG4gKi9cblxuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5cbmRlc2NyaWJlKCdJbnB1dCBWYWxpZGF0aW9uJywgKCkgPT4ge1xuICBkZXNjcmliZSgnVGVzdCAxOTogVVVJRCBWYWxpZGF0aW9uIChWYWxpZCBhbmQgSW52YWxpZCknLCAoKSA9PiB7XG4gICAgLy8gVVVJRCB2YWxpZGF0aW9uIHNjaGVtYVxuICAgIGNvbnN0IHV1aWRTY2hlbWEgPSB6LnN0cmluZygpLnV1aWQoJ0ludmFsaWQgVVVJRCBmb3JtYXQnKTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgY29ycmVjdCBVVUlEIHY0IGZvcm1hdCcsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHZhbGlkVVVJRHMgPSBbXG4gICAgICAgICc1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwMDAnLFxuICAgICAgICAnNmJhN2I4MTAtOWRhZC0xMWQxLTgwYjQtMDBjMDRmZDQzMGM4JyxcbiAgICAgICAgJ2Y0N2FjMTBiLTU4Y2MtNDM3Mi1hNTY3LTBlMDJiMmMzZDQ3OScsXG4gICAgICAgICdhMGVlYmM5OS05YzBiLTRlZjgtYmI2ZC02YmI5YmQzODBhMTEnLFxuICAgICAgXTtcblxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICBmb3IgKGNvbnN0IHV1aWQgb2YgdmFsaWRVVUlEcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB1dWlkU2NoZW1hLnNhZmVQYXJzZSh1dWlkKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgaW52YWxpZCBVVUlEIGZvcm1hdHMnLCAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBpbnZhbGlkVVVJRHMgPSBbXG4gICAgICAgICdub3QtYS11dWlkJyxcbiAgICAgICAgJzEyMzQ1JyxcbiAgICAgICAgJycsXG4gICAgICAgICdnNTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwMDAnLCAvLyBJbnZhbGlkIGNoYXJhY3RlciAnZydcbiAgICAgICAgJzU1MGU4NDAwZTI5YjQxZDRhNzE2NDQ2NjU1NDQwMDAwJywgLy8gTWlzc2luZyBoeXBoZW5zXG4gICAgICAgICc1NTBlODQwMC1lMjliLTQxZDQtYTcxNicsIC8vIFRvbyBzaG9ydFxuICAgICAgICAnNTUwZTg0MDAtZTI5Yi00MWQ0LWE3MTYtNDQ2NjU1NDQwMDAwLWV4dHJhJywgLy8gRXh0cmEgY2hhcmFjdGVyc1xuICAgICAgXTtcblxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICBmb3IgKGNvbnN0IHV1aWQgb2YgaW52YWxpZFVVSURzKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHV1aWRTY2hlbWEuc2FmZVBhcnNlKHV1aWQpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5pc3N1ZXNbMF0ubWVzc2FnZSkudG9Db250YWluKCdJbnZhbGlkIFVVSUQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgbnVsbCBhbmQgdW5kZWZpbmVkIHZhbHVlcycsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2UgJiBBY3QgJiBBc3NlcnRcbiAgICAgIGV4cGVjdCh1dWlkU2NoZW1hLnNhZmVQYXJzZShudWxsKS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdCh1dWlkU2NoZW1hLnNhZmVQYXJzZSh1bmRlZmluZWQpLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgVVVJRCB3aXRoIHdyb25nIGNhc2UgYnV0IGFjY2VwdCBhbnkgY2FzZScsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHVwcGVyQ2FzZVVVSUQgPSAnNTUwRTg0MDAtRTI5Qi00MUQ0LUE3MTYtNDQ2NjU1NDQwMDAwJztcbiAgICAgIGNvbnN0IGxvd2VyQ2FzZVVVSUQgPSAnNTUwZTg0MDAtZTI5Yi00MWQ0LWE3MTYtNDQ2NjU1NDQwMDAwJztcbiAgICAgIGNvbnN0IG1peGVkQ2FzZVVVSUQgPSAnNTUwZTg0MDAtRTI5Qi00MWQ0LUE3MTYtNDQ2NjU1NDQwMDAwJztcblxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICAvLyBVVUlEcyBhcmUgdHlwaWNhbGx5IGNhc2UtaW5zZW5zaXRpdmVcbiAgICAgIGV4cGVjdCh1dWlkU2NoZW1hLnNhZmVQYXJzZSh1cHBlckNhc2VVVUlEKS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHV1aWRTY2hlbWEuc2FmZVBhcnNlKGxvd2VyQ2FzZVVVSUQpLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QodXVpZFNjaGVtYS5zYWZlUGFyc2UobWl4ZWRDYXNlVVVJRCkuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIFVVSUQgd2l0aCBleHRyYSB3aGl0ZXNwYWNlJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgdXVpZFdpdGhXaGl0ZXNwYWNlID0gJyAgNTUwZTg0MDAtZTI5Yi00MWQ0LWE3MTYtNDQ2NjU1NDQwMDAwICAnO1xuXG4gICAgICAvLyBDcmVhdGUgc2NoZW1hIHdpdGggdHJpbVxuICAgICAgY29uc3QgdHJpbW1lZFV1aWRTY2hlbWEgPSB6LnN0cmluZygpLnRyaW0oKS51dWlkKCk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzdWx0ID0gdHJpbW1lZFV1aWRTY2hlbWEuc2FmZVBhcnNlKHV1aWRXaXRoV2hpdGVzcGFjZSk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBVVUlEIGluIGRhdGFiYXNlIElEIGNvbnRleHQnLCAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBvcmdhbml6YXRpb25JZFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICAgICAgaWQ6IHouc3RyaW5nKCkudXVpZCgpLFxuICAgICAgICBuYW1lOiB6LnN0cmluZygpLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHZhbGlkT3JnYW5pemF0aW9uID0ge1xuICAgICAgICBpZDogJzU1MGU4NDAwLWUyOWItNDFkNC1hNzE2LTQ0NjY1NTQ0MDAwMCcsXG4gICAgICAgIG5hbWU6ICdUZXN0IE9yZ2FuaXphdGlvbicsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBpbnZhbGlkT3JnYW5pemF0aW9uID0ge1xuICAgICAgICBpZDogJ25vdC1hLXV1aWQnLFxuICAgICAgICBuYW1lOiAnVGVzdCBPcmdhbml6YXRpb24nLFxuICAgICAgfTtcblxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICBleHBlY3Qob3JnYW5pemF0aW9uSWRTY2hlbWEuc2FmZVBhcnNlKHZhbGlkT3JnYW5pemF0aW9uKS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KG9yZ2FuaXphdGlvbklkU2NoZW1hLnNhZmVQYXJzZShpbnZhbGlkT3JnYW5pemF0aW9uKS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIFVVSUQgYXJyYXlzIHZhbGlkYXRpb24nLCAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCB1dWlkQXJyYXlTY2hlbWEgPSB6LmFycmF5KHouc3RyaW5nKCkudXVpZCgpKTtcblxuICAgICAgY29uc3QgdmFsaWRVVUlEcyA9IFtcbiAgICAgICAgJzU1MGU4NDAwLWUyOWItNDFkNC1hNzE2LTQ0NjY1NTQ0MDAwMCcsXG4gICAgICAgICc2YmE3YjgxMC05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgnLFxuICAgICAgXTtcblxuICAgICAgY29uc3QgbWl4ZWRVVUlEcyA9IFtcbiAgICAgICAgJzU1MGU4NDAwLWUyOWItNDFkNC1hNzE2LTQ0NjY1NTQ0MDAwMCcsXG4gICAgICAgICdub3QtYS11dWlkJyxcbiAgICAgIF07XG5cbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgZXhwZWN0KHV1aWRBcnJheVNjaGVtYS5zYWZlUGFyc2UodmFsaWRVVUlEcykuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdCh1dWlkQXJyYXlTY2hlbWEuc2FmZVBhcnNlKG1peGVkVVVJRHMpLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBvcHRpb25hbCBVVUlEIGZpZWxkJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3Qgb3B0aW9uYWxVdWlkU2NoZW1hID0gei5vYmplY3Qoe1xuICAgICAgICBpZDogei5zdHJpbmcoKS51dWlkKCksXG4gICAgICAgIHBhcmVudElkOiB6LnN0cmluZygpLnV1aWQoKS5vcHRpb25hbCgpLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHdpdGhQYXJlbnQgPSB7XG4gICAgICAgIGlkOiAnNTUwZTg0MDAtZTI5Yi00MWQ0LWE3MTYtNDQ2NjU1NDQwMDAwJyxcbiAgICAgICAgcGFyZW50SWQ6ICc2YmE3YjgxMC05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgnLFxuICAgICAgfTtcblxuICAgICAgY29uc3Qgd2l0aG91dFBhcmVudCA9IHtcbiAgICAgICAgaWQ6ICc1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwMDAnLFxuICAgICAgfTtcblxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICBleHBlY3Qob3B0aW9uYWxVdWlkU2NoZW1hLnNhZmVQYXJzZSh3aXRoUGFyZW50KS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KG9wdGlvbmFsVXVpZFNjaGVtYS5zYWZlUGFyc2Uod2l0aG91dFBhcmVudCkuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1Rlc3QgMjA6IEVtYWlsIFZhbGlkYXRpb24gd2l0aCBFZGdlIENhc2VzJywgKCkgPT4ge1xuICAgIC8vIEVtYWlsIHZhbGlkYXRpb24gc2NoZW1hIHdpdGggc2VjdXJpdHkgY2hlY2tzXG4gICAgY29uc3QgZW1haWxTY2hlbWEgPSB6XG4gICAgICAuc3RyaW5nKClcbiAgICAgIC5lbWFpbCgnSW52YWxpZCBlbWFpbCBmb3JtYXQnKVxuICAgICAgLm1pbig1LCAnRW1haWwgbXVzdCBiZSBhdCBsZWFzdCA1IGNoYXJhY3RlcnMnKVxuICAgICAgLm1heCgyNTQsICdFbWFpbCBtdXN0IG5vdCBleGNlZWQgMjU0IGNoYXJhY3RlcnMnKVxuICAgICAgLnJlZmluZShcbiAgICAgICAgKGVtYWlsKSA9PiAhZW1haWwuaW5jbHVkZXMoJy4uJyksXG4gICAgICAgICdFbWFpbCBjYW5ub3QgY29udGFpbiBjb25zZWN1dGl2ZSBkb3RzJ1xuICAgICAgKVxuICAgICAgLnJlZmluZShcbiAgICAgICAgKGVtYWlsKSA9PiAhZW1haWwuc3RhcnRzV2l0aCgnLicpICYmICFlbWFpbC5lbmRzV2l0aCgnLicpLFxuICAgICAgICAnRW1haWwgY2Fubm90IHN0YXJ0IG9yIGVuZCB3aXRoIGEgZG90J1xuICAgICAgKTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgc3RhbmRhcmQgZW1haWwgYWRkcmVzc2VzJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgdmFsaWRFbWFpbHMgPSBbXG4gICAgICAgICd1c2VyQGV4YW1wbGUuY29tJyxcbiAgICAgICAgJ2pvaG4uZG9lQGNvbXBhbnkuY28udWsnLFxuICAgICAgICAnYWRtaW4rdGVzdEBkb21haW4ub3JnJyxcbiAgICAgICAgJ25hbWVfMTIzQHN1YmRvbWFpbi5leGFtcGxlLmNvbScsXG4gICAgICAgICd1c2VyLm5hbWUrdGFnQGV4YW1wbGUudHJhdmVsJyxcbiAgICAgIF07XG5cbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgZm9yIChjb25zdCBlbWFpbCBvZiB2YWxpZEVtYWlscykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBlbWFpbFNjaGVtYS5zYWZlUGFyc2UoZW1haWwpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBpbnZhbGlkIGVtYWlsIGZvcm1hdHMnLCAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBpbnZhbGlkRW1haWxzID0gW1xuICAgICAgICAnbm90LWFuLWVtYWlsJyxcbiAgICAgICAgJ0BleGFtcGxlLmNvbScsXG4gICAgICAgICd1c2VyQCcsXG4gICAgICAgICd1c2VyLi5uYW1lQGV4YW1wbGUuY29tJywgLy8gQ29uc2VjdXRpdmUgZG90c1xuICAgICAgICAnLnVzZXJAZXhhbXBsZS5jb20nLCAvLyBTdGFydHMgd2l0aCBkb3RcbiAgICAgICAgJ3VzZXIuQGV4YW1wbGUuY29tJywgLy8gRW5kcyB3aXRoIGRvdCBiZWZvcmUgQFxuICAgICAgICAndXNlckBleGFtcGxlLi5jb20nLCAvLyBDb25zZWN1dGl2ZSBkb3RzIGluIGRvbWFpblxuICAgICAgICAndXNlciBuYW1lQGV4YW1wbGUuY29tJywgLy8gU3BhY2UgaW4gZW1haWxcbiAgICAgICAgJ3VzZXJALmNvbScsIC8vIEludmFsaWQgZG9tYWluXG4gICAgICBdO1xuXG4gICAgICAvLyBBY3QgJiBBc3NlcnRcbiAgICAgIGZvciAoY29uc3QgZW1haWwgb2YgaW52YWxpZEVtYWlscykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBlbWFpbFNjaGVtYS5zYWZlUGFyc2UoZW1haWwpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBlbmZvcmNlIG1pbmltdW0gYW5kIG1heGltdW0gbGVuZ3RoJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgdmFsaWRNaW4gPSAnYUBiLmNvJzsgLy8gNiBjaGFyYWN0ZXJzLCB2YWxpZCBlbWFpbCBmb3JtYXRcbiAgICAgIC8vIENyZWF0ZSBlbWFpbCB0aGF0J3MgYWN0dWFsbHkgb3ZlciAyNTQgY2hhcmFjdGVyc1xuICAgICAgY29uc3QgbG9uZ0xvY2FsUGFydCA9ICdhJy5yZXBlYXQoMjUwKTsgLy8gMjUwIGNoYXJzXG4gICAgICBjb25zdCB0b29Mb25nID0gbG9uZ0xvY2FsUGFydCArICdAZXhhbXBsZS5jb20nOyAvLyAyNTAgKyAxMiA9IDI2MiBjaGFycywgZXhjZWVkcyAyNTRcblxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICBleHBlY3QoZW1haWxTY2hlbWEuc2FmZVBhcnNlKHZhbGlkTWluKS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHRvb0xvbmcubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMjU0KTsgLy8gVmVyaWZ5IHRlc3Qgc2V0dXBcbiAgICAgIGV4cGVjdChlbWFpbFNjaGVtYS5zYWZlUGFyc2UodG9vTG9uZykuc3VjY2VzcykudG9CZShmYWxzZSk7IC8vIEV4Y2VlZHMgbWF4aW11bVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1haWwgd2l0aCBzcGVjaWFsIGNoYXJhY3RlcnMnLCAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBlbWFpbHNXaXRoU3BlY2lhbENoYXJzID0gW1xuICAgICAgICAndXNlcit0YWdAZXhhbXBsZS5jb20nLCAvLyBQbHVzIHNpZ24gKHZhbGlkKVxuICAgICAgICAndXNlcl9uYW1lQGV4YW1wbGUuY29tJywgLy8gVW5kZXJzY29yZSAodmFsaWQpXG4gICAgICAgICd1c2VyLW5hbWVAZXhhbXBsZS5jb20nLCAvLyBIeXBoZW4gKHZhbGlkKVxuICAgICAgICAndXNlci5uYW1lQGV4YW1wbGUuY29tJywgLy8gRG90ICh2YWxpZClcbiAgICAgIF07XG5cbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgZm9yIChjb25zdCBlbWFpbCBvZiBlbWFpbHNXaXRoU3BlY2lhbENoYXJzKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGVtYWlsU2NoZW1hLnNhZmVQYXJzZShlbWFpbCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IGVtYWlscyB3aXRoIGNvbnNlY3V0aXZlIGRvdHMnLCAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBlbWFpbFdpdGhDb25zZWN1dGl2ZURvdHMgPSAndXNlci4ubmFtZUBleGFtcGxlLmNvbSc7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzdWx0ID0gZW1haWxTY2hlbWEuc2FmZVBhcnNlKGVtYWlsV2l0aENvbnNlY3V0aXZlRG90cyk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgLy8gVGhlIHJlZmluZSBmdW5jdGlvbiBwcm92aWRlcyB0aGUgY3VzdG9tIG1lc3NhZ2VcbiAgICAgICAgY29uc3QgbWVzc2FnZXMgPSByZXN1bHQuZXJyb3IuaXNzdWVzLm1hcChpID0+IGkubWVzc2FnZSk7XG4gICAgICAgIGNvbnN0IGhhc0NvbnNlY3V0aXZlRG90c01lc3NhZ2UgPSBtZXNzYWdlcy5zb21lKG0gPT4gbS5pbmNsdWRlcygnY29uc2VjdXRpdmUgZG90cycpKTtcbiAgICAgICAgZXhwZWN0KGhhc0NvbnNlY3V0aXZlRG90c01lc3NhZ2UpLnRvQmUodHJ1ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBlbWFpbHMgc3RhcnRpbmcgb3IgZW5kaW5nIHdpdGggZG90JywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3Qgc3RhcnRpbmdXaXRoRG90ID0gJy51c2VyQGV4YW1wbGUuY29tJztcbiAgICAgIGNvbnN0IGVuZGluZ1dpdGhEb3QgPSAndXNlci5AZXhhbXBsZS5jb20nO1xuXG4gICAgICAvLyBBY3QgJiBBc3NlcnRcbiAgICAgIGV4cGVjdChlbWFpbFNjaGVtYS5zYWZlUGFyc2Uoc3RhcnRpbmdXaXRoRG90KS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChlbWFpbFNjaGVtYS5zYWZlUGFyc2UoZW5kaW5nV2l0aERvdCkuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBpbnRlcm5hdGlvbmFsIGRvbWFpbiBuYW1lcycsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGludGVybmF0aW9uYWxFbWFpbHMgPSBbXG4gICAgICAgICd1c2VyQGV4YW1wbGUuY28udWsnLFxuICAgICAgICAndXNlckBleGFtcGxlLmNvbS5icicsXG4gICAgICAgICd1c2VyQHN1YmRvbWFpbi5leGFtcGxlLm9yZycsXG4gICAgICBdO1xuXG4gICAgICAvLyBBY3QgJiBBc3NlcnRcbiAgICAgIGZvciAoY29uc3QgZW1haWwgb2YgaW50ZXJuYXRpb25hbEVtYWlscykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBlbWFpbFNjaGVtYS5zYWZlUGFyc2UoZW1haWwpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBlbWFpbHMgd2l0aCBtaXNzaW5nIGRvbWFpbiBwYXJ0cycsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGludmFsaWREb21haW5FbWFpbHMgPSBbXG4gICAgICAgICd1c2VyQGV4YW1wbGUnLFxuICAgICAgICAndXNlckAuZXhhbXBsZS5jb20nLFxuICAgICAgICAndXNlckBleGFtcGxlLicsXG4gICAgICBdO1xuXG4gICAgICAvLyBBY3QgJiBBc3NlcnRcbiAgICAgIGZvciAoY29uc3QgZW1haWwgb2YgaW52YWxpZERvbWFpbkVtYWlscykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBlbWFpbFNjaGVtYS5zYWZlUGFyc2UoZW1haWwpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1haWwgY2FzZSBzZW5zaXRpdml0eSBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCB1cHBlckNhc2VFbWFpbCA9ICdVU0VSQEVYQU1QTEUuQ09NJztcbiAgICAgIGNvbnN0IGxvd2VyQ2FzZUVtYWlsID0gJ3VzZXJAZXhhbXBsZS5jb20nO1xuICAgICAgY29uc3QgbWl4ZWRDYXNlRW1haWwgPSAnVXNlckBFeGFtcGxlLkNvbSc7XG5cbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgLy8gRW1haWwgdmFsaWRhdGlvbiBzaG91bGQgYWNjZXB0IGFueSBjYXNlXG4gICAgICBleHBlY3QoZW1haWxTY2hlbWEuc2FmZVBhcnNlKHVwcGVyQ2FzZUVtYWlsKS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGVtYWlsU2NoZW1hLnNhZmVQYXJzZShsb3dlckNhc2VFbWFpbCkuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChlbWFpbFNjaGVtYS5zYWZlUGFyc2UobWl4ZWRDYXNlRW1haWwpLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIGVtYWlsIGluIHVzZXIgcmVnaXN0cmF0aW9uIGNvbnRleHQnLCAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCB1c2VyU2NoZW1hID0gei5vYmplY3Qoe1xuICAgICAgICBlbWFpbDogZW1haWxTY2hlbWEsXG4gICAgICAgIG5hbWU6IHouc3RyaW5nKCkubWluKDEpLFxuICAgICAgICBwYXNzd29yZDogei5zdHJpbmcoKS5taW4oOCksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgdmFsaWRVc2VyID0ge1xuICAgICAgICBlbWFpbDogJ25ld3VzZXJAZXhhbXBsZS5jb20nLFxuICAgICAgICBuYW1lOiAnSm9obiBEb2UnLFxuICAgICAgICBwYXNzd29yZDogJ1NlY3VyZVBhc3MxMjMhJyxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGludmFsaWRVc2VyID0ge1xuICAgICAgICBlbWFpbDogJ2ludmFsaWQtZW1haWwnLFxuICAgICAgICBuYW1lOiAnSm9obiBEb2UnLFxuICAgICAgICBwYXNzd29yZDogJ1NlY3VyZVBhc3MxMjMhJyxcbiAgICAgIH07XG5cbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgZXhwZWN0KHVzZXJTY2hlbWEuc2FmZVBhcnNlKHZhbGlkVXNlcikuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdCh1c2VyU2NoZW1hLnNhZmVQYXJzZShpbnZhbGlkVXNlcikuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSBhbmQgd2hpdGVzcGFjZS1vbmx5IGVtYWlscycsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGVtcHR5RW1haWwgPSAnJztcbiAgICAgIGNvbnN0IHdoaXRlc3BhY2VFbWFpbCA9ICcgICAnO1xuXG4gICAgICAvLyBBY3QgJiBBc3NlcnRcbiAgICAgIGV4cGVjdChlbWFpbFNjaGVtYS5zYWZlUGFyc2UoZW1wdHlFbWFpbCkuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QoZW1haWxTY2hlbWEuc2FmZVBhcnNlKHdoaXRlc3BhY2VFbWFpbCkuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRyaW0gd2hpdGVzcGFjZSBiZWZvcmUgdmFsaWRhdGlvbicsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGVtYWlsV2l0aFdoaXRlc3BhY2UgPSAnICB1c2VyQGV4YW1wbGUuY29tICAnO1xuICAgICAgY29uc3QgdHJpbW1lZEVtYWlsU2NoZW1hID0gei5zdHJpbmcoKS50cmltKCkuZW1haWwoKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXN1bHQgPSB0cmltbWVkRW1haWxTY2hlbWEuc2FmZVBhcnNlKGVtYWlsV2l0aFdoaXRlc3BhY2UpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEpLnRvQmUoJ3VzZXJAZXhhbXBsZS5jb20nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJkZXNjcmliZSIsInV1aWRTY2hlbWEiLCJ6Iiwic3RyaW5nIiwidXVpZCIsIml0IiwidmFsaWRVVUlEcyIsInJlc3VsdCIsInNhZmVQYXJzZSIsImV4cGVjdCIsInN1Y2Nlc3MiLCJ0b0JlIiwiaW52YWxpZFVVSURzIiwiZXJyb3IiLCJpc3N1ZXMiLCJtZXNzYWdlIiwidG9Db250YWluIiwidW5kZWZpbmVkIiwidXBwZXJDYXNlVVVJRCIsImxvd2VyQ2FzZVVVSUQiLCJtaXhlZENhc2VVVUlEIiwidXVpZFdpdGhXaGl0ZXNwYWNlIiwidHJpbW1lZFV1aWRTY2hlbWEiLCJ0cmltIiwib3JnYW5pemF0aW9uSWRTY2hlbWEiLCJvYmplY3QiLCJpZCIsIm5hbWUiLCJ2YWxpZE9yZ2FuaXphdGlvbiIsImludmFsaWRPcmdhbml6YXRpb24iLCJ1dWlkQXJyYXlTY2hlbWEiLCJhcnJheSIsIm1peGVkVVVJRHMiLCJvcHRpb25hbFV1aWRTY2hlbWEiLCJwYXJlbnRJZCIsIm9wdGlvbmFsIiwid2l0aFBhcmVudCIsIndpdGhvdXRQYXJlbnQiLCJlbWFpbFNjaGVtYSIsImVtYWlsIiwibWluIiwibWF4IiwicmVmaW5lIiwiaW5jbHVkZXMiLCJzdGFydHNXaXRoIiwiZW5kc1dpdGgiLCJ2YWxpZEVtYWlscyIsImludmFsaWRFbWFpbHMiLCJ2YWxpZE1pbiIsImxvbmdMb2NhbFBhcnQiLCJyZXBlYXQiLCJ0b29Mb25nIiwibGVuZ3RoIiwidG9CZUdyZWF0ZXJUaGFuIiwiZW1haWxzV2l0aFNwZWNpYWxDaGFycyIsImVtYWlsV2l0aENvbnNlY3V0aXZlRG90cyIsIm1lc3NhZ2VzIiwibWFwIiwiaSIsImhhc0NvbnNlY3V0aXZlRG90c01lc3NhZ2UiLCJzb21lIiwibSIsInN0YXJ0aW5nV2l0aERvdCIsImVuZGluZ1dpdGhEb3QiLCJpbnRlcm5hdGlvbmFsRW1haWxzIiwiaW52YWxpZERvbWFpbkVtYWlscyIsInVwcGVyQ2FzZUVtYWlsIiwibG93ZXJDYXNlRW1haWwiLCJtaXhlZENhc2VFbWFpbCIsInVzZXJTY2hlbWEiLCJwYXNzd29yZCIsInZhbGlkVXNlciIsImludmFsaWRVc2VyIiwiZW1wdHlFbWFpbCIsIndoaXRlc3BhY2VFbWFpbCIsImVtYWlsV2l0aFdoaXRlc3Bh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