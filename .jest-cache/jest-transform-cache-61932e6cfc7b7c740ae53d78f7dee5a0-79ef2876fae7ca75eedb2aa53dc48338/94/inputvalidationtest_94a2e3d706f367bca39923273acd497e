da105493ccf9e626cfac104d795abfc8
/**
 * Input Validation Tests
 *
 * Tests for UUID validation and email validation with edge cases.
 *
 * @module tests/unit/validation/input-validation
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _zod = require("zod");
describe('Input Validation', ()=>{
    describe('Test 19: UUID Validation (Valid and Invalid)', ()=>{
        // UUID validation schema
        const uuidSchema = _zod.z.string().uuid('Invalid UUID format');
        it('should validate correct UUID v4 format', ()=>{
            // Arrange
            const validUUIDs = [
                '550e8400-e29b-41d4-a716-446655440000',
                '6ba7b810-9dad-11d1-80b4-00c04fd430c8',
                'f47ac10b-58cc-4372-a567-0e02b2c3d479',
                'a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11'
            ];
            // Act & Assert
            for (const uuid of validUUIDs){
                const result = uuidSchema.safeParse(uuid);
                expect(result.success).toBe(true);
            }
        });
        it('should reject invalid UUID formats', ()=>{
            // Arrange
            const invalidUUIDs = [
                'not-a-uuid',
                '12345',
                '',
                'g50e8400-e29b-41d4-a716-446655440000',
                '550e8400e29b41d4a716446655440000',
                '550e8400-e29b-41d4-a716',
                '550e8400-e29b-41d4-a716-446655440000-extra'
            ];
            // Act & Assert
            for (const uuid of invalidUUIDs){
                const result = uuidSchema.safeParse(uuid);
                expect(result.success).toBe(false);
                if (!result.success) {
                    expect(result.error.issues[0].message).toContain('Invalid UUID');
                }
            }
        });
        it('should reject null and undefined values', ()=>{
            // Arrange & Act & Assert
            expect(uuidSchema.safeParse(null).success).toBe(false);
            expect(uuidSchema.safeParse(undefined).success).toBe(false);
        });
        it('should reject UUID with wrong case but accept any case', ()=>{
            // Arrange
            const upperCaseUUID = '550E8400-E29B-41D4-A716-446655440000';
            const lowerCaseUUID = '550e8400-e29b-41d4-a716-446655440000';
            const mixedCaseUUID = '550e8400-E29B-41d4-A716-446655440000';
            // Act & Assert
            // UUIDs are typically case-insensitive
            expect(uuidSchema.safeParse(upperCaseUUID).success).toBe(true);
            expect(uuidSchema.safeParse(lowerCaseUUID).success).toBe(true);
            expect(uuidSchema.safeParse(mixedCaseUUID).success).toBe(true);
        });
        it('should handle UUID with extra whitespace', ()=>{
            // Arrange
            const uuidWithWhitespace = '  550e8400-e29b-41d4-a716-446655440000  ';
            // Create schema with trim
            const trimmedUuidSchema = _zod.z.string().trim().uuid();
            // Act
            const result = trimmedUuidSchema.safeParse(uuidWithWhitespace);
            // Assert
            expect(result.success).toBe(true);
        });
        it('should validate UUID in database ID context', ()=>{
            // Arrange
            const organizationIdSchema = _zod.z.object({
                id: _zod.z.string().uuid(),
                name: _zod.z.string()
            });
            const validOrganization = {
                id: '550e8400-e29b-41d4-a716-446655440000',
                name: 'Test Organization'
            };
            const invalidOrganization = {
                id: 'not-a-uuid',
                name: 'Test Organization'
            };
            // Act & Assert
            expect(organizationIdSchema.safeParse(validOrganization).success).toBe(true);
            expect(organizationIdSchema.safeParse(invalidOrganization).success).toBe(false);
        });
        it('should handle UUID arrays validation', ()=>{
            // Arrange
            const uuidArraySchema = _zod.z.array(_zod.z.string().uuid());
            const validUUIDs = [
                '550e8400-e29b-41d4-a716-446655440000',
                '6ba7b810-9dad-11d1-80b4-00c04fd430c8'
            ];
            const mixedUUIDs = [
                '550e8400-e29b-41d4-a716-446655440000',
                'not-a-uuid'
            ];
            // Act & Assert
            expect(uuidArraySchema.safeParse(validUUIDs).success).toBe(true);
            expect(uuidArraySchema.safeParse(mixedUUIDs).success).toBe(false);
        });
        it('should validate optional UUID field', ()=>{
            // Arrange
            const optionalUuidSchema = _zod.z.object({
                id: _zod.z.string().uuid(),
                parentId: _zod.z.string().uuid().optional()
            });
            const withParent = {
                id: '550e8400-e29b-41d4-a716-446655440000',
                parentId: '6ba7b810-9dad-11d1-80b4-00c04fd430c8'
            };
            const withoutParent = {
                id: '550e8400-e29b-41d4-a716-446655440000'
            };
            // Act & Assert
            expect(optionalUuidSchema.safeParse(withParent).success).toBe(true);
            expect(optionalUuidSchema.safeParse(withoutParent).success).toBe(true);
        });
    });
    describe('Test 20: Email Validation with Edge Cases', ()=>{
        // Email validation schema with security checks
        const emailSchema = _zod.z.string().email('Invalid email format').min(5, 'Email must be at least 5 characters').max(254, 'Email must not exceed 254 characters').refine((email)=>!email.includes('..'), 'Email cannot contain consecutive dots').refine((email)=>!email.startsWith('.') && !email.endsWith('.'), 'Email cannot start or end with a dot');
        it('should validate standard email addresses', ()=>{
            // Arrange
            const validEmails = [
                'user@example.com',
                'john.doe@company.co.uk',
                'admin+test@domain.org',
                'name_123@subdomain.example.com',
                'user.name+tag@example.travel'
            ];
            // Act & Assert
            for (const email of validEmails){
                const result = emailSchema.safeParse(email);
                expect(result.success).toBe(true);
            }
        });
        it('should reject invalid email formats', ()=>{
            // Arrange
            const invalidEmails = [
                'not-an-email',
                '@example.com',
                'user@',
                'user..name@example.com',
                '.user@example.com',
                'user.@example.com',
                'user@example..com',
                'user name@example.com',
                'user@.com'
            ];
            // Act & Assert
            for (const email of invalidEmails){
                const result = emailSchema.safeParse(email);
                expect(result.success).toBe(false);
            }
        });
        it('should enforce minimum and maximum length', ()=>{
            // Arrange
            const tooShort = 'a@b.c'; // 5 characters, exactly at minimum
            const tooLong = 'a'.repeat(240) + '@example.com'; // Exceeds 254 characters
            // Act & Assert
            expect(emailSchema.safeParse(tooShort).success).toBe(true); // At minimum
            expect(emailSchema.safeParse(tooLong).success).toBe(false); // Exceeds maximum
        });
        it('should handle email with special characters', ()=>{
            // Arrange
            const emailsWithSpecialChars = [
                'user+tag@example.com',
                'user_name@example.com',
                'user-name@example.com',
                'user.name@example.com'
            ];
            // Act & Assert
            for (const email of emailsWithSpecialChars){
                const result = emailSchema.safeParse(email);
                expect(result.success).toBe(true);
            }
        });
        it('should reject emails with consecutive dots', ()=>{
            // Arrange
            const emailWithConsecutiveDots = 'user..name@example.com';
            // Act
            const result = emailSchema.safeParse(emailWithConsecutiveDots);
            // Assert
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.issues[0].message).toContain('consecutive dots');
            }
        });
        it('should reject emails starting or ending with dot', ()=>{
            // Arrange
            const startingWithDot = '.user@example.com';
            const endingWithDot = 'user.@example.com';
            // Act & Assert
            expect(emailSchema.safeParse(startingWithDot).success).toBe(false);
            expect(emailSchema.safeParse(endingWithDot).success).toBe(false);
        });
        it('should handle international domain names', ()=>{
            // Arrange
            const internationalEmails = [
                'user@example.co.uk',
                'user@example.com.br',
                'user@subdomain.example.org'
            ];
            // Act & Assert
            for (const email of internationalEmails){
                const result = emailSchema.safeParse(email);
                expect(result.success).toBe(true);
            }
        });
        it('should reject emails with missing domain parts', ()=>{
            // Arrange
            const invalidDomainEmails = [
                'user@example',
                'user@.example.com',
                'user@example.'
            ];
            // Act & Assert
            for (const email of invalidDomainEmails){
                const result = emailSchema.safeParse(email);
                expect(result.success).toBe(false);
            }
        });
        it('should handle email case sensitivity correctly', ()=>{
            // Arrange
            const upperCaseEmail = 'USER@EXAMPLE.COM';
            const lowerCaseEmail = 'user@example.com';
            const mixedCaseEmail = 'User@Example.Com';
            // Act & Assert
            // Email validation should accept any case
            expect(emailSchema.safeParse(upperCaseEmail).success).toBe(true);
            expect(emailSchema.safeParse(lowerCaseEmail).success).toBe(true);
            expect(emailSchema.safeParse(mixedCaseEmail).success).toBe(true);
        });
        it('should validate email in user registration context', ()=>{
            // Arrange
            const userSchema = _zod.z.object({
                email: emailSchema,
                name: _zod.z.string().min(1),
                password: _zod.z.string().min(8)
            });
            const validUser = {
                email: 'newuser@example.com',
                name: 'John Doe',
                password: 'SecurePass123!'
            };
            const invalidUser = {
                email: 'invalid-email',
                name: 'John Doe',
                password: 'SecurePass123!'
            };
            // Act & Assert
            expect(userSchema.safeParse(validUser).success).toBe(true);
            expect(userSchema.safeParse(invalidUser).success).toBe(false);
        });
        it('should handle empty and whitespace-only emails', ()=>{
            // Arrange
            const emptyEmail = '';
            const whitespaceEmail = '   ';
            // Act & Assert
            expect(emailSchema.safeParse(emptyEmail).success).toBe(false);
            expect(emailSchema.safeParse(whitespaceEmail).success).toBe(false);
        });
        it('should trim whitespace before validation', ()=>{
            // Arrange
            const emailWithWhitespace = '  user@example.com  ';
            const trimmedEmailSchema = _zod.z.string().trim().email();
            // Act
            const result = trimmedEmailSchema.safeParse(emailWithWhitespace);
            // Assert
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data).toBe('user@example.com');
            }
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxBaSBQcm9qZWN0ZW5cXEFEU2FwcFxcdGVzdHNcXHVuaXRcXHZhbGlkYXRpb25cXGlucHV0LXZhbGlkYXRpb24udGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIElucHV0IFZhbGlkYXRpb24gVGVzdHNcbiAqXG4gKiBUZXN0cyBmb3IgVVVJRCB2YWxpZGF0aW9uIGFuZCBlbWFpbCB2YWxpZGF0aW9uIHdpdGggZWRnZSBjYXNlcy5cbiAqXG4gKiBAbW9kdWxlIHRlc3RzL3VuaXQvdmFsaWRhdGlvbi9pbnB1dC12YWxpZGF0aW9uXG4gKi9cblxuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5cbmRlc2NyaWJlKCdJbnB1dCBWYWxpZGF0aW9uJywgKCkgPT4ge1xuICBkZXNjcmliZSgnVGVzdCAxOTogVVVJRCBWYWxpZGF0aW9uIChWYWxpZCBhbmQgSW52YWxpZCknLCAoKSA9PiB7XG4gICAgLy8gVVVJRCB2YWxpZGF0aW9uIHNjaGVtYVxuICAgIGNvbnN0IHV1aWRTY2hlbWEgPSB6LnN0cmluZygpLnV1aWQoJ0ludmFsaWQgVVVJRCBmb3JtYXQnKTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgY29ycmVjdCBVVUlEIHY0IGZvcm1hdCcsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHZhbGlkVVVJRHMgPSBbXG4gICAgICAgICc1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwMDAnLFxuICAgICAgICAnNmJhN2I4MTAtOWRhZC0xMWQxLTgwYjQtMDBjMDRmZDQzMGM4JyxcbiAgICAgICAgJ2Y0N2FjMTBiLTU4Y2MtNDM3Mi1hNTY3LTBlMDJiMmMzZDQ3OScsXG4gICAgICAgICdhMGVlYmM5OS05YzBiLTRlZjgtYmI2ZC02YmI5YmQzODBhMTEnLFxuICAgICAgXTtcblxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICBmb3IgKGNvbnN0IHV1aWQgb2YgdmFsaWRVVUlEcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB1dWlkU2NoZW1hLnNhZmVQYXJzZSh1dWlkKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgaW52YWxpZCBVVUlEIGZvcm1hdHMnLCAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBpbnZhbGlkVVVJRHMgPSBbXG4gICAgICAgICdub3QtYS11dWlkJyxcbiAgICAgICAgJzEyMzQ1JyxcbiAgICAgICAgJycsXG4gICAgICAgICdnNTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwMDAnLCAvLyBJbnZhbGlkIGNoYXJhY3RlciAnZydcbiAgICAgICAgJzU1MGU4NDAwZTI5YjQxZDRhNzE2NDQ2NjU1NDQwMDAwJywgLy8gTWlzc2luZyBoeXBoZW5zXG4gICAgICAgICc1NTBlODQwMC1lMjliLTQxZDQtYTcxNicsIC8vIFRvbyBzaG9ydFxuICAgICAgICAnNTUwZTg0MDAtZTI5Yi00MWQ0LWE3MTYtNDQ2NjU1NDQwMDAwLWV4dHJhJywgLy8gRXh0cmEgY2hhcmFjdGVyc1xuICAgICAgXTtcblxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICBmb3IgKGNvbnN0IHV1aWQgb2YgaW52YWxpZFVVSURzKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHV1aWRTY2hlbWEuc2FmZVBhcnNlKHV1aWQpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5pc3N1ZXNbMF0ubWVzc2FnZSkudG9Db250YWluKCdJbnZhbGlkIFVVSUQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgbnVsbCBhbmQgdW5kZWZpbmVkIHZhbHVlcycsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2UgJiBBY3QgJiBBc3NlcnRcbiAgICAgIGV4cGVjdCh1dWlkU2NoZW1hLnNhZmVQYXJzZShudWxsKS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdCh1dWlkU2NoZW1hLnNhZmVQYXJzZSh1bmRlZmluZWQpLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgVVVJRCB3aXRoIHdyb25nIGNhc2UgYnV0IGFjY2VwdCBhbnkgY2FzZScsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHVwcGVyQ2FzZVVVSUQgPSAnNTUwRTg0MDAtRTI5Qi00MUQ0LUE3MTYtNDQ2NjU1NDQwMDAwJztcbiAgICAgIGNvbnN0IGxvd2VyQ2FzZVVVSUQgPSAnNTUwZTg0MDAtZTI5Yi00MWQ0LWE3MTYtNDQ2NjU1NDQwMDAwJztcbiAgICAgIGNvbnN0IG1peGVkQ2FzZVVVSUQgPSAnNTUwZTg0MDAtRTI5Qi00MWQ0LUE3MTYtNDQ2NjU1NDQwMDAwJztcblxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICAvLyBVVUlEcyBhcmUgdHlwaWNhbGx5IGNhc2UtaW5zZW5zaXRpdmVcbiAgICAgIGV4cGVjdCh1dWlkU2NoZW1hLnNhZmVQYXJzZSh1cHBlckNhc2VVVUlEKS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHV1aWRTY2hlbWEuc2FmZVBhcnNlKGxvd2VyQ2FzZVVVSUQpLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QodXVpZFNjaGVtYS5zYWZlUGFyc2UobWl4ZWRDYXNlVVVJRCkuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIFVVSUQgd2l0aCBleHRyYSB3aGl0ZXNwYWNlJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgdXVpZFdpdGhXaGl0ZXNwYWNlID0gJyAgNTUwZTg0MDAtZTI5Yi00MWQ0LWE3MTYtNDQ2NjU1NDQwMDAwICAnO1xuXG4gICAgICAvLyBDcmVhdGUgc2NoZW1hIHdpdGggdHJpbVxuICAgICAgY29uc3QgdHJpbW1lZFV1aWRTY2hlbWEgPSB6LnN0cmluZygpLnRyaW0oKS51dWlkKCk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzdWx0ID0gdHJpbW1lZFV1aWRTY2hlbWEuc2FmZVBhcnNlKHV1aWRXaXRoV2hpdGVzcGFjZSk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBVVUlEIGluIGRhdGFiYXNlIElEIGNvbnRleHQnLCAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBvcmdhbml6YXRpb25JZFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICAgICAgaWQ6IHouc3RyaW5nKCkudXVpZCgpLFxuICAgICAgICBuYW1lOiB6LnN0cmluZygpLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHZhbGlkT3JnYW5pemF0aW9uID0ge1xuICAgICAgICBpZDogJzU1MGU4NDAwLWUyOWItNDFkNC1hNzE2LTQ0NjY1NTQ0MDAwMCcsXG4gICAgICAgIG5hbWU6ICdUZXN0IE9yZ2FuaXphdGlvbicsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBpbnZhbGlkT3JnYW5pemF0aW9uID0ge1xuICAgICAgICBpZDogJ25vdC1hLXV1aWQnLFxuICAgICAgICBuYW1lOiAnVGVzdCBPcmdhbml6YXRpb24nLFxuICAgICAgfTtcblxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICBleHBlY3Qob3JnYW5pemF0aW9uSWRTY2hlbWEuc2FmZVBhcnNlKHZhbGlkT3JnYW5pemF0aW9uKS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KG9yZ2FuaXphdGlvbklkU2NoZW1hLnNhZmVQYXJzZShpbnZhbGlkT3JnYW5pemF0aW9uKS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIFVVSUQgYXJyYXlzIHZhbGlkYXRpb24nLCAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCB1dWlkQXJyYXlTY2hlbWEgPSB6LmFycmF5KHouc3RyaW5nKCkudXVpZCgpKTtcblxuICAgICAgY29uc3QgdmFsaWRVVUlEcyA9IFtcbiAgICAgICAgJzU1MGU4NDAwLWUyOWItNDFkNC1hNzE2LTQ0NjY1NTQ0MDAwMCcsXG4gICAgICAgICc2YmE3YjgxMC05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgnLFxuICAgICAgXTtcblxuICAgICAgY29uc3QgbWl4ZWRVVUlEcyA9IFtcbiAgICAgICAgJzU1MGU4NDAwLWUyOWItNDFkNC1hNzE2LTQ0NjY1NTQ0MDAwMCcsXG4gICAgICAgICdub3QtYS11dWlkJyxcbiAgICAgIF07XG5cbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgZXhwZWN0KHV1aWRBcnJheVNjaGVtYS5zYWZlUGFyc2UodmFsaWRVVUlEcykuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdCh1dWlkQXJyYXlTY2hlbWEuc2FmZVBhcnNlKG1peGVkVVVJRHMpLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBvcHRpb25hbCBVVUlEIGZpZWxkJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3Qgb3B0aW9uYWxVdWlkU2NoZW1hID0gei5vYmplY3Qoe1xuICAgICAgICBpZDogei5zdHJpbmcoKS51dWlkKCksXG4gICAgICAgIHBhcmVudElkOiB6LnN0cmluZygpLnV1aWQoKS5vcHRpb25hbCgpLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHdpdGhQYXJlbnQgPSB7XG4gICAgICAgIGlkOiAnNTUwZTg0MDAtZTI5Yi00MWQ0LWE3MTYtNDQ2NjU1NDQwMDAwJyxcbiAgICAgICAgcGFyZW50SWQ6ICc2YmE3YjgxMC05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgnLFxuICAgICAgfTtcblxuICAgICAgY29uc3Qgd2l0aG91dFBhcmVudCA9IHtcbiAgICAgICAgaWQ6ICc1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwMDAnLFxuICAgICAgfTtcblxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICBleHBlY3Qob3B0aW9uYWxVdWlkU2NoZW1hLnNhZmVQYXJzZSh3aXRoUGFyZW50KS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KG9wdGlvbmFsVXVpZFNjaGVtYS5zYWZlUGFyc2Uod2l0aG91dFBhcmVudCkuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1Rlc3QgMjA6IEVtYWlsIFZhbGlkYXRpb24gd2l0aCBFZGdlIENhc2VzJywgKCkgPT4ge1xuICAgIC8vIEVtYWlsIHZhbGlkYXRpb24gc2NoZW1hIHdpdGggc2VjdXJpdHkgY2hlY2tzXG4gICAgY29uc3QgZW1haWxTY2hlbWEgPSB6XG4gICAgICAuc3RyaW5nKClcbiAgICAgIC5lbWFpbCgnSW52YWxpZCBlbWFpbCBmb3JtYXQnKVxuICAgICAgLm1pbig1LCAnRW1haWwgbXVzdCBiZSBhdCBsZWFzdCA1IGNoYXJhY3RlcnMnKVxuICAgICAgLm1heCgyNTQsICdFbWFpbCBtdXN0IG5vdCBleGNlZWQgMjU0IGNoYXJhY3RlcnMnKVxuICAgICAgLnJlZmluZShcbiAgICAgICAgKGVtYWlsKSA9PiAhZW1haWwuaW5jbHVkZXMoJy4uJyksXG4gICAgICAgICdFbWFpbCBjYW5ub3QgY29udGFpbiBjb25zZWN1dGl2ZSBkb3RzJ1xuICAgICAgKVxuICAgICAgLnJlZmluZShcbiAgICAgICAgKGVtYWlsKSA9PiAhZW1haWwuc3RhcnRzV2l0aCgnLicpICYmICFlbWFpbC5lbmRzV2l0aCgnLicpLFxuICAgICAgICAnRW1haWwgY2Fubm90IHN0YXJ0IG9yIGVuZCB3aXRoIGEgZG90J1xuICAgICAgKTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgc3RhbmRhcmQgZW1haWwgYWRkcmVzc2VzJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgdmFsaWRFbWFpbHMgPSBbXG4gICAgICAgICd1c2VyQGV4YW1wbGUuY29tJyxcbiAgICAgICAgJ2pvaG4uZG9lQGNvbXBhbnkuY28udWsnLFxuICAgICAgICAnYWRtaW4rdGVzdEBkb21haW4ub3JnJyxcbiAgICAgICAgJ25hbWVfMTIzQHN1YmRvbWFpbi5leGFtcGxlLmNvbScsXG4gICAgICAgICd1c2VyLm5hbWUrdGFnQGV4YW1wbGUudHJhdmVsJyxcbiAgICAgIF07XG5cbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgZm9yIChjb25zdCBlbWFpbCBvZiB2YWxpZEVtYWlscykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBlbWFpbFNjaGVtYS5zYWZlUGFyc2UoZW1haWwpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBpbnZhbGlkIGVtYWlsIGZvcm1hdHMnLCAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBpbnZhbGlkRW1haWxzID0gW1xuICAgICAgICAnbm90LWFuLWVtYWlsJyxcbiAgICAgICAgJ0BleGFtcGxlLmNvbScsXG4gICAgICAgICd1c2VyQCcsXG4gICAgICAgICd1c2VyLi5uYW1lQGV4YW1wbGUuY29tJywgLy8gQ29uc2VjdXRpdmUgZG90c1xuICAgICAgICAnLnVzZXJAZXhhbXBsZS5jb20nLCAvLyBTdGFydHMgd2l0aCBkb3RcbiAgICAgICAgJ3VzZXIuQGV4YW1wbGUuY29tJywgLy8gRW5kcyB3aXRoIGRvdCBiZWZvcmUgQFxuICAgICAgICAndXNlckBleGFtcGxlLi5jb20nLCAvLyBDb25zZWN1dGl2ZSBkb3RzIGluIGRvbWFpblxuICAgICAgICAndXNlciBuYW1lQGV4YW1wbGUuY29tJywgLy8gU3BhY2UgaW4gZW1haWxcbiAgICAgICAgJ3VzZXJALmNvbScsIC8vIEludmFsaWQgZG9tYWluXG4gICAgICBdO1xuXG4gICAgICAvLyBBY3QgJiBBc3NlcnRcbiAgICAgIGZvciAoY29uc3QgZW1haWwgb2YgaW52YWxpZEVtYWlscykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBlbWFpbFNjaGVtYS5zYWZlUGFyc2UoZW1haWwpO1xuICAgICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBlbmZvcmNlIG1pbmltdW0gYW5kIG1heGltdW0gbGVuZ3RoJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgdG9vU2hvcnQgPSAnYUBiLmMnOyAvLyA1IGNoYXJhY3RlcnMsIGV4YWN0bHkgYXQgbWluaW11bVxuICAgICAgY29uc3QgdG9vTG9uZyA9ICdhJy5yZXBlYXQoMjQwKSArICdAZXhhbXBsZS5jb20nOyAvLyBFeGNlZWRzIDI1NCBjaGFyYWN0ZXJzXG5cbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgZXhwZWN0KGVtYWlsU2NoZW1hLnNhZmVQYXJzZSh0b29TaG9ydCkuc3VjY2VzcykudG9CZSh0cnVlKTsgLy8gQXQgbWluaW11bVxuICAgICAgZXhwZWN0KGVtYWlsU2NoZW1hLnNhZmVQYXJzZSh0b29Mb25nKS5zdWNjZXNzKS50b0JlKGZhbHNlKTsgLy8gRXhjZWVkcyBtYXhpbXVtXG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbWFpbCB3aXRoIHNwZWNpYWwgY2hhcmFjdGVycycsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGVtYWlsc1dpdGhTcGVjaWFsQ2hhcnMgPSBbXG4gICAgICAgICd1c2VyK3RhZ0BleGFtcGxlLmNvbScsIC8vIFBsdXMgc2lnbiAodmFsaWQpXG4gICAgICAgICd1c2VyX25hbWVAZXhhbXBsZS5jb20nLCAvLyBVbmRlcnNjb3JlICh2YWxpZClcbiAgICAgICAgJ3VzZXItbmFtZUBleGFtcGxlLmNvbScsIC8vIEh5cGhlbiAodmFsaWQpXG4gICAgICAgICd1c2VyLm5hbWVAZXhhbXBsZS5jb20nLCAvLyBEb3QgKHZhbGlkKVxuICAgICAgXTtcblxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICBmb3IgKGNvbnN0IGVtYWlsIG9mIGVtYWlsc1dpdGhTcGVjaWFsQ2hhcnMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZW1haWxTY2hlbWEuc2FmZVBhcnNlKGVtYWlsKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgZW1haWxzIHdpdGggY29uc2VjdXRpdmUgZG90cycsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGVtYWlsV2l0aENvbnNlY3V0aXZlRG90cyA9ICd1c2VyLi5uYW1lQGV4YW1wbGUuY29tJztcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXN1bHQgPSBlbWFpbFNjaGVtYS5zYWZlUGFyc2UoZW1haWxXaXRoQ29uc2VjdXRpdmVEb3RzKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yLmlzc3Vlc1swXS5tZXNzYWdlKS50b0NvbnRhaW4oJ2NvbnNlY3V0aXZlIGRvdHMnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IGVtYWlscyBzdGFydGluZyBvciBlbmRpbmcgd2l0aCBkb3QnLCAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBzdGFydGluZ1dpdGhEb3QgPSAnLnVzZXJAZXhhbXBsZS5jb20nO1xuICAgICAgY29uc3QgZW5kaW5nV2l0aERvdCA9ICd1c2VyLkBleGFtcGxlLmNvbSc7XG5cbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgZXhwZWN0KGVtYWlsU2NoZW1hLnNhZmVQYXJzZShzdGFydGluZ1dpdGhEb3QpLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KGVtYWlsU2NoZW1hLnNhZmVQYXJzZShlbmRpbmdXaXRoRG90KS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGludGVybmF0aW9uYWwgZG9tYWluIG5hbWVzJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgaW50ZXJuYXRpb25hbEVtYWlscyA9IFtcbiAgICAgICAgJ3VzZXJAZXhhbXBsZS5jby51aycsXG4gICAgICAgICd1c2VyQGV4YW1wbGUuY29tLmJyJyxcbiAgICAgICAgJ3VzZXJAc3ViZG9tYWluLmV4YW1wbGUub3JnJyxcbiAgICAgIF07XG5cbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgZm9yIChjb25zdCBlbWFpbCBvZiBpbnRlcm5hdGlvbmFsRW1haWxzKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGVtYWlsU2NoZW1hLnNhZmVQYXJzZShlbWFpbCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IGVtYWlscyB3aXRoIG1pc3NpbmcgZG9tYWluIHBhcnRzJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgaW52YWxpZERvbWFpbkVtYWlscyA9IFtcbiAgICAgICAgJ3VzZXJAZXhhbXBsZScsXG4gICAgICAgICd1c2VyQC5leGFtcGxlLmNvbScsXG4gICAgICAgICd1c2VyQGV4YW1wbGUuJyxcbiAgICAgIF07XG5cbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgZm9yIChjb25zdCBlbWFpbCBvZiBpbnZhbGlkRG9tYWluRW1haWxzKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGVtYWlsU2NoZW1hLnNhZmVQYXJzZShlbWFpbCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbWFpbCBjYXNlIHNlbnNpdGl2aXR5IGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHVwcGVyQ2FzZUVtYWlsID0gJ1VTRVJARVhBTVBMRS5DT00nO1xuICAgICAgY29uc3QgbG93ZXJDYXNlRW1haWwgPSAndXNlckBleGFtcGxlLmNvbSc7XG4gICAgICBjb25zdCBtaXhlZENhc2VFbWFpbCA9ICdVc2VyQEV4YW1wbGUuQ29tJztcblxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICAvLyBFbWFpbCB2YWxpZGF0aW9uIHNob3VsZCBhY2NlcHQgYW55IGNhc2VcbiAgICAgIGV4cGVjdChlbWFpbFNjaGVtYS5zYWZlUGFyc2UodXBwZXJDYXNlRW1haWwpLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoZW1haWxTY2hlbWEuc2FmZVBhcnNlKGxvd2VyQ2FzZUVtYWlsKS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGVtYWlsU2NoZW1hLnNhZmVQYXJzZShtaXhlZENhc2VFbWFpbCkuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgZW1haWwgaW4gdXNlciByZWdpc3RyYXRpb24gY29udGV4dCcsICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHVzZXJTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgICAgIGVtYWlsOiBlbWFpbFNjaGVtYSxcbiAgICAgICAgbmFtZTogei5zdHJpbmcoKS5taW4oMSksXG4gICAgICAgIHBhc3N3b3JkOiB6LnN0cmluZygpLm1pbig4KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB2YWxpZFVzZXIgPSB7XG4gICAgICAgIGVtYWlsOiAnbmV3dXNlckBleGFtcGxlLmNvbScsXG4gICAgICAgIG5hbWU6ICdKb2huIERvZScsXG4gICAgICAgIHBhc3N3b3JkOiAnU2VjdXJlUGFzczEyMyEnLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgaW52YWxpZFVzZXIgPSB7XG4gICAgICAgIGVtYWlsOiAnaW52YWxpZC1lbWFpbCcsXG4gICAgICAgIG5hbWU6ICdKb2huIERvZScsXG4gICAgICAgIHBhc3N3b3JkOiAnU2VjdXJlUGFzczEyMyEnLFxuICAgICAgfTtcblxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICBleHBlY3QodXNlclNjaGVtYS5zYWZlUGFyc2UodmFsaWRVc2VyKS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHVzZXJTY2hlbWEuc2FmZVBhcnNlKGludmFsaWRVc2VyKS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGVtcHR5IGFuZCB3aGl0ZXNwYWNlLW9ubHkgZW1haWxzJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgZW1wdHlFbWFpbCA9ICcnO1xuICAgICAgY29uc3Qgd2hpdGVzcGFjZUVtYWlsID0gJyAgICc7XG5cbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgZXhwZWN0KGVtYWlsU2NoZW1hLnNhZmVQYXJzZShlbXB0eUVtYWlsKS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChlbWFpbFNjaGVtYS5zYWZlUGFyc2Uod2hpdGVzcGFjZUVtYWlsKS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdHJpbSB3aGl0ZXNwYWNlIGJlZm9yZSB2YWxpZGF0aW9uJywgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgZW1haWxXaXRoV2hpdGVzcGFjZSA9ICcgIHVzZXJAZXhhbXBsZS5jb20gICc7XG4gICAgICBjb25zdCB0cmltbWVkRW1haWxTY2hlbWEgPSB6LnN0cmluZygpLnRyaW0oKS5lbWFpbCgpO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHRyaW1tZWRFbWFpbFNjaGVtYS5zYWZlUGFyc2UoZW1haWxXaXRoV2hpdGVzcGFjZSk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YSkudG9CZSgndXNlckBleGFtcGxlLmNvbScpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImRlc2NyaWJlIiwidXVpZFNjaGVtYSIsInoiLCJzdHJpbmciLCJ1dWlkIiwiaXQiLCJ2YWxpZFVVSURzIiwicmVzdWx0Iiwic2FmZVBhcnNlIiwiZXhwZWN0Iiwic3VjY2VzcyIsInRvQmUiLCJpbnZhbGlkVVVJRHMiLCJlcnJvciIsImlzc3VlcyIsIm1lc3NhZ2UiLCJ0b0NvbnRhaW4iLCJ1bmRlZmluZWQiLCJ1cHBlckNhc2VVVUlEIiwibG93ZXJDYXNlVVVJRCIsIm1peGVkQ2FzZVVVSUQiLCJ1dWlkV2l0aFdoaXRlc3BhY2UiLCJ0cmltbWVkVXVpZFNjaGVtYSIsInRyaW0iLCJvcmdhbml6YXRpb25JZFNjaGVtYSIsIm9iamVjdCIsImlkIiwibmFtZSIsInZhbGlkT3JnYW5pemF0aW9uIiwiaW52YWxpZE9yZ2FuaXphdGlvbiIsInV1aWRBcnJheVNjaGVtYSIsImFycmF5IiwibWl4ZWRVVUlEcyIsIm9wdGlvbmFsVXVpZFNjaGVtYSIsInBhcmVudElkIiwib3B0aW9uYWwiLCJ3aXRoUGFyZW50Iiwid2l0aG91dFBhcmVudCIsImVtYWlsU2NoZW1hIiwiZW1haWwiLCJtaW4iLCJtYXgiLCJyZWZpbmUiLCJpbmNsdWRlcyIsInN0YXJ0c1dpdGgiLCJlbmRzV2l0aCIsInZhbGlkRW1haWxzIiwiaW52YWxpZEVtYWlscyIsInRvb1Nob3J0IiwidG9vTG9uZyIsInJlcGVhdCIsImVtYWlsc1dpdGhTcGVjaWFsQ2hhcnMiLCJlbWFpbFdpdGhDb25zZWN1dGl2ZURvdHMiLCJzdGFydGluZ1dpdGhEb3QiLCJlbmRpbmdXaXRoRG90IiwiaW50ZXJuYXRpb25hbEVtYWlscyIsImludmFsaWREb21haW5FbWFpbHMiLCJ1cHBlckNhc2VFbWFpbCIsImxvd2VyQ2FzZUVtYWlsIiwibWl4ZWRDYXNlRW1haWwiLCJ1c2VyU2NoZW1hIiwicGFzc3dvcmQiLCJ2YWxpZFVzZXIiLCJpbnZhbGlkVXNlciIsImVtcHR5RW1haWwiLCJ3aGl0ZXNwYWNlRW1haWwiLCJlbWFpbFdpdGhXaGl0ZXNwYWNlIiwidHJpbW1lZEVtYWlsU2NoZW1hIiwiZGF0YSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OztDQU1DOzs7O3FCQUVpQjtBQUVsQkEsU0FBUyxvQkFBb0I7SUFDM0JBLFNBQVMsZ0RBQWdEO1FBQ3ZELHlCQUF5QjtRQUN6QixNQUFNQyxhQUFhQyxNQUFDLENBQUNDLE1BQU0sR0FBR0MsSUFBSSxDQUFDO1FBRW5DQyxHQUFHLDBDQUEwQztZQUMzQyxVQUFVO1lBQ1YsTUFBTUMsYUFBYTtnQkFDakI7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7YUFDRDtZQUVELGVBQWU7WUFDZixLQUFLLE1BQU1GLFFBQVFFLFdBQVk7Z0JBQzdCLE1BQU1DLFNBQVNOLFdBQVdPLFNBQVMsQ0FBQ0o7Z0JBQ3BDSyxPQUFPRixPQUFPRyxPQUFPLEVBQUVDLElBQUksQ0FBQztZQUM5QjtRQUNGO1FBRUFOLEdBQUcsc0NBQXNDO1lBQ3ZDLFVBQVU7WUFDVixNQUFNTyxlQUFlO2dCQUNuQjtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTtnQkFDQTthQUNEO1lBRUQsZUFBZTtZQUNmLEtBQUssTUFB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