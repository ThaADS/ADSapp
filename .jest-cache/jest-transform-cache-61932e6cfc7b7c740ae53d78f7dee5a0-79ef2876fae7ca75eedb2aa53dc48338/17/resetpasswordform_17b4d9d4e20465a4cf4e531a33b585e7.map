{"version":3,"sources":["C:\\Ai Projecten\\ADSapp\\src\\components\\auth\\reset-password-form.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { createClient } from '@/lib/supabase/client'\n\nexport function ResetPasswordForm() {\n  const [password, setPassword] = useState('')\n  const [confirmPassword, setConfirmPassword] = useState('')\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState('')\n  const router = useRouter()\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setLoading(true)\n    setError('')\n\n    if (password !== confirmPassword) {\n      setError('Passwords do not match')\n      setLoading(false)\n      return\n    }\n\n    if (password.length < 6) {\n      setError('Password must be at least 6 characters')\n      setLoading(false)\n      return\n    }\n\n    try {\n      const supabase = createClient()\n      const { error } = await supabase.auth.updateUser({\n        password: password\n      })\n\n      if (error) {\n        setError(error.message)\n      } else {\n        router.push('/auth/signin?message=Password updated successfully')\n      }\n    } catch (err) {\n      setError('An unexpected error occurred')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\n      <div className=\"space-y-4\">\n        <div>\n          <label htmlFor=\"password\" className=\"sr-only\">\n            New Password\n          </label>\n          <input\n            id=\"password\"\n            name=\"password\"\n            type=\"password\"\n            autoComplete=\"new-password\"\n            required\n            className=\"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm\"\n            placeholder=\"New password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </div>\n        <div>\n          <label htmlFor=\"confirmPassword\" className=\"sr-only\">\n            Confirm Password\n          </label>\n          <input\n            id=\"confirmPassword\"\n            name=\"confirmPassword\"\n            type=\"password\"\n            autoComplete=\"new-password\"\n            required\n            className=\"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm\"\n            placeholder=\"Confirm new password\"\n            value={confirmPassword}\n            onChange={(e) => setConfirmPassword(e.target.value)}\n          />\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"rounded-md bg-red-50 p-4\">\n          <div className=\"text-sm text-red-700\">{error}</div>\n        </div>\n      )}\n\n      <div>\n        <button\n          type=\"submit\"\n          disabled={loading}\n          className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50\"\n        >\n          {loading ? 'Updating...' : 'Update password'}\n        </button>\n      </div>\n    </form>\n  )\n}\n"],"names":["ResetPasswordForm","password","setPassword","useState","confirmPassword","setConfirmPassword","loading","setLoading","error","setError","router","useRouter","handleSubmit","e","preventDefault","length","supabase","createClient","auth","updateUser","message","push","err","form","className","onSubmit","div","label","htmlFor","input","id","name","type","autoComplete","required","placeholder","value","onChange","target","button","disabled"],"mappings":"AAAA;;;;;+BAMgBA;;;eAAAA;;;;uBAJS;4BACC;wBACG;AAEtB,SAASA;IACd,MAAM,CAACC,UAAUC,YAAY,GAAGC,IAAAA,eAAQ,EAAC;IACzC,MAAM,CAACC,iBAAiBC,mBAAmB,GAAGF,IAAAA,eAAQ,EAAC;IACvD,MAAM,CAACG,SAASC,WAAW,GAAGJ,IAAAA,eAAQ,EAAC;IACvC,MAAM,CAACK,OAAOC,SAAS,GAAGN,IAAAA,eAAQ,EAAC;IACnC,MAAMO,SAASC,IAAAA,qBAAS;IAExB,MAAMC,eAAe,OAAOC;QAC1BA,EAAEC,cAAc;QAChBP,WAAW;QACXE,SAAS;QAET,IAAIR,aAAaG,iBAAiB;YAChCK,SAAS;YACTF,WAAW;YACX;QACF;QAEA,IAAIN,SAASc,MAAM,GAAG,GAAG;YACvBN,SAAS;YACTF,WAAW;YACX;QACF;QAEA,IAAI;YACF,MAAMS,WAAWC,IAAAA,oBAAY;YAC7B,MAAM,EAAET,KAAK,EAAE,GAAG,MAAMQ,SAASE,IAAI,CAACC,UAAU,CAAC;gBAC/ClB,UAAUA;YACZ;YAEA,IAAIO,OAAO;gBACTC,SAASD,MAAMY,OAAO;YACxB,OAAO;gBACLV,OAAOW,IAAI,CAAC;YACd;QACF,EAAE,OAAOC,KAAK;YACZb,SAAS;QACX,SAAU;YACRF,WAAW;QACb;IACF;IAEA,qBACE,sBAACgB;QAAKC,WAAU;QAAiBC,UAAUb;;0BACzC,sBAACc;gBAAIF,WAAU;;kCACb,sBAACE;;0CACC,qBAACC;gCAAMC,SAAQ;gCAAWJ,WAAU;0CAAU;;0CAG9C,qBAACK;gCACCC,IAAG;gCACHC,MAAK;gCACLC,MAAK;gCACLC,cAAa;gCACbC,QAAQ;gCACRV,WAAU;gCACVW,aAAY;gCACZC,OAAOnC;gCACPoC,UAAU,CAACxB,IAAMX,YAAYW,EAAEyB,MAAM,CAACF,KAAK;;;;kCAG/C,sBAACV;;0CACC,qBAACC;gCAAMC,SAAQ;gCAAkBJ,WAAU;0CAAU;;0CAGrD,qBAACK;gCACCC,IAAG;gCACHC,MAAK;gCACLC,MAAK;gCACLC,cAAa;gCACbC,QAAQ;gCACRV,WAAU;gCACVW,aAAY;gCACZC,OAAOhC;gCACPiC,UAAU,CAACxB,IAAMR,mBAAmBQ,EAAEyB,MAAM,CAACF,KAAK;;;;;;YAKvD5B,uBACC,qBAACkB;gBAAIF,WAAU;0BACb,cAAA,qBAACE;oBAAIF,WAAU;8BAAwBhB;;;0BAI3C,qBAACkB;0BACC,cAAA,qBAACa;oBACCP,MAAK;oBACLQ,UAAUlC;oBACVkB,WAAU;8BAETlB,UAAU,gBAAgB;;;;;AAKrC"}