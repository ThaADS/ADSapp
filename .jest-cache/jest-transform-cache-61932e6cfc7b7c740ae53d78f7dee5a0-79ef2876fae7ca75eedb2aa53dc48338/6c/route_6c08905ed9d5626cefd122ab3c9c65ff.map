{"version":3,"names":["GET","cov_1p706j5zt8","f","s","OPTIONS","POST","request","body","json","scenario","preserveScenario","b","_server","NextResponse","success","data","reset_at","Date","toISOString","items_reset","contacts","conversations","messages","error","console","status","session_info","created_at","progress","current_data","reset_history","times_reset","last_reset","warning","headers"],"sources":["C:\\Ai Projecten\\ADSapp\\src\\app\\api\\demo\\reset\\current\\route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\n\n/**\n * Reset current demo session (simple client-side reset)\n * POST /api/demo/reset/current\n */\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json();\n    const { scenario, preserveScenario = false } = body;\n\n    // For demo purposes, we just return success\n    // In a real implementation, this would reset server-side demo data\n    // For now, the demo context handles local state reset\n\n    return NextResponse.json({\n      success: true,\n      data: {\n        reset_at: new Date().toISOString(),\n        scenario: preserveScenario ? scenario : 'ecommerce',\n        items_reset: {\n          contacts: 5,\n          conversations: 3,\n          messages: 12\n        }\n      }\n    });\n\n  } catch (error) {\n    console.error('Error resetting current demo:', error);\n\n    return NextResponse.json(\n      {\n        success: false,\n        error: 'Failed to reset demo. Please try again.'\n      },\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * Get current demo session info\n * GET /api/demo/reset/current\n */\nexport async function GET(request: NextRequest) {\n  try {\n    // For demo purposes, return mock session info\n    return NextResponse.json({\n      success: true,\n      data: {\n        session_info: {\n          scenario: 'ecommerce',\n          created_at: new Date().toISOString(),\n          progress: 25\n        },\n        current_data: {\n          contacts: 5,\n          conversations: 3,\n          messages: 12\n        },\n        reset_history: {\n          times_reset: 0,\n          last_reset: null\n        },\n        warning: 'Resetting will restart the demo with fresh sample data.'\n      }\n    });\n\n  } catch (error) {\n    console.error('Error getting current demo info:', error);\n\n    return NextResponse.json(\n      {\n        success: false,\n        error: 'Failed to get demo information'\n      },\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * OPTIONS handler for CORS\n */\nexport async function OPTIONS(request: NextRequest) {\n  return new NextResponse(null, {\n    status: 200,\n    headers: {\n      'Access-Control-Allow-Origin': '*',\n      'Access-Control-Allow-Methods': 'GET, POST, OPTIONS',\n      'Access-Control-Allow-Headers': 'Content-Type, Authorization',\n    },\n  });\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MA6CsBA,IAAA;IAAA;IAAAC,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;WAAAH,GAAA;;MAwCAI,QAAA;IAAA;IAAAH,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;WAAAC,OAAA;;MA/EAC,KAAA;IAAA;IAAAJ,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;WAAAE,IAAA;;;;;kCANoB;AAMnC,eAAeA,KAAKC,OAAoB;EAAA;EAAAL,cAAA,GAAAC,CAAA;EAAAD,cAAA,GAAAE,CAAA;EAC7C,IAAI;IACF,MAAMI,IAAA;IAAA;IAAA,CAAAN,cAAA,GAAAE,CAAA,OAAO,MAAMG,OAAA,CAAQE,IAAI;IAC/B,MAAM;MAAEC,QAAQ;MAAEC,gBAAA;MAAA;MAAA,CAAAT,cAAA,GAAAU,CAAA,UAAmB,KAAK;IAAA,CAAE;IAAA;IAAA,CAAAV,cAAA,GAAAE,CAAA,QAAGI,IAAA;IAE/C;IACA;IACA;IAAA;IAAAN,cAAA,GAAAE,CAAA;IAEA,OAAOS,OAAA,CAAAC,YAAY,CAACL,IAAI,CAAC;MACvBM,OAAA,EAAS;MACTC,IAAA,EAAM;QACJC,QAAA,EAAU,IAAIC,IAAA,GAAOC,WAAW;QAChCT,QAAA,EAAUC,gBAAA;QAAA;QAAA,CAAAT,cAAA,GAAAU,CAAA,UAAmBF,QAAA;QAAA;QAAA,CAAAR,cAAA,GAAAU,CAAA,UAAW;QACxCQ,WAAA,EAAa;UACXC,QAAA,EAAU;UACVC,aAAA,EAAe;UACfC,QAAA,EAAU;QACZ;MACF;IACF;EAEF,EAAE,OAAOC,KAAA,EAAO;IAAA;IAAAtB,cAAA,GAAAE,CAAA;IACdqB,OAAA,CAAQD,KAAK,CAAC,iCAAiCA,KAAA;IAAA;IAAAtB,cAAA,GAAAE,CAAA;IAE/C,OAAOS,OAAA,CAAAC,YAAY,CAACL,IAAI,CACtB;MACEM,OAAA,EAAS;MACTS,KAAA,EAAO;IACT,GACA;MAAEE,MAAA,EAAQ;IAAI;EAElB;AACF;AAMO,eAAezB,IAAIM,OAAoB;EAAA;EAAAL,cAAA,GAAAC,CAAA;EAAAD,cAAA,GAAAE,CAAA;EAC5C,IAAI;IAAA;IAAAF,cAAA,GAAAE,CAAA;IACF;IACA,OAAOS,OAAA,CAAAC,YAAY,CAACL,IAAI,CAAC;MACvBM,OAAA,EAAS;MACTC,IAAA,EAAM;QACJW,YAAA,EAAc;UACZjB,QAAA,EAAU;UACVkB,UAAA,EAAY,IAAIV,IAAA,GAAOC,WAAW;UAClCU,QAAA,EAAU;QACZ;QACAC,YAAA,EAAc;UACZT,QAAA,EAAU;UACVC,aAAA,EAAe;UACfC,QAAA,EAAU;QACZ;QACAQ,aAAA,EAAe;UACbC,WAAA,EAAa;UACbC,UAAA,EAAY;QACd;QACAC,OAAA,EAAS;MACX;IACF;EAEF,EAAE,OAAOV,KAAA,EAAO;IAAA;IAAAtB,cAAA,GAAAE,CAAA;IACdqB,OAAA,CAAQD,KAAK,CAAC,oCAAoCA,KAAA;IAAA;IAAAtB,cAAA,GAAAE,CAAA;IAElD,OAAOS,OAAA,CAAAC,YAAY,CAACL,IAAI,CACtB;MACEM,OAAA,EAAS;MACTS,KAAA,EAAO;IACT,GACA;MAAEE,MAAA,EAAQ;IAAI;EAElB;AACF;AAKO,eAAerB,QAAQE,OAAoB;EAAA;EAAAL,cAAA,GAAAC,CAAA;EAAAD,cAAA,GAAAE,CAAA;EAChD,OAAO,IAAIS,OAAA,CAAAC,YAAY,CAAC,MAAM;IAC5BY,MAAA,EAAQ;IACRS,OAAA,EAAS;MACP,+BAA+B;MAC/B,gCAAgC;MAChC,gCAAgC;IAClC;EACF;AACF","ignoreList":[]}