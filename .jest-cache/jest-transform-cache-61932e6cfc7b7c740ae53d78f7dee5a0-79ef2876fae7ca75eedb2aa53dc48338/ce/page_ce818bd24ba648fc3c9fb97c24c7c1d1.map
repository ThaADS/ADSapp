{"version":3,"names":["cov_11cbirrwdn","actualCoverage","s","BillingPage","f","profile","_auth","requireOrganization","supabase","_server","createClient","data","organization","from","select","eq","organization_id","single","b","Error","usageResponse","fetch","process","env","NEXT_PUBLIC_APP_URL","headers","id","usage","ok","json","_jsxruntime","jsxs","className","jsx","_billingdashboard","BillingDashboard","plans","_server1","SUBSCRIPTION_PLANS"],"sources":["C:\\Ai Projecten\\ADSapp\\src\\app\\dashboard\\settings\\billing\\page.tsx"],"sourcesContent":["import { requireOrganization } from '@/lib/auth'\nimport { createClient } from '@/lib/supabase/server'\nimport { BillingDashboard } from '@/components/billing/billing-dashboard'\nimport { SUBSCRIPTION_PLANS } from '@/lib/stripe/server'\n\nexport default async function BillingPage() {\n  const profile = await requireOrganization()\n  const supabase = await createClient()\n\n  // Get organization with billing info\n  const { data: organization } = await supabase\n    .from('organizations')\n    .select('*')\n    .eq('id', profile.organization_id)\n    .single()\n\n  if (!organization) {\n    throw new Error('Organization not found')\n  }\n\n  // Get current usage data\n  const usageResponse = await fetch(`${process.env.NEXT_PUBLIC_APP_URL}/api/billing/usage`, {\n    headers: {\n      'Authorization': `Bearer ${profile.id}`, // This would need proper auth\n    },\n  })\n\n  let usage = null\n  if (usageResponse.ok) {\n    const data = await usageResponse.json()\n    usage = data.usage\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h1 className=\"text-2xl font-bold text-gray-900\">Billing & Subscription</h1>\n        <p className=\"mt-2 text-sm text-gray-700\">\n          Manage your subscription, view usage, and update billing information.\n        </p>\n      </div>\n\n      <BillingDashboard\n        organization={organization}\n        profile={profile}\n        usage={usage}\n        plans={SUBSCRIPTION_PLANS}\n      />\n    </div>\n  )\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAKe;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAAAA,cAAA,GAAAE,CAAA;;;;;;+BAAf;;;;;;WAA8BC,WAAA;;;;;;;;kCALM;;;kCACP;;;kCACI;;;kCACE;AAEpB,eAAeA,YAAA;EAAA;EAAAH,cAAA,GAAAI,CAAA;EAC5B,MAAMC,OAAA;EAAA;EAAA,CAAAL,cAAA,GAAAE,CAAA,OAAU,MAAM,IAAAI,KAAA,CAAAC,mBAAmB;EACzC,MAAMC,QAAA;EAAA;EAAA,CAAAR,cAAA,GAAAE,CAAA,OAAW,MAAM,IAAAO,OAAA,CAAAC,YAAY;EAEnC;EACA,MAAM;IAAEC,IAAA,EAAMC;EAAY,CAAE;EAAA;EAAA,CAAAZ,cAAA,GAAAE,CAAA,QAAG,MAAMM,QAAA,CAClCK,IAAI,CAAC,iBACLC,MAAM,CAAC,KACPC,EAAE,CAAC,MAAMV,OAAA,CAAQW,eAAe,EAChCC,MAAM;EAAA;EAAAjB,cAAA,GAAAE,CAAA;EAET,IAAI,CAACU,YAAA,EAAc;IAAA;IAAAZ,cAAA,GAAAkB,CAAA;IAAAlB,cAAA,GAAAE,CAAA;IACjB,MAAM,IAAIiB,KAAA,CAAM;EAClB;EAAA;EAAA;IAAAnB,cAAA,GAAAkB,CAAA;EAAA;EAEA;EACA,MAAME,aAAA;EAAA;EAAA,CAAApB,cAAA,GAAAE,CAAA,QAAgB,MAAMmB,KAAA,CAAM,GAAGC,OAAA,CAAQC,GAAG,CAACC,mBAAmB,oBAAoB,EAAE;IACxFC,OAAA,EAAS;MACP,iBAAiB,UAAUpB,OAAA,CAAQqB,EAAE;IACvC;EACF;EAEA,IAAIC,KAAA;EAAA;EAAA,CAAA3B,cAAA,GAAAE,CAAA,QAAQ;EAAA;EAAAF,cAAA,GAAAE,CAAA;EACZ,IAAIkB,aAAA,CAAcQ,EAAE,EAAE;IAAA;IAAA5B,cAAA,GAAAkB,CAAA;IACpB,MAAMP,IAAA;IAAA;IAAA,CAAAX,cAAA,GAAAE,CAAA,QAAO,MAAMkB,aAAA,CAAcS,IAAI;IAAA;IAAA7B,cAAA,GAAAE,CAAA;IACrCyB,KAAA,GAAQhB,IAAA,CAAKgB,KAAK;EACpB;EAAA;EAAA;IAAA3B,cAAA,GAAAkB,CAAA;EAAA;EAAAlB,cAAA,GAAAE,CAAA;EAEA,oBACE,IAAA4B,WAAA,CAAAC,IAAA,EAAC;IAAIC,SAAA,EAAU;4BACb,IAAAF,WAAA,CAAAC,IAAA,EAAC;8BACC,IAAAD,WAAA,CAAAG,GAAA,EAAC;QAAGD,SAAA,EAAU;kBAAmC;uBACjD,IAAAF,WAAA,CAAAG,GAAA,EAAC;QAAED,SAAA,EAAU;kBAA6B;;qBAK5C,IAAAF,WAAA,CAAAG,GAAA,EAACC,iBAAA,CAAAC,gBAAgB;MACfvB,YAAA,EAAcA,YAAA;MACdP,OAAA,EAASA,OAAA;MACTsB,KAAA,EAAOA,KAAA;MACPS,KAAA,EAAOC,QAAA,CAAAC;;;AAIf","ignoreList":[]}