d817c3cb7605cee205450ff22272c1bb
/**
 * Secure RPC Wrapper for SQL Injection Prevention
 *
 * Provides a secure wrapper around Supabase RPC function calls with automatic
 * input validation, parameter sanitization, and SQL injection prevention.
 *
 * Security Features:
 * - Automatic parameter validation and sanitization
 * - Function name whitelist enforcement
 * - SQL injection detection and blocking
 * - Audit logging of all RPC calls
 * - Rate limiting support
 * - Type-safe parameter passing
 *
 * Usage:
 * ```typescript
 * import { secureRpc } from '@/lib/security/secure-rpc';
 *
 * const result = await secureRpc(supabase, 'get_user_conversations', {
 *   user_id: userId,
 *   limit: 10
 * });
 * ```
 *
 * @module secure-rpc
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get WHITELISTED_RPC_FUNCTIONS () {
        return WHITELISTED_RPC_FUNCTIONS;
    },
    get addToWhitelist () {
        return addToWhitelist;
    },
    get clearAuditLog () {
        return clearAuditLog;
    },
    get clearRateLimitCache () {
        return clearRateLimitCache;
    },
    get // ============================================================================
    // EXPORTS
    // ============================================================================
    default () {
        return _default;
    },
    get getAuditLog () {
        return getAuditLog;
    },
    get getFunctionConfig () {
        return getFunctionConfig;
    },
    get getRateLimitStats () {
        return getRateLimitStats;
    },
    get isWhitelisted () {
        return isWhitelisted;
    },
    get secureRpc () {
        return secureRpc;
    }
});
const _inputvalidation = require("./input-validation");
const WHITELISTED_RPC_FUNCTIONS = {
    // ========================================
    // REPORTING & ANALYTICS FUNCTIONS
    // ========================================
    get_revenue_analytics: {
        name: 'get_revenue_analytics',
        description: 'Get comprehensive revenue analytics for a period',
        parameterSchema: {
            start_date: {
                validator: _inputvalidation.InputValidator.validateDate,
                required: true
            },
            end_date: {
                validator: _inputvalidation.InputValidator.validateDate,
                required: true
            },
            granularity: {
                validator: (value)=>_inputvalidation.InputValidator.validateEnum(value, [
                        'day',
                        'week',
                        'month'
                    ]),
                required: false
            }
        },
        riskLevel: 'low',
        requiresAuth: true,
        rateLimitPerMinute: 60
    },
    get_user_engagement_metrics: {
        name: 'get_user_engagement_metrics',
        description: 'Get user engagement metrics for analytics',
        parameterSchema: {
            start_date: {
                validator: _inputvalidation.InputValidator.validateDate,
                required: true
            },
            end_date: {
                validator: _inputvalidation.InputValidator.validateDate,
                required: true
            },
            organization_id: {
                validator: _inputvalidation.InputValidator.validateUUID,
                required: false,
                options: {
                    allowNull: true
                }
            }
        },
        riskLevel: 'low',
        requiresAuth: true,
        rateLimitPerMinute: 60
    },
    get_system_performance_metrics: {
        name: 'get_system_performance_metrics',
        description: 'Get system performance monitoring metrics',
        parameterSchema: {
            start_date: {
                validator: _inputvalidation.InputValidator.validateDate,
                required: true
            },
            end_date: {
                validator: _inputvalidation.InputValidator.validateDate,
                required: true
            },
            interval_type: {
                validator: (value)=>_inputvalidation.InputValidator.validateEnum(value, [
                        'minute',
                        'hour',
                        'day'
                    ]),
                required: false
            }
        },
        riskLevel: 'low',
        requiresAuth: true,
        rateLimitPerMinute: 60
    },
    predict_churn_rate: {
        name: 'predict_churn_rate',
        description: 'Predict churn rate for future periods',
        parameterSchema: {
            periods_ahead: {
                validator: _inputvalidation.InputValidator.validateInteger,
                required: true
            }
        },
        riskLevel: 'low',
        requiresAuth: true,
        rateLimitPerMinute: 30
    },
    predict_new_customers: {
        name: 'predict_new_customers',
        description: 'Predict new customer acquisition',
        parameterSchema: {
            periods_ahead: {
                validator: _inputvalidation.InputValidator.validateInteger,
                required: true
            }
        },
        riskLevel: 'low',
        requiresAuth: true,
        rateLimitPerMinute: 30
    },
    // ========================================
    // SUPER ADMIN FUNCTIONS
    // ========================================
    log_super_admin_action: {
        name: 'log_super_admin_action',
        description: 'Log super admin actions for audit trail',
        parameterSchema: {
            admin_user_id: {
                validator: _inputvalidation.InputValidator.validateUUID,
                required: true
            },
            action_name: {
                validator: (value)=>_inputvalidation.InputValidator.validateText(value, {
                        maxLength: 100
                    }),
                required: true
            },
            target_type: {
                validator: (value)=>_inputvalidation.InputValidator.validateEnum(value, [
                        'organization',
                        'profile',
                        'system',
                        'billing'
                    ]),
                required: true
            },
            target_id: {
                validator: _inputvalidation.InputValidator.validateUUID,
                required: false,
                options: {
                    allowNull: true
                }
            },
            action_details: {
                validator: _inputvalidation.InputValidator.validateJSON,
                required: false
            },
            ip_addr: {
                validator: (value)=>_inputvalidation.InputValidator.validateText(value, {
                        maxLength: 45,
                        allowNull: true
                    }),
                required: false
            },
            user_agent: {
                validator: (value)=>_inputvalidation.InputValidator.validateText(value, {
                        maxLength: 500,
                        allowNull: true
                    }),
                required: false
            }
        },
        riskLevel: 'high',
        requiresAuth: true,
        rateLimitPerMinute: 100
    },
    get_organization_metrics_summary: {
        name: 'get_organization_metrics_summary',
        description: 'Get organization metrics summary for super admin',
        parameterSchema: {
            org_id: {
                validator: _inputvalidation.InputValidator.validateUUID,
                required: true
            },
            days: {
                validator: _inputvalidation.InputValidator.validateInteger,
                required: false
            }
        },
        riskLevel: 'medium',
        requiresAuth: true,
        rateLimitPerMinute: 60
    },
    suspend_organization: {
        name: 'suspend_organization',
        description: 'Suspend an organization (super admin only)',
        parameterSchema: {
            org_id: {
                validator: _inputvalidation.InputValidator.validateUUID,
                required: true
            },
            reason: {
                validator: (value)=>_inputvalidation.InputValidator.validateText(value, {
                        maxLength: 500
                    }),
                required: true
            },
            suspended_by_id: {
                validator: _inputvalidation.InputValidator.validateUUID,
                required: true
            }
        },
        riskLevel: 'critical',
        requiresAuth: true,
        rateLimitPerMinute: 10
    },
    reactivate_organization: {
        name: 'reactivate_organization',
        description: 'Reactivate a suspended organization',
        parameterSchema: {
            org_id: {
                validator: _inputvalidation.InputValidator.validateUUID,
                required: true
            },
            reactivated_by_id: {
                validator: _inputvalidation.InputValidator.validateUUID,
                required: true
            }
        },
        riskLevel: 'critical',
        requiresAuth: true,
        rateLimitPerMinute: 10
    },
    // ========================================
    // TENANT & USAGE FUNCTIONS
    // ========================================
    track_usage_event: {
        name: 'track_usage_event',
        description: 'Track usage events for billing and analytics',
        parameterSchema: {
            org_id: {
                validator: _inputvalidation.InputValidator.validateUUID,
                required: true
            },
            event_type_param: {
                validator: (value)=>_inputvalidation.InputValidator.validateText(value, {
                        maxLength: 50
                    }),
                required: true
            },
            event_category_param: {
                validator: (value)=>_inputvalidation.InputValidator.validateText(value, {
                        maxLength: 30
                    }),
                required: true
            },
            resource_amount_param: {
                validator: _inputvalidation.InputValidator.validateInteger,
                required: false
            },
            bytes_consumed_param: {
                validator: _inputvalidation.InputValidator.validateInteger,
                required: false
            },
            additional_metadata: {
                validator: _inputvalidation.InputValidator.validateJSON,
                required: false
            }
        },
        riskLevel: 'low',
        requiresAuth: true,
        rateLimitPerMinute: 120
    },
    check_usage_limits: {
        name: 'check_usage_limits',
        description: 'Check if organization is within usage limits',
        parameterSchema: {
            org_id: {
                validator: _inputvalidation.InputValidator.validateUUID,
                required: true
            },
            limit_type_param: {
                validator: (value)=>_inputvalidation.InputValidator.validateText(value, {
                        maxLength: 50
                    }),
                required: true
            }
        },
        riskLevel: 'low',
        requiresAuth: true,
        rateLimitPerMinute: 120
    },
    get_tenant_by_domain: {
        name: 'get_tenant_by_domain',
        description: 'Get tenant organization by domain name',
        parameterSchema: {
            domain_name: {
                validator: (value)=>_inputvalidation.InputValidator.validateText(value, {
                        maxLength: 255
                    }),
                required: true
            }
        },
        riskLevel: 'medium',
        requiresAuth: false,
        rateLimitPerMinute: 60
    },
    // ========================================
    // CONVERSATION & MESSAGE FUNCTIONS
    // ========================================
    get_conversation_unread_count: {
        name: 'get_conversation_unread_count',
        description: 'Get unread message count for a conversation',
        parameterSchema: {
            conv_id: {
                validator: _inputvalidation.InputValidator.validateUUID,
                required: true
            }
        },
        riskLevel: 'low',
        requiresAuth: true,
        rateLimitPerMinute: 120
    },
    // ========================================
    // MEDIA & STORAGE FUNCTIONS
    // ========================================
    update_media_storage_usage: {
        name: 'update_media_storage_usage',
        description: 'Update media storage quota usage',
        parameterSchema: {
            org_id: {
                validator: _inputvalidation.InputValidator.validateUUID,
                required: true
            },
            quota_type: {
                validator: (value)=>_inputvalidation.InputValidator.validateText(value, {
                        maxLength: 50
                    }),
                required: true
            },
            usage_delta: {
                validator: _inputvalidation.InputValidator.validateInteger,
                required: true
            }
        },
        riskLevel: 'medium',
        requiresAuth: true,
        rateLimitPerMinute: 60
    },
    // ========================================
    // HELPER FUNCTIONS
    // ========================================
    is_super_admin: {
        name: 'is_super_admin',
        description: 'Check if user is a super admin',
        parameterSchema: {
            user_id: {
                validator: _inputvalidation.InputValidator.validateUUID,
                required: false,
                options: {
                    allowNull: true
                }
            }
        },
        riskLevel: 'low',
        requiresAuth: true,
        rateLimitPerMinute: 120
    }
};
const rateLimitStore = new Map();
function checkRateLimit(functionName, userId) {
    const config = WHITELISTED_RPC_FUNCTIONS[functionName];
    if (!config || !config.rateLimitPerMinute) {
        return true; // No rate limit configured
    }
    const key = `${functionName}:${userId || 'anonymous'}`;
    const now = Date.now();
    const entry = rateLimitStore.get(key);
    if (!entry || entry.resetTime < now) {
        // Reset or create new entry
        rateLimitStore.set(key, {
            count: 1,
            resetTime: now + 60000
        });
        return true;
    }
    if (entry.count >= config.rateLimitPerMinute) {
        return false; // Rate limit exceeded
    }
    entry.count++;
    return true;
}
const auditLog = [];
async function logRpcCall(functionName, userId, parameters, success, error, executionTime) {
    const config = WHITELISTED_RPC_FUNCTIONS[functionName];
    const entry = {
        timestamp: new Date().toISOString(),
        functionName,
        userId,
        parameters: sanitizeParametersForLogging(parameters),
        success,
        error,
        executionTime,
        riskLevel: config?.riskLevel || 'unknown'
    };
    auditLog.push(entry);
    // Keep only last 1000 entries in memory
    if (auditLog.length > 1000) {
        auditLog.shift();
    }
    // For critical operations, log to database or external service
    if (config?.riskLevel === 'critical' || !success) {
        // TODO: Implement database logging for critical operations
        console.warn('[SECURE RPC AUDIT]', entry);
    }
}
function sanitizeParametersForLogging(params) {
    const sanitized = {};
    for (const [key, value] of Object.entries(params)){
        // Redact sensitive fields
        if (key.toLowerCase().includes('password') || key.toLowerCase().includes('secret') || key.toLowerCase().includes('token')) {
            sanitized[key] = '[REDACTED]';
        } else if (typeof value === 'string' && value.length > 100) {
            sanitized[key] = value.substring(0, 100) + '...[TRUNCATED]';
        } else {
            sanitized[key] = value;
        }
    }
    return sanitized;
}
async function secureRpc(supabase, functionName, params = {}, options = {}) {
    const startTime = Date.now();
    let userId = null;
    try {
        // Get current user for audit logging and rate limiting
        const { data: { user } } = await supabase.auth.getUser();
        userId = user?.id || null;
        // Step 1: Validate function name is whitelisted
        const functionConfig = WHITELISTED_RPC_FUNCTIONS[functionName];
        if (!functionConfig) {
            const error = new Error(`RPC function '${functionName}' is not whitelisted`);
            await logRpcCall(functionName, userId, params, false, error.message);
            return {
                data: null,
                error,
                executionTime: Date.now() - startTime
            };
        }
        // Step 2: Check authentication requirement
        if (functionConfig.requiresAuth && !userId) {
            const error = new Error(`Authentication required for '${functionName}'`);
            await logRpcCall(functionName, userId, params, false, error.message);
            return {
                data: null,
                error,
                executionTime: Date.now() - startTime
            };
        }
        // Step 3: Check rate limit
        if (!checkRateLimit(functionName, userId)) {
            const error = new Error(`Rate limit exceeded for '${functionName}'`);
            await logRpcCall(functionName, userId, params, false, error.message);
            return {
                data: null,
                error,
                executionTime: Date.now() - startTime
            };
        }
        // Step 4: Validate and sanitize parameters
        let sanitizedParams = params;
        let validationErrors = {};
        if (!options.skipValidation) {
            const validationResult = _inputvalidation.InputValidator.validateSchema(params, functionConfig.parameterSchema);
            if (!validationResult.isValid) {
                const error = new Error('Parameter validation failed');
                await logRpcCall(functionName, userId, params, false, error.message);
                return {
                    data: null,
                    error,
                    validationErrors: validationResult.errors,
                    executionTime: Date.now() - startTime
                };
            }
            sanitizedParams = validationResult.sanitizedData;
        }
        // Step 5: Apply custom validators if provided
        if (options.customValidators) {
            for (const [key, validator] of Object.entries(options.customValidators)){
                if (key in sanitizedParams) {
                    const result = validator(sanitizedParams[key]);
                    if (!result.isValid) {
                        const error = new Error(`Custom validation failed for parameter '${key}'`);
                        await logRpcCall(functionName, userId, params, false, error.message);
                        return {
                            data: null,
                            error,
                            validationErrors: {
                                [key]: result.error || 'Validation failed'
                            },
                            executionTime: Date.now() - startTime
                        };
                    }
                    sanitizedParams[key] = result.sanitizedValue;
                }
            }
        }
        // Step 6: Execute the RPC function
        const { data, error } = await supabase.rpc(functionName, sanitizedParams);
        const executionTime = Date.now() - startTime;
        // Step 7: Log the call
        if (!options.skipAuditLog) {
            await logRpcCall(functionName, userId, sanitizedParams, !error, error?.message, executionTime);
        }
        // Step 8: Return result
        if (error) {
            return {
                data: null,
                error: new Error(error.message),
                executionTime
            };
        }
        return {
            data: data,
            error: null,
            executionTime
        };
    } catch (error) {
        const executionTime = Date.now() - startTime;
        const err = error instanceof Error ? error : new Error('Unknown error');
        await logRpcCall(functionName, userId, params, false, err.message, executionTime);
        return {
            data: null,
            error: err,
            executionTime
        };
    }
}
function getAuditLog() {
    return [
        ...auditLog
    ]; // Return copy
}
function clearAuditLog() {
    auditLog.length = 0;
}
function getRateLimitStats() {
    return new Map(rateLimitStore); // Return copy
}
function clearRateLimitCache() {
    rateLimitStore.clear();
}
function isWhitelisted(functionName) {
    return functionName in WHITELISTED_RPC_FUNCTIONS;
}
function getFunctionConfig(functionName) {
    return WHITELISTED_RPC_FUNCTIONS[functionName] || null;
}
function addToWhitelist(config) {
    if (WHITELISTED_RPC_FUNCTIONS[config.name]) {
        throw new Error(`Function '${config.name}' is already whitelisted`);
    }
    WHITELISTED_RPC_FUNCTIONS[config.name] = config;
}
const _default = secureRpc;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxBaSBQcm9qZWN0ZW5cXEFEU2FwcFxcc3JjXFxsaWJcXHNlY3VyaXR5XFxzZWN1cmUtcnBjLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU2VjdXJlIFJQQyBXcmFwcGVyIGZvciBTUUwgSW5qZWN0aW9uIFByZXZlbnRpb25cbiAqXG4gKiBQcm92aWRlcyBhIHNlY3VyZSB3cmFwcGVyIGFyb3VuZCBTdXBhYmFzZSBSUEMgZnVuY3Rpb24gY2FsbHMgd2l0aCBhdXRvbWF0aWNcbiAqIGlucHV0IHZhbGlkYXRpb24sIHBhcmFtZXRlciBzYW5pdGl6YXRpb24sIGFuZCBTUUwgaW5qZWN0aW9uIHByZXZlbnRpb24uXG4gKlxuICogU2VjdXJpdHkgRmVhdHVyZXM6XG4gKiAtIEF1dG9tYXRpYyBwYXJhbWV0ZXIgdmFsaWRhdGlvbiBhbmQgc2FuaXRpemF0aW9uXG4gKiAtIEZ1bmN0aW9uIG5hbWUgd2hpdGVsaXN0IGVuZm9yY2VtZW50XG4gKiAtIFNRTCBpbmplY3Rpb24gZGV0ZWN0aW9uIGFuZCBibG9ja2luZ1xuICogLSBBdWRpdCBsb2dnaW5nIG9mIGFsbCBSUEMgY2FsbHNcbiAqIC0gUmF0ZSBsaW1pdGluZyBzdXBwb3J0XG4gKiAtIFR5cGUtc2FmZSBwYXJhbWV0ZXIgcGFzc2luZ1xuICpcbiAqIFVzYWdlOlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHsgc2VjdXJlUnBjIH0gZnJvbSAnQC9saWIvc2VjdXJpdHkvc2VjdXJlLXJwYyc7XG4gKlxuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VjdXJlUnBjKHN1cGFiYXNlLCAnZ2V0X3VzZXJfY29udmVyc2F0aW9ucycsIHtcbiAqICAgdXNlcl9pZDogdXNlcklkLFxuICogICBsaW1pdDogMTBcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQG1vZHVsZSBzZWN1cmUtcnBjXG4gKi9cblxuaW1wb3J0IHR5cGUgeyBTdXBhYmFzZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XG5pbXBvcnQge1xuICBJbnB1dFZhbGlkYXRvcixcbiAgVmFsaWRhdGlvblJlc3VsdCxcbiAgVmFsaWRhdGlvbkVycm9yQ29kZXMsXG4gIHR5cGUgVmFsaWRhdGlvblNjaGVtYSxcbn0gZnJvbSAnLi9pbnB1dC12YWxpZGF0aW9uJztcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVFlQRSBERUZJTklUSU9OU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlY3VyZVJwY09wdGlvbnMge1xuICBza2lwVmFsaWRhdGlvbj86IGJvb2xlYW47ICAvLyBCeXBhc3MgdmFsaWRhdGlvbiAodXNlIHdpdGggZXh0cmVtZSBjYXV0aW9uKVxuICBza2lwQXVkaXRMb2c/OiBib29sZWFuOyAgLy8gU2tpcCBhdWRpdCBsb2dnaW5nXG4gIHRpbWVvdXQ/OiBudW1iZXI7ICAvLyBUaW1lb3V0IGluIG1pbGxpc2Vjb25kc1xuICByZXRyaWVzPzogbnVtYmVyOyAgLy8gTnVtYmVyIG9mIHJldHJ5IGF0dGVtcHRzXG4gIGN1c3RvbVZhbGlkYXRvcnM/OiBSZWNvcmQ8c3RyaW5nLCAodmFsdWU6IGFueSkgPT4gVmFsaWRhdGlvblJlc3VsdD47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VjdXJlUnBjUmVzdWx0PFQgPSBhbnk+IHtcbiAgZGF0YTogVCB8IG51bGw7XG4gIGVycm9yOiBFcnJvciB8IG51bGw7XG4gIHZhbGlkYXRpb25FcnJvcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICBleGVjdXRpb25UaW1lPzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJwY0Z1bmN0aW9uQ29uZmlnIHtcbiAgbmFtZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBwYXJhbWV0ZXJTY2hlbWE6IFZhbGlkYXRpb25TY2hlbWE7XG4gIHJpc2tMZXZlbDogJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJyB8ICdjcml0aWNhbCc7XG4gIHJlcXVpcmVzQXV0aDogYm9vbGVhbjtcbiAgcmF0ZUxpbWl0UGVyTWludXRlPzogbnVtYmVyO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBXSElURUxJU1RFRCBSUEMgRlVOQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogV2hpdGVsaXN0IG9mIGFsbG93ZWQgUlBDIGZ1bmN0aW9ucyB3aXRoIHRoZWlyIHZhbGlkYXRpb24gc2NoZW1hc1xuICogVGhpcyBwcmV2ZW50cyBjYWxsaW5nIGFyYml0cmFyeSBmdW5jdGlvbnMgYW5kIGVuc3VyZXMgcHJvcGVyIHZhbGlkYXRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IFdISVRFTElTVEVEX1JQQ19GVU5DVElPTlM6IFJlY29yZDxzdHJpbmcsIFJwY0Z1bmN0aW9uQ29uZmlnPiA9IHtcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBSRVBPUlRJTkcgJiBBTkFMWVRJQ1MgRlVOQ1RJT05TXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgZ2V0X3JldmVudWVfYW5hbHl0aWNzOiB7XG4gICAgbmFtZTogJ2dldF9yZXZlbnVlX2FuYWx5dGljcycsXG4gICAgZGVzY3JpcHRpb246ICdHZXQgY29tcHJlaGVuc2l2ZSByZXZlbnVlIGFuYWx5dGljcyBmb3IgYSBwZXJpb2QnLFxuICAgIHBhcmFtZXRlclNjaGVtYToge1xuICAgICAgc3RhcnRfZGF0ZToge1xuICAgICAgICB2YWxpZGF0b3I6IElucHV0VmFsaWRhdG9yLnZhbGlkYXRlRGF0ZSxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgZW5kX2RhdGU6IHtcbiAgICAgICAgdmFsaWRhdG9yOiBJbnB1dFZhbGlkYXRvci52YWxpZGF0ZURhdGUsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIGdyYW51bGFyaXR5OiB7XG4gICAgICAgIHZhbGlkYXRvcjogKHZhbHVlKSA9PiBJbnB1dFZhbGlkYXRvci52YWxpZGF0ZUVudW0odmFsdWUsIFsnZGF5JywgJ3dlZWsnLCAnbW9udGgnXSksXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICByaXNrTGV2ZWw6ICdsb3cnLFxuICAgIHJlcXVpcmVzQXV0aDogdHJ1ZSxcbiAgICByYXRlTGltaXRQZXJNaW51dGU6IDYwLFxuICB9LFxuXG4gIGdldF91c2VyX2VuZ2FnZW1lbnRfbWV0cmljczoge1xuICAgIG5hbWU6ICdnZXRfdXNlcl9lbmdhZ2VtZW50X21ldHJpY3MnLFxuICAgIGRlc2NyaXB0aW9uOiAnR2V0IHVzZXIgZW5nYWdlbWVudCBtZXRyaWNzIGZvciBhbmFseXRpY3MnLFxuICAgIHBhcmFtZXRlclNjaGVtYToge1xuICAgICAgc3RhcnRfZGF0ZToge1xuICAgICAgICB2YWxpZGF0b3I6IElucHV0VmFsaWRhdG9yLnZhbGlkYXRlRGF0ZSxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgZW5kX2RhdGU6IHtcbiAgICAgICAgdmFsaWRhdG9yOiBJbnB1dFZhbGlkYXRvci52YWxpZGF0ZURhdGUsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIG9yZ2FuaXphdGlvbl9pZDoge1xuICAgICAgICB2YWxpZGF0b3I6IElucHV0VmFsaWRhdG9yLnZhbGlkYXRlVVVJRCxcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICBvcHRpb25zOiB7IGFsbG93TnVsbDogdHJ1ZSB9LFxuICAgICAgfSxcbiAgICB9LFxuICAgIHJpc2tMZXZlbDogJ2xvdycsXG4gICAgcmVxdWlyZXNBdXRoOiB0cnVlLFxuICAgIHJhdGVMaW1pdFBlck1pbnV0ZTogNjAsXG4gIH0sXG5cbiAgZ2V0X3N5c3RlbV9wZXJmb3JtYW5jZV9tZXRyaWNzOiB7XG4gICAgbmFtZTogJ2dldF9zeXN0ZW1fcGVyZm9ybWFuY2VfbWV0cmljcycsXG4gICAgZGVzY3JpcHRpb246ICdHZXQgc3lzdGVtIHBlcmZvcm1hbmNlIG1vbml0b3JpbmcgbWV0cmljcycsXG4gICAgcGFyYW1ldGVyU2NoZW1hOiB7XG4gICAgICBzdGFydF9kYXRlOiB7XG4gICAgICAgIHZhbGlkYXRvcjogSW5wdXRWYWxpZGF0b3IudmFsaWRhdGVEYXRlLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBlbmRfZGF0ZToge1xuICAgICAgICB2YWxpZGF0b3I6IElucHV0VmFsaWRhdG9yLnZhbGlkYXRlRGF0ZSxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgaW50ZXJ2YWxfdHlwZToge1xuICAgICAgICB2YWxpZGF0b3I6ICh2YWx1ZSkgPT4gSW5wdXRWYWxpZGF0b3IudmFsaWRhdGVFbnVtKHZhbHVlLCBbJ21pbnV0ZScsICdob3VyJywgJ2RheSddKSxcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICB9LFxuICAgIHJpc2tMZXZlbDogJ2xvdycsXG4gICAgcmVxdWlyZXNBdXRoOiB0cnVlLFxuICAgIHJhdGVMaW1pdFBlck1pbnV0ZTogNjAsXG4gIH0sXG5cbiAgcHJlZGljdF9jaHVybl9yYXRlOiB7XG4gICAgbmFtZTogJ3ByZWRpY3RfY2h1cm5fcmF0ZScsXG4gICAgZGVzY3JpcHRpb246ICdQcmVkaWN0IGNodXJuIHJhdGUgZm9yIGZ1dHVyZSBwZXJpb2RzJyxcbiAgICBwYXJhbWV0ZXJTY2hlbWE6IHtcbiAgICAgIHBlcmlvZHNfYWhlYWQ6IHtcbiAgICAgICAgdmFsaWRhdG9yOiBJbnB1dFZhbGlkYXRvci52YWxpZGF0ZUludGVnZXIsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgfSxcbiAgICB9LFxuICAgIHJpc2tMZXZlbDogJ2xvdycsXG4gICAgcmVxdWlyZXNBdXRoOiB0cnVlLFxuICAgIHJhdGVMaW1pdFBlck1pbnV0ZTogMzAsXG4gIH0sXG5cbiAgcHJlZGljdF9uZXdfY3VzdG9tZXJzOiB7XG4gICAgbmFtZTogJ3ByZWRpY3RfbmV3X2N1c3RvbWVycycsXG4gICAgZGVzY3JpcHRpb246ICdQcmVkaWN0IG5ldyBjdXN0b21lciBhY3F1aXNpdGlvbicsXG4gICAgcGFyYW1ldGVyU2NoZW1hOiB7XG4gICAgICBwZXJpb2RzX2FoZWFkOiB7XG4gICAgICAgIHZhbGlkYXRvcjogSW5wdXRWYWxpZGF0b3IudmFsaWRhdGVJbnRlZ2VyLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICByaXNrTGV2ZWw6ICdsb3cnLFxuICAgIHJlcXVpcmVzQXV0aDogdHJ1ZSxcbiAgICByYXRlTGltaXRQZXJNaW51dGU6IDMwLFxuICB9LFxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gU1VQRVIgQURNSU4gRlVOQ1RJT05TXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgbG9nX3N1cGVyX2FkbWluX2FjdGlvbjoge1xuICAgIG5hbWU6ICdsb2dfc3VwZXJfYWRtaW5fYWN0aW9uJyxcbiAgICBkZXNjcmlwdGlvbjogJ0xvZyBzdXBlciBhZG1pbiBhY3Rpb25zIGZvciBhdWRpdCB0cmFpbCcsXG4gICAgcGFyYW1ldGVyU2NoZW1hOiB7XG4gICAgICBhZG1pbl91c2VyX2lkOiB7XG4gICAgICAgIHZhbGlkYXRvcjogSW5wdXRWYWxpZGF0b3IudmFsaWRhdGVVVUlELFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBhY3Rpb25fbmFtZToge1xuICAgICAgICB2YWxpZGF0b3I6ICh2YWx1ZSkgPT4gSW5wdXRWYWxpZGF0b3IudmFsaWRhdGVUZXh0KHZhbHVlLCB7IG1heExlbmd0aDogMTAwIH0pLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICB0YXJnZXRfdHlwZToge1xuICAgICAgICB2YWxpZGF0b3I6ICh2YWx1ZSkgPT5cbiAgICAgICAgICBJbnB1dFZhbGlkYXRvci52YWxpZGF0ZUVudW0odmFsdWUsIFsnb3JnYW5pemF0aW9uJywgJ3Byb2ZpbGUnLCAnc3lzdGVtJywgJ2JpbGxpbmcnXSksXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHRhcmdldF9pZDoge1xuICAgICAgICB2YWxpZGF0b3I6IElucHV0VmFsaWRhdG9yLnZhbGlkYXRlVVVJRCxcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICBvcHRpb25zOiB7IGFsbG93TnVsbDogdHJ1ZSB9LFxuICAgICAgfSxcbiAgICAgIGFjdGlvbl9kZXRhaWxzOiB7XG4gICAgICAgIHZhbGlkYXRvcjogSW5wdXRWYWxpZGF0b3IudmFsaWRhdGVKU09OLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICB9LFxuICAgICAgaXBfYWRkcjoge1xuICAgICAgICB2YWxpZGF0b3I6ICh2YWx1ZSkgPT4gSW5wdXRWYWxpZGF0b3IudmFsaWRhdGVUZXh0KHZhbHVlLCB7IG1heExlbmd0aDogNDUsIGFsbG93TnVsbDogdHJ1ZSB9KSxcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICAgIHVzZXJfYWdlbnQ6IHtcbiAgICAgICAgdmFsaWRhdG9yOiAodmFsdWUpID0+IElucHV0VmFsaWRhdG9yLnZhbGlkYXRlVGV4dCh2YWx1ZSwgeyBtYXhMZW5ndGg6IDUwMCwgYWxsb3dOdWxsOiB0cnVlIH0pLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICB9LFxuICAgIH0sXG4gICAgcmlza0xldmVsOiAnaGlnaCcsXG4gICAgcmVxdWlyZXNBdXRoOiB0cnVlLFxuICAgIHJhdGVMaW1pdFBlck1pbnV0ZTogMTAwLFxuICB9LFxuXG4gIGdldF9vcmdhbml6YXRpb25fbWV0cmljc19zdW1tYXJ5OiB7XG4gICAgbmFtZTogJ2dldF9vcmdhbml6YXRpb25fbWV0cmljc19zdW1tYXJ5JyxcbiAgICBkZXNjcmlwdGlvbjogJ0dldCBvcmdhbml6YXRpb24gbWV0cmljcyBzdW1tYXJ5IGZvciBzdXBlciBhZG1pbicsXG4gICAgcGFyYW1ldGVyU2NoZW1hOiB7XG4gICAgICBvcmdfaWQ6IHtcbiAgICAgICAgdmFsaWRhdG9yOiBJbnB1dFZhbGlkYXRvci52YWxpZGF0ZVVVSUQsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIGRheXM6IHtcbiAgICAgICAgdmFsaWRhdG9yOiBJbnB1dFZhbGlkYXRvci52YWxpZGF0ZUludGVnZXIsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICByaXNrTGV2ZWw6ICdtZWRpdW0nLFxuICAgIHJlcXVpcmVzQXV0aDogdHJ1ZSxcbiAgICByYXRlTGltaXRQZXJNaW51dGU6IDYwLFxuICB9LFxuXG4gIHN1c3BlbmRfb3JnYW5pemF0aW9uOiB7XG4gICAgbmFtZTogJ3N1c3BlbmRfb3JnYW5pemF0aW9uJyxcbiAgICBkZXNjcmlwdGlvbjogJ1N1c3BlbmQgYW4gb3JnYW5pemF0aW9uIChzdXBlciBhZG1pbiBvbmx5KScsXG4gICAgcGFyYW1ldGVyU2NoZW1hOiB7XG4gICAgICBvcmdfaWQ6IHtcbiAgICAgICAgdmFsaWRhdG9yOiBJbnB1dFZhbGlkYXRvci52YWxpZGF0ZVVVSUQsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHJlYXNvbjoge1xuICAgICAgICB2YWxpZGF0b3I6ICh2YWx1ZSkgPT4gSW5wdXRWYWxpZGF0b3IudmFsaWRhdGVUZXh0KHZhbHVlLCB7IG1heExlbmd0aDogNTAwIH0pLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBzdXNwZW5kZWRfYnlfaWQ6IHtcbiAgICAgICAgdmFsaWRhdG9yOiBJbnB1dFZhbGlkYXRvci52YWxpZGF0ZVVVSUQsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgfSxcbiAgICB9LFxuICAgIHJpc2tMZXZlbDogJ2NyaXRpY2FsJyxcbiAgICByZXF1aXJlc0F1dGg6IHRydWUsXG4gICAgcmF0ZUxpbWl0UGVyTWludXRlOiAxMCxcbiAgfSxcblxuICByZWFjdGl2YXRlX29yZ2FuaXphdGlvbjoge1xuICAgIG5hbWU6ICdyZWFjdGl2YXRlX29yZ2FuaXphdGlvbicsXG4gICAgZGVzY3JpcHRpb246ICdSZWFjdGl2YXRlIGEgc3VzcGVuZGVkIG9yZ2FuaXphdGlvbicsXG4gICAgcGFyYW1ldGVyU2NoZW1hOiB7XG4gICAgICBvcmdfaWQ6IHtcbiAgICAgICAgdmFsaWRhdG9yOiBJbnB1dFZhbGlkYXRvci52YWxpZGF0ZVVVSUQsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHJlYWN0aXZhdGVkX2J5X2lkOiB7XG4gICAgICAgIHZhbGlkYXRvcjogSW5wdXRWYWxpZGF0b3IudmFsaWRhdGVVVUlELFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICByaXNrTGV2ZWw6ICdjcml0aWNhbCcsXG4gICAgcmVxdWlyZXNBdXRoOiB0cnVlLFxuICAgIHJhdGVMaW1pdFBlck1pbnV0ZTogMTAsXG4gIH0sXG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBURU5BTlQgJiBVU0FHRSBGVU5DVElPTlNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICB0cmFja191c2FnZV9ldmVudDoge1xuICAgIG5hbWU6ICd0cmFja191c2FnZV9ldmVudCcsXG4gICAgZGVzY3JpcHRpb246ICdUcmFjayB1c2FnZSBldmVudHMgZm9yIGJpbGxpbmcgYW5kIGFuYWx5dGljcycsXG4gICAgcGFyYW1ldGVyU2NoZW1hOiB7XG4gICAgICBvcmdfaWQ6IHtcbiAgICAgICAgdmFsaWRhdG9yOiBJbnB1dFZhbGlkYXRvci52YWxpZGF0ZVVVSUQsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIGV2ZW50X3R5cGVfcGFyYW06IHtcbiAgICAgICAgdmFsaWRhdG9yOiAodmFsdWUpID0+IElucHV0VmFsaWRhdG9yLnZhbGlkYXRlVGV4dCh2YWx1ZSwgeyBtYXhMZW5ndGg6IDUwIH0pLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBldmVudF9jYXRlZ29yeV9wYXJhbToge1xuICAgICAgICB2YWxpZGF0b3I6ICh2YWx1ZSkgPT4gSW5wdXRWYWxpZGF0b3IudmFsaWRhdGVUZXh0KHZhbHVlLCB7IG1heExlbmd0aDogMzAgfSksXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHJlc291cmNlX2Ftb3VudF9wYXJhbToge1xuICAgICAgICB2YWxpZGF0b3I6IElucHV0VmFsaWRhdG9yLnZhbGlkYXRlSW50ZWdlcixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICAgIGJ5dGVzX2NvbnN1bWVkX3BhcmFtOiB7XG4gICAgICAgIHZhbGlkYXRvcjogSW5wdXRWYWxpZGF0b3IudmFsaWRhdGVJbnRlZ2VyLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICB9LFxuICAgICAgYWRkaXRpb25hbF9tZXRhZGF0YToge1xuICAgICAgICB2YWxpZGF0b3I6IElucHV0VmFsaWRhdG9yLnZhbGlkYXRlSlNPTixcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICB9LFxuICAgIHJpc2tMZXZlbDogJ2xvdycsXG4gICAgcmVxdWlyZXNBdXRoOiB0cnVlLFxuICAgIHJhdGVMaW1pdFBlck1pbnV0ZTogMTIwLFxuICB9LFxuXG4gIGNoZWNrX3VzYWdlX2xpbWl0czoge1xuICAgIG5hbWU6ICdjaGVja191c2FnZV9saW1pdHMnLFxuICAgIGRlc2NyaXB0aW9uOiAnQ2hlY2sgaWYgb3JnYW5pemF0aW9uIGlzIHdpdGhpbiB1c2FnZSBsaW1pdHMnLFxuICAgIHBhcmFtZXRlclNjaGVtYToge1xuICAgICAgb3JnX2lkOiB7XG4gICAgICAgIHZhbGlkYXRvcjogSW5wdXRWYWxpZGF0b3IudmFsaWRhdGVVVUlELFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBsaW1pdF90eXBlX3BhcmFtOiB7XG4gICAgICAgIHZhbGlkYXRvcjogKHZhbHVlKSA9PiBJbnB1dFZhbGlkYXRvci52YWxpZGF0ZVRleHQodmFsdWUsIHsgbWF4TGVuZ3RoOiA1MCB9KSxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICB9LFxuICAgIH0sXG4gICAgcmlza0xldmVsOiAnbG93JyxcbiAgICByZXF1aXJlc0F1dGg6IHRydWUsXG4gICAgcmF0ZUxpbWl0UGVyTWludXRlOiAxMjAsXG4gIH0sXG5cbiAgZ2V0X3RlbmFudF9ieV9kb21haW46IHtcbiAgICBuYW1lOiAnZ2V0X3RlbmFudF9ieV9kb21haW4nLFxuICAgIGRlc2NyaXB0aW9uOiAnR2V0IHRlbmFudCBvcmdhbml6YXRpb24gYnkgZG9tYWluIG5hbWUnLFxuICAgIHBhcmFtZXRlclNjaGVtYToge1xuICAgICAgZG9tYWluX25hbWU6IHtcbiAgICAgICAgdmFsaWRhdG9yOiAodmFsdWUpID0+IElucHV0VmFsaWRhdG9yLnZhbGlkYXRlVGV4dCh2YWx1ZSwgeyBtYXhMZW5ndGg6IDI1NSB9KSxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICB9LFxuICAgIH0sXG4gICAgcmlza0xldmVsOiAnbWVkaXVtJyxcbiAgICByZXF1aXJlc0F1dGg6IGZhbHNlLFxuICAgIHJhdGVMaW1pdFBlck1pbnV0ZTogNjAsXG4gIH0sXG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBDT05WRVJTQVRJT04gJiBNRVNTQUdFIEZVTkNUSU9OU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIGdldF9jb252ZXJzYXRpb25fdW5yZWFkX2NvdW50OiB7XG4gICAgbmFtZTogJ2dldF9jb252ZXJzYXRpb25fdW5yZWFkX2NvdW50JyxcbiAgICBkZXNjcmlwdGlvbjogJ0dldCB1bnJlYWQgbWVzc2FnZSBjb3VudCBmb3IgYSBjb252ZXJzYXRpb24nLFxuICAgIHBhcmFtZXRlclNjaGVtYToge1xuICAgICAgY29udl9pZDoge1xuICAgICAgICB2YWxpZGF0b3I6IElucHV0VmFsaWRhdG9yLnZhbGlkYXRlVVVJRCxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICB9LFxuICAgIH0sXG4gICAgcmlza0xldmVsOiAnbG93JyxcbiAgICByZXF1aXJlc0F1dGg6IHRydWUsXG4gICAgcmF0ZUxpbWl0UGVyTWludXRlOiAxMjAsXG4gIH0sXG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBNRURJQSAmIFNUT1JBR0UgRlVOQ1RJT05TXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgdXBkYXRlX21lZGlhX3N0b3JhZ2VfdXNhZ2U6IHtcbiAgICBuYW1lOiAndXBkYXRlX21lZGlhX3N0b3JhZ2VfdXNhZ2UnLFxuICAgIGRlc2NyaXB0aW9uOiAnVXBkYXRlIG1lZGlhIHN0b3JhZ2UgcXVvdGEgdXNhZ2UnLFxuICAgIHBhcmFtZXRlclNjaGVtYToge1xuICAgICAgb3JnX2lkOiB7XG4gICAgICAgIHZhbGlkYXRvcjogSW5wdXRWYWxpZGF0b3IudmFsaWRhdGVVVUlELFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBxdW90YV90eXBlOiB7XG4gICAgICAgIHZhbGlkYXRvcjogKHZhbHVlKSA9PiBJbnB1dFZhbGlkYXRvci52YWxpZGF0ZVRleHQodmFsdWUsIHsgbWF4TGVuZ3RoOiA1MCB9KSxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgdXNhZ2VfZGVsdGE6IHtcbiAgICAgICAgdmFsaWRhdG9yOiBJbnB1dFZhbGlkYXRvci52YWxpZGF0ZUludGVnZXIsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgfSxcbiAgICB9LFxuICAgIHJpc2tMZXZlbDogJ21lZGl1bScsXG4gICAgcmVxdWlyZXNBdXRoOiB0cnVlLFxuICAgIHJhdGVMaW1pdFBlck1pbnV0ZTogNjAsXG4gIH0sXG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBIRUxQRVIgRlVOQ1RJT05TXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgaXNfc3VwZXJfYWRtaW46IHtcbiAgICBuYW1lOiAnaXNfc3VwZXJfYWRtaW4nLFxuICAgIGRlc2NyaXB0aW9uOiAnQ2hlY2sgaWYgdXNlciBpcyBhIHN1cGVyIGFkbWluJyxcbiAgICBwYXJhbWV0ZXJTY2hlbWE6IHtcbiAgICAgIHVzZXJfaWQ6IHtcbiAgICAgICAgdmFsaWRhdG9yOiBJbnB1dFZhbGlkYXRvci52YWxpZGF0ZVVVSUQsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgb3B0aW9uczogeyBhbGxvd051bGw6IHRydWUgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICByaXNrTGV2ZWw6ICdsb3cnLFxuICAgIHJlcXVpcmVzQXV0aDogdHJ1ZSxcbiAgICByYXRlTGltaXRQZXJNaW51dGU6IDEyMCxcbiAgfSxcbn07XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFJBVEUgTElNSVRJTkdcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW50ZXJmYWNlIFJhdGVMaW1pdEVudHJ5IHtcbiAgY291bnQ6IG51bWJlcjtcbiAgcmVzZXRUaW1lOiBudW1iZXI7XG59XG5cbmNvbnN0IHJhdGVMaW1pdFN0b3JlOiBNYXA8c3RyaW5nLCBSYXRlTGltaXRFbnRyeT4gPSBuZXcgTWFwKCk7XG5cbmZ1bmN0aW9uIGNoZWNrUmF0ZUxpbWl0KGZ1bmN0aW9uTmFtZTogc3RyaW5nLCB1c2VySWQ6IHN0cmluZyB8IG51bGwpOiBib29sZWFuIHtcbiAgY29uc3QgY29uZmlnID0gV0hJVEVMSVNURURfUlBDX0ZVTkNUSU9OU1tmdW5jdGlvbk5hbWVdO1xuICBpZiAoIWNvbmZpZyB8fCAhY29uZmlnLnJhdGVMaW1pdFBlck1pbnV0ZSkge1xuICAgIHJldHVybiB0cnVlOyAvLyBObyByYXRlIGxpbWl0IGNvbmZpZ3VyZWRcbiAgfVxuXG4gIGNvbnN0IGtleSA9IGAke2Z1bmN0aW9uTmFtZX06JHt1c2VySWQgfHwgJ2Fub255bW91cyd9YDtcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgY29uc3QgZW50cnkgPSByYXRlTGltaXRTdG9yZS5nZXQoa2V5KTtcblxuICBpZiAoIWVudHJ5IHx8IGVudHJ5LnJlc2V0VGltZSA8IG5vdykge1xuICAgIC8vIFJlc2V0IG9yIGNyZWF0ZSBuZXcgZW50cnlcbiAgICByYXRlTGltaXRTdG9yZS5zZXQoa2V5LCB7XG4gICAgICBjb3VudDogMSxcbiAgICAgIHJlc2V0VGltZTogbm93ICsgNjAwMDAsIC8vIDEgbWludXRlIGZyb20gbm93XG4gICAgfSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoZW50cnkuY291bnQgPj0gY29uZmlnLnJhdGVMaW1pdFBlck1pbnV0ZSkge1xuICAgIHJldHVybiBmYWxzZTsgLy8gUmF0ZSBsaW1pdCBleGNlZWRlZFxuICB9XG5cbiAgZW50cnkuY291bnQrKztcbiAgcmV0dXJuIHRydWU7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEFVRElUIExPR0dJTkdcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuaW50ZXJmYWNlIEF1ZGl0TG9nRW50cnkge1xuICB0aW1lc3RhbXA6IHN0cmluZztcbiAgZnVuY3Rpb25OYW1lOiBzdHJpbmc7XG4gIHVzZXJJZDogc3RyaW5nIHwgbnVsbDtcbiAgcGFyYW1ldGVyczogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgZXJyb3I/OiBzdHJpbmc7XG4gIGV4ZWN1dGlvblRpbWU/OiBudW1iZXI7XG4gIHJpc2tMZXZlbDogc3RyaW5nO1xufVxuXG5jb25zdCBhdWRpdExvZzogQXVkaXRMb2dFbnRyeVtdID0gW107XG5cbmFzeW5jIGZ1bmN0aW9uIGxvZ1JwY0NhbGwoXG4gIGZ1bmN0aW9uTmFtZTogc3RyaW5nLFxuICB1c2VySWQ6IHN0cmluZyB8IG51bGwsXG4gIHBhcmFtZXRlcnM6IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gIHN1Y2Nlc3M6IGJvb2xlYW4sXG4gIGVycm9yPzogc3RyaW5nLFxuICBleGVjdXRpb25UaW1lPzogbnVtYmVyXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgY29uZmlnID0gV0hJVEVMSVNURURfUlBDX0ZVTkNUSU9OU1tmdW5jdGlvbk5hbWVdO1xuXG4gIGNvbnN0IGVudHJ5OiBBdWRpdExvZ0VudHJ5ID0ge1xuICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIGZ1bmN0aW9uTmFtZSxcbiAgICB1c2VySWQsXG4gICAgcGFyYW1ldGVyczogc2FuaXRpemVQYXJhbWV0ZXJzRm9yTG9nZ2luZyhwYXJhbWV0ZXJzKSxcbiAgICBzdWNjZXNzLFxuICAgIGVycm9yLFxuICAgIGV4ZWN1dGlvblRpbWUsXG4gICAgcmlza0xldmVsOiBjb25maWc/LnJpc2tMZXZlbCB8fCAndW5rbm93bicsXG4gIH07XG5cbiAgYXVkaXRMb2cucHVzaChlbnRyeSk7XG5cbiAgLy8gS2VlcCBvbmx5IGxhc3QgMTAwMCBlbnRyaWVzIGluIG1lbW9yeVxuICBpZiAoYXVkaXRMb2cubGVuZ3RoID4gMTAwMCkge1xuICAgIGF1ZGl0TG9nLnNoaWZ0KCk7XG4gIH1cblxuICAvLyBGb3IgY3JpdGljYWwgb3BlcmF0aW9ucywgbG9nIHRvIGRhdGFiYXNlIG9yIGV4dGVybmFsIHNlcnZpY2VcbiAgaWYgKGNvbmZpZz8ucmlza0xldmVsID09PSAnY3JpdGljYWwnIHx8ICFzdWNjZXNzKSB7XG4gICAgLy8gVE9ETzogSW1wbGVtZW50IGRhdGFiYXNlIGxvZ2dpbmcgZm9yIGNyaXRpY2FsIG9wZXJhdGlvbnNcbiAgICBjb25zb2xlLndhcm4oJ1tTRUNVUkUgUlBDIEFVRElUXScsIGVudHJ5KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzYW5pdGl6ZVBhcmFtZXRlcnNGb3JMb2dnaW5nKHBhcmFtczogUmVjb3JkPHN0cmluZywgYW55Pik6IFJlY29yZDxzdHJpbmcsIGFueT4ge1xuICBjb25zdCBzYW5pdGl6ZWQ6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcblxuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwYXJhbXMpKSB7XG4gICAgLy8gUmVkYWN0IHNlbnNpdGl2ZSBmaWVsZHNcbiAgICBpZiAoXG4gICAgICBrZXkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygncGFzc3dvcmQnKSB8fFxuICAgICAga2V5LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3NlY3JldCcpIHx8XG4gICAgICBrZXkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygndG9rZW4nKVxuICAgICkge1xuICAgICAgc2FuaXRpemVkW2tleV0gPSAnW1JFREFDVEVEXSc7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLmxlbmd0aCA+IDEwMCkge1xuICAgICAgc2FuaXRpemVkW2tleV0gPSB2YWx1ZS5zdWJzdHJpbmcoMCwgMTAwKSArICcuLi5bVFJVTkNBVEVEXSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNhbml0aXplZFtrZXldID0gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHNhbml0aXplZDtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0VDVVJFIFJQQyBJTVBMRU1FTlRBVElPTlxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIFNlY3VyZSB3cmFwcGVyIGFyb3VuZCBTdXBhYmFzZSBSUEMgZnVuY3Rpb24gY2FsbHNcbiAqXG4gKiBAcGFyYW0gc3VwYWJhc2UgLSBTdXBhYmFzZSBjbGllbnQgaW5zdGFuY2VcbiAqIEBwYXJhbSBmdW5jdGlvbk5hbWUgLSBOYW1lIG9mIHRoZSBSUEMgZnVuY3Rpb24gdG8gY2FsbFxuICogQHBhcmFtIHBhcmFtcyAtIFBhcmFtZXRlcnMgdG8gcGFzcyB0byB0aGUgZnVuY3Rpb25cbiAqIEBwYXJhbSBvcHRpb25zIC0gQWRkaXRpb25hbCBvcHRpb25zIGZvciB0aGUgY2FsbFxuICogQHJldHVybnMgUHJvbWlzZSB3aXRoIHJlc3VsdCBhbmQgZXJyb3JcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlY3VyZVJwYzxUID0gYW55PihcbiAgc3VwYWJhc2U6IFN1cGFiYXNlQ2xpZW50LFxuICBmdW5jdGlvbk5hbWU6IHN0cmluZyxcbiAgcGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge30sXG4gIG9wdGlvbnM6IFNlY3VyZVJwY09wdGlvbnMgPSB7fVxuKTogUHJvbWlzZTxTZWN1cmVScGNSZXN1bHQ8VD4+IHtcbiAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgbGV0IHVzZXJJZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cbiAgdHJ5IHtcbiAgICAvLyBHZXQgY3VycmVudCB1c2VyIGZvciBhdWRpdCBsb2dnaW5nIGFuZCByYXRlIGxpbWl0aW5nXG4gICAgY29uc3Qge1xuICAgICAgZGF0YTogeyB1c2VyIH0sXG4gICAgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuICAgIHVzZXJJZCA9IHVzZXI/LmlkIHx8IG51bGw7XG5cbiAgICAvLyBTdGVwIDE6IFZhbGlkYXRlIGZ1bmN0aW9uIG5hbWUgaXMgd2hpdGVsaXN0ZWRcbiAgICBjb25zdCBmdW5jdGlvbkNvbmZpZyA9IFdISVRFTElTVEVEX1JQQ19GVU5DVElPTlNbZnVuY3Rpb25OYW1lXTtcbiAgICBpZiAoIWZ1bmN0aW9uQ29uZmlnKSB7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgUlBDIGZ1bmN0aW9uICcke2Z1bmN0aW9uTmFtZX0nIGlzIG5vdCB3aGl0ZWxpc3RlZGApO1xuICAgICAgYXdhaXQgbG9nUnBjQ2FsbChmdW5jdGlvbk5hbWUsIHVzZXJJZCwgcGFyYW1zLCBmYWxzZSwgZXJyb3IubWVzc2FnZSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICBlcnJvcixcbiAgICAgICAgZXhlY3V0aW9uVGltZTogRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gU3RlcCAyOiBDaGVjayBhdXRoZW50aWNhdGlvbiByZXF1aXJlbWVudFxuICAgIGlmIChmdW5jdGlvbkNvbmZpZy5yZXF1aXJlc0F1dGggJiYgIXVzZXJJZCkge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYEF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkIGZvciAnJHtmdW5jdGlvbk5hbWV9J2ApO1xuICAgICAgYXdhaXQgbG9nUnBjQ2FsbChmdW5jdGlvbk5hbWUsIHVzZXJJZCwgcGFyYW1zLCBmYWxzZSwgZXJyb3IubWVzc2FnZSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICBlcnJvcixcbiAgICAgICAgZXhlY3V0aW9uVGltZTogRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gU3RlcCAzOiBDaGVjayByYXRlIGxpbWl0XG4gICAgaWYgKCFjaGVja1JhdGVMaW1pdChmdW5jdGlvbk5hbWUsIHVzZXJJZCkpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBSYXRlIGxpbWl0IGV4Y2VlZGVkIGZvciAnJHtmdW5jdGlvbk5hbWV9J2ApO1xuICAgICAgYXdhaXQgbG9nUnBjQ2FsbChmdW5jdGlvbk5hbWUsIHVzZXJJZCwgcGFyYW1zLCBmYWxzZSwgZXJyb3IubWVzc2FnZSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICBlcnJvcixcbiAgICAgICAgZXhlY3V0aW9uVGltZTogRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gU3RlcCA0OiBWYWxpZGF0ZSBhbmQgc2FuaXRpemUgcGFyYW1ldGVyc1xuICAgIGxldCBzYW5pdGl6ZWRQYXJhbXMgPSBwYXJhbXM7XG4gICAgbGV0IHZhbGlkYXRpb25FcnJvcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuICAgIGlmICghb3B0aW9ucy5za2lwVmFsaWRhdGlvbikge1xuICAgICAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9IElucHV0VmFsaWRhdG9yLnZhbGlkYXRlU2NoZW1hKHBhcmFtcywgZnVuY3Rpb25Db25maWcucGFyYW1ldGVyU2NoZW1hKTtcblxuICAgICAgaWYgKCF2YWxpZGF0aW9uUmVzdWx0LmlzVmFsaWQpIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ1BhcmFtZXRlciB2YWxpZGF0aW9uIGZhaWxlZCcpO1xuICAgICAgICBhd2FpdCBsb2dScGNDYWxsKGZ1bmN0aW9uTmFtZSwgdXNlcklkLCBwYXJhbXMsIGZhbHNlLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICAgIGVycm9yLFxuICAgICAgICAgIHZhbGlkYXRpb25FcnJvcnM6IHZhbGlkYXRpb25SZXN1bHQuZXJyb3JzLFxuICAgICAgICAgIGV4ZWN1dGlvblRpbWU6IERhdGUubm93KCkgLSBzdGFydFRpbWUsXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHNhbml0aXplZFBhcmFtcyA9IHZhbGlkYXRpb25SZXN1bHQuc2FuaXRpemVkRGF0YTtcbiAgICB9XG5cbiAgICAvLyBTdGVwIDU6IEFwcGx5IGN1c3RvbSB2YWxpZGF0b3JzIGlmIHByb3ZpZGVkXG4gICAgaWYgKG9wdGlvbnMuY3VzdG9tVmFsaWRhdG9ycykge1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWxpZGF0b3JdIG9mIE9iamVjdC5lbnRyaWVzKG9wdGlvbnMuY3VzdG9tVmFsaWRhdG9ycykpIHtcbiAgICAgICAgaWYgKGtleSBpbiBzYW5pdGl6ZWRQYXJhbXMpIHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0b3Ioc2FuaXRpemVkUGFyYW1zW2tleV0pO1xuICAgICAgICAgIGlmICghcmVzdWx0LmlzVmFsaWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBDdXN0b20gdmFsaWRhdGlvbiBmYWlsZWQgZm9yIHBhcmFtZXRlciAnJHtrZXl9J2ApO1xuICAgICAgICAgICAgYXdhaXQgbG9nUnBjQ2FsbChmdW5jdGlvbk5hbWUsIHVzZXJJZCwgcGFyYW1zLCBmYWxzZSwgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgdmFsaWRhdGlvbkVycm9yczogeyBba2V5XTogcmVzdWx0LmVycm9yIHx8ICdWYWxpZGF0aW9uIGZhaWxlZCcgfSxcbiAgICAgICAgICAgICAgZXhlY3V0aW9uVGltZTogRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHNhbml0aXplZFBhcmFtc1trZXldID0gcmVzdWx0LnNhbml0aXplZFZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU3RlcCA2OiBFeGVjdXRlIHRoZSBSUEMgZnVuY3Rpb25cbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoZnVuY3Rpb25OYW1lLCBzYW5pdGl6ZWRQYXJhbXMpO1xuXG4gICAgY29uc3QgZXhlY3V0aW9uVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG5cbiAgICAvLyBTdGVwIDc6IExvZyB0aGUgY2FsbFxuICAgIGlmICghb3B0aW9ucy5za2lwQXVkaXRMb2cpIHtcbiAgICAgIGF3YWl0IGxvZ1JwY0NhbGwoXG4gICAgICAgIGZ1bmN0aW9uTmFtZSxcbiAgICAgICAgdXNlcklkLFxuICAgICAgICBzYW5pdGl6ZWRQYXJhbXMsXG4gICAgICAgICFlcnJvcixcbiAgICAgICAgZXJyb3I/Lm1lc3NhZ2UsXG4gICAgICAgIGV4ZWN1dGlvblRpbWVcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gU3RlcCA4OiBSZXR1cm4gcmVzdWx0XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICBlcnJvcjogbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UpLFxuICAgICAgICBleGVjdXRpb25UaW1lLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgZGF0YTogZGF0YSBhcyBULFxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgICBleGVjdXRpb25UaW1lLFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc3QgZXhlY3V0aW9uVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG4gICAgY29uc3QgZXJyID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKCdVbmtub3duIGVycm9yJyk7XG5cbiAgICBhd2FpdCBsb2dScGNDYWxsKGZ1bmN0aW9uTmFtZSwgdXNlcklkLCBwYXJhbXMsIGZhbHNlLCBlcnIubWVzc2FnZSwgZXhlY3V0aW9uVGltZSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZGF0YTogbnVsbCxcbiAgICAgIGVycm9yOiBlcnIsXG4gICAgICBleGVjdXRpb25UaW1lLFxuICAgIH07XG4gIH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVVRJTElUWSBGVU5DVElPTlNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBHZXQgYXVkaXQgbG9nIGZvciBhbmFseXNpc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXVkaXRMb2coKTogQXVkaXRMb2dFbnRyeVtdIHtcbiAgcmV0dXJuIFsuLi5hdWRpdExvZ107IC8vIFJldHVybiBjb3B5XG59XG5cbi8qKlxuICogQ2xlYXIgYXVkaXQgbG9nICh1c2Ugd2l0aCBjYXV0aW9uKVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJBdWRpdExvZygpOiB2b2lkIHtcbiAgYXVkaXRMb2cubGVuZ3RoID0gMDtcbn1cblxuLyoqXG4gKiBHZXQgcmF0ZSBsaW1pdCBzdGF0aXN0aWNzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSYXRlTGltaXRTdGF0cygpOiBNYXA8c3RyaW5nLCBSYXRlTGltaXRFbnRyeT4ge1xuICByZXR1cm4gbmV3IE1hcChyYXRlTGltaXRTdG9yZSk7IC8vIFJldHVybiBjb3B5XG59XG5cbi8qKlxuICogQ2xlYXIgcmF0ZSBsaW1pdCBjYWNoZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJSYXRlTGltaXRDYWNoZSgpOiB2b2lkIHtcbiAgcmF0ZUxpbWl0U3RvcmUuY2xlYXIoKTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBhIGZ1bmN0aW9uIGlzIHdoaXRlbGlzdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1doaXRlbGlzdGVkKGZ1bmN0aW9uTmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiBmdW5jdGlvbk5hbWUgaW4gV0hJVEVMSVNURURfUlBDX0ZVTkNUSU9OUztcbn1cblxuLyoqXG4gKiBHZXQgZnVuY3Rpb24gY29uZmlndXJhdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RnVuY3Rpb25Db25maWcoZnVuY3Rpb25OYW1lOiBzdHJpbmcpOiBScGNGdW5jdGlvbkNvbmZpZyB8IG51bGwge1xuICByZXR1cm4gV0hJVEVMSVNURURfUlBDX0ZVTkNUSU9OU1tmdW5jdGlvbk5hbWVdIHx8IG51bGw7XG59XG5cbi8qKlxuICogQWRkIGEgbmV3IGZ1bmN0aW9uIHRvIHdoaXRlbGlzdCAodXNlIHdpdGggY2F1dGlvbiBpbiBwcm9kdWN0aW9uKVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkVG9XaGl0ZWxpc3QoY29uZmlnOiBScGNGdW5jdGlvbkNvbmZpZyk6IHZvaWQge1xuICBpZiAoV0hJVEVMSVNURURfUlBDX0ZVTkNUSU9OU1tjb25maWcubmFtZV0pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZ1bmN0aW9uICcke2NvbmZpZy5uYW1lfScgaXMgYWxyZWFkeSB3aGl0ZWxpc3RlZGApO1xuICB9XG4gIFdISVRFTElTVEVEX1JQQ19GVU5DVElPTlNbY29uZmlnLm5hbWVdID0gY29uZmlnO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBFWFBPUlRTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBkZWZhdWx0IHNlY3VyZVJwYztcbiJdLCJuYW1lcyI6WyJXSElURUxJU1RFRF9SUENfRlVOQ1RJT05TIiwiYWRkVG9XaGl0ZWxpc3QiLCJjbGVhckF1ZGl0TG9nIiwiY2xlYXJSYXRlTGltaXRDYWNoZSIsImdldEF1ZGl0TG9nIiwiZ2V0RnVuY3Rpb25Db25maWciLCJnZXRSYXRlTGltaXRTdGF0cyIsImlzV2hpdGVsaXN0ZWQiLCJzZWN1cmVScGMiLCJnZXRfcmV2ZW51ZV9hbmFseXRpY3MiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJwYXJhbWV0ZXJTY2hlbWEiLCJzdGFydF9kYXRlIiwidmFsaWRhdG9yIiwiSW5wdXRWYWxpZGF0b3IiLCJ2YWxpZGF0ZURhdGUiLCJyZXF1aXJlZCIsImVuZF9kYXRlIiwiZ3JhbnVsYXJpdHkiLCJ2YWx1ZSIsInZhbGlkYXRlRW51bSIsInJpc2tMZXZlbCIsInJlcXVpcmVzQXV0aCIsInJhdGVMaW1pdFBlck1pbnV0ZSIsImdldF91c2VyX2VuZ2FnZW1lbnRfbWV0cmljcyIsIm9yZ2FuaXphdGlvbl9pZCIsInZhbGlkYXRlVVVJRCIsIm9wdGlvbnMiLCJhbGxvd051bGwiLCJnZXRfc3lzdGVtX3BlcmZvcm1hbmNlX21ldHJpY3MiLCJpbnRlcnZhbF90eXBlIiwicHJlZGljdF9jaHVybl9yYXRlIiwicGVyaW9kc19haGVhZCIsInZhbGlkYXRlSW50ZWdlciIsInByZWRpY3RfbmV3X2N1c3RvbWVycyIsImxvZ19zdXBlcl9hZG1pbl9hY3Rpb24iLCJhZG1pbl91c2VyX2lkIiwiYWN0aW9uX25hbWUiLCJ2YWxpZGF0ZVRleHQiLCJtYXhMZW5ndGgiLCJ0YXJnZXRfdHlwZSIsInRhcmdldF9pZCIsImFjdGlvbl9kZXRhaWxzIiwidmFsaWRhdGVKU09OIiwiaXBfYWRkciIsInVzZXJfYWdlbnQiLCJnZXRfb3JnYW5pemF0aW9uX21ldHJpY3Nfc3VtbWFyeSIsIm9yZ19pZCIsImRheXMiLCJzdXNwZW5kX29yZ2FuaXphdGlvbiIsInJlYXNvbiIsInN1c3BlbmRlZF9ieV9pZCIsInJlYWN0aXZhdGVfb3JnYW5pemF0aW9uIiwicmVhY3RpdmF0ZWRfYnlfaWQiLCJ0cmFja191c2FnZV9ldmVudCIsImV2ZW50X3R5cGVfcGFyYW0iLCJldmVudF9jYXRlZ29yeV9wYXJhbSIsInJlc291cmNlX2Ftb3VudF9wYXJhbSIsImJ5dGVzX2NvbnN1bWVkX3BhcmFtIiwiYWRkaXRpb25hbF9tZXRhZGF0YSIsImNoZWNrX3VzYWdlX2xpbWl0cyIsImxpbWl0X3R5cGVfcGFyYW0iLCJnZXRfdGVuYW50X2J5X2RvbWFpbiIsImRvbWFpbl9uYW1lIiwiZ2V0X2NvbnZlcnNhdGlvbl91bnJlYWRfY291bnQiLCJjb252X2lkIiwidXBkYXRlX21lZGlhX3N0b3JhZ2VfdXNhZ2UiLCJxdW90YV90eXBlIiwidXNhZ2VfZGVsdGEiLCJpc19zdXBlcl9hZG1pbiIsInVzZXJfaWQiLCJyYXRlTGltaXRTdG9yZSIsIk1hcCIsImNoZWNrUmF0ZUxpbWl0IiwiZnVuY3Rpb25OYW1lIiwidXNlcklkIiwiY29uZmlnIiwia2V5Iiwibm93IiwiRGF0ZSIsImVudHJ5IiwiZ2V0IiwicmVzZXRUaW1lIiwic2V0IiwiY291bnQiLCJhdWRpdExvZyIsImxvZ1JwY0NhbGwiLCJwYXJhbWV0ZXJzIiwic3VjY2VzcyIsImVycm9yIiwiZXhlY3V0aW9uVGltZSIsInRpbWVzdGFtcCIsInRvSVNPU3RyaW5nIiwic2FuaXRpemVQYXJhbWV0ZXJzRm9yTG9nZ2luZyIsInB1c2giLCJsZW5ndGgiLCJzaGlmdCIsImNvbnNvbGUiLCJ3YXJuIiwicGFyYW1zIiwic2FuaXRpemVkIiwiT2JqZWN0IiwiZW50cmllcyIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJzdWJzdHJpbmciLCJzdXBhYmFzZSIsInN0YXJ0VGltZSIsImRhdGEiLCJ1c2VyIiwiYXV0aCIsImdldFVzZXIiLCJpZCIsImZ1bmN0aW9uQ29uZmlnIiwiRXJyb3IiLCJtZXNzYWdlIiwic2FuaXRpemVkUGFyYW1zIiwidmFsaWRhdGlvbkVycm9ycyIsInNraXBWYWxpZGF0aW9uIiwidmFsaWRhdGlvblJlc3VsdCIsInZhbGlkYXRlU2NoZW1hIiwiaXNWYWxpZCIsImVycm9ycyIsInNhbml0aXplZERhdGEiLCJjdXN0b21WYWxpZGF0b3JzIiwicmVzdWx0Iiwic2FuaXRpemVkVmFsdWUiLCJycGMiLCJza2lwQXVkaXRMb2ciLCJlcnIiLCJjbGVhciJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0F5QkM7Ozs7Ozs7Ozs7O1FBOENZQTtlQUFBQTs7UUErbkJHQztlQUFBQTs7UUFuQ0FDO2VBQUFBOztRQWNBQztlQUFBQTs7UUE0QmhCLCtFQUErRTtJQUMvRSxVQUFVO0lBQ1YsK0VBQStFO0lBRS9FO2VBQUE7O1FBckRnQkM7ZUFBQUE7O1FBbUNBQztlQUFBQTs7UUFyQkFDO2VBQUFBOztRQWNBQztlQUFBQTs7UUEzS01DO2VBQUFBOzs7aUNBNWVmO0FBc0NBLE1BQU1SLDRCQUErRDtJQUMxRSwyQ0FBMkM7SUFDM0Msa0NBQWtDO0lBQ2xDLDJDQUEyQztJQUMzQ1MsdUJBQXVCO1FBQ3JCQyxNQUFNO1FBQ05DLGFBQWE7UUFDYkMsaUJBQWlCO1lBQ2ZDLFlBQVk7Z0JBQ1ZDLFdBQVdDLCtCQUFjLENBQUNDLFlBQVk7Z0JBQ3RDQyxVQUFVO1lBQ1o7WUFDQUMsVUFBVTtnQkFDUkosV0FBV0MsK0JBQWMsQ0FBQ0MsWUFBWTtnQkFDdENDLFVBQVU7WUFDWjtZQUNBRSxhQUFhO2dCQUNYTCxXQUFXLENBQUNNLFFBQVVMLCtCQUFjLENBQUNNLFlBQVksQ0FBQ0QsT0FBTzt3QkFBQzt3QkFBTzt3QkFBUTtxQkFBUTtnQkFDakZILFVBQVU7WUFDWjtRQUNGO1FBQ0FLLFdBQVc7UUFDWEMsY0FBYztRQUNkQyxvQkFBb0I7SUFDdEI7SUFFQUMsNkJBQTZCO1FBQzNCZixNQUFNO1FBQ05DLGFBQWE7UUFDYkMsaUJBQWlCO1lBQ2ZDLFlBQVk7Z0JBQ1ZDLFdBQVdDLCtCQUFjLENBQUNDLFlBQVk7Z0JBQ3RDQyxVQUFVO1lBQ1o7WUFDQUMsVUFBVTtnQkFDUkosV0FBV0MsK0JBQWMsQ0FBQ0MsWUFBWTtnQkFDdENDLFVBQVU7WUFDWjtZQUNBUyxpQkFBaUI7Z0JBQ2ZaLFdBQVdDLCtCQUFjLENBQUNZLFlBQVk7Z0JBQ3RDVixVQUFVO2dCQUNWVyxTQUFTO29CQUFFQyxXQUFXO2dCQUFLO1lBQzdCO1FBQ0Y7UUFDQVAsV0FBVztRQUNYQyxjQUFjO1FBQ2RDLG9CQUFvQjtJQUN0QjtJQUVBTSxnQ0FBZ0M7UUFDOUJwQixNQUFNO1FBQ05DLGFBQWE7UUFDYkMsaUJBQWlCO1lBQ2ZDLFlBQVk7Z0JBQ1ZDLFdBQVdDLCtCQUFjLENBQUNDLFlBQVk7Z0JBQ3RDQyxVQUFVO1lBQ1o7WUFDQUMsVUFBVTtnQkFDUkosV0FBV0MsK0JBQWMsQ0FBQ0MsWUFBWTtnQkFDdENDLFVBQVU7WUFDWjtZQUNBYyxlQUFlO2dCQUNiakIsV0FBVyxDQUFDTSxRQUFVTCwrQkFBYyxDQUFDTSxZQUFZLENBQUNELE9BQU87d0JBQUM7d0JBQVU7d0JBQVE7cUJBQU07Z0JBQ2xGSCxVQUFVO1lBQ1o7UUFDRjtRQUNBSyxXQUFXO1FBQ1hDLGNBQWM7UUFDZEMsb0JBQW9CO0lBQ3RCO0lBRUFRLG9CQUFvQjtRQUNsQnRCLE1BQU07UUFDTkMsYUFBYTtRQUNiQyxpQkFBaUI7WUFDZnFCLGVBQWU7Z0JBQ2JuQixXQUFXQywrQkFBYyxDQUFDbUIsZUFBZTtnQkFDekNqQixVQUFVO1lBQ1o7UUFDRjtRQUNBSyxXQUFXO1FBQ1hDLGNBQWM7UUFDZEMsb0JBQW9CO0lBQ3RCO0lBRUFXLHVCQUF1QjtRQUNyQnpCLE1BQU07UUFDTkMsYUFBYTtRQUNiQyxpQkFBaUI7WUFDZnFCLGVBQWU7Z0JBQ2JuQixXQUFXQywrQkFBYyxDQUFDbUIsZUFBZTtnQkFDekNqQixVQUFVO1lBQ1o7UUFDRjtRQUNBSyxXQUFXO1FBQ1hDLGNBQWM7UUFDZEMsb0JBQW9CO0lBQ3RCO0lBRUEsMkNBQTJDO0lBQzNDLHdCQUF3QjtJQUN4QiwyQ0FBMkM7SUFDM0NZLHdCQUF3QjtRQUN0QjFCLE1BQU07UUFDTkMsYUFBYTtRQUNiQyxpQkFBaUI7WUFDZnlCLGVBQWU7Z0JBQ2J2QixXQUFXQywrQkFBYyxDQUFDWSxZQUFZO2dCQUN0Q1YsVUFBVTtZQUNaO1lBQ0FxQixhQUFhO2dCQUNYeEIsV0FBVyxDQUFDTSxRQUFVTCwrQkFBYyxDQUFDd0IsWUFBWSxDQUFDbkIsT0FBTzt3QkFBRW9CLFdBQVc7b0JBQUk7Z0JBQzFFdkIsVUFBVTtZQUNaO1lBQ0F3QixhQUFhO2dCQUNYM0IsV0FBVyxDQUFDTSxRQUNWTCwrQkFBYyxDQUFDTSxZQUFZLENBQUNELE9BQU87d0JBQUM7d0JBQWdCO3dCQUFXO3dCQUFVO3FCQUFVO2dCQUNyRkgsVUFBVTtZQUNaO1lBQ0F5QixXQUFXO2dCQUNUNUIsV0FBV0MsK0JBQWMsQ0FBQ1ksWUFBWTtnQkFDdENWLFVBQVU7Z0JBQ1ZXLFNBQVM7b0JBQUVDLFdBQVc7Z0JBQUs7WUFDN0I7WUFDQWMsZ0JBQWdCO2dCQUNkN0IsV0FBV0MsK0JBQWMsQ0FBQzZCLFlBQVk7Z0JBQ3RDM0IsVUFBVTtZQUNaO1lBQ0E0QixTQUFTO2dCQUNQL0IsV0FBVyxDQUFDTSxRQUFVTCwrQkFBYyxDQUFDd0IsWUFBWSxDQUFDbkIsT0FBTzt3QkFBRW9CLFdBQVc7d0JBQUlYLFdBQVc7b0JBQUs7Z0JBQzFGWixVQUFVO1lBQ1o7WUFDQTZCLFlBQVk7Z0JBQ1ZoQyxXQUFXLENBQUNNLFFBQVVMLCtCQUFjLENBQUN3QixZQUFZLENBQUNuQixPQUFPO3dCQUFFb0IsV0FBVzt3QkFBS1gsV0FBVztvQkFBSztnQkFDM0ZaLFVBQVU7WUFDWjtRQUNGO1FBQ0FLLFdBQVc7UUFDWEMsY0FBYztRQUNkQyxvQkFBb0I7SUFDdEI7SUFFQXVCLGtDQUFrQztRQUNoQ3JDLE1BQU07UUFDTkMsYUFBYTtRQUNiQyxpQkFBaUI7WUFDZm9DLFFBQVE7Z0JBQ05sQyxXQUFXQywrQkFBYyxDQUFDWSxZQUFZO2dCQUN0Q1YsVUFBVTtZQUNaO1lBQ0FnQyxNQUFNO2dCQUNKbkMsV0FBV0MsK0JBQWMsQ0FBQ21CLGVBQWU7Z0JBQ3pDakIsVUFBVTtZQUNaO1FBQ0Y7UUFDQUssV0FBVztRQUNYQyxjQUFjO1FBQ2RDLG9CQUFvQjtJQUN0QjtJQUVBMEIsc0JBQXNCO1FBQ3BCeEMsTUFBTTtRQUNOQyxhQUFhO1FBQ2JDLGlCQUFpQjtZQUNmb0MsUUFBUTtnQkFDTmxDLFdBQVdDLCtCQUFjLENBQUNZLFlBQVk7Z0JBQ3RDVixVQUFVO1lBQ1o7WUFDQWtDLFFBQVE7Z0JBQ05yQyxXQUFXLENBQUNNLFFBQVVMLCtCQUFjLENBQUN3QixZQUFZLENBQUNuQixPQUFPO3dCQUFFb0IsV0FBVztvQkFBSTtnQkFDMUV2QixVQUFVO1lBQ1o7WUFDQW1DLGlCQUFpQjtnQkFDZnRDLFdBQVdDLCtCQUFjLENBQUNZLFlBQVk7Z0JBQ3RDVixVQUFVO1lBQ1o7UUFDRjtRQUNBSyxXQUFXO1FBQ1hDLGNBQWM7UUFDZEMsb0JBQW9CO0lBQ3RCO0lBRUE2Qix5QkFBeUI7UUFDdkIzQyxNQUFNO1FBQ05DLGFBQWE7UUFDYkMsaUJBQWlCO1lBQ2ZvQyxRQUFRO2dCQUNObEMsV0FBV0MsK0JBQWMsQ0FBQ1ksWUFBWTtnQkFDdENWLFVBQVU7WUFDWjtZQUNBcUMsbUJBQW1CO2dCQUNqQnhDLFdBQVdDLCtCQUFjLENBQUNZLFlBQVk7Z0JBQ3RDVixVQUFVO1lBQ1o7UUFDRjtRQUNBSyxXQUFXO1FBQ1hDLGNBQWM7UUFDZEMsb0JBQW9CO0lBQ3RCO0lBRUEsMkNBQTJDO0lBQzNDLDJCQUEyQjtJQUMzQiwyQ0FBMkM7SUFDM0MrQixtQkFBbUI7UUFDakI3QyxNQUFNO1FBQ05DLGFBQWE7UUFDYkMsaUJBQWlCO1lBQ2ZvQyxRQUFRO2dCQUNObEMsV0FBV0MsK0JBQWMsQ0FBQ1ksWUFBWTtnQkFDdENWLFVBQVU7WUFDWjtZQUNBdUMsa0JBQWtCO2dCQUNoQjFDLFdBQVcsQ0FBQ00sUUFBVUwsK0JBQWMsQ0FBQ3dCLFlBQVksQ0FBQ25CLE9BQU87d0JBQUVvQixXQUFXO29CQUFHO2dCQUN6RXZCLFVBQVU7WUFDWjtZQUNBd0Msc0JBQXNCO2dCQUNwQjNDLFdBQVcsQ0FBQ00sUUFBVUwsK0JBQWMsQ0FBQ3dCLFlBQVksQ0FBQ25CLE9BQU87d0JBQUVvQixXQUFXO29CQUFHO2dCQUN6RXZCLFVBQVU7WUFDWjtZQUNBeUMsdUJBQXVCO2dCQUNyQjVDLFdBQVdDLCtCQUFjLENBQUNtQixlQUFlO2dCQUN6Q2pCLFVBQVU7WUFDWjtZQUNBMEMsc0JBQXNCO2dCQUNwQjdDLFdBQVdDLCtCQUFjLENBQUNtQixlQUFlO2dCQUN6Q2pCLFVBQVU7WUFDWjtZQUNBMkMscUJBQXFCO2dCQUNuQjlDLFdBQVdDLCtCQUFjLENBQUM2QixZQUFZO2dCQUN0QzNCLFVBQVU7WUFDWjtRQUNGO1FBQ0FLLFdBQVc7UUFDWEMsY0FBYztRQUNkQyxvQkFBb0I7SUFDdEI7SUFFQXFDLG9CQUFvQjtRQUNsQm5ELE1BQU07UUFDTkMsYUFBYTtRQUNiQyxpQkFBaUI7WUFDZm9DLFFBQVE7Z0JBQ05sQyxXQUFXQywrQkFBYyxDQUFDWSxZQUFZO2dCQUN0Q1YsVUFBVTtZQUNaO1lBQ0E2QyxrQkFBa0I7Z0JBQ2hCaEQsV0FBVyxDQUFDTSxRQUFVTCwrQkFBYyxDQUFDd0IsWUFBWSxDQUFDbkIsT0FBTzt3QkFBRW9CLFdBQVc7b0JBQUc7Z0JBQ3pFdkIsVUFBVTtZQUNaO1FBQ0Y7UUFDQUssV0FBVztRQUNYQyxjQUFjO1FBQ2RDLG9CQUFvQjtJQUN0QjtJQUVBdUMsc0JBQXNCO1FBQ3BCckQsTUFBTTtRQUNOQyxhQUFhO1FBQ2JDLGlCQUFpQjtZQUNmb0QsYUFBYTtnQkFDWGxELFdBQVcsQ0FBQ00sUUFBVUwsK0JBQWMsQ0FBQ3dCLFlBQVksQ0FBQ25CLE9BQU87d0JBQUVvQixXQUFXO29CQUFJO2dCQUMxRXZCLFVBQVU7WUFDWjtRQUNGO1FBQ0FLLFdBQVc7UUFDWEMsY0FBYztRQUNkQyxvQkFBb0I7SUFDdEI7SUFFQSwyQ0FBMkM7SUFDM0MsbUNBQW1DO0lBQ25DLDJDQUEyQztJQUMzQ3lDLCtCQUErQjtRQUM3QnZELE1BQU07UUFDTkMsYUFBYTtRQUNiQyxpQkFBaUI7WUFDZnNELFNBQVM7Z0JBQ1BwRCxXQUFXQywrQkFBYyxDQUFDWSxZQUFZO2dCQUN0Q1YsVUFBVTtZQUNaO1FBQ0Y7UUFDQUssV0FBVztRQUNYQyxjQUFjO1FBQ2RDLG9CQUFvQjtJQUN0QjtJQUVBLDJDQUEyQztJQUMzQyw0QkFBNEI7SUFDNUIsMkNBQTJDO0lBQzNDMkMsNEJBQTRCO1FBQzFCekQsTUFBTTtRQUNOQyxhQUFhO1FBQ2JDLGlCQUFpQjtZQUNmb0MsUUFBUTtnQkFDTmxDLFdBQVdDLCtCQUFjLENBQUNZLFlBQVk7Z0JBQ3RDVixVQUFVO1lBQ1o7WUFDQW1ELFlBQVk7Z0JBQ1Z0RCxXQUFXLENBQUNNLFFBQVVMLCtCQUFjLENBQUN3QixZQUFZLENBQUNuQixPQUFPO3dCQUFFb0IsV0FBVztvQkFBRztnQkFDekV2QixVQUFVO1lBQ1o7WUFDQW9ELGFBQWE7Z0JBQ1h2RCxXQUFXQywrQkFBYyxDQUFDbUIsZUFBZTtnQkFDekNqQixVQUFVO1lBQ1o7UUFDRjtRQUNBSyxXQUFXO1FBQ1hDLGNBQWM7UUFDZEMsb0JBQW9CO0lBQ3RCO0lBRUEsMkNBQTJDO0lBQzNDLG1CQUFtQjtJQUNuQiwyQ0FBMkM7SUFDM0M4QyxnQkFBZ0I7UUFDZDVELE1BQU07UUFDTkMsYUFBYTtRQUNiQyxpQkFBaUI7WUFDZjJELFNBQVM7Z0JBQ1B6RCxXQUFXQywrQkFBYyxDQUFDWSxZQUFZO2dCQUN0Q1YsVUFBVTtnQkFDVlcsU0FBUztvQkFBRUMsV0FBVztnQkFBSztZQUM3QjtRQUNGO1FBQ0FQLFdBQVc7UUFDWEMsY0FBYztRQUNkQyxvQkFBb0I7SUFDdEI7QUFDRjtBQVdBLE1BQU1nRCxpQkFBOEMsSUFBSUM7QUFFeEQsU0FBU0MsZUFBZUMsWUFBb0IsRUFBRUMsTUFBcUI7SUFDakUsTUFBTUMsU0FBUzdFLHlCQUF5QixDQUFDMkUsYUFBYTtJQUN0RCxJQUFJLENBQUNFLFVBQVUsQ0FBQ0EsT0FBT3JELGtCQUFrQixFQUFFO1FBQ3pDLE9BQU8sTUFBTSwyQkFBMkI7SUFDMUM7SUFFQSxNQUFNc0QsTUFBTSxHQUFHSCxhQUFhLENBQUMsRUFBRUMsVUFBVSxhQUFhO0lBQ3RELE1BQU1HLE1BQU1DLEtBQUtELEdBQUc7SUFDcEIsTUFBTUUsUUFBUVQsZUFBZVUsR0FBRyxDQUFDSjtJQUVqQyxJQUFJLENBQUNHLFNBQVNBLE1BQU1FLFNBQVMsR0FBR0osS0FBSztRQUNuQyw0QkFBNEI7UUFDNUJQLGVBQWVZLEdBQUcsQ0FBQ04sS0FBSztZQUN0Qk8sT0FBTztZQUNQRixXQUFXSixNQUFNO1FBQ25CO1FBQ0EsT0FBTztJQUNUO0lBRUEsSUFBSUUsTUFBTUksS0FBSyxJQUFJUixPQUFPckQsa0JBQWtCLEVBQUU7UUFDNUMsT0FBTyxPQUFPLHNCQUFzQjtJQUN0QztJQUVBeUQsTUFBTUksS0FBSztJQUNYLE9BQU87QUFDVDtBQWlCQSxNQUFNQyxXQUE0QixFQUFFO0FBRXBDLGVBQWVDLFdBQ2JaLFlBQW9CLEVBQ3BCQyxNQUFxQixFQUNyQlksVUFBK0IsRUFDL0JDLE9BQWdCLEVBQ2hCQyxLQUFjLEVBQ2RDLGFBQXNCO0lBRXRCLE1BQU1kLFNBQVM3RSx5QkFBeUIsQ0FBQzJFLGFBQWE7SUFFdEQsTUFBTU0sUUFBdUI7UUFDM0JXLFdBQVcsSUFBSVosT0FBT2EsV0FBVztRQUNqQ2xCO1FBQ0FDO1FBQ0FZLFlBQVlNLDZCQUE2Qk47UUFDekNDO1FBQ0FDO1FBQ0FDO1FBQ0FyRSxXQUFXdUQsUUFBUXZELGFBQWE7SUFDbEM7SUFFQWdFLFNBQVNTLElBQUksQ0FBQ2Q7SUFFZCx3Q0FBd0M7SUFDeEMsSUFBSUssU0FBU1UsTUFBTSxHQUFHLE1BQU07UUFDMUJWLFNBQVNXLEtBQUs7SUFDaEI7SUFFQSwrREFBK0Q7SUFDL0QsSUFBSXBCLFFBQVF2RCxjQUFjLGNBQWMsQ0FBQ21FLFNBQVM7UUFDaEQsMkRBQTJEO1FBQzNEUyxRQUFRQyxJQUFJLENBQUMsc0JBQXNCbEI7SUFDckM7QUFDRjtBQUVBLFNBQVNhLDZCQUE2Qk0sTUFBMkI7SUFDL0QsTUFBTUMsWUFBaUMsQ0FBQztJQUV4QyxLQUFLLE1BQU0sQ0FBQ3ZCLEtBQUsxRCxNQUFNLElBQUlrRixPQUFPQyxPQUFPLENBQUNILFFBQVM7UUFDakQsMEJBQTBCO1FBQzFCLElBQ0V0QixJQUFJMEIsV0FBVyxHQUFHQyxRQUFRLENBQUMsZUFDM0IzQixJQUFJMEIsV0FBVyxHQUFHQyxRQUFRLENBQUMsYUFDM0IzQixJQUFJMEIsV0FBVyxHQUFHQyxRQUFRLENBQUMsVUFDM0I7WUFDQUosU0FBUyxDQUFDdkIsSUFBSSxHQUFHO1FBQ25CLE9BQU8sSUFBSSxPQUFPMUQsVUFBVSxZQUFZQSxNQUFNNEUsTUFBTSxHQUFHLEtBQUs7WUFDMURLLFNBQVMsQ0FBQ3ZCLElBQUksR0FBRzFELE1BQU1zRixTQUFTLENBQUMsR0FBRyxPQUFPO1FBQzdDLE9BQU87WUFDTEwsU0FBUyxDQUFDdkIsSUFBSSxHQUFHMUQ7UUFDbkI7SUFDRjtJQUVBLE9BQU9pRjtBQUNUO0FBZU8sZUFBZTdGLFVBQ3BCbUcsUUFBd0IsRUFDeEJoQyxZQUFvQixFQUNwQnlCLFNBQThCLENBQUMsQ0FBQyxFQUNoQ3hFLFVBQTRCLENBQUMsQ0FBQztJQUU5QixNQUFNZ0YsWUFBWTVCLEtBQUtELEdBQUc7SUFDMUIsSUFBSUgsU0FBd0I7SUFFNUIsSUFBSTtRQUNGLHVEQUF1RDtRQUN2RCxNQUFNLEVBQ0ppQyxNQUFNLEVBQUVDLElBQUksRUFBRSxFQUNmLEdBQUcsTUFBTUgsU0FBU0ksSUFBSSxDQUFDQyxPQUFPO1FBQy9CcEMsU0FBU2tDLE1BQU1HLE1BQU07UUFFckIsZ0RBQWdEO1FBQ2hELE1BQU1DLGlCQUFpQmxILHlCQUF5QixDQUFDMkUsYUFBYTtRQUM5RCxJQUFJLENBQUN1QyxnQkFBZ0I7WUFDbkIsTUFBTXhCLFFBQVEsSUFBSXlCLE1BQU0sQ0FBQyxjQUFjLEVBQUV4QyxhQUFhLG9CQUFvQixDQUFDO1lBQzNFLE1BQU1ZLFdBQVdaLGNBQWNDLFFBQVF3QixRQUFRLE9BQU9WLE1BQU0wQixPQUFPO1lBQ25FLE9BQU87Z0JBQ0xQLE1BQU07Z0JBQ05uQjtnQkFDQUMsZUFBZVgsS0FBS0QsR0FBRyxLQUFLNkI7WUFDOUI7UUFDRjtRQUVBLDJDQUEyQztRQUMzQyxJQUFJTSxlQUFlM0YsWUFBWSxJQUFJLENBQUNxRCxRQUFRO1lBQzFDLE1BQU1jLFFBQVEsSUFBSXlCLE1BQU0sQ0FBQyw2QkFBNkIsRUFBRXhDLGFBQWEsQ0FBQyxDQUFDO1lBQ3ZFLE1BQU1ZLFdBQVdaLGNBQWNDLFFBQVF3QixRQUFRLE9BQU9WLE1BQU0wQixPQUFPO1lBQ25FLE9BQU87Z0JBQ0xQLE1BQU07Z0JBQ05uQjtnQkFDQUMsZUFBZVgsS0FBS0QsR0FBRyxLQUFLNkI7WUFDOUI7UUFDRjtRQUVBLDJCQUEyQjtRQUMzQixJQUFJLENBQUNsQyxlQUFlQyxjQUFjQyxTQUFTO1lBQ3pDLE1BQU1jLFFBQVEsSUFBSXlCLE1BQU0sQ0FBQyx5QkFBeUIsRUFBRXhDLGFBQWEsQ0FBQyxDQUFDO1lBQ25FLE1BQU1ZLFdBQVdaLGNBQWNDLFFBQVF3QixRQUFRLE9BQU9WLE1BQU0wQixPQUFPO1lBQ25FLE9BQU87Z0JBQ0xQLE1BQU07Z0JBQ05uQjtnQkFDQUMsZUFBZVgsS0FBS0QsR0FBRyxLQUFLNkI7WUFDOUI7UUFDRjtRQUVBLDJDQUEyQztRQUMzQyxJQUFJUyxrQkFBa0JqQjtRQUN0QixJQUFJa0IsbUJBQTJDLENBQUM7UUFFaEQsSUFBSSxDQUFDMUYsUUFBUTJGLGNBQWMsRUFBRTtZQUMzQixNQUFNQyxtQkFBbUJ6RywrQkFBYyxDQUFDMEcsY0FBYyxDQUFDckIsUUFBUWMsZUFBZXRHLGVBQWU7WUFFN0YsSUFBSSxDQUFDNEcsaUJBQWlCRSxPQUFPLEVBQUU7Z0JBQzdCLE1BQU1oQyxRQUFRLElBQUl5QixNQUFNO2dCQUN4QixNQUFNNUIsV0FBV1osY0FBY0MsUUFBUXdCLFFBQVEsT0FBT1YsTUFBTTBCLE9BQU87Z0JBQ25FLE9BQU87b0JBQ0xQLE1BQU07b0JBQ05uQjtvQkFDQTRCLGtCQUFrQkUsaUJBQWlCRyxNQUFNO29CQUN6Q2hDLGVBQWVYLEtBQUtELEdBQUcsS0FBSzZCO2dCQUM5QjtZQUNGO1lBRUFTLGtCQUFrQkcsaUJBQWlCSSxhQUFhO1FBQ2xEO1FBRUEsOENBQThDO1FBQzlDLElBQUloRyxRQUFRaUcsZ0JBQWdCLEVBQUU7WUFDNUIsS0FBSyxNQUFNLENBQUMvQyxLQUFLaEUsVUFBVSxJQUFJd0YsT0FBT0MsT0FBTyxDQUFDM0UsUUFBUWlHLGdCQUFnQixFQUFHO2dCQUN2RSxJQUFJL0MsT0FBT3VDLGlCQUFpQjtvQkFDMUIsTUFBTVMsU0FBU2hILFVBQVV1RyxlQUFlLENBQUN2QyxJQUFJO29CQUM3QyxJQUFJLENBQUNnRCxPQUFPSixPQUFPLEVBQUU7d0JBQ25CLE1BQU1oQyxRQUFRLElBQUl5QixNQUFNLENBQUMsd0NBQXdDLEVBQUVyQyxJQUFJLENBQUMsQ0FBQzt3QkFDekUsTUFBTVMsV0FBV1osY0FBY0MsUUFBUXdCLFFBQVEsT0FBT1YsTUFBTTBCLE9BQU87d0JBQ25FLE9BQU87NEJBQ0xQLE1BQU07NEJBQ05uQjs0QkFDQTRCLGtCQUFrQjtnQ0FBRSxDQUFDeEMsSUFBSSxFQUFFZ0QsT0FBT3BDLEtBQUssSUFBSTs0QkFBb0I7NEJBQy9EQyxlQUFlWCxLQUFLRCxHQUFHLEtBQUs2Qjt3QkFDOUI7b0JBQ0Y7b0JBQ0FTLGVBQWUsQ0FBQ3ZDLElBQUksR0FBR2dELE9BQU9DLGNBQWM7Z0JBQzlDO1lBQ0Y7UUFDRjtRQUVBLG1DQUFtQztRQUNuQyxNQUFNLEVBQUVsQixJQUFJLEVBQUVuQixLQUFLLEVBQUUsR0FBRyxNQUFNaUIsU0FBU3FCLEdBQUcsQ0FBQ3JELGNBQWMwQztRQUV6RCxNQUFNMUIsZ0JBQWdCWCxLQUFLRCxHQUFHLEtBQUs2QjtRQUVuQyx1QkFBdUI7UUFDdkIsSUFBSSxDQUFDaEYsUUFBUXFHLFlBQVksRUFBRTtZQUN6QixNQUFNMUMsV0FDSlosY0FDQUMsUUFDQXlDLGlCQUNBLENBQUMzQixPQUNEQSxPQUFPMEIsU0FDUHpCO1FBRUo7UUFFQSx3QkFBd0I7UUFDeEIsSUFBSUQsT0FBTztZQUNULE9BQU87Z0JBQ0xtQixNQUFNO2dCQUNObkIsT0FBTyxJQUFJeUIsTUFBTXpCLE1BQU0wQixPQUFPO2dCQUM5QnpCO1lBQ0Y7UUFDRjtRQUVBLE9BQU87WUFDTGtCLE1BQU1BO1lBQ05uQixPQUFPO1lBQ1BDO1FBQ0Y7SUFDRixFQUFFLE9BQU9ELE9BQU87UUFDZCxNQUFNQyxnQkFBZ0JYLEtBQUtELEdBQUcsS0FBSzZCO1FBQ25DLE1BQU1zQixNQUFNeEMsaUJBQWlCeUIsUUFBUXpCLFFBQVEsSUFBSXlCLE1BQU07UUFFdkQsTUFBTTVCLFdBQVdaLGNBQWNDLFFBQVF3QixRQUFRLE9BQU84QixJQUFJZCxPQUFPLEVBQUV6QjtRQUVuRSxPQUFPO1lBQ0xrQixNQUFNO1lBQ05uQixPQUFPd0M7WUFDUHZDO1FBQ0Y7SUFDRjtBQUNGO0FBU08sU0FBU3ZGO0lBQ2QsT0FBTztXQUFJa0Y7S0FBUyxFQUFFLGNBQWM7QUFDdEM7QUFLTyxTQUFTcEY7SUFDZG9GLFNBQVNVLE1BQU0sR0FBRztBQUNwQjtBQUtPLFNBQVMxRjtJQUNkLE9BQU8sSUFBSW1FLElBQUlELGlCQUFpQixjQUFjO0FBQ2hEO0FBS08sU0FBU3JFO0lBQ2RxRSxlQUFlMkQsS0FBSztBQUN0QjtBQUtPLFNBQVM1SCxjQUFjb0UsWUFBb0I7SUFDaEQsT0FBT0EsZ0JBQWdCM0U7QUFDekI7QUFLTyxTQUFTSyxrQkFBa0JzRSxZQUFvQjtJQUNwRCxPQUFPM0UseUJBQXlCLENBQUMyRSxhQUFhLElBQUk7QUFDcEQ7QUFLTyxTQUFTMUUsZUFBZTRFLE1BQXlCO0lBQ3RELElBQUk3RSx5QkFBeUIsQ0FBQzZFLE9BQU9uRSxJQUFJLENBQUMsRUFBRTtRQUMxQyxNQUFNLElBQUl5RyxNQUFNLENBQUMsVUFBVSxFQUFFdEMsT0FBT25FLElBQUksQ0FBQyx3QkFBd0IsQ0FBQztJQUNwRTtJQUNBVix5QkFBeUIsQ0FBQzZFLE9BQU9uRSxJQUFJLENBQUMsR0FBR21FO0FBQzNDO01BTUEsV0FBZXJFIn0=