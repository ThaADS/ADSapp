6d6601504e55668bf8e7b404b0a12a81
/**
 * Authentication API Integration Tests
 *
 * Tests for /api/auth/* endpoints including signin, signup,
 * password reset, and multi-factor authentication.
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _globals = require("@jest/globals");
const _apitesthelpers = require("../../utils/api-test-helpers");
const _testhelpers = require("../../utils/test-helpers");
// Mock Next.js and Supabase
_globals.jest.mock('@/lib/supabase/server');
_globals.jest.mock('next/server');
(0, _globals.describe)('POST /api/auth/signin', ()=>{
    let mockSupabase;
    (0, _globals.beforeEach)(()=>{
        mockSupabase = (0, _testhelpers.createMockSupabaseClient)();
        _globals.jest.clearAllMocks();
    });
    (0, _globals.it)('should authenticate valid user and return session', async ()=>{
        const mockUser = (0, _testhelpers.createMockUser)();
        const mockOrg = (0, _testhelpers.createMockOrganization)({
            id: mockUser.organization_id
        });
        mockSupabase.auth.signInWithPassword = _globals.jest.fn().mockResolvedValue({
            data: {
                user: {
                    id: mockUser.id,
                    email: mockUser.email
                },
                session: {
                    access_token: 'mock-token',
                    refresh_token: 'mock-refresh'
                }
            },
            error: null
        });
        mockSupabase.from = _globals.jest.fn().mockReturnValue({
            select: _globals.jest.fn().mockReturnThis(),
            eq: _globals.jest.fn().mockReturnThis(),
            single: _globals.jest.fn().mockResolvedValue({
                data: {
                    ...mockUser,
                    organization: mockOrg
                },
                error: null
            })
        });
        const request = (0, _apitesthelpers.createMockRequest)('POST', '/api/auth/signin', {
            email: mockUser.email,
            password: 'validpassword123'
        });
        // Simulate API route handler
        const response = await simulateSignIn(request, mockSupabase);
        const { status, data } = await (0, _apitesthelpers.parseResponse)(response);
        (0, _globals.expect)(status).toBe(200);
        (0, _globals.expect)(data).toHaveProperty('user');
        (0, _globals.expect)(data).toHaveProperty('session');
        (0, _globals.expect)(data.user.email).toBe(mockUser.email);
        (0, _globals.expect)(data.session.access_token).toBe('mock-token');
    });
    (0, _globals.it)('should reject invalid credentials', async ()=>{
        mockSupabase.auth.signInWithPassword = _globals.jest.fn().mockResolvedValue({
            data: {
                user: null,
                session: null
            },
            error: {
                message: 'Invalid login credentials'
            }
        });
        const request = (0, _apitesthelpers.createMockRequest)('POST', '/api/auth/signin', {
            email: 'wrong@example.com',
            password: 'wrongpassword'
        });
        const response = await simulateSignIn(request, mockSupabase);
        const { status, data } = await (0, _apitesthelpers.parseResponse)(response);
        (0, _globals.expect)(status).toBe(401);
        (0, _apitesthelpers.expectErrorResponse)(data, 401, 'Invalid login credentials');
    });
    (0, _globals.it)('should validate email format', async ()=>{
        const request = (0, _apitesthelpers.createMockRequest)('POST', '/api/auth/signin', {
            email: 'invalid-email',
            password: 'password123'
        });
        const response = await simulateSignIn(request, mockSupabase);
        const { status, data } = await (0, _apitesthelpers.parseResponse)(response);
        (0, _globals.expect)(status).toBe(400);
        (0, _apitesthelpers.expectErrorResponse)(data, 400, 'Invalid email format');
    });
    (0, _globals.it)('should require password field', async ()=>{
        const request = (0, _apitesthelpers.createMockRequest)('POST', '/api/auth/signin', {
            email: 'test@example.com'
        });
        const response = await simulateSignIn(request, mockSupabase);
        const { status, data } = await (0, _apitesthelpers.parseResponse)(response);
        (0, _globals.expect)(status).toBe(400);
        (0, _apitesthelpers.expectErrorResponse)(data, 400, 'Password is required');
    });
});
(0, _globals.describe)('POST /api/auth/signup', ()=>{
    let mockSupabase;
    (0, _globals.beforeEach)(()=>{
        mockSupabase = (0, _testhelpers.createMockSupabaseClient)();
        _globals.jest.clearAllMocks();
    });
    (0, _globals.it)('should create new user with organization', async ()=>{
        const newUser = {
            email: 'newuser@example.com',
            password: 'SecurePass123!',
            full_name: 'New User',
            organization_name: 'New Organization'
        };
        mockSupabase.auth.signUp = _globals.jest.fn().mockResolvedValue({
            data: {
                user: {
                    id: 'new-user-id',
                    email: newUser.email
                },
                session: {
                    access_token: 'new-token'
                }
            },
            error: null
        });
        mockSupabase.from = _globals.jest.fn().mockReturnValue({
            insert: _globals.jest.fn().mockReturnThis(),
            select: _globals.jest.fn().mockReturnThis(),
            single: _globals.jest.fn().mockResolvedValue({
                data: {
                    id: 'new-org-id',
                    name: newUser.organization_name
                },
                error: null
            })
        });
        const request = (0, _apitesthelpers.createMockRequest)('POST', '/api/auth/signup', newUser);
        const response = await simulateSignUp(request, mockSupabase);
        const { status, data } = await (0, _apitesthelpers.parseResponse)(response);
        (0, _globals.expect)(status).toBe(201);
        (0, _globals.expect)(data).toHaveProperty('user');
        (0, _globals.expect)(data).toHaveProperty('organization');
        (0, _globals.expect)(data.user.email).toBe(newUser.email);
        (0, _globals.expect)(data.organization.name).toBe(newUser.organization_name);
    });
    (0, _globals.it)('should reject duplicate email', async ()=>{
        mockSupabase.auth.signUp = _globals.jest.fn().mockResolvedValue({
            data: {
                user: null,
                session: null
            },
            error: {
                message: 'User already registered'
            }
        });
        const request = (0, _apitesthelpers.createMockRequest)('POST', '/api/auth/signup', {
            email: 'existing@example.com',
            password: 'password123',
            full_name: 'Duplicate User',
            organization_name: 'Test Org'
        });
        const response = await simulateSignUp(request, mockSupabase);
        const { status, data } = await (0, _apitesthelpers.parseResponse)(response);
        (0, _globals.expect)(status).toBe(409);
        (0, _apitesthelpers.expectErrorResponse)(data, 409, 'already registered');
    });
    (0, _globals.it)('should validate password strength', async ()=>{
        const request = (0, _apitesthelpers.createMockRequest)('POST', '/api/auth/signup', {
            email: 'test@example.com',
            password: 'weak',
            full_name: 'Test User',
            organization_name: 'Test Org'
        });
        const response = await simulateSignUp(request, mockSupabase);
        const { status, data } = await (0, _apitesthelpers.parseResponse)(response);
        (0, _globals.expect)(status).toBe(400);
        (0, _apitesthelpers.expectErrorResponse)(data, 400, 'Password must be at least 8 characters');
    });
    (0, _globals.it)('should require organization name', async ()=>{
        const request = (0, _apitesthelpers.createMockRequest)('POST', '/api/auth/signup', {
            email: 'test@example.com',
            password: 'SecurePass123!',
            full_name: 'Test User'
        });
        const response = await simulateSignUp(request, mockSupabase);
        const { status, data } = await (0, _apitesthelpers.parseResponse)(response);
        (0, _globals.expect)(status).toBe(400);
        (0, _apitesthelpers.expectErrorResponse)(data, 400, 'Organization name is required');
    });
});
(0, _globals.describe)('POST /api/auth/forgot-password', ()=>{
    let mockSupabase;
    (0, _globals.beforeEach)(()=>{
        mockSupabase = (0, _testhelpers.createMockSupabaseClient)();
        _globals.jest.clearAllMocks();
    });
    (0, _globals.it)('should send password reset email for valid email', async ()=>{
        mockSupabase.auth.resetPasswordForEmail = _globals.jest.fn().mockResolvedValue({
            data: {},
            error: null
        });
        const request = (0, _apitesthelpers.createMockRequest)('POST', '/api/auth/forgot-password', {
            email: 'user@example.com'
        });
        const response = await simulateForgotPassword(request, mockSupabase);
        const { status, data } = await (0, _apitesthelpers.parseResponse)(response);
        (0, _globals.expect)(status).toBe(200);
        (0, _globals.expect)(data.message).toContain('Password reset email sent');
        (0, _globals.expect)(mockSupabase.auth.resetPasswordForEmail).toHaveBeenCalledWith('user@example.com', _globals.expect.any(Object));
    });
    (0, _globals.it)('should return success even for non-existent email (security)', async ()=>{
        mockSupabase.auth.resetPasswordForEmail = _globals.jest.fn().mockResolvedValue({
            data: {},
            error: null
        });
        const request = (0, _apitesthelpers.createMockRequest)('POST', '/api/auth/forgot-password', {
            email: 'nonexistent@example.com'
        });
        const response = await simulateForgotPassword(request, mockSupabase);
        const { status, data } = await (0, _apitesthelpers.parseResponse)(response);
        // Should return success to prevent email enumeration
        (0, _globals.expect)(status).toBe(200);
        (0, _globals.expect)(data.message).toContain('Password reset email sent');
    });
});
(0, _globals.describe)('POST /api/auth/reset-password', ()=>{
    let mockSupabase;
    (0, _globals.beforeEach)(()=>{
        mockSupabase = (0, _testhelpers.createMockSupabaseClient)();
        _globals.jest.clearAllMocks();
    });
    (0, _globals.it)('should reset password with valid token', async ()=>{
        mockSupabase.auth.updateUser = _globals.jest.fn().mockResolvedValue({
            data: {
                user: {
                    id: 'user-id'
                }
            },
            error: null
        });
        const request = (0, _apitesthelpers.createMockRequest)('POST', '/api/auth/reset-password', {
            token: 'valid-reset-token',
            password: 'NewSecurePass123!'
        });
        const response = await simulateResetPassword(request, mockSupabase);
        const { status, data } = await (0, _apitesthelpers.parseResponse)(response);
        (0, _globals.expect)(status).toBe(200);
        (0, _globals.expect)(data.message).toContain('Password updated successfully');
    });
    (0, _globals.it)('should reject expired or invalid token', async ()=>{
        mockSupabase.auth.updateUser = _globals.jest.fn().mockResolvedValue({
            data: {
                user: null
            },
            error: {
                message: 'Invalid or expired token'
            }
        });
        const request = (0, _apitesthelpers.createMockRequest)('POST', '/api/auth/reset-password', {
            token: 'expired-token',
            password: 'NewSecurePass123!'
        });
        const response = await simulateResetPassword(request, mockSupabase);
        const { status, data } = await (0, _apitesthelpers.parseResponse)(response);
        (0, _globals.expect)(status).toBe(400);
        (0, _apitesthelpers.expectErrorResponse)(data, 400, 'Invalid or expired token');
    });
});
// =============================================================================
// Helper Functions to Simulate API Route Handlers
// =============================================================================
async function simulateSignIn(request, supabase) {
    try {
        const body = await request.json();
        const { email, password } = body;
        // Validation
        if (!email || !password) {
            return new Response(JSON.stringify({
                error: 'Email and password are required'
            }), {
                status: 400,
                headers: {
                    'Content-Type': 'application/json'
                }
            });
        }
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email)) {
            return new Response(JSON.stringify({
                error: 'Invalid email format'
            }), {
                status: 400,
                headers: {
                    'Content-Type': 'application/json'
                }
            });
        }
        if (!password) {
            return new Response(JSON.stringify({
                error: 'Password is required'
            }), {
                status: 400,
                headers: {
                    'Content-Type': 'application/json'
                }
            });
        }
        // Attempt sign in
        const { data, error } = await supabase.auth.signInWithPassword({
            email,
            password
        });
        if (error || !data.session) {
            return new Response(JSON.stringify({
                error: 'Invalid login credentials'
            }), {
                status: 401,
                headers: {
                    'Content-Type': 'application/json'
                }
            });
        }
        // Get user profile
        const { data: profile } = await supabase.from('profiles').select('*, organization:organizations(*)').eq('id', data.user.id).single();
        return new Response(JSON.stringify({
            user: {
                ...data.user,
                ...profile
            },
            session: data.session
        }), {
            status: 200,
            headers: {
                'Content-Type': 'application/json'
            }
        });
    } catch (error) {
        return new Response(JSON.stringify({
            error: error.message
        }), {
            status: 500,
            headers: {
                'Content-Type': 'application/json'
            }
        });
    }
}
async function simulateSignUp(request, supabase) {
    try {
        const body = await request.json();
        const { email, password, full_name, organization_name } = body;
        // Validation
        if (!email || !password || !full_name || !organization_name) {
            let errorMsg = 'Missing required fields: ';
            if (!email) errorMsg += 'email ';
            if (!password) errorMsg += 'password ';
            if (!full_name) errorMsg += 'full_name ';
            if (!organization_name) errorMsg += 'Organization name is required';
            return new Response(JSON.stringify({
                error: errorMsg
            }), {
                status: 400,
                headers: {
                    'Content-Type': 'application/json'
                }
            });
        }
        if (password.length < 8) {
            return new Response(JSON.stringify({
                error: 'Password must be at least 8 characters'
            }), {
                status: 400,
                headers: {
                    'Content-Type': 'application/json'
                }
            });
        }
        // Attempt sign up
        const { data, error } = await supabase.auth.signUp({
            email,
            password
        });
        if (error) {
            const status = error.message.includes('already registered') ? 409 : 400;
            return new Response(JSON.stringify({
                error: error.message
            }), {
                status,
                headers: {
                    'Content-Type': 'application/json'
                }
            });
        }
        // Create organization
        const { data: org } = await supabase.from('organizations').insert({
            name: organization_name
        }).select().single();
        return new Response(JSON.stringify({
            user: data.user,
            organization: org,
            session: data.session
        }), {
            status: 201,
            headers: {
                'Content-Type': 'application/json'
            }
        });
    } catch (error) {
        return new Response(JSON.stringify({
            error: error.message
        }), {
            status: 500,
            headers: {
                'Content-Type': 'application/json'
            }
        });
    }
}
async function simulateForgotPassword(request, supabase) {
    try {
        const body = await request.json();
        const { email } = body;
        if (!email) {
            return new Response(JSON.stringify({
                error: 'Email is required'
            }), {
                status: 400,
                headers: {
                    'Content-Type': 'application/json'
                }
            });
        }
        await supabase.auth.resetPasswordForEmail(email, {
            redirectTo: `${process.env.NEXT_PUBLIC_APP_URL}/auth/reset-password`
        });
        // Always return success (security best practice)
        return new Response(JSON.stringify({
            message: 'Password reset email sent if account exists'
        }), {
            status: 200,
            headers: {
                'Content-Type': 'application/json'
            }
        });
    } catch (error) {
        return new Response(JSON.stringify({
            error: error.message
        }), {
            status: 500,
            headers: {
                'Content-Type': 'application/json'
            }
        });
    }
}
async function simulateResetPassword(request, supabase) {
    try {
        const body = await request.json();
        const { token, password } = body;
        if (!token || !password) {
            return new Response(JSON.stringify({
                error: 'Token and password are required'
            }), {
                status: 400,
                headers: {
                    'Content-Type': 'application/json'
                }
            });
        }
        const { data, error } = await supabase.auth.updateUser({
            password
        });
        if (error) {
            return new Response(JSON.stringify({
                error: error.message
            }), {
                status: 400,
                headers: {
                    'Content-Type': 'application/json'
                }
            });
        }
        return new Response(JSON.stringify({
            message: 'Password updated successfully'
        }), {
            status: 200,
            headers: {
                'Content-Type': 'application/json'
            }
        });
    } catch (error) {
        return new Response(JSON.stringify({
            error: error.message
        }), {
            status: 500,
            headers: {
                'Content-Type': 'application/json'
            }
        });
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxBaSBQcm9qZWN0ZW5cXEFEU2FwcFxcdGVzdHNcXGludGVncmF0aW9uXFxhcGlcXGF1dGgudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEF1dGhlbnRpY2F0aW9uIEFQSSBJbnRlZ3JhdGlvbiBUZXN0c1xuICpcbiAqIFRlc3RzIGZvciAvYXBpL2F1dGgvKiBlbmRwb2ludHMgaW5jbHVkaW5nIHNpZ25pbiwgc2lnbnVwLFxuICogcGFzc3dvcmQgcmVzZXQsIGFuZCBtdWx0aS1mYWN0b3IgYXV0aGVudGljYXRpb24uXG4gKi9cblxuaW1wb3J0IHsgZGVzY3JpYmUsIGl0LCBleHBlY3QsIGJlZm9yZUVhY2gsIGplc3QgfSBmcm9tICdAamVzdC9nbG9iYWxzJ1xuaW1wb3J0IHsgTmV4dFJlcXVlc3QgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7XG4gIGNyZWF0ZU1vY2tSZXF1ZXN0LFxuICBjcmVhdGVBdXRoZW50aWNhdGVkUmVxdWVzdCxcbiAgcGFyc2VSZXNwb25zZSxcbiAgZXhwZWN0RXJyb3JSZXNwb25zZSxcbiAgZXhwZWN0U3VjY2Vzc1Jlc3BvbnNlLFxufSBmcm9tICcuLi8uLi91dGlscy9hcGktdGVzdC1oZWxwZXJzJ1xuaW1wb3J0IHtcbiAgY3JlYXRlTW9ja1VzZXIsXG4gIGNyZWF0ZU1vY2tPcmdhbml6YXRpb24sXG4gIGNyZWF0ZU1vY2tTdXBhYmFzZUNsaWVudCxcbn0gZnJvbSAnLi4vLi4vdXRpbHMvdGVzdC1oZWxwZXJzJ1xuXG4vLyBNb2NrIE5leHQuanMgYW5kIFN1cGFiYXNlXG5qZXN0Lm1vY2soJ0AvbGliL3N1cGFiYXNlL3NlcnZlcicpXG5qZXN0Lm1vY2soJ25leHQvc2VydmVyJylcblxuZGVzY3JpYmUoJ1BPU1QgL2FwaS9hdXRoL3NpZ25pbicsICgpID0+IHtcbiAgbGV0IG1vY2tTdXBhYmFzZTogYW55XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgbW9ja1N1cGFiYXNlID0gY3JlYXRlTW9ja1N1cGFiYXNlQ2xpZW50KClcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgYXV0aGVudGljYXRlIHZhbGlkIHVzZXIgYW5kIHJldHVybiBzZXNzaW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tVc2VyID0gY3JlYXRlTW9ja1VzZXIoKVxuICAgIGNvbnN0IG1vY2tPcmcgPSBjcmVhdGVNb2NrT3JnYW5pemF0aW9uKHsgaWQ6IG1vY2tVc2VyLm9yZ2FuaXphdGlvbl9pZCB9KVxuXG4gICAgbW9ja1N1cGFiYXNlLmF1dGguc2lnbkluV2l0aFBhc3N3b3JkID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdXNlcjogeyBpZDogbW9ja1VzZXIuaWQsIGVtYWlsOiBtb2NrVXNlci5lbWFpbCB9LFxuICAgICAgICBzZXNzaW9uOiB7IGFjY2Vzc190b2tlbjogJ21vY2stdG9rZW4nLCByZWZyZXNoX3Rva2VuOiAnbW9jay1yZWZyZXNoJyB9LFxuICAgICAgfSxcbiAgICAgIGVycm9yOiBudWxsLFxuICAgIH0pXG5cbiAgICBtb2NrU3VwYWJhc2UuZnJvbSA9IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICAgIHNpbmdsZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogeyAuLi5tb2NrVXNlciwgb3JnYW5pemF0aW9uOiBtb2NrT3JnIH0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSksXG4gICAgfSlcblxuICAgIGNvbnN0IHJlcXVlc3QgPSBjcmVhdGVNb2NrUmVxdWVzdCgnUE9TVCcsICcvYXBpL2F1dGgvc2lnbmluJywge1xuICAgICAgZW1haWw6IG1vY2tVc2VyLmVtYWlsLFxuICAgICAgcGFzc3dvcmQ6ICd2YWxpZHBhc3N3b3JkMTIzJyxcbiAgICB9KVxuXG4gICAgLy8gU2ltdWxhdGUgQVBJIHJvdXRlIGhhbmRsZXJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNpbXVsYXRlU2lnbkluKHJlcXVlc3QsIG1vY2tTdXBhYmFzZSlcbiAgICBjb25zdCB7IHN0YXR1cywgZGF0YSB9ID0gYXdhaXQgcGFyc2VSZXNwb25zZShyZXNwb25zZSlcblxuICAgIGV4cGVjdChzdGF0dXMpLnRvQmUoMjAwKVxuICAgIGV4cGVjdChkYXRhKS50b0hhdmVQcm9wZXJ0eSgndXNlcicpXG4gICAgZXhwZWN0KGRhdGEpLnRvSGF2ZVByb3BlcnR5KCdzZXNzaW9uJylcbiAgICBleHBlY3QoZGF0YS51c2VyLmVtYWlsKS50b0JlKG1vY2tVc2VyLmVtYWlsKVxuICAgIGV4cGVjdChkYXRhLnNlc3Npb24uYWNjZXNzX3Rva2VuKS50b0JlKCdtb2NrLXRva2VuJylcbiAgfSlcblxuICBpdCgnc2hvdWxkIHJlamVjdCBpbnZhbGlkIGNyZWRlbnRpYWxzJywgYXN5bmMgKCkgPT4ge1xuICAgIG1vY2tTdXBhYmFzZS5hdXRoLnNpZ25JbldpdGhQYXNzd29yZCA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICBkYXRhOiB7IHVzZXI6IG51bGwsIHNlc3Npb246IG51bGwgfSxcbiAgICAgIGVycm9yOiB7IG1lc3NhZ2U6ICdJbnZhbGlkIGxvZ2luIGNyZWRlbnRpYWxzJyB9LFxuICAgIH0pXG5cbiAgICBjb25zdCByZXF1ZXN0ID0gY3JlYXRlTW9ja1JlcXVlc3QoJ1BPU1QnLCAnL2FwaS9hdXRoL3NpZ25pbicsIHtcbiAgICAgIGVtYWlsOiAnd3JvbmdAZXhhbXBsZS5jb20nLFxuICAgICAgcGFzc3dvcmQ6ICd3cm9uZ3Bhc3N3b3JkJyxcbiAgICB9KVxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzaW11bGF0ZVNpZ25JbihyZXF1ZXN0LCBtb2NrU3VwYWJhc2UpXG4gICAgY29uc3QgeyBzdGF0dXMsIGRhdGEgfSA9IGF3YWl0IHBhcnNlUmVzcG9uc2UocmVzcG9uc2UpXG5cbiAgICBleHBlY3Qoc3RhdHVzKS50b0JlKDQwMSlcbiAgICBleHBlY3RFcnJvclJlc3BvbnNlKGRhdGEsIDQwMSwgJ0ludmFsaWQgbG9naW4gY3JlZGVudGlhbHMnKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgdmFsaWRhdGUgZW1haWwgZm9ybWF0JywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHJlcXVlc3QgPSBjcmVhdGVNb2NrUmVxdWVzdCgnUE9TVCcsICcvYXBpL2F1dGgvc2lnbmluJywge1xuICAgICAgZW1haWw6ICdpbnZhbGlkLWVtYWlsJyxcbiAgICAgIHBhc3N3b3JkOiAncGFzc3dvcmQxMjMnLFxuICAgIH0pXG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNpbXVsYXRlU2lnbkluKHJlcXVlc3QsIG1vY2tTdXBhYmFzZSlcbiAgICBjb25zdCB7IHN0YXR1cywgZGF0YSB9ID0gYXdhaXQgcGFyc2VSZXNwb25zZShyZXNwb25zZSlcblxuICAgIGV4cGVjdChzdGF0dXMpLnRvQmUoNDAwKVxuICAgIGV4cGVjdEVycm9yUmVzcG9uc2UoZGF0YSwgNDAwLCAnSW52YWxpZCBlbWFpbCBmb3JtYXQnKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgcmVxdWlyZSBwYXNzd29yZCBmaWVsZCcsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCByZXF1ZXN0ID0gY3JlYXRlTW9ja1JlcXVlc3QoJ1BPU1QnLCAnL2FwaS9hdXRoL3NpZ25pbicsIHtcbiAgICAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXG4gICAgfSlcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2ltdWxhdGVTaWduSW4ocmVxdWVzdCwgbW9ja1N1cGFiYXNlKVxuICAgIGNvbnN0IHsgc3RhdHVzLCBkYXRhIH0gPSBhd2FpdCBwYXJzZVJlc3BvbnNlKHJlc3BvbnNlKVxuXG4gICAgZXhwZWN0KHN0YXR1cykudG9CZSg0MDApXG4gICAgZXhwZWN0RXJyb3JSZXNwb25zZShkYXRhLCA0MDAsICdQYXNzd29yZCBpcyByZXF1aXJlZCcpXG4gIH0pXG59KVxuXG5kZXNjcmliZSgnUE9TVCAvYXBpL2F1dGgvc2lnbnVwJywgKCkgPT4ge1xuICBsZXQgbW9ja1N1cGFiYXNlOiBhbnlcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBtb2NrU3VwYWJhc2UgPSBjcmVhdGVNb2NrU3VwYWJhc2VDbGllbnQoKVxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpXG4gIH0pXG5cbiAgaXQoJ3Nob3VsZCBjcmVhdGUgbmV3IHVzZXIgd2l0aCBvcmdhbml6YXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgbmV3VXNlciA9IHtcbiAgICAgIGVtYWlsOiAnbmV3dXNlckBleGFtcGxlLmNvbScsXG4gICAgICBwYXNzd29yZDogJ1NlY3VyZVBhc3MxMjMhJyxcbiAgICAgIGZ1bGxfbmFtZTogJ05ldyBVc2VyJyxcbiAgICAgIG9yZ2FuaXphdGlvbl9uYW1lOiAnTmV3IE9yZ2FuaXphdGlvbicsXG4gICAgfVxuXG4gICAgbW9ja1N1cGFiYXNlLmF1dGguc2lnblVwID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdXNlcjogeyBpZDogJ25ldy11c2VyLWlkJywgZW1haWw6IG5ld1VzZXIuZW1haWwgfSxcbiAgICAgICAgc2Vzc2lvbjogeyBhY2Nlc3NfdG9rZW46ICduZXctdG9rZW4nIH0sXG4gICAgICB9LFxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgfSlcblxuICAgIG1vY2tTdXBhYmFzZS5mcm9tID0gamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICBpbnNlcnQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICAgIHNpbmdsZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogeyBpZDogJ25ldy1vcmctaWQnLCBuYW1lOiBuZXdVc2VyLm9yZ2FuaXphdGlvbl9uYW1lIH0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSksXG4gICAgfSlcblxuICAgIGNvbnN0IHJlcXVlc3QgPSBjcmVhdGVNb2NrUmVxdWVzdCgnUE9TVCcsICcvYXBpL2F1dGgvc2lnbnVwJywgbmV3VXNlcilcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2ltdWxhdGVTaWduVXAocmVxdWVzdCwgbW9ja1N1cGFiYXNlKVxuICAgIGNvbnN0IHsgc3RhdHVzLCBkYXRhIH0gPSBhd2FpdCBwYXJzZVJlc3BvbnNlKHJlc3BvbnNlKVxuXG4gICAgZXhwZWN0KHN0YXR1cykudG9CZSgyMDEpXG4gICAgZXhwZWN0KGRhdGEpLnRvSGF2ZVByb3BlcnR5KCd1c2VyJylcbiAgICBleHBlY3QoZGF0YSkudG9IYXZlUHJvcGVydHkoJ29yZ2FuaXphdGlvbicpXG4gICAgZXhwZWN0KGRhdGEudXNlci5lbWFpbCkudG9CZShuZXdVc2VyLmVtYWlsKVxuICAgIGV4cGVjdChkYXRhLm9yZ2FuaXphdGlvbi5uYW1lKS50b0JlKG5ld1VzZXIub3JnYW5pemF0aW9uX25hbWUpXG4gIH0pXG5cbiAgaXQoJ3Nob3VsZCByZWplY3QgZHVwbGljYXRlIGVtYWlsJywgYXN5bmMgKCkgPT4ge1xuICAgIG1vY2tTdXBhYmFzZS5hdXRoLnNpZ25VcCA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICBkYXRhOiB7IHVzZXI6IG51bGwsIHNlc3Npb246IG51bGwgfSxcbiAgICAgIGVycm9yOiB7IG1lc3NhZ2U6ICdVc2VyIGFscmVhZHkgcmVnaXN0ZXJlZCcgfSxcbiAgICB9KVxuXG4gICAgY29uc3QgcmVxdWVzdCA9IGNyZWF0ZU1vY2tSZXF1ZXN0KCdQT1NUJywgJy9hcGkvYXV0aC9zaWdudXAnLCB7XG4gICAgICBlbWFpbDogJ2V4aXN0aW5nQGV4YW1wbGUuY29tJyxcbiAgICAgIHBhc3N3b3JkOiAncGFzc3dvcmQxMjMnLFxuICAgICAgZnVsbF9uYW1lOiAnRHVwbGljYXRlIFVzZXInLFxuICAgICAgb3JnYW5pemF0aW9uX25hbWU6ICdUZXN0IE9yZycsXG4gICAgfSlcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2ltdWxhdGVTaWduVXAocmVxdWVzdCwgbW9ja1N1cGFiYXNlKVxuICAgIGNvbnN0IHsgc3RhdHVzLCBkYXRhIH0gPSBhd2FpdCBwYXJzZVJlc3BvbnNlKHJlc3BvbnNlKVxuXG4gICAgZXhwZWN0KHN0YXR1cykudG9CZSg0MDkpXG4gICAgZXhwZWN0RXJyb3JSZXNwb25zZShkYXRhLCA0MDksICdhbHJlYWR5IHJlZ2lzdGVyZWQnKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgdmFsaWRhdGUgcGFzc3dvcmQgc3RyZW5ndGgnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IGNyZWF0ZU1vY2tSZXF1ZXN0KCdQT1NUJywgJy9hcGkvYXV0aC9zaWdudXAnLCB7XG4gICAgICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxuICAgICAgcGFzc3dvcmQ6ICd3ZWFrJyxcbiAgICAgIGZ1bGxfbmFtZTogJ1Rlc3QgVXNlcicsXG4gICAgICBvcmdhbml6YXRpb25fbmFtZTogJ1Rlc3QgT3JnJyxcbiAgICB9KVxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzaW11bGF0ZVNpZ25VcChyZXF1ZXN0LCBtb2NrU3VwYWJhc2UpXG4gICAgY29uc3QgeyBzdGF0dXMsIGRhdGEgfSA9IGF3YWl0IHBhcnNlUmVzcG9uc2UocmVzcG9uc2UpXG5cbiAgICBleHBlY3Qoc3RhdHVzKS50b0JlKDQwMClcbiAgICBleHBlY3RFcnJvclJlc3BvbnNlKGRhdGEsIDQwMCwgJ1Bhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgOCBjaGFyYWN0ZXJzJylcbiAgfSlcblxuICBpdCgnc2hvdWxkIHJlcXVpcmUgb3JnYW5pemF0aW9uIG5hbWUnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IGNyZWF0ZU1vY2tSZXF1ZXN0KCdQT1NUJywgJy9hcGkvYXV0aC9zaWdudXAnLCB7XG4gICAgICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxuICAgICAgcGFzc3dvcmQ6ICdTZWN1cmVQYXNzMTIzIScsXG4gICAgICBmdWxsX25hbWU6ICdUZXN0IFVzZXInLFxuICAgIH0pXG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNpbXVsYXRlU2lnblVwKHJlcXVlc3QsIG1vY2tTdXBhYmFzZSlcbiAgICBjb25zdCB7IHN0YXR1cywgZGF0YSB9ID0gYXdhaXQgcGFyc2VSZXNwb25zZShyZXNwb25zZSlcblxuICAgIGV4cGVjdChzdGF0dXMpLnRvQmUoNDAwKVxuICAgIGV4cGVjdEVycm9yUmVzcG9uc2UoZGF0YSwgNDAwLCAnT3JnYW5pemF0aW9uIG5hbWUgaXMgcmVxdWlyZWQnKVxuICB9KVxufSlcblxuZGVzY3JpYmUoJ1BPU1QgL2FwaS9hdXRoL2ZvcmdvdC1wYXNzd29yZCcsICgpID0+IHtcbiAgbGV0IG1vY2tTdXBhYmFzZTogYW55XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgbW9ja1N1cGFiYXNlID0gY3JlYXRlTW9ja1N1cGFiYXNlQ2xpZW50KClcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgc2VuZCBwYXNzd29yZCByZXNldCBlbWFpbCBmb3IgdmFsaWQgZW1haWwnLCBhc3luYyAoKSA9PiB7XG4gICAgbW9ja1N1cGFiYXNlLmF1dGgucmVzZXRQYXNzd29yZEZvckVtYWlsID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgIGRhdGE6IHt9LFxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgfSlcblxuICAgIGNvbnN0IHJlcXVlc3QgPSBjcmVhdGVNb2NrUmVxdWVzdCgnUE9TVCcsICcvYXBpL2F1dGgvZm9yZ290LXBhc3N3b3JkJywge1xuICAgICAgZW1haWw6ICd1c2VyQGV4YW1wbGUuY29tJyxcbiAgICB9KVxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzaW11bGF0ZUZvcmdvdFBhc3N3b3JkKHJlcXVlc3QsIG1vY2tTdXBhYmFzZSlcbiAgICBjb25zdCB7IHN0YXR1cywgZGF0YSB9ID0gYXdhaXQgcGFyc2VSZXNwb25zZShyZXNwb25zZSlcblxuICAgIGV4cGVjdChzdGF0dXMpLnRvQmUoMjAwKVxuICAgIGV4cGVjdChkYXRhLm1lc3NhZ2UpLnRvQ29udGFpbignUGFzc3dvcmQgcmVzZXQgZW1haWwgc2VudCcpXG4gICAgZXhwZWN0KG1vY2tTdXBhYmFzZS5hdXRoLnJlc2V0UGFzc3dvcmRGb3JFbWFpbCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3VzZXJAZXhhbXBsZS5jb20nLCBleHBlY3QuYW55KE9iamVjdCkpXG4gIH0pXG5cbiAgaXQoJ3Nob3VsZCByZXR1cm4gc3VjY2VzcyBldmVuIGZvciBub24tZXhpc3RlbnQgZW1haWwgKHNlY3VyaXR5KScsIGFzeW5jICgpID0+IHtcbiAgICBtb2NrU3VwYWJhc2UuYXV0aC5yZXNldFBhc3N3b3JkRm9yRW1haWwgPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgZGF0YToge30sXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICB9KVxuXG4gICAgY29uc3QgcmVxdWVzdCA9IGNyZWF0ZU1vY2tSZXF1ZXN0KCdQT1NUJywgJy9hcGkvYXV0aC9mb3Jnb3QtcGFzc3dvcmQnLCB7XG4gICAgICBlbWFpbDogJ25vbmV4aXN0ZW50QGV4YW1wbGUuY29tJyxcbiAgICB9KVxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzaW11bGF0ZUZvcmdvdFBhc3N3b3JkKHJlcXVlc3QsIG1vY2tTdXBhYmFzZSlcbiAgICBjb25zdCB7IHN0YXR1cywgZGF0YSB9ID0gYXdhaXQgcGFyc2VSZXNwb25zZShyZXNwb25zZSlcblxuICAgIC8vIFNob3VsZCByZXR1cm4gc3VjY2VzcyB0byBwcmV2ZW50IGVtYWlsIGVudW1lcmF0aW9uXG4gICAgZXhwZWN0KHN0YXR1cykudG9CZSgyMDApXG4gICAgZXhwZWN0KGRhdGEubWVzc2FnZSkudG9Db250YWluKCdQYXNzd29yZCByZXNldCBlbWFpbCBzZW50JylcbiAgfSlcbn0pXG5cbmRlc2NyaWJlKCdQT1NUIC9hcGkvYXV0aC9yZXNldC1wYXNzd29yZCcsICgpID0+IHtcbiAgbGV0IG1vY2tTdXBhYmFzZTogYW55XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgbW9ja1N1cGFiYXNlID0gY3JlYXRlTW9ja1N1cGFiYXNlQ2xpZW50KClcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgcmVzZXQgcGFzc3dvcmQgd2l0aCB2YWxpZCB0b2tlbicsIGFzeW5jICgpID0+IHtcbiAgICBtb2NrU3VwYWJhc2UuYXV0aC51cGRhdGVVc2VyID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgIGRhdGE6IHsgdXNlcjogeyBpZDogJ3VzZXItaWQnIH0gfSxcbiAgICAgIGVycm9yOiBudWxsLFxuICAgIH0pXG5cbiAgICBjb25zdCByZXF1ZXN0ID0gY3JlYXRlTW9ja1JlcXVlc3QoJ1BPU1QnLCAnL2FwaS9hdXRoL3Jlc2V0LXBhc3N3b3JkJywge1xuICAgICAgdG9rZW46ICd2YWxpZC1yZXNldC10b2tlbicsXG4gICAgICBwYXNzd29yZDogJ05ld1NlY3VyZVBhc3MxMjMhJyxcbiAgICB9KVxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzaW11bGF0ZVJlc2V0UGFzc3dvcmQocmVxdWVzdCwgbW9ja1N1cGFiYXNlKVxuICAgIGNvbnN0IHsgc3RhdHVzLCBkYXRhIH0gPSBhd2FpdCBwYXJzZVJlc3BvbnNlKHJlc3BvbnNlKVxuXG4gICAgZXhwZWN0KHN0YXR1cykudG9CZSgyMDApXG4gICAgZXhwZWN0KGRhdGEubWVzc2FnZSkudG9Db250YWluKCdQYXNzd29yZCB1cGRhdGVkIHN1Y2Nlc3NmdWxseScpXG4gIH0pXG5cbiAgaXQoJ3Nob3VsZCByZWplY3QgZXhwaXJlZCBvciBpbnZhbGlkIHRva2VuJywgYXN5bmMgKCkgPT4ge1xuICAgIG1vY2tTdXBhYmFzZS5hdXRoLnVwZGF0ZVVzZXIgPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgZGF0YTogeyB1c2VyOiBudWxsIH0sXG4gICAgICBlcnJvcjogeyBtZXNzYWdlOiAnSW52YWxpZCBvciBleHBpcmVkIHRva2VuJyB9LFxuICAgIH0pXG5cbiAgICBjb25zdCByZXF1ZXN0ID0gY3JlYXRlTW9ja1JlcXVlc3QoJ1BPU1QnLCAnL2FwaS9hdXRoL3Jlc2V0LXBhc3N3b3JkJywge1xuICAgICAgdG9rZW46ICdleHBpcmVkLXRva2VuJyxcbiAgICAgIHBhc3N3b3JkOiAnTmV3U2VjdXJlUGFzczEyMyEnLFxuICAgIH0pXG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNpbXVsYXRlUmVzZXRQYXNzd29yZChyZXF1ZXN0LCBtb2NrU3VwYWJhc2UpXG4gICAgY29uc3QgeyBzdGF0dXMsIGRhdGEgfSA9IGF3YWl0IHBhcnNlUmVzcG9uc2UocmVzcG9uc2UpXG5cbiAgICBleHBlY3Qoc3RhdHVzKS50b0JlKDQwMClcbiAgICBleHBlY3RFcnJvclJlc3BvbnNlKGRhdGEsIDQwMCwgJ0ludmFsaWQgb3IgZXhwaXJlZCB0b2tlbicpXG4gIH0pXG59KVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSGVscGVyIEZ1bmN0aW9ucyB0byBTaW11bGF0ZSBBUEkgUm91dGUgSGFuZGxlcnNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmFzeW5jIGZ1bmN0aW9uIHNpbXVsYXRlU2lnbkluKHJlcXVlc3Q6IE5leHRSZXF1ZXN0LCBzdXBhYmFzZTogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcbiAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gYm9keVxuXG4gICAgLy8gVmFsaWRhdGlvblxuICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6ICdFbWFpbCBhbmQgcGFzc3dvcmQgYXJlIHJlcXVpcmVkJyB9KSwge1xuICAgICAgICBzdGF0dXM6IDQwMCxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICB9KVxuICAgIH1cblxuICAgIGNvbnN0IGVtYWlsUmVnZXggPSAvXlteXFxzQF0rQFteXFxzQF0rXFwuW15cXHNAXSskL1xuICAgIGlmICghZW1haWxSZWdleC50ZXN0KGVtYWlsKSkge1xuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IGVycm9yOiAnSW52YWxpZCBlbWFpbCBmb3JtYXQnIH0pLCB7XG4gICAgICAgIHN0YXR1czogNDAwLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKCFwYXNzd29yZCkge1xuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IGVycm9yOiAnUGFzc3dvcmQgaXMgcmVxdWlyZWQnIH0pLCB7XG4gICAgICAgIHN0YXR1czogNDAwLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gQXR0ZW1wdCBzaWduIGluXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduSW5XaXRoUGFzc3dvcmQoeyBlbWFpbCwgcGFzc3dvcmQgfSlcblxuICAgIGlmIChlcnJvciB8fCAhZGF0YS5zZXNzaW9uKSB7XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6ICdJbnZhbGlkIGxvZ2luIGNyZWRlbnRpYWxzJyB9KSwge1xuICAgICAgICBzdGF0dXM6IDQwMSxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vIEdldCB1c2VyIHByb2ZpbGVcbiAgICBjb25zdCB7IGRhdGE6IHByb2ZpbGUgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncHJvZmlsZXMnKVxuICAgICAgLnNlbGVjdCgnKiwgb3JnYW5pemF0aW9uOm9yZ2FuaXphdGlvbnMoKiknKVxuICAgICAgLmVxKCdpZCcsIGRhdGEudXNlci5pZClcbiAgICAgIC5zaW5nbGUoKVxuXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdXNlcjogeyAuLi5kYXRhLnVzZXIsIC4uLnByb2ZpbGUgfSxcbiAgICAgICAgc2Vzc2lvbjogZGF0YS5zZXNzaW9uLFxuICAgICAgfSksXG4gICAgICB7XG4gICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIH1cbiAgICApXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSksIHtcbiAgICAgIHN0YXR1czogNTAwLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgfSlcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBzaW11bGF0ZVNpZ25VcChyZXF1ZXN0OiBOZXh0UmVxdWVzdCwgc3VwYWJhc2U6IGFueSk6IFByb21pc2U8YW55PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG4gICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQsIGZ1bGxfbmFtZSwgb3JnYW5pemF0aW9uX25hbWUgfSA9IGJvZHlcblxuICAgIC8vIFZhbGlkYXRpb25cbiAgICBpZiAoIWVtYWlsIHx8ICFwYXNzd29yZCB8fCAhZnVsbF9uYW1lIHx8ICFvcmdhbml6YXRpb25fbmFtZSkge1xuICAgICAgbGV0IGVycm9yTXNnID0gJ01pc3NpbmcgcmVxdWlyZWQgZmllbGRzOiAnXG4gICAgICBpZiAoIWVtYWlsKSBlcnJvck1zZyArPSAnZW1haWwgJ1xuICAgICAgaWYgKCFwYXNzd29yZCkgZXJyb3JNc2cgKz0gJ3Bhc3N3b3JkICdcbiAgICAgIGlmICghZnVsbF9uYW1lKSBlcnJvck1zZyArPSAnZnVsbF9uYW1lICdcbiAgICAgIGlmICghb3JnYW5pemF0aW9uX25hbWUpIGVycm9yTXNnICs9ICdPcmdhbml6YXRpb24gbmFtZSBpcyByZXF1aXJlZCdcblxuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IGVycm9yOiBlcnJvck1zZyB9KSwge1xuICAgICAgICBzdGF0dXM6IDQwMCxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmIChwYXNzd29yZC5sZW5ndGggPCA4KSB7XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6ICdQYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IDggY2hhcmFjdGVycycgfSksIHtcbiAgICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBBdHRlbXB0IHNpZ24gdXBcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25VcCh7IGVtYWlsLCBwYXNzd29yZCB9KVxuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zdCBzdGF0dXMgPSBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdhbHJlYWR5IHJlZ2lzdGVyZWQnKSA/IDQwOSA6IDQwMFxuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0pLCB7XG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSBvcmdhbml6YXRpb25cbiAgICBjb25zdCB7IGRhdGE6IG9yZyB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdvcmdhbml6YXRpb25zJylcbiAgICAgIC5pbnNlcnQoeyBuYW1lOiBvcmdhbml6YXRpb25fbmFtZSB9KVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKClcblxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHVzZXI6IGRhdGEudXNlcixcbiAgICAgICAgb3JnYW5pemF0aW9uOiBvcmcsXG4gICAgICAgIHNlc3Npb246IGRhdGEuc2Vzc2lvbixcbiAgICAgIH0pLFxuICAgICAge1xuICAgICAgICBzdGF0dXM6IDIwMSxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICB9XG4gICAgKVxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0pLCB7XG4gICAgICBzdGF0dXM6IDUwMCxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgIH0pXG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gc2ltdWxhdGVGb3Jnb3RQYXNzd29yZChyZXF1ZXN0OiBOZXh0UmVxdWVzdCwgc3VwYWJhc2U6IGFueSk6IFByb21pc2U8YW55PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG4gICAgY29uc3QgeyBlbWFpbCB9ID0gYm9keVxuXG4gICAgaWYgKCFlbWFpbCkge1xuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IGVycm9yOiAnRW1haWwgaXMgcmVxdWlyZWQnIH0pLCB7XG4gICAgICAgIHN0YXR1czogNDAwLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgYXdhaXQgc3VwYWJhc2UuYXV0aC5yZXNldFBhc3N3b3JkRm9yRW1haWwoZW1haWwsIHtcbiAgICAgIHJlZGlyZWN0VG86IGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQUF9VUkx9L2F1dGgvcmVzZXQtcGFzc3dvcmRgLFxuICAgIH0pXG5cbiAgICAvLyBBbHdheXMgcmV0dXJuIHN1Y2Nlc3MgKHNlY3VyaXR5IGJlc3QgcHJhY3RpY2UpXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KHsgbWVzc2FnZTogJ1Bhc3N3b3JkIHJlc2V0IGVtYWlsIHNlbnQgaWYgYWNjb3VudCBleGlzdHMnIH0pLFxuICAgICAge1xuICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICB9XG4gICAgKVxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0pLCB7XG4gICAgICBzdGF0dXM6IDUwMCxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgIH0pXG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gc2ltdWxhdGVSZXNldFBhc3N3b3JkKHJlcXVlc3Q6IE5leHRSZXF1ZXN0LCBzdXBhYmFzZTogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcbiAgICBjb25zdCB7IHRva2VuLCBwYXNzd29yZCB9ID0gYm9keVxuXG4gICAgaWYgKCF0b2tlbiB8fCAhcGFzc3dvcmQpIHtcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogJ1Rva2VuIGFuZCBwYXNzd29yZCBhcmUgcmVxdWlyZWQnIH0pLCB7XG4gICAgICAgIHN0YXR1czogNDAwLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC51cGRhdGVVc2VyKHsgcGFzc3dvcmQgfSlcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0pLCB7XG4gICAgICAgIHN0YXR1czogNDAwLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KHsgbWVzc2FnZTogJ1Bhc3N3b3JkIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5JyB9KSxcbiAgICAgIHtcbiAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgfVxuICAgIClcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KSwge1xuICAgICAgc3RhdHVzOiA1MDAsXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICB9KVxuICB9XG59XG4iXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJkZXNjcmliZSIsIm1vY2tTdXBhYmFzZSIsImJlZm9yZUVhY2giLCJjcmVhdGVNb2NrU3VwYWJhc2VDbGllbnQiLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJtb2NrVXNlciIsImNyZWF0ZU1vY2tVc2VyIiwibW9ja09yZyIsImNyZWF0ZU1vY2tPcmdhbml6YXRpb24iLCJpZCIsIm9yZ2FuaXphdGlvbl9pZCIsImF1dGgiLCJzaWduSW5XaXRoUGFzc3dvcmQiLCJmbiIsIm1vY2tSZXNvbHZlZFZhbHVlIiwiZGF0YSIsInVzZXIiLCJlbWFpbCIsInNlc3Npb24iLCJhY2Nlc3NfdG9rZW4iLCJyZWZyZXNoX3Rva2VuIiwiZXJyb3IiLCJmcm9tIiwibW9ja1JldHVyblZhbHVlIiwic2VsZWN0IiwibW9ja1JldHVyblRoaXMiLCJlcSIsInNpbmdsZSIsIm9yZ2FuaXphdGlvbiIsInJlcXVlc3QiLCJjcmVhdGVNb2NrUmVxdWVzdCIsInBhc3N3b3JkIiwicmVzcG9uc2UiLCJzaW11bGF0ZVNpZ25JbiIsInN0YXR1cyIsInBhcnNlUmVzcG9uc2UiLCJleHBlY3QiLCJ0b0JlIiwidG9IYXZlUHJvcGVydHkiLCJtZXNzYWdlIiwiZXhwZWN0RXJyb3JSZXNwb25zZSIsIm5ld1VzZXIiLCJmdWxsX25hbWUiLCJvcmdhbml6YXRpb25fbmFtZSIsInNpZ25VcCIsImluc2VydCIsIm5hbWUiLCJzaW11bGF0ZVNpZ25VcCIsInJlc2V0UGFzc3dvcmRGb3JFbWFpbCIsInNpbXVsYXRlRm9yZ290UGFzc3dvcmQiLCJ0b0NvbnRhaW4iLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImFueSIsIk9iamVjdCIsInVwZGF0ZVVzZXIiLCJ0b2tlbiIsInNpbXVsYXRlUmVzZXRQYXNzd29yZCIsInN1cGFiYXNlIiwiYm9keSIsImpzb24iLCJSZXNwb25zZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJoZWFkZXJzIiwiZW1haWxSZWdleCIsInRlc3QiLCJwcm9maWxlIiwiZXJyb3JNc2ciLCJsZW5ndGgiLCJpbmNsdWRlcyIsIm9yZyIsInJlZGlyZWN0VG8iLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBQX1VSTCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0NBS0M7Ozs7eUJBRXNEO2dDQVFoRDs2QkFLQTtBQUVQLDRCQUE0QjtBQUM1QkEsYUFBSSxDQUFDQyxJQUFJLENBQUM7QUFDVkQsYUFBSSxDQUFDQyxJQUFJLENBQUM7QUFFVkMsSUFBQUEsaUJBQVEsRUFBQyx5QkFBeUI7SUFDaEMsSUFBSUM7SUFFSkMsSUFBQUEsbUJBQVUsRUFBQztRQUNURCxlQUFlRSxJQUFBQSxxQ0FBd0I7UUFDdkNMLGFBQUksQ0FBQ00sYUFBYTtJQUNwQjtJQUVBQyxJQUFBQSxXQUFFLEVBQUMscURBQXFEO1FBQ3RELE1BQU1DLFdBQVdDLElBQUFBLDJCQUFjO1FBQy9CLE1BQU1DLFVBQVVDLElBQUFBLG1DQUFzQixFQUFDO1lBQUVDLElBQUlKLFNBQVNLLGVBQWU7UUFBQztRQUV0RVYsYUFBYVcsSUFBSSxDQUFDQyxrQkFBa0IsR0FBR2YsYUFBSSxDQUFDZ0IsRUFBRSxHQUFHQyxpQkFBaUIsQ0FBQztZQUNqRUMsTUFBTTtnQkFDSkMsTUFBTTtvQkFBRVAsSUFBSUosU0FBU0ksRUFBRTtvQkFBRVEsT0FBT1osU0FBU1ksS0FBSztn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