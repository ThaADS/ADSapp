# Environment Configuration Example
# Copy this file to .env.local and fill in your values

# Application
NEXT_PUBLIC_APP_NAME=ADSapp
NEXT_PUBLIC_APP_VERSION=1.0.0
NEXT_PUBLIC_APP_DOMAIN=localhost:3000
NODE_ENV=development

# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key
SUPABASE_JWT_SECRET=your_supabase_jwt_secret

# Stripe Configuration
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret

# WhatsApp Business API
WHATSAPP_ACCESS_TOKEN=your_whatsapp_access_token
WHATSAPP_PHONE_NUMBER_ID=your_phone_number_id
WHATSAPP_WEBHOOK_VERIFY_TOKEN=your_webhook_verify_token

# Email Configuration (Resend)
RESEND_API_KEY=re_your_resend_api_key
NEXT_PUBLIC_EMAIL_FROM=noreply@yourdomain.com

# Security Configuration
JWT_SECRET=your_super_secret_jwt_key_here

# Field-Level Encryption Configuration (Legacy - Development Only)
# Generate a new key with: npm run generate-encryption-key
# This key is used for AES-256-GCM encryption of PII data (phone numbers, emails, WhatsApp IDs)
# ⚠️ DEPRECATED: For production, use AWS KMS-managed keys (see below)
# ⚠️ CRITICAL: Never commit this key to version control
# ⚠️ CRITICAL: Back up this key securely - encrypted data cannot be recovered without it
# ⚠️ CRITICAL: Use different keys for development and production
ENCRYPTION_KEY=your_base64_encoded_32_byte_encryption_key_here

# AWS KMS Configuration (Production - Recommended)
# AWS Key Management Service for secure encryption key management
# Setup Guide: See KMS_IMPLEMENTATION.md for detailed setup instructions
# ⚠️ PRODUCTION: Always use KMS for production environments
# ⚠️ SECURITY: Never commit AWS credentials to version control
# ⚠️ MINIMUM REQUIRED: AWS_REGION, AWS_KMS_KEY_ID (credentials from IAM role or env)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_aws_access_key_id_here
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key_here
AWS_KMS_KEY_ID=your_kms_key_id_or_arn_here

# KMS Key ID can be in one of three formats:
# 1. UUID: 12345678-1234-1234-1234-123456789012
# 2. ARN: arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012
# 3. Alias: alias/adsapp-production-encryption

# KMS Performance Configuration
KMS_CACHE_TTL_SECONDS=3600            # Key cache TTL (1 hour, reduces KMS API calls by 90%)
KMS_MAX_RETRIES=3                     # Maximum retry attempts for KMS operations
KMS_REQUEST_TIMEOUT_MS=30000          # Request timeout in milliseconds (30 seconds)

# Key Rotation Configuration
# Automatic key rotation schedule (in days)
KEY_ROTATION_SCHEDULE=90              # Rotate keys every 90 days
KEY_ROTATION_WARNING_DAYS=7           # Warn before expiration (7 days)
KEY_ROTATION_AUTO_ENABLED=true        # Enable automatic rotation via cron
KEY_ROTATION_BATCH_SIZE=10            # Number of tenants to rotate in one batch
KEY_ROTATION_GRACE_PERIOD_DAYS=30     # Keep old keys for 30 days after rotation

# Key Rotation Schedule (cron format)
KEY_ROTATION_CRON_SCHEDULE="0 2 * * *"  # Daily at 2 AM UTC

# Azure Key Vault Configuration (Fallback Alternative to AWS KMS)
# Enable Azure Key Vault by setting AZURE_KEY_VAULT_URL
# Either AWS KMS or Azure Key Vault must be configured for production
# AZURE_KEY_VAULT_URL=https://your-keyvault.vault.azure.net/
# AZURE_TENANT_ID=your_azure_tenant_id
# AZURE_CLIENT_ID=your_azure_client_id
# AZURE_CLIENT_SECRET=your_azure_client_secret
# AZURE_KEY_NAME=adsapp-production-key

# Rate Limiting & Security
REDIS_URL=redis://localhost:6379
SECURITY_ENDPOINT=https://your-security-monitoring-service.com/events
SECURITY_API_KEY=your_security_api_key

# Redis Cache Configuration (Upstash)
# Get credentials from: https://console.upstash.com/redis
# Used for: Cache (L2), Rate Limiting, Session Management
UPSTASH_REDIS_REST_URL=https://your-upstash-redis-url.upstash.io
UPSTASH_REDIS_REST_TOKEN=your_upstash_redis_rest_token

# Cache Configuration
CACHE_ENABLED=true
CACHE_L1_ENABLED=true              # Enable L1 in-memory cache
CACHE_L2_ENABLED=true              # Enable L2 Redis cache
CACHE_L1_TTL_SECONDS=60            # L1 cache TTL (1 minute)
CACHE_L2_TTL_SECONDS=900           # L2 cache TTL (15 minutes)
CACHE_L1_MAX_SIZE_MB=10            # L1 cache max size
CACHE_L1_MAX_ENTRIES=1000          # L1 cache max entries
CACHE_MONITORING_ENABLED=true      # Enable cache monitoring
CACHE_WRITE_THROUGH=true           # Enable write-through caching

# Session Management
SESSION_TIMEOUT_MINUTES=30
MAX_CONCURRENT_SESSIONS=5

# Rate Limiting Configuration
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=60000         # Rate limit window (1 minute)
RATE_LIMIT_MAX_REQUESTS=100        # Max requests per window
RATE_LIMIT_PER_IP=100              # Max requests per IP
RATE_LIMIT_PER_USER=200            # Max requests per user
RATE_LIMIT_AUTH_MAX=10             # Max auth attempts (5 min window)

# Monitoring & Analytics
SENTRY_DSN=https://your_sentry_dsn
NEXT_PUBLIC_SENTRY_DSN=https://your_public_sentry_dsn
SENTRY_ORG=your_sentry_org
SENTRY_PROJECT=your_sentry_project
SENTRY_AUTH_TOKEN=your_sentry_auth_token

# Google Analytics
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX
GA_MEASUREMENT_ID=G-XXXXXXXXXX

# Performance Monitoring
CUSTOM_ANALYTICS_ENDPOINT=https://your-analytics-service.com/api
CUSTOM_ANALYTICS_API_KEY=your_analytics_api_key
LOGGING_ENDPOINT=https://your-logging-service.com/api
LOGGING_API_KEY=your_logging_api_key

# Database Configuration (for advanced analytics)
ANALYTICS_DATABASE_URL=postgresql://user:pass@host:port/analytics_db

# File Upload Configuration
NEXT_PUBLIC_MAX_FILE_SIZE=10485760
UPLOAD_BUCKET=your_upload_bucket
UPLOAD_REGION=us-east-1

# Admin Configuration
SUPER_ADMIN_EMAIL=admin@yourdomain.com
ADMIN_SECRET_KEY=your_admin_secret_key

# Third-party Integrations
OPENAI_API_KEY=sk-your_openai_api_key
ANTHROPIC_API_KEY=sk-ant-your_anthropic_api_key

# CDN Configuration
CDN_URL=https://your-cdn.com

# Testing Configuration
TEST_DATABASE_URL=postgresql://user:pass@host:port/test_db
E2E_TEST_EMAIL=e2e-test@example.com
E2E_TEST_PASSWORD=E2ETestPassword123!

# Deployment Configuration
VERCEL_URL=your-app.vercel.app
NEXT_PUBLIC_VERCEL_URL=your-app.vercel.app

# Health Check Configuration
HEALTH_CHECK_SECRET=your_health_check_secret

# Feature Flags
FEATURE_ANALYTICS_ENABLED=true
FEATURE_AI_ASSISTANCE_ENABLED=false
FEATURE_ADVANCED_AUTOMATION=true

# Compliance
GDPR_ENABLED=true
CCPA_ENABLED=true
DATA_RETENTION_DAYS=365